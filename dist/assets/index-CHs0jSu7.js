var NB=Object.defineProperty;var SB=(e,r,s)=>r in e?NB(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var mi=(e,r,s)=>SB(e,typeof r!="symbol"?r+"":r,s);function CB(e,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function vn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kB(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var r=e.default;if(typeof r=="function"){var s=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}),s}var Cb={exports:{}},ih={},kb={exports:{}},Bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function _B(){if($_)return Bt;$_=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g(B){return B===null||typeof B!="object"?null:(B=f&&B[f]||B["@@iterator"],typeof B=="function"?B:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,v={};function b(B,ee,ke){this.props=B,this.context=ee,this.refs=v,this.updater=ke||y}b.prototype.isReactComponent={},b.prototype.setState=function(B,ee){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ee,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=b.prototype;function C(B,ee,ke){this.props=B,this.context=ee,this.refs=v,this.updater=ke||y}var S=C.prototype=new N;S.constructor=C,w(S,b.prototype),S.isPureReactComponent=!0;var _=Array.isArray,A=Object.prototype.hasOwnProperty,T={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function R(B,ee,ke){var H,he={},Ie=null,Pe=null;if(ee!=null)for(H in ee.ref!==void 0&&(Pe=ee.ref),ee.key!==void 0&&(Ie=""+ee.key),ee)A.call(ee,H)&&!E.hasOwnProperty(H)&&(he[H]=ee[H]);var De=arguments.length-2;if(De===1)he.children=ke;else if(1<De){for(var ce=Array(De),Ce=0;Ce<De;Ce++)ce[Ce]=arguments[Ce+2];he.children=ce}if(B&&B.defaultProps)for(H in De=B.defaultProps,De)he[H]===void 0&&(he[H]=De[H]);return{$$typeof:e,type:B,key:Ie,ref:Pe,props:he,_owner:T.current}}function $(B,ee){return{$$typeof:e,type:B.type,key:ee,ref:B.ref,props:B.props,_owner:B._owner}}function K(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function M(B){var ee={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ke){return ee[ke]})}var I=/\/+/g;function W(B,ee){return typeof B=="object"&&B!==null&&B.key!=null?M(""+B.key):ee.toString(36)}function V(B,ee,ke,H,he){var Ie=typeof B;(Ie==="undefined"||Ie==="boolean")&&(B=null);var Pe=!1;if(B===null)Pe=!0;else switch(Ie){case"string":case"number":Pe=!0;break;case"object":switch(B.$$typeof){case e:case r:Pe=!0}}if(Pe)return Pe=B,he=he(Pe),B=H===""?"."+W(Pe,0):H,_(he)?(ke="",B!=null&&(ke=B.replace(I,"$&/")+"/"),V(he,ee,ke,"",function(Ce){return Ce})):he!=null&&(K(he)&&(he=$(he,ke+(!he.key||Pe&&Pe.key===he.key?"":(""+he.key).replace(I,"$&/")+"/")+B)),ee.push(he)),1;if(Pe=0,H=H===""?".":H+":",_(B))for(var De=0;De<B.length;De++){Ie=B[De];var ce=H+W(Ie,De);Pe+=V(Ie,ee,ke,ce,he)}else if(ce=g(B),typeof ce=="function")for(B=ce.call(B),De=0;!(Ie=B.next()).done;)Ie=Ie.value,ce=H+W(Ie,De++),Pe+=V(Ie,ee,ke,ce,he);else if(Ie==="object")throw ee=String(B),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Pe}function U(B,ee,ke){if(B==null)return B;var H=[],he=0;return V(B,H,"","",function(Ie){return ee.call(ke,Ie,he++)}),H}function L(B){if(B._status===-1){var ee=B._result;ee=ee(),ee.then(function(ke){(B._status===0||B._status===-1)&&(B._status=1,B._result=ke)},function(ke){(B._status===0||B._status===-1)&&(B._status=2,B._result=ke)}),B._status===-1&&(B._status=0,B._result=ee)}if(B._status===1)return B._result.default;throw B._result}var O={current:null},F={transition:null},z={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:F,ReactCurrentOwner:T};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Bt.Children={map:U,forEach:function(B,ee,ke){U(B,function(){ee.apply(this,arguments)},ke)},count:function(B){var ee=0;return U(B,function(){ee++}),ee},toArray:function(B){return U(B,function(ee){return ee})||[]},only:function(B){if(!K(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Bt.Component=b,Bt.Fragment=s,Bt.Profiler=n,Bt.PureComponent=C,Bt.StrictMode=a,Bt.Suspense=d,Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Bt.act=Y,Bt.cloneElement=function(B,ee,ke){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var H=w({},B.props),he=B.key,Ie=B.ref,Pe=B._owner;if(ee!=null){if(ee.ref!==void 0&&(Ie=ee.ref,Pe=T.current),ee.key!==void 0&&(he=""+ee.key),B.type&&B.type.defaultProps)var De=B.type.defaultProps;for(ce in ee)A.call(ee,ce)&&!E.hasOwnProperty(ce)&&(H[ce]=ee[ce]===void 0&&De!==void 0?De[ce]:ee[ce])}var ce=arguments.length-2;if(ce===1)H.children=ke;else if(1<ce){De=Array(ce);for(var Ce=0;Ce<ce;Ce++)De[Ce]=arguments[Ce+2];H.children=De}return{$$typeof:e,type:B.type,key:he,ref:Ie,props:H,_owner:Pe}},Bt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:i,_context:B},B.Consumer=B},Bt.createElement=R,Bt.createFactory=function(B){var ee=R.bind(null,B);return ee.type=B,ee},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(B){return{$$typeof:l,render:B}},Bt.isValidElement=K,Bt.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:L}},Bt.memo=function(B,ee){return{$$typeof:m,type:B,compare:ee===void 0?null:ee}},Bt.startTransition=function(B){var ee=F.transition;F.transition={};try{B()}finally{F.transition=ee}},Bt.unstable_act=Y,Bt.useCallback=function(B,ee){return O.current.useCallback(B,ee)},Bt.useContext=function(B){return O.current.useContext(B)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(B){return O.current.useDeferredValue(B)},Bt.useEffect=function(B,ee){return O.current.useEffect(B,ee)},Bt.useId=function(){return O.current.useId()},Bt.useImperativeHandle=function(B,ee,ke){return O.current.useImperativeHandle(B,ee,ke)},Bt.useInsertionEffect=function(B,ee){return O.current.useInsertionEffect(B,ee)},Bt.useLayoutEffect=function(B,ee){return O.current.useLayoutEffect(B,ee)},Bt.useMemo=function(B,ee){return O.current.useMemo(B,ee)},Bt.useReducer=function(B,ee,ke){return O.current.useReducer(B,ee,ke)},Bt.useRef=function(B){return O.current.useRef(B)},Bt.useState=function(B){return O.current.useState(B)},Bt.useSyncExternalStore=function(B,ee,ke){return O.current.useSyncExternalStore(B,ee,ke)},Bt.useTransition=function(){return O.current.useTransition()},Bt.version="18.3.1",Bt}var z_;function Xu(){return z_||(z_=1,kb.exports=_B()),kb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function PB(){if(F_)return ih;F_=1;var e=Xu(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,d,m){var h,f={},g=null,y=null;m!==void 0&&(g=""+m),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(h in d)a.call(d,h)&&!i.hasOwnProperty(h)&&(f[h]=d[h]);if(l&&l.defaultProps)for(h in d=l.defaultProps,d)f[h]===void 0&&(f[h]=d[h]);return{$$typeof:r,type:l,key:g,ref:y,props:f,_owner:n.current}}return ih.Fragment=s,ih.jsx=o,ih.jsxs=o,ih}var U_;function AB(){return U_||(U_=1,Cb.exports=PB()),Cb.exports}var t=AB(),p=Xu();const oe=vn(p),jx=CB({__proto__:null,default:oe},[p]);var mg={},_b={exports:{}},Ba={},Pb={exports:{}},Ab={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function EB(){return B_||(B_=1,function(e){function r(F,z){var Y=F.length;F.push(z);e:for(;0<Y;){var B=Y-1>>>1,ee=F[B];if(0<n(ee,z))F[B]=z,F[Y]=ee,Y=B;else break e}}function s(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var z=F[0],Y=F.pop();if(Y!==z){F[0]=Y;e:for(var B=0,ee=F.length,ke=ee>>>1;B<ke;){var H=2*(B+1)-1,he=F[H],Ie=H+1,Pe=F[Ie];if(0>n(he,Y))Ie<ee&&0>n(Pe,he)?(F[B]=Pe,F[Ie]=Y,B=Ie):(F[B]=he,F[H]=Y,B=H);else if(Ie<ee&&0>n(Pe,Y))F[B]=Pe,F[Ie]=Y,B=Ie;else break e}}return z}function n(F,z){var Y=F.sortIndex-z.sortIndex;return Y!==0?Y:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],m=[],h=1,f=null,g=3,y=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var z=s(m);z!==null;){if(z.callback===null)a(m);else if(z.startTime<=F)a(m),z.sortIndex=z.expirationTime,r(d,z);else break;z=s(m)}}function _(F){if(v=!1,S(F),!w)if(s(d)!==null)w=!0,L(A);else{var z=s(m);z!==null&&O(_,z.startTime-F)}}function A(F,z){w=!1,v&&(v=!1,N(R),R=-1),y=!0;var Y=g;try{for(S(z),f=s(d);f!==null&&(!(f.expirationTime>z)||F&&!M());){var B=f.callback;if(typeof B=="function"){f.callback=null,g=f.priorityLevel;var ee=B(f.expirationTime<=z);z=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===s(d)&&a(d),S(z)}else a(d);f=s(d)}if(f!==null)var ke=!0;else{var H=s(m);H!==null&&O(_,H.startTime-z),ke=!1}return ke}finally{f=null,g=Y,y=!1}}var T=!1,E=null,R=-1,$=5,K=-1;function M(){return!(e.unstable_now()-K<$)}function I(){if(E!==null){var F=e.unstable_now();K=F;var z=!0;try{z=E(!0,F)}finally{z?W():(T=!1,E=null)}}else T=!1}var W;if(typeof C=="function")W=function(){C(I)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,U=V.port2;V.port1.onmessage=I,W=function(){U.postMessage(null)}}else W=function(){b(I,0)};function L(F){E=F,T||(T=!0,W())}function O(F,z){R=b(function(){F(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,L(A))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(F){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var Y=g;g=z;try{return F()}finally{g=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=g;g=F;try{return z()}finally{g=Y}},e.unstable_scheduleCallback=function(F,z,Y){var B=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?B+Y:B):Y=B,F){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Y+ee,F={id:h++,callback:z,priorityLevel:F,startTime:Y,expirationTime:ee,sortIndex:-1},Y>B?(F.sortIndex=Y,r(m,F),s(d)===null&&F===s(m)&&(v?(N(R),R=-1):v=!0,O(_,Y-B))):(F.sortIndex=ee,r(d,F),w||y||(w=!0,L(A))),F},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(F){var z=g;return function(){var Y=g;g=z;try{return F.apply(this,arguments)}finally{g=Y}}}}(Ab)),Ab}var W_;function TB(){return W_||(W_=1,Pb.exports=EB()),Pb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function OB(){if(V_)return Ba;V_=1;var e=Xu(),r=TB();function s(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,x=1;x<arguments.length;x++)u+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,n={};function i(c,u){o(c,u),o(c+"Capture",u)}function o(c,u){for(n[c]=u,c=0;c<u.length;c++)a.add(u[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function g(c){return d.call(f,c)?!0:d.call(h,c)?!1:m.test(c)?f[c]=!0:(h[c]=!0,!1)}function y(c,u,x,j){if(x!==null&&x.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return j?!1:x!==null?!x.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function w(c,u,x,j){if(u===null||typeof u>"u"||y(c,u,x,j))return!0;if(j)return!1;if(x!==null)switch(x.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function v(c,u,x,j,k,P,D){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=j,this.attributeNamespace=k,this.mustUseProperty=x,this.propertyName=c,this.type=u,this.sanitizeURL=P,this.removeEmptyString=D}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){b[c]=new v(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var u=c[0];b[u]=new v(u,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){b[c]=new v(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){b[c]=new v(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){b[c]=new v(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){b[c]=new v(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){b[c]=new v(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){b[c]=new v(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){b[c]=new v(c,5,!1,c.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var u=c.replace(N,C);b[u]=new v(u,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var u=c.replace(N,C);b[u]=new v(u,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var u=c.replace(N,C);b[u]=new v(u,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){b[c]=new v(c,1,!1,c.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){b[c]=new v(c,1,!1,c.toLowerCase(),null,!0,!0)});function S(c,u,x,j){var k=b.hasOwnProperty(u)?b[u]:null;(k!==null?k.type!==0:j||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,x,k,j)&&(x=null),j||k===null?g(u)&&(x===null?c.removeAttribute(u):c.setAttribute(u,""+x)):k.mustUseProperty?c[k.propertyName]=x===null?k.type===3?!1:"":x:(u=k.attributeName,j=k.attributeNamespace,x===null?c.removeAttribute(u):(k=k.type,x=k===3||k===4&&x===!0?"":""+x,j?c.setAttributeNS(j,u,x):c.setAttribute(u,x))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),M=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),F=Symbol.iterator;function z(c){return c===null||typeof c!="object"?null:(c=F&&c[F]||c["@@iterator"],typeof c=="function"?c:null)}var Y=Object.assign,B;function ee(c){if(B===void 0)try{throw Error()}catch(x){var u=x.stack.trim().match(/\n( *(at )?)/);B=u&&u[1]||""}return`
`+B+c}var ke=!1;function H(c,u){if(!c||ke)return"";ke=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(pe){var j=pe}Reflect.construct(c,[],u)}else{try{u.call()}catch(pe){j=pe}c.call(u.prototype)}else{try{throw Error()}catch(pe){j=pe}c()}}catch(pe){if(pe&&j&&typeof pe.stack=="string"){for(var k=pe.stack.split(`
`),P=j.stack.split(`
`),D=k.length-1,Q=P.length-1;1<=D&&0<=Q&&k[D]!==P[Q];)Q--;for(;1<=D&&0<=Q;D--,Q--)if(k[D]!==P[Q]){if(D!==1||Q!==1)do if(D--,Q--,0>Q||k[D]!==P[Q]){var re=`
`+k[D].replace(" at new "," at ");return c.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",c.displayName)),re}while(1<=D&&0<=Q);break}}}finally{ke=!1,Error.prepareStackTrace=x}return(c=c?c.displayName||c.name:"")?ee(c):""}function he(c){switch(c.tag){case 5:return ee(c.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return c=H(c.type,!1),c;case 11:return c=H(c.type.render,!1),c;case 1:return c=H(c.type,!0),c;default:return""}}function Ie(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case E:return"Fragment";case T:return"Portal";case $:return"Profiler";case R:return"StrictMode";case W:return"Suspense";case V:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case M:return(c.displayName||"Context")+".Consumer";case K:return(c._context.displayName||"Context")+".Provider";case I:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case U:return u=c.displayName||null,u!==null?u:Ie(c.type)||"Memo";case L:u=c._payload,c=c._init;try{return Ie(c(u))}catch{}}return null}function Pe(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(u);case 8:return u===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function De(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ce(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ce(c){var u=ce(c)?"checked":"value",x=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),j=""+c[u];if(!c.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var k=x.get,P=x.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return k.call(this)},set:function(D){j=""+D,P.call(this,D)}}),Object.defineProperty(c,u,{enumerable:x.enumerable}),{getValue:function(){return j},setValue:function(D){j=""+D},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function Ee(c){c._valueTracker||(c._valueTracker=Ce(c))}function te(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var x=u.getValue(),j="";return c&&(j=ce(c)?c.checked?"true":"false":c.value),c=j,c!==x?(u.setValue(c),!0):!1}function be(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Te(c,u){var x=u.checked;return Y({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??c._wrapperState.initialChecked})}function Ue(c,u){var x=u.defaultValue==null?"":u.defaultValue,j=u.checked!=null?u.checked:u.defaultChecked;x=De(u.value!=null?u.value:x),c._wrapperState={initialChecked:j,initialValue:x,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function ie(c,u){u=u.checked,u!=null&&S(c,"checked",u,!1)}function Ge(c,u){ie(c,u);var x=De(u.value),j=u.type;if(x!=null)j==="number"?(x===0&&c.value===""||c.value!=x)&&(c.value=""+x):c.value!==""+x&&(c.value=""+x);else if(j==="submit"||j==="reset"){c.removeAttribute("value");return}u.hasOwnProperty("value")?Ot(c,u.type,x):u.hasOwnProperty("defaultValue")&&Ot(c,u.type,De(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(c.defaultChecked=!!u.defaultChecked)}function Ct(c,u,x){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var j=u.type;if(!(j!=="submit"&&j!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+c._wrapperState.initialValue,x||u===c.value||(c.value=u),c.defaultValue=u}x=c.name,x!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,x!==""&&(c.name=x)}function Ot(c,u,x){(u!=="number"||be(c.ownerDocument)!==c)&&(x==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+x&&(c.defaultValue=""+x))}var St=Array.isArray;function ue(c,u,x,j){if(c=c.options,u){u={};for(var k=0;k<x.length;k++)u["$"+x[k]]=!0;for(x=0;x<c.length;x++)k=u.hasOwnProperty("$"+c[x].value),c[x].selected!==k&&(c[x].selected=k),k&&j&&(c[x].defaultSelected=!0)}else{for(x=""+De(x),u=null,k=0;k<c.length;k++){if(c[k].value===x){c[k].selected=!0,j&&(c[k].defaultSelected=!0);return}u!==null||c[k].disabled||(u=c[k])}u!==null&&(u.selected=!0)}}function Be(c,u){if(u.dangerouslySetInnerHTML!=null)throw Error(s(91));return Y({},u,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function kt(c,u){var x=u.value;if(x==null){if(x=u.children,u=u.defaultValue,x!=null){if(u!=null)throw Error(s(92));if(St(x)){if(1<x.length)throw Error(s(93));x=x[0]}u=x}u==null&&(u=""),x=u}c._wrapperState={initialValue:De(x)}}function Jt(c,u){var x=De(u.value),j=De(u.defaultValue);x!=null&&(x=""+x,x!==c.value&&(c.value=x),u.defaultValue==null&&c.defaultValue!==x&&(c.defaultValue=x)),j!=null&&(c.defaultValue=""+j)}function _t(c){var u=c.textContent;u===c._wrapperState.initialValue&&u!==""&&u!==null&&(c.value=u)}function wr(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yr(c,u){return c==null||c==="http://www.w3.org/1999/xhtml"?wr(u):c==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var jr,bs=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,x,j,k){MSApp.execUnsafeLocalFunction(function(){return c(u,x,j,k)})}:c}(function(c,u){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=u;else{for(jr=jr||document.createElement("div"),jr.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=jr.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;u.firstChild;)c.appendChild(u.firstChild)}});function Tr(c,u){if(u){var x=c.firstChild;if(x&&x===c.lastChild&&x.nodeType===3){x.nodeValue=u;return}}c.textContent=u}var Ke={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ms=["Webkit","ms","Moz","O"];Object.keys(Ke).forEach(function(c){Ms.forEach(function(u){u=u+c.charAt(0).toUpperCase()+c.substring(1),Ke[u]=Ke[c]})});function rs(c,u,x){return u==null||typeof u=="boolean"||u===""?"":x||typeof u!="number"||u===0||Ke.hasOwnProperty(c)&&Ke[c]?(""+u).trim():u+"px"}function us(c,u){c=c.style;for(var x in u)if(u.hasOwnProperty(x)){var j=x.indexOf("--")===0,k=rs(x,u[x],j);x==="float"&&(x="cssFloat"),j?c.setProperty(x,k):c[x]=k}}var gt=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ca(c,u){if(u){if(gt[c]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(s(137,c));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(s(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(s(61))}if(u.style!=null&&typeof u.style!="object")throw Error(s(62))}}function Dt(c,u){if(c.indexOf("-")===-1)return typeof u.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zt=null;function ne(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ye=null,Fe=null,it=null;function vt(c){if(c=qm(c)){if(typeof ye!="function")throw Error(s(280));var u=c.stateNode;u&&(u=_p(u),ye(c.stateNode,c.type,u))}}function rr(c){Fe?it?it.push(c):it=[c]:Fe=c}function bt(){if(Fe){var c=Fe,u=it;if(it=Fe=null,vt(c),u)for(c=0;c<u.length;c++)vt(u[c])}}function ra(c,u){return c(u)}function sa(){}var aa=!1;function Mi(c,u,x){if(aa)return c(u,x);aa=!0;try{return ra(c,u,x)}finally{aa=!1,(Fe!==null||it!==null)&&(sa(),bt())}}function Nr(c,u){var x=c.stateNode;if(x===null)return null;var j=_p(x);if(j===null)return null;x=j[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(c=c.type,j=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!j;break e;default:c=!1}if(c)return null;if(x&&typeof x!="function")throw Error(s(231,u,typeof x));return x}var ws=!1;if(l)try{var na={};Object.defineProperty(na,"passive",{get:function(){ws=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{ws=!1}function jn(c,u,x,j,k,P,D,Q,re){var pe=Array.prototype.slice.call(arguments,3);try{u.apply(x,pe)}catch(Oe){this.onError(Oe)}}var js=!1,Ia=null,Xt=!1,Ri=null,Ft={onError:function(c){js=!0,Ia=c}};function nr(c,u,x,j,k,P,D,Q,re){js=!1,Ia=null,jn.apply(Ft,arguments)}function _e(c,u,x,j,k,P,D,Q,re){if(nr.apply(this,arguments),js){if(js){var pe=Ia;js=!1,Ia=null}else throw Error(s(198));Xt||(Xt=!0,Ri=pe)}}function Ze(c){var u=c,x=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(x=u.return),c=u.return;while(c)}return u.tag===3?x:null}function Pt(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function Lt(c){if(Ze(c)!==c)throw Error(s(188))}function Hs(c){var u=c.alternate;if(!u){if(u=Ze(c),u===null)throw Error(s(188));return u!==c?null:c}for(var x=c,j=u;;){var k=x.return;if(k===null)break;var P=k.alternate;if(P===null){if(j=k.return,j!==null){x=j;continue}break}if(k.child===P.child){for(P=k.child;P;){if(P===x)return Lt(k),c;if(P===j)return Lt(k),u;P=P.sibling}throw Error(s(188))}if(x.return!==j.return)x=k,j=P;else{for(var D=!1,Q=k.child;Q;){if(Q===x){D=!0,x=k,j=P;break}if(Q===j){D=!0,j=k,x=P;break}Q=Q.sibling}if(!D){for(Q=P.child;Q;){if(Q===x){D=!0,x=P,j=k;break}if(Q===j){D=!0,j=P,x=k;break}Q=Q.sibling}if(!D)throw Error(s(189))}}if(x.alternate!==j)throw Error(s(190))}if(x.tag!==3)throw Error(s(188));return x.stateNode.current===x?c:u}function Rs(c){return c=Hs(c),c!==null?Zn(c):null}function Zn(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=Zn(c);if(u!==null)return u;c=c.sibling}return null}var Da=r.unstable_scheduleCallback,Nn=r.unstable_cancelCallback,Za=r.unstable_shouldYield,Zo=r.unstable_requestPaint,ir=r.unstable_now,el=r.unstable_getCurrentPriorityLevel,ei=r.unstable_ImmediatePriority,we=r.unstable_UserBlockingPriority,ze=r.unstable_NormalPriority,lt=r.unstable_LowPriority,ot=r.unstable_IdlePriority,mr=null,wt=null;function or(c){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(mr,c,void 0,(c.current.flags&128)===128)}catch{}}var J=Math.clz32?Math.clz32:Cr,ve=Math.log,er=Math.LN2;function Cr(c){return c>>>=0,c===0?32:31-(ve(c)/er|0)|0}var vr=64,ia=4194304;function en(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function ti(c,u){var x=c.pendingLanes;if(x===0)return 0;var j=0,k=c.suspendedLanes,P=c.pingedLanes,D=x&268435455;if(D!==0){var Q=D&~k;Q!==0?j=en(Q):(P&=D,P!==0&&(j=en(P)))}else D=x&~k,D!==0?j=en(D):P!==0&&(j=en(P));if(j===0)return 0;if(u!==0&&u!==j&&(u&k)===0&&(k=j&-j,P=u&-u,k>=P||k===16&&(P&4194240)!==0))return u;if((j&4)!==0&&(j|=x&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=j;0<u;)x=31-J(u),k=1<<x,j|=c[x],u&=~k;return j}function Ad(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dp(c,u){for(var x=c.suspendedLanes,j=c.pingedLanes,k=c.expirationTimes,P=c.pendingLanes;0<P;){var D=31-J(P),Q=1<<D,re=k[D];re===-1?((Q&x)===0||(Q&j)!==0)&&(k[D]=Ad(Q,u)):re<=u&&(c.expiredLanes|=Q),P&=~Q}}function Ed(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Nm(){var c=vr;return vr<<=1,(vr&4194240)===0&&(vr=64),c}function Td(c){for(var u=[],x=0;31>x;x++)u.push(c);return u}function tl(c,u,x){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-J(u),c[u]=x}function up(c,u){var x=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var j=c.eventTimes;for(c=c.expirationTimes;0<x;){var k=31-J(x),P=1<<k;u[k]=0,j[k]=-1,c[k]=-1,x&=~P}}function Od(c,u){var x=c.entangledLanes|=u;for(c=c.entanglements;x;){var j=31-J(x),k=1<<j;k&u|c[j]&u&&(c[j]|=u),x&=~k}}var lr=0;function Sm(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Cm,Md,km,_m,Pm,Rd=!1,fc=[],ri=null,si=null,ai=null,rl=new Map,sl=new Map,ni=[],mp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Am(c,u){switch(c){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":rl.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(u.pointerId)}}function al(c,u,x,j,k,P){return c===null||c.nativeEvent!==P?(c={blockedOn:u,domEventName:x,eventSystemFlags:j,nativeEvent:P,targetContainers:[k]},u!==null&&(u=qm(u),u!==null&&Md(u)),c):(c.eventSystemFlags|=j,u=c.targetContainers,k!==null&&u.indexOf(k)===-1&&u.push(k),c)}function hp(c,u,x,j,k){switch(u){case"focusin":return ri=al(ri,c,u,x,j,k),!0;case"dragenter":return si=al(si,c,u,x,j,k),!0;case"mouseover":return ai=al(ai,c,u,x,j,k),!0;case"pointerover":var P=k.pointerId;return rl.set(P,al(rl.get(P)||null,c,u,x,j,k)),!0;case"gotpointercapture":return P=k.pointerId,sl.set(P,al(sl.get(P)||null,c,u,x,j,k)),!0}return!1}function Em(c){var u=xc(c.target);if(u!==null){var x=Ze(u);if(x!==null){if(u=x.tag,u===13){if(u=Pt(x),u!==null){c.blockedOn=u,Pm(c.priority,function(){km(x)});return}}else if(u===3&&x.stateNode.current.memoizedState.isDehydrated){c.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}c.blockedOn=null}function pc(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var x=Om(c.domEventName,c.eventSystemFlags,u[0],c.nativeEvent);if(x===null){x=c.nativeEvent;var j=new x.constructor(x.type,x);zt=j,x.target.dispatchEvent(j),zt=null}else return u=qm(x),u!==null&&Md(u),c.blockedOn=x,!1;u.shift()}return!0}function Tm(c,u,x){pc(c)&&x.delete(u)}function fp(){Rd=!1,ri!==null&&pc(ri)&&(ri=null),si!==null&&pc(si)&&(si=null),ai!==null&&pc(ai)&&(ai=null),rl.forEach(Tm),sl.forEach(Tm)}function nl(c,u){c.blockedOn===u&&(c.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fp)))}function il(c){function u(k){return nl(k,c)}if(0<fc.length){nl(fc[0],c);for(var x=1;x<fc.length;x++){var j=fc[x];j.blockedOn===c&&(j.blockedOn=null)}}for(ri!==null&&nl(ri,c),si!==null&&nl(si,c),ai!==null&&nl(ai,c),rl.forEach(u),sl.forEach(u),x=0;x<ni.length;x++)j=ni[x],j.blockedOn===c&&(j.blockedOn=null);for(;0<ni.length&&(x=ni[0],x.blockedOn===null);)Em(x),x.blockedOn===null&&ni.shift()}var uo=_.ReactCurrentBatchConfig,gc=!0;function pp(c,u,x,j){var k=lr,P=uo.transition;uo.transition=null;try{lr=1,Id(c,u,x,j)}finally{lr=k,uo.transition=P}}function gp(c,u,x,j){var k=lr,P=uo.transition;uo.transition=null;try{lr=4,Id(c,u,x,j)}finally{lr=k,uo.transition=P}}function Id(c,u,x,j){if(gc){var k=Om(c,u,x,j);if(k===null)pv(c,u,j,We,x),Am(c,j);else if(hp(k,c,u,x,j))j.stopPropagation();else if(Am(c,j),u&4&&-1<mp.indexOf(c)){for(;k!==null;){var P=qm(k);if(P!==null&&Cm(P),P=Om(c,u,x,j),P===null&&pv(c,u,j,We,x),P===k)break;k=P}k!==null&&j.stopPropagation()}else pv(c,u,j,null,x)}}var We=null;function Om(c,u,x,j){if(We=null,c=ne(j),c=xc(c),c!==null)if(u=Ze(c),u===null)c=null;else if(x=u.tag,x===13){if(c=Pt(u),c!==null)return c;c=null}else if(x===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null);return We=c,null}function Dd(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(el()){case ei:return 1;case we:return 4;case ze:case lt:return 16;case ot:return 536870912;default:return 16}default:return 16}}var hr=null,$r=null,mo=null;function Mm(){if(mo)return mo;var c,u=$r,x=u.length,j,k="value"in hr?hr.value:hr.textContent,P=k.length;for(c=0;c<x&&u[c]===k[c];c++);var D=x-c;for(j=1;j<=D&&u[x-j]===k[P-j];j++);return mo=k.slice(c,1<j?1-j:void 0)}function xp(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function yp(){return!0}function k4(){return!1}function tn(c){function u(x,j,k,P,D){this._reactName=x,this._targetInst=k,this.type=j,this.nativeEvent=P,this.target=D,this.currentTarget=null;for(var Q in c)c.hasOwnProperty(Q)&&(x=c[Q],this[Q]=x?x(P):P[Q]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?yp:k4,this.isPropagationStopped=k4,this}return Y(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=yp)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=yp)},persist:function(){},isPersistent:yp}),u}var Ld={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ev=tn(Ld),Rm=Y({},Ld,{view:0,detail:0}),JU=tn(Rm),tv,rv,Im,vp=Y({},Rm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:av,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Im&&(Im&&c.type==="mousemove"?(tv=c.screenX-Im.screenX,rv=c.screenY-Im.screenY):rv=tv=0,Im=c),tv)},movementY:function(c){return"movementY"in c?c.movementY:rv}}),_4=tn(vp),XU=Y({},vp,{dataTransfer:0}),QU=tn(XU),ZU=Y({},Rm,{relatedTarget:0}),sv=tn(ZU),e9=Y({},Ld,{animationName:0,elapsedTime:0,pseudoElement:0}),t9=tn(e9),r9=Y({},Ld,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),s9=tn(r9),a9=Y({},Ld,{data:0}),P4=tn(a9),n9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l9(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=o9[c])?!!u[c]:!1}function av(){return l9}var c9=Y({},Rm,{key:function(c){if(c.key){var u=n9[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=xp(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?i9[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:av,charCode:function(c){return c.type==="keypress"?xp(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?xp(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),d9=tn(c9),u9=Y({},vp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A4=tn(u9),m9=Y({},Rm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:av}),h9=tn(m9),f9=Y({},Ld,{propertyName:0,elapsedTime:0,pseudoElement:0}),p9=tn(f9),g9=Y({},vp,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),x9=tn(g9),y9=[9,13,27,32],nv=l&&"CompositionEvent"in window,Dm=null;l&&"documentMode"in document&&(Dm=document.documentMode);var v9=l&&"TextEvent"in window&&!Dm,E4=l&&(!nv||Dm&&8<Dm&&11>=Dm),T4=" ",O4=!1;function M4(c,u){switch(c){case"keyup":return y9.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R4(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var $d=!1;function b9(c,u){switch(c){case"compositionend":return R4(u);case"keypress":return u.which!==32?null:(O4=!0,T4);case"textInput":return c=u.data,c===T4&&O4?null:c;default:return null}}function w9(c,u){if($d)return c==="compositionend"||!nv&&M4(c,u)?(c=Mm(),mo=$r=hr=null,$d=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return E4&&u.locale!=="ko"?null:u.data;default:return null}}var j9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I4(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!j9[c.type]:u==="textarea"}function D4(c,u,x,j){rr(j),u=Sp(u,"onChange"),0<u.length&&(x=new ev("onChange","change",null,x,j),c.push({event:x,listeners:u}))}var Lm=null,$m=null;function N9(c){ek(c,0)}function bp(c){var u=Wd(c);if(te(u))return c}function S9(c,u){if(c==="change")return u}var L4=!1;if(l){var iv;if(l){var ov="oninput"in document;if(!ov){var $4=document.createElement("div");$4.setAttribute("oninput","return;"),ov=typeof $4.oninput=="function"}iv=ov}else iv=!1;L4=iv&&(!document.documentMode||9<document.documentMode)}function z4(){Lm&&(Lm.detachEvent("onpropertychange",F4),$m=Lm=null)}function F4(c){if(c.propertyName==="value"&&bp($m)){var u=[];D4(u,$m,c,ne(c)),Mi(N9,u)}}function C9(c,u,x){c==="focusin"?(z4(),Lm=u,$m=x,Lm.attachEvent("onpropertychange",F4)):c==="focusout"&&z4()}function k9(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return bp($m)}function _9(c,u){if(c==="click")return bp(u)}function P9(c,u){if(c==="input"||c==="change")return bp(u)}function A9(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var ii=typeof Object.is=="function"?Object.is:A9;function zm(c,u){if(ii(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var x=Object.keys(c),j=Object.keys(u);if(x.length!==j.length)return!1;for(j=0;j<x.length;j++){var k=x[j];if(!d.call(u,k)||!ii(c[k],u[k]))return!1}return!0}function U4(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function B4(c,u){var x=U4(c);c=0;for(var j;x;){if(x.nodeType===3){if(j=c+x.textContent.length,c<=u&&j>=u)return{node:x,offset:u-c};c=j}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=U4(x)}}function W4(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?W4(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function V4(){for(var c=window,u=be();u instanceof c.HTMLIFrameElement;){try{var x=typeof u.contentWindow.location.href=="string"}catch{x=!1}if(x)c=u.contentWindow;else break;u=be(c.document)}return u}function lv(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}function E9(c){var u=V4(),x=c.focusedElem,j=c.selectionRange;if(u!==x&&x&&x.ownerDocument&&W4(x.ownerDocument.documentElement,x)){if(j!==null&&lv(x)){if(u=j.start,c=j.end,c===void 0&&(c=u),"selectionStart"in x)x.selectionStart=u,x.selectionEnd=Math.min(c,x.value.length);else if(c=(u=x.ownerDocument||document)&&u.defaultView||window,c.getSelection){c=c.getSelection();var k=x.textContent.length,P=Math.min(j.start,k);j=j.end===void 0?P:Math.min(j.end,k),!c.extend&&P>j&&(k=j,j=P,P=k),k=B4(x,P);var D=B4(x,j);k&&D&&(c.rangeCount!==1||c.anchorNode!==k.node||c.anchorOffset!==k.offset||c.focusNode!==D.node||c.focusOffset!==D.offset)&&(u=u.createRange(),u.setStart(k.node,k.offset),c.removeAllRanges(),P>j?(c.addRange(u),c.extend(D.node,D.offset)):(u.setEnd(D.node,D.offset),c.addRange(u)))}}for(u=[],c=x;c=c.parentNode;)c.nodeType===1&&u.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<u.length;x++)c=u[x],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var T9=l&&"documentMode"in document&&11>=document.documentMode,zd=null,cv=null,Fm=null,dv=!1;function q4(c,u,x){var j=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;dv||zd==null||zd!==be(j)||(j=zd,"selectionStart"in j&&lv(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Fm&&zm(Fm,j)||(Fm=j,j=Sp(cv,"onSelect"),0<j.length&&(u=new ev("onSelect","select",null,u,x),c.push({event:u,listeners:j}),u.target=zd)))}function wp(c,u){var x={};return x[c.toLowerCase()]=u.toLowerCase(),x["Webkit"+c]="webkit"+u,x["Moz"+c]="moz"+u,x}var Fd={animationend:wp("Animation","AnimationEnd"),animationiteration:wp("Animation","AnimationIteration"),animationstart:wp("Animation","AnimationStart"),transitionend:wp("Transition","TransitionEnd")},uv={},H4={};l&&(H4=document.createElement("div").style,"AnimationEvent"in window||(delete Fd.animationend.animation,delete Fd.animationiteration.animation,delete Fd.animationstart.animation),"TransitionEvent"in window||delete Fd.transitionend.transition);function jp(c){if(uv[c])return uv[c];if(!Fd[c])return c;var u=Fd[c],x;for(x in u)if(u.hasOwnProperty(x)&&x in H4)return uv[c]=u[x];return c}var K4=jp("animationend"),G4=jp("animationiteration"),Y4=jp("animationstart"),J4=jp("transitionend"),X4=new Map,Q4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ol(c,u){X4.set(c,u),i(u,[c])}for(var mv=0;mv<Q4.length;mv++){var hv=Q4[mv],O9=hv.toLowerCase(),M9=hv[0].toUpperCase()+hv.slice(1);ol(O9,"on"+M9)}ol(K4,"onAnimationEnd"),ol(G4,"onAnimationIteration"),ol(Y4,"onAnimationStart"),ol("dblclick","onDoubleClick"),ol("focusin","onFocus"),ol("focusout","onBlur"),ol(J4,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Um="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Um));function Z4(c,u,x){var j=c.type||"unknown-event";c.currentTarget=x,_e(j,u,void 0,c),c.currentTarget=null}function ek(c,u){u=(u&4)!==0;for(var x=0;x<c.length;x++){var j=c[x],k=j.event;j=j.listeners;e:{var P=void 0;if(u)for(var D=j.length-1;0<=D;D--){var Q=j[D],re=Q.instance,pe=Q.currentTarget;if(Q=Q.listener,re!==P&&k.isPropagationStopped())break e;Z4(k,Q,pe),P=re}else for(D=0;D<j.length;D++){if(Q=j[D],re=Q.instance,pe=Q.currentTarget,Q=Q.listener,re!==P&&k.isPropagationStopped())break e;Z4(k,Q,pe),P=re}}}if(Xt)throw c=Ri,Xt=!1,Ri=null,c}function Or(c,u){var x=u[wv];x===void 0&&(x=u[wv]=new Set);var j=c+"__bubble";x.has(j)||(tk(u,c,2,!1),x.add(j))}function fv(c,u,x){var j=0;u&&(j|=4),tk(x,c,j,u)}var Np="_reactListening"+Math.random().toString(36).slice(2);function Bm(c){if(!c[Np]){c[Np]=!0,a.forEach(function(x){x!=="selectionchange"&&(R9.has(x)||fv(x,!1,c),fv(x,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[Np]||(u[Np]=!0,fv("selectionchange",!1,u))}}function tk(c,u,x,j){switch(Dd(u)){case 1:var k=pp;break;case 4:k=gp;break;default:k=Id}x=k.bind(null,u,x,c),k=void 0,!ws||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(k=!0),j?k!==void 0?c.addEventListener(u,x,{capture:!0,passive:k}):c.addEventListener(u,x,!0):k!==void 0?c.addEventListener(u,x,{passive:k}):c.addEventListener(u,x,!1)}function pv(c,u,x,j,k){var P=j;if((u&1)===0&&(u&2)===0&&j!==null)e:for(;;){if(j===null)return;var D=j.tag;if(D===3||D===4){var Q=j.stateNode.containerInfo;if(Q===k||Q.nodeType===8&&Q.parentNode===k)break;if(D===4)for(D=j.return;D!==null;){var re=D.tag;if((re===3||re===4)&&(re=D.stateNode.containerInfo,re===k||re.nodeType===8&&re.parentNode===k))return;D=D.return}for(;Q!==null;){if(D=xc(Q),D===null)return;if(re=D.tag,re===5||re===6){j=P=D;continue e}Q=Q.parentNode}}j=j.return}Mi(function(){var pe=P,Oe=ne(x),Me=[];e:{var Ae=X4.get(c);if(Ae!==void 0){var qe=ev,Xe=c;switch(c){case"keypress":if(xp(x)===0)break e;case"keydown":case"keyup":qe=d9;break;case"focusin":Xe="focus",qe=sv;break;case"focusout":Xe="blur",qe=sv;break;case"beforeblur":case"afterblur":qe=sv;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=_4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=QU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=h9;break;case K4:case G4:case Y4:qe=t9;break;case J4:qe=p9;break;case"scroll":qe=JU;break;case"wheel":qe=x9;break;case"copy":case"cut":case"paste":qe=s9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=A4}var Qe=(u&4)!==0,ss=!Qe&&c==="scroll",le=Qe?Ae!==null?Ae+"Capture":null:Ae;Qe=[];for(var ae=pe,de;ae!==null;){de=ae;var Le=de.stateNode;if(de.tag===5&&Le!==null&&(de=Le,le!==null&&(Le=Nr(ae,le),Le!=null&&Qe.push(Wm(ae,Le,de)))),ss)break;ae=ae.return}0<Qe.length&&(Ae=new qe(Ae,Xe,null,x,Oe),Me.push({event:Ae,listeners:Qe}))}}if((u&7)===0){e:{if(Ae=c==="mouseover"||c==="pointerover",qe=c==="mouseout"||c==="pointerout",Ae&&x!==zt&&(Xe=x.relatedTarget||x.fromElement)&&(xc(Xe)||Xe[ho]))break e;if((qe||Ae)&&(Ae=Oe.window===Oe?Oe:(Ae=Oe.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,qe?(Xe=x.relatedTarget||x.toElement,qe=pe,Xe=Xe?xc(Xe):null,Xe!==null&&(ss=Ze(Xe),Xe!==ss||Xe.tag!==5&&Xe.tag!==6)&&(Xe=null)):(qe=null,Xe=pe),qe!==Xe)){if(Qe=_4,Le="onMouseLeave",le="onMouseEnter",ae="mouse",(c==="pointerout"||c==="pointerover")&&(Qe=A4,Le="onPointerLeave",le="onPointerEnter",ae="pointer"),ss=qe==null?Ae:Wd(qe),de=Xe==null?Ae:Wd(Xe),Ae=new Qe(Le,ae+"leave",qe,x,Oe),Ae.target=ss,Ae.relatedTarget=de,Le=null,xc(Oe)===pe&&(Qe=new Qe(le,ae+"enter",Xe,x,Oe),Qe.target=de,Qe.relatedTarget=ss,Le=Qe),ss=Le,qe&&Xe)t:{for(Qe=qe,le=Xe,ae=0,de=Qe;de;de=Ud(de))ae++;for(de=0,Le=le;Le;Le=Ud(Le))de++;for(;0<ae-de;)Qe=Ud(Qe),ae--;for(;0<de-ae;)le=Ud(le),de--;for(;ae--;){if(Qe===le||le!==null&&Qe===le.alternate)break t;Qe=Ud(Qe),le=Ud(le)}Qe=null}else Qe=null;qe!==null&&rk(Me,Ae,qe,Qe,!1),Xe!==null&&ss!==null&&rk(Me,ss,Xe,Qe,!0)}}e:{if(Ae=pe?Wd(pe):window,qe=Ae.nodeName&&Ae.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Ae.type==="file")var rt=S9;else if(I4(Ae))if(L4)rt=P9;else{rt=k9;var ct=C9}else(qe=Ae.nodeName)&&qe.toLowerCase()==="input"&&(Ae.type==="checkbox"||Ae.type==="radio")&&(rt=_9);if(rt&&(rt=rt(c,pe))){D4(Me,rt,x,Oe);break e}ct&&ct(c,Ae,pe),c==="focusout"&&(ct=Ae._wrapperState)&&ct.controlled&&Ae.type==="number"&&Ot(Ae,"number",Ae.value)}switch(ct=pe?Wd(pe):window,c){case"focusin":(I4(ct)||ct.contentEditable==="true")&&(zd=ct,cv=pe,Fm=null);break;case"focusout":Fm=cv=zd=null;break;case"mousedown":dv=!0;break;case"contextmenu":case"mouseup":case"dragend":dv=!1,q4(Me,x,Oe);break;case"selectionchange":if(T9)break;case"keydown":case"keyup":q4(Me,x,Oe)}var dt;if(nv)e:{switch(c){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else $d?M4(c,x)&&(xt="onCompositionEnd"):c==="keydown"&&x.keyCode===229&&(xt="onCompositionStart");xt&&(E4&&x.locale!=="ko"&&($d||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&$d&&(dt=Mm()):(hr=Oe,$r="value"in hr?hr.value:hr.textContent,$d=!0)),ct=Sp(pe,xt),0<ct.length&&(xt=new P4(xt,c,null,x,Oe),Me.push({event:xt,listeners:ct}),dt?xt.data=dt:(dt=R4(x),dt!==null&&(xt.data=dt)))),(dt=v9?b9(c,x):w9(c,x))&&(pe=Sp(pe,"onBeforeInput"),0<pe.length&&(Oe=new P4("onBeforeInput","beforeinput",null,x,Oe),Me.push({event:Oe,listeners:pe}),Oe.data=dt))}ek(Me,u)})}function Wm(c,u,x){return{instance:c,listener:u,currentTarget:x}}function Sp(c,u){for(var x=u+"Capture",j=[];c!==null;){var k=c,P=k.stateNode;k.tag===5&&P!==null&&(k=P,P=Nr(c,x),P!=null&&j.unshift(Wm(c,P,k)),P=Nr(c,u),P!=null&&j.push(Wm(c,P,k))),c=c.return}return j}function Ud(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function rk(c,u,x,j,k){for(var P=u._reactName,D=[];x!==null&&x!==j;){var Q=x,re=Q.alternate,pe=Q.stateNode;if(re!==null&&re===j)break;Q.tag===5&&pe!==null&&(Q=pe,k?(re=Nr(x,P),re!=null&&D.unshift(Wm(x,re,Q))):k||(re=Nr(x,P),re!=null&&D.push(Wm(x,re,Q)))),x=x.return}D.length!==0&&c.push({event:u,listeners:D})}var I9=/\r\n?/g,D9=/\u0000|\uFFFD/g;function sk(c){return(typeof c=="string"?c:""+c).replace(I9,`
`).replace(D9,"")}function Cp(c,u,x){if(u=sk(u),sk(c)!==u&&x)throw Error(s(425))}function kp(){}var gv=null,xv=null;function yv(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var vv=typeof setTimeout=="function"?setTimeout:void 0,L9=typeof clearTimeout=="function"?clearTimeout:void 0,ak=typeof Promise=="function"?Promise:void 0,$9=typeof queueMicrotask=="function"?queueMicrotask:typeof ak<"u"?function(c){return ak.resolve(null).then(c).catch(z9)}:vv;function z9(c){setTimeout(function(){throw c})}function bv(c,u){var x=u,j=0;do{var k=x.nextSibling;if(c.removeChild(x),k&&k.nodeType===8)if(x=k.data,x==="/$"){if(j===0){c.removeChild(k),il(u);return}j--}else x!=="$"&&x!=="$?"&&x!=="$!"||j++;x=k}while(x);il(u)}function ll(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return c}function nk(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var x=c.data;if(x==="$"||x==="$!"||x==="$?"){if(u===0)return c;u--}else x==="/$"&&u++}c=c.previousSibling}return null}var Bd=Math.random().toString(36).slice(2),Ii="__reactFiber$"+Bd,Vm="__reactProps$"+Bd,ho="__reactContainer$"+Bd,wv="__reactEvents$"+Bd,F9="__reactListeners$"+Bd,U9="__reactHandles$"+Bd;function xc(c){var u=c[Ii];if(u)return u;for(var x=c.parentNode;x;){if(u=x[ho]||x[Ii]){if(x=u.alternate,u.child!==null||x!==null&&x.child!==null)for(c=nk(c);c!==null;){if(x=c[Ii])return x;c=nk(c)}return u}c=x,x=c.parentNode}return null}function qm(c){return c=c[Ii]||c[ho],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Wd(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(s(33))}function _p(c){return c[Vm]||null}var jv=[],Vd=-1;function cl(c){return{current:c}}function Mr(c){0>Vd||(c.current=jv[Vd],jv[Vd]=null,Vd--)}function kr(c,u){Vd++,jv[Vd]=c.current,c.current=u}var dl={},oa=cl(dl),La=cl(!1),yc=dl;function qd(c,u){var x=c.type.contextTypes;if(!x)return dl;var j=c.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===u)return j.__reactInternalMemoizedMaskedChildContext;var k={},P;for(P in x)k[P]=u[P];return j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=k),k}function $a(c){return c=c.childContextTypes,c!=null}function Pp(){Mr(La),Mr(oa)}function ik(c,u,x){if(oa.current!==dl)throw Error(s(168));kr(oa,u),kr(La,x)}function ok(c,u,x){var j=c.stateNode;if(u=u.childContextTypes,typeof j.getChildContext!="function")return x;j=j.getChildContext();for(var k in j)if(!(k in u))throw Error(s(108,Pe(c)||"Unknown",k));return Y({},x,j)}function Ap(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||dl,yc=oa.current,kr(oa,c),kr(La,La.current),!0}function lk(c,u,x){var j=c.stateNode;if(!j)throw Error(s(169));x?(c=ok(c,u,yc),j.__reactInternalMemoizedMergedChildContext=c,Mr(La),Mr(oa),kr(oa,c)):Mr(La),kr(La,x)}var fo=null,Ep=!1,Nv=!1;function ck(c){fo===null?fo=[c]:fo.push(c)}function B9(c){Ep=!0,ck(c)}function ul(){if(!Nv&&fo!==null){Nv=!0;var c=0,u=lr;try{var x=fo;for(lr=1;c<x.length;c++){var j=x[c];do j=j(!0);while(j!==null)}fo=null,Ep=!1}catch(k){throw fo!==null&&(fo=fo.slice(c+1)),Da(ei,ul),k}finally{lr=u,Nv=!1}}return null}var Hd=[],Kd=0,Tp=null,Op=0,Sn=[],Cn=0,vc=null,po=1,go="";function bc(c,u){Hd[Kd++]=Op,Hd[Kd++]=Tp,Tp=c,Op=u}function dk(c,u,x){Sn[Cn++]=po,Sn[Cn++]=go,Sn[Cn++]=vc,vc=c;var j=po;c=go;var k=32-J(j)-1;j&=~(1<<k),x+=1;var P=32-J(u)+k;if(30<P){var D=k-k%5;P=(j&(1<<D)-1).toString(32),j>>=D,k-=D,po=1<<32-J(u)+k|x<<k|j,go=P+c}else po=1<<P|x<<k|j,go=c}function Sv(c){c.return!==null&&(bc(c,1),dk(c,1,0))}function Cv(c){for(;c===Tp;)Tp=Hd[--Kd],Hd[Kd]=null,Op=Hd[--Kd],Hd[Kd]=null;for(;c===vc;)vc=Sn[--Cn],Sn[Cn]=null,go=Sn[--Cn],Sn[Cn]=null,po=Sn[--Cn],Sn[Cn]=null}var rn=null,sn=null,zr=!1,oi=null;function uk(c,u){var x=An(5,null,null,0);x.elementType="DELETED",x.stateNode=u,x.return=c,u=c.deletions,u===null?(c.deletions=[x],c.flags|=16):u.push(x)}function mk(c,u){switch(c.tag){case 5:var x=c.type;return u=u.nodeType!==1||x.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(c.stateNode=u,rn=c,sn=ll(u.firstChild),!0):!1;case 6:return u=c.pendingProps===""||u.nodeType!==3?null:u,u!==null?(c.stateNode=u,rn=c,sn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(x=vc!==null?{id:po,overflow:go}:null,c.memoizedState={dehydrated:u,treeContext:x,retryLane:1073741824},x=An(18,null,null,0),x.stateNode=u,x.return=c,c.child=x,rn=c,sn=null,!0):!1;default:return!1}}function kv(c){return(c.mode&1)!==0&&(c.flags&128)===0}function _v(c){if(zr){var u=sn;if(u){var x=u;if(!mk(c,u)){if(kv(c))throw Error(s(418));u=ll(x.nextSibling);var j=rn;u&&mk(c,u)?uk(j,x):(c.flags=c.flags&-4097|2,zr=!1,rn=c)}}else{if(kv(c))throw Error(s(418));c.flags=c.flags&-4097|2,zr=!1,rn=c}}}function hk(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;rn=c}function Mp(c){if(c!==rn)return!1;if(!zr)return hk(c),zr=!0,!1;var u;if((u=c.tag!==3)&&!(u=c.tag!==5)&&(u=c.type,u=u!=="head"&&u!=="body"&&!yv(c.type,c.memoizedProps)),u&&(u=sn)){if(kv(c))throw fk(),Error(s(418));for(;u;)uk(c,u),u=ll(u.nextSibling)}if(hk(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8){var x=c.data;if(x==="/$"){if(u===0){sn=ll(c.nextSibling);break e}u--}else x!=="$"&&x!=="$!"&&x!=="$?"||u++}c=c.nextSibling}sn=null}}else sn=rn?ll(c.stateNode.nextSibling):null;return!0}function fk(){for(var c=sn;c;)c=ll(c.nextSibling)}function Gd(){sn=rn=null,zr=!1}function Pv(c){oi===null?oi=[c]:oi.push(c)}var W9=_.ReactCurrentBatchConfig;function Hm(c,u,x){if(c=x.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(s(309));var j=x.stateNode}if(!j)throw Error(s(147,c));var k=j,P=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===P?u.ref:(u=function(D){var Q=k.refs;D===null?delete Q[P]:Q[P]=D},u._stringRef=P,u)}if(typeof c!="string")throw Error(s(284));if(!x._owner)throw Error(s(290,c))}return c}function Rp(c,u){throw c=Object.prototype.toString.call(u),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function pk(c){var u=c._init;return u(c._payload)}function gk(c){function u(le,ae){if(c){var de=le.deletions;de===null?(le.deletions=[ae],le.flags|=16):de.push(ae)}}function x(le,ae){if(!c)return null;for(;ae!==null;)u(le,ae),ae=ae.sibling;return null}function j(le,ae){for(le=new Map;ae!==null;)ae.key!==null?le.set(ae.key,ae):le.set(ae.index,ae),ae=ae.sibling;return le}function k(le,ae){return le=vl(le,ae),le.index=0,le.sibling=null,le}function P(le,ae,de){return le.index=de,c?(de=le.alternate,de!==null?(de=de.index,de<ae?(le.flags|=2,ae):de):(le.flags|=2,ae)):(le.flags|=1048576,ae)}function D(le){return c&&le.alternate===null&&(le.flags|=2),le}function Q(le,ae,de,Le){return ae===null||ae.tag!==6?(ae=vb(de,le.mode,Le),ae.return=le,ae):(ae=k(ae,de),ae.return=le,ae)}function re(le,ae,de,Le){var rt=de.type;return rt===E?Oe(le,ae,de.props.children,Le,de.key):ae!==null&&(ae.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===L&&pk(rt)===ae.type)?(Le=k(ae,de.props),Le.ref=Hm(le,ae,de),Le.return=le,Le):(Le=ag(de.type,de.key,de.props,null,le.mode,Le),Le.ref=Hm(le,ae,de),Le.return=le,Le)}function pe(le,ae,de,Le){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==de.containerInfo||ae.stateNode.implementation!==de.implementation?(ae=bb(de,le.mode,Le),ae.return=le,ae):(ae=k(ae,de.children||[]),ae.return=le,ae)}function Oe(le,ae,de,Le,rt){return ae===null||ae.tag!==7?(ae=Pc(de,le.mode,Le,rt),ae.return=le,ae):(ae=k(ae,de),ae.return=le,ae)}function Me(le,ae,de){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=vb(""+ae,le.mode,de),ae.return=le,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:return de=ag(ae.type,ae.key,ae.props,null,le.mode,de),de.ref=Hm(le,null,ae),de.return=le,de;case T:return ae=bb(ae,le.mode,de),ae.return=le,ae;case L:var Le=ae._init;return Me(le,Le(ae._payload),de)}if(St(ae)||z(ae))return ae=Pc(ae,le.mode,de,null),ae.return=le,ae;Rp(le,ae)}return null}function Ae(le,ae,de,Le){var rt=ae!==null?ae.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return rt!==null?null:Q(le,ae,""+de,Le);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case A:return de.key===rt?re(le,ae,de,Le):null;case T:return de.key===rt?pe(le,ae,de,Le):null;case L:return rt=de._init,Ae(le,ae,rt(de._payload),Le)}if(St(de)||z(de))return rt!==null?null:Oe(le,ae,de,Le,null);Rp(le,de)}return null}function qe(le,ae,de,Le,rt){if(typeof Le=="string"&&Le!==""||typeof Le=="number")return le=le.get(de)||null,Q(ae,le,""+Le,rt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case A:return le=le.get(Le.key===null?de:Le.key)||null,re(ae,le,Le,rt);case T:return le=le.get(Le.key===null?de:Le.key)||null,pe(ae,le,Le,rt);case L:var ct=Le._init;return qe(le,ae,de,ct(Le._payload),rt)}if(St(Le)||z(Le))return le=le.get(de)||null,Oe(ae,le,Le,rt,null);Rp(ae,Le)}return null}function Xe(le,ae,de,Le){for(var rt=null,ct=null,dt=ae,xt=ae=0,Ls=null;dt!==null&&xt<de.length;xt++){dt.index>xt?(Ls=dt,dt=null):Ls=dt.sibling;var cr=Ae(le,dt,de[xt],Le);if(cr===null){dt===null&&(dt=Ls);break}c&&dt&&cr.alternate===null&&u(le,dt),ae=P(cr,ae,xt),ct===null?rt=cr:ct.sibling=cr,ct=cr,dt=Ls}if(xt===de.length)return x(le,dt),zr&&bc(le,xt),rt;if(dt===null){for(;xt<de.length;xt++)dt=Me(le,de[xt],Le),dt!==null&&(ae=P(dt,ae,xt),ct===null?rt=dt:ct.sibling=dt,ct=dt);return zr&&bc(le,xt),rt}for(dt=j(le,dt);xt<de.length;xt++)Ls=qe(dt,le,xt,de[xt],Le),Ls!==null&&(c&&Ls.alternate!==null&&dt.delete(Ls.key===null?xt:Ls.key),ae=P(Ls,ae,xt),ct===null?rt=Ls:ct.sibling=Ls,ct=Ls);return c&&dt.forEach(function(bl){return u(le,bl)}),zr&&bc(le,xt),rt}function Qe(le,ae,de,Le){var rt=z(de);if(typeof rt!="function")throw Error(s(150));if(de=rt.call(de),de==null)throw Error(s(151));for(var ct=rt=null,dt=ae,xt=ae=0,Ls=null,cr=de.next();dt!==null&&!cr.done;xt++,cr=de.next()){dt.index>xt?(Ls=dt,dt=null):Ls=dt.sibling;var bl=Ae(le,dt,cr.value,Le);if(bl===null){dt===null&&(dt=Ls);break}c&&dt&&bl.alternate===null&&u(le,dt),ae=P(bl,ae,xt),ct===null?rt=bl:ct.sibling=bl,ct=bl,dt=Ls}if(cr.done)return x(le,dt),zr&&bc(le,xt),rt;if(dt===null){for(;!cr.done;xt++,cr=de.next())cr=Me(le,cr.value,Le),cr!==null&&(ae=P(cr,ae,xt),ct===null?rt=cr:ct.sibling=cr,ct=cr);return zr&&bc(le,xt),rt}for(dt=j(le,dt);!cr.done;xt++,cr=de.next())cr=qe(dt,le,xt,cr.value,Le),cr!==null&&(c&&cr.alternate!==null&&dt.delete(cr.key===null?xt:cr.key),ae=P(cr,ae,xt),ct===null?rt=cr:ct.sibling=cr,ct=cr);return c&&dt.forEach(function(jB){return u(le,jB)}),zr&&bc(le,xt),rt}function ss(le,ae,de,Le){if(typeof de=="object"&&de!==null&&de.type===E&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case A:e:{for(var rt=de.key,ct=ae;ct!==null;){if(ct.key===rt){if(rt=de.type,rt===E){if(ct.tag===7){x(le,ct.sibling),ae=k(ct,de.props.children),ae.return=le,le=ae;break e}}else if(ct.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===L&&pk(rt)===ct.type){x(le,ct.sibling),ae=k(ct,de.props),ae.ref=Hm(le,ct,de),ae.return=le,le=ae;break e}x(le,ct);break}else u(le,ct);ct=ct.sibling}de.type===E?(ae=Pc(de.props.children,le.mode,Le,de.key),ae.return=le,le=ae):(Le=ag(de.type,de.key,de.props,null,le.mode,Le),Le.ref=Hm(le,ae,de),Le.return=le,le=Le)}return D(le);case T:e:{for(ct=de.key;ae!==null;){if(ae.key===ct)if(ae.tag===4&&ae.stateNode.containerInfo===de.containerInfo&&ae.stateNode.implementation===de.implementation){x(le,ae.sibling),ae=k(ae,de.children||[]),ae.return=le,le=ae;break e}else{x(le,ae);break}else u(le,ae);ae=ae.sibling}ae=bb(de,le.mode,Le),ae.return=le,le=ae}return D(le);case L:return ct=de._init,ss(le,ae,ct(de._payload),Le)}if(St(de))return Xe(le,ae,de,Le);if(z(de))return Qe(le,ae,de,Le);Rp(le,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,ae!==null&&ae.tag===6?(x(le,ae.sibling),ae=k(ae,de),ae.return=le,le=ae):(x(le,ae),ae=vb(de,le.mode,Le),ae.return=le,le=ae),D(le)):x(le,ae)}return ss}var Yd=gk(!0),xk=gk(!1),Ip=cl(null),Dp=null,Jd=null,Av=null;function Ev(){Av=Jd=Dp=null}function Tv(c){var u=Ip.current;Mr(Ip),c._currentValue=u}function Ov(c,u,x){for(;c!==null;){var j=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,j!==null&&(j.childLanes|=u)):j!==null&&(j.childLanes&u)!==u&&(j.childLanes|=u),c===x)break;c=c.return}}function Xd(c,u){Dp=c,Av=Jd=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&u)!==0&&(za=!0),c.firstContext=null)}function kn(c){var u=c._currentValue;if(Av!==c)if(c={context:c,memoizedValue:u,next:null},Jd===null){if(Dp===null)throw Error(s(308));Jd=c,Dp.dependencies={lanes:0,firstContext:c}}else Jd=Jd.next=c;return u}var wc=null;function Mv(c){wc===null?wc=[c]:wc.push(c)}function yk(c,u,x,j){var k=u.interleaved;return k===null?(x.next=x,Mv(u)):(x.next=k.next,k.next=x),u.interleaved=x,xo(c,j)}function xo(c,u){c.lanes|=u;var x=c.alternate;for(x!==null&&(x.lanes|=u),x=c,c=c.return;c!==null;)c.childLanes|=u,x=c.alternate,x!==null&&(x.childLanes|=u),x=c,c=c.return;return x.tag===3?x.stateNode:null}var ml=!1;function Rv(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vk(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function yo(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function hl(c,u,x){var j=c.updateQueue;if(j===null)return null;if(j=j.shared,(sr&2)!==0){var k=j.pending;return k===null?u.next=u:(u.next=k.next,k.next=u),j.pending=u,xo(c,x)}return k=j.interleaved,k===null?(u.next=u,Mv(j)):(u.next=k.next,k.next=u),j.interleaved=u,xo(c,x)}function Lp(c,u,x){if(u=u.updateQueue,u!==null&&(u=u.shared,(x&4194240)!==0)){var j=u.lanes;j&=c.pendingLanes,x|=j,u.lanes=x,Od(c,x)}}function bk(c,u){var x=c.updateQueue,j=c.alternate;if(j!==null&&(j=j.updateQueue,x===j)){var k=null,P=null;if(x=x.firstBaseUpdate,x!==null){do{var D={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};P===null?k=P=D:P=P.next=D,x=x.next}while(x!==null);P===null?k=P=u:P=P.next=u}else k=P=u;x={baseState:j.baseState,firstBaseUpdate:k,lastBaseUpdate:P,shared:j.shared,effects:j.effects},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=u:c.next=u,x.lastBaseUpdate=u}function $p(c,u,x,j){var k=c.updateQueue;ml=!1;var P=k.firstBaseUpdate,D=k.lastBaseUpdate,Q=k.shared.pending;if(Q!==null){k.shared.pending=null;var re=Q,pe=re.next;re.next=null,D===null?P=pe:D.next=pe,D=re;var Oe=c.alternate;Oe!==null&&(Oe=Oe.updateQueue,Q=Oe.lastBaseUpdate,Q!==D&&(Q===null?Oe.firstBaseUpdate=pe:Q.next=pe,Oe.lastBaseUpdate=re))}if(P!==null){var Me=k.baseState;D=0,Oe=pe=re=null,Q=P;do{var Ae=Q.lane,qe=Q.eventTime;if((j&Ae)===Ae){Oe!==null&&(Oe=Oe.next={eventTime:qe,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Xe=c,Qe=Q;switch(Ae=u,qe=x,Qe.tag){case 1:if(Xe=Qe.payload,typeof Xe=="function"){Me=Xe.call(qe,Me,Ae);break e}Me=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=Qe.payload,Ae=typeof Xe=="function"?Xe.call(qe,Me,Ae):Xe,Ae==null)break e;Me=Y({},Me,Ae);break e;case 2:ml=!0}}Q.callback!==null&&Q.lane!==0&&(c.flags|=64,Ae=k.effects,Ae===null?k.effects=[Q]:Ae.push(Q))}else qe={eventTime:qe,lane:Ae,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Oe===null?(pe=Oe=qe,re=Me):Oe=Oe.next=qe,D|=Ae;if(Q=Q.next,Q===null){if(Q=k.shared.pending,Q===null)break;Ae=Q,Q=Ae.next,Ae.next=null,k.lastBaseUpdate=Ae,k.shared.pending=null}}while(!0);if(Oe===null&&(re=Me),k.baseState=re,k.firstBaseUpdate=pe,k.lastBaseUpdate=Oe,u=k.shared.interleaved,u!==null){k=u;do D|=k.lane,k=k.next;while(k!==u)}else P===null&&(k.shared.lanes=0);Sc|=D,c.lanes=D,c.memoizedState=Me}}function wk(c,u,x){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var j=c[u],k=j.callback;if(k!==null){if(j.callback=null,j=x,typeof k!="function")throw Error(s(191,k));k.call(j)}}}var Km={},Di=cl(Km),Gm=cl(Km),Ym=cl(Km);function jc(c){if(c===Km)throw Error(s(174));return c}function Iv(c,u){switch(kr(Ym,u),kr(Gm,c),kr(Di,Km),c=u.nodeType,c){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Yr(null,"");break;default:c=c===8?u.parentNode:u,u=c.namespaceURI||null,c=c.tagName,u=Yr(u,c)}Mr(Di),kr(Di,u)}function Qd(){Mr(Di),Mr(Gm),Mr(Ym)}function jk(c){jc(Ym.current);var u=jc(Di.current),x=Yr(u,c.type);u!==x&&(kr(Gm,c),kr(Di,x))}function Dv(c){Gm.current===c&&(Mr(Di),Mr(Gm))}var Vr=cl(0);function zp(c){for(var u=c;u!==null;){if(u.tag===13){var x=u.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Lv=[];function $v(){for(var c=0;c<Lv.length;c++)Lv[c]._workInProgressVersionPrimary=null;Lv.length=0}var Fp=_.ReactCurrentDispatcher,zv=_.ReactCurrentBatchConfig,Nc=0,qr=null,Ns=null,Is=null,Up=!1,Jm=!1,Xm=0,V9=0;function la(){throw Error(s(321))}function Fv(c,u){if(u===null)return!1;for(var x=0;x<u.length&&x<c.length;x++)if(!ii(c[x],u[x]))return!1;return!0}function Uv(c,u,x,j,k,P){if(Nc=P,qr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Fp.current=c===null||c.memoizedState===null?G9:Y9,c=x(j,k),Jm){P=0;do{if(Jm=!1,Xm=0,25<=P)throw Error(s(301));P+=1,Is=Ns=null,u.updateQueue=null,Fp.current=J9,c=x(j,k)}while(Jm)}if(Fp.current=Vp,u=Ns!==null&&Ns.next!==null,Nc=0,Is=Ns=qr=null,Up=!1,u)throw Error(s(300));return c}function Bv(){var c=Xm!==0;return Xm=0,c}function Li(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Is===null?qr.memoizedState=Is=c:Is=Is.next=c,Is}function _n(){if(Ns===null){var c=qr.alternate;c=c!==null?c.memoizedState:null}else c=Ns.next;var u=Is===null?qr.memoizedState:Is.next;if(u!==null)Is=u,Ns=c;else{if(c===null)throw Error(s(310));Ns=c,c={memoizedState:Ns.memoizedState,baseState:Ns.baseState,baseQueue:Ns.baseQueue,queue:Ns.queue,next:null},Is===null?qr.memoizedState=Is=c:Is=Is.next=c}return Is}function Qm(c,u){return typeof u=="function"?u(c):u}function Wv(c){var u=_n(),x=u.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=c;var j=Ns,k=j.baseQueue,P=x.pending;if(P!==null){if(k!==null){var D=k.next;k.next=P.next,P.next=D}j.baseQueue=k=P,x.pending=null}if(k!==null){P=k.next,j=j.baseState;var Q=D=null,re=null,pe=P;do{var Oe=pe.lane;if((Nc&Oe)===Oe)re!==null&&(re=re.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),j=pe.hasEagerState?pe.eagerState:c(j,pe.action);else{var Me={lane:Oe,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};re===null?(Q=re=Me,D=j):re=re.next=Me,qr.lanes|=Oe,Sc|=Oe}pe=pe.next}while(pe!==null&&pe!==P);re===null?D=j:re.next=Q,ii(j,u.memoizedState)||(za=!0),u.memoizedState=j,u.baseState=D,u.baseQueue=re,x.lastRenderedState=j}if(c=x.interleaved,c!==null){k=c;do P=k.lane,qr.lanes|=P,Sc|=P,k=k.next;while(k!==c)}else k===null&&(x.lanes=0);return[u.memoizedState,x.dispatch]}function Vv(c){var u=_n(),x=u.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=c;var j=x.dispatch,k=x.pending,P=u.memoizedState;if(k!==null){x.pending=null;var D=k=k.next;do P=c(P,D.action),D=D.next;while(D!==k);ii(P,u.memoizedState)||(za=!0),u.memoizedState=P,u.baseQueue===null&&(u.baseState=P),x.lastRenderedState=P}return[P,j]}function Nk(){}function Sk(c,u){var x=qr,j=_n(),k=u(),P=!ii(j.memoizedState,k);if(P&&(j.memoizedState=k,za=!0),j=j.queue,qv(_k.bind(null,x,j,c),[c]),j.getSnapshot!==u||P||Is!==null&&Is.memoizedState.tag&1){if(x.flags|=2048,Zm(9,kk.bind(null,x,j,k,u),void 0,null),Ds===null)throw Error(s(349));(Nc&30)!==0||Ck(x,u,k)}return k}function Ck(c,u,x){c.flags|=16384,c={getSnapshot:u,value:x},u=qr.updateQueue,u===null?(u={lastEffect:null,stores:null},qr.updateQueue=u,u.stores=[c]):(x=u.stores,x===null?u.stores=[c]:x.push(c))}function kk(c,u,x,j){u.value=x,u.getSnapshot=j,Pk(u)&&Ak(c)}function _k(c,u,x){return x(function(){Pk(u)&&Ak(c)})}function Pk(c){var u=c.getSnapshot;c=c.value;try{var x=u();return!ii(c,x)}catch{return!0}}function Ak(c){var u=xo(c,1);u!==null&&ui(u,c,1,-1)}function Ek(c){var u=Li();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qm,lastRenderedState:c},u.queue=c,c=c.dispatch=K9.bind(null,qr,c),[u.memoizedState,c]}function Zm(c,u,x,j){return c={tag:c,create:u,destroy:x,deps:j,next:null},u=qr.updateQueue,u===null?(u={lastEffect:null,stores:null},qr.updateQueue=u,u.lastEffect=c.next=c):(x=u.lastEffect,x===null?u.lastEffect=c.next=c:(j=x.next,x.next=c,c.next=j,u.lastEffect=c)),c}function Tk(){return _n().memoizedState}function Bp(c,u,x,j){var k=Li();qr.flags|=c,k.memoizedState=Zm(1|u,x,void 0,j===void 0?null:j)}function Wp(c,u,x,j){var k=_n();j=j===void 0?null:j;var P=void 0;if(Ns!==null){var D=Ns.memoizedState;if(P=D.destroy,j!==null&&Fv(j,D.deps)){k.memoizedState=Zm(u,x,P,j);return}}qr.flags|=c,k.memoizedState=Zm(1|u,x,P,j)}function Ok(c,u){return Bp(8390656,8,c,u)}function qv(c,u){return Wp(2048,8,c,u)}function Mk(c,u){return Wp(4,2,c,u)}function Rk(c,u){return Wp(4,4,c,u)}function Ik(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function Dk(c,u,x){return x=x!=null?x.concat([c]):null,Wp(4,4,Ik.bind(null,u,c),x)}function Hv(){}function Lk(c,u){var x=_n();u=u===void 0?null:u;var j=x.memoizedState;return j!==null&&u!==null&&Fv(u,j[1])?j[0]:(x.memoizedState=[c,u],c)}function $k(c,u){var x=_n();u=u===void 0?null:u;var j=x.memoizedState;return j!==null&&u!==null&&Fv(u,j[1])?j[0]:(c=c(),x.memoizedState=[c,u],c)}function zk(c,u,x){return(Nc&21)===0?(c.baseState&&(c.baseState=!1,za=!0),c.memoizedState=x):(ii(x,u)||(x=Nm(),qr.lanes|=x,Sc|=x,c.baseState=!0),u)}function q9(c,u){var x=lr;lr=x!==0&&4>x?x:4,c(!0);var j=zv.transition;zv.transition={};try{c(!1),u()}finally{lr=x,zv.transition=j}}function Fk(){return _n().memoizedState}function H9(c,u,x){var j=xl(c);if(x={lane:j,action:x,hasEagerState:!1,eagerState:null,next:null},Uk(c))Bk(u,x);else if(x=yk(c,u,x,j),x!==null){var k=_a();ui(x,c,j,k),Wk(x,u,j)}}function K9(c,u,x){var j=xl(c),k={lane:j,action:x,hasEagerState:!1,eagerState:null,next:null};if(Uk(c))Bk(u,k);else{var P=c.alternate;if(c.lanes===0&&(P===null||P.lanes===0)&&(P=u.lastRenderedReducer,P!==null))try{var D=u.lastRenderedState,Q=P(D,x);if(k.hasEagerState=!0,k.eagerState=Q,ii(Q,D)){var re=u.interleaved;re===null?(k.next=k,Mv(u)):(k.next=re.next,re.next=k),u.interleaved=k;return}}catch{}finally{}x=yk(c,u,k,j),x!==null&&(k=_a(),ui(x,c,j,k),Wk(x,u,j))}}function Uk(c){var u=c.alternate;return c===qr||u!==null&&u===qr}function Bk(c,u){Jm=Up=!0;var x=c.pending;x===null?u.next=u:(u.next=x.next,x.next=u),c.pending=u}function Wk(c,u,x){if((x&4194240)!==0){var j=u.lanes;j&=c.pendingLanes,x|=j,u.lanes=x,Od(c,x)}}var Vp={readContext:kn,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useInsertionEffect:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useDeferredValue:la,useTransition:la,useMutableSource:la,useSyncExternalStore:la,useId:la,unstable_isNewReconciler:!1},G9={readContext:kn,useCallback:function(c,u){return Li().memoizedState=[c,u===void 0?null:u],c},useContext:kn,useEffect:Ok,useImperativeHandle:function(c,u,x){return x=x!=null?x.concat([c]):null,Bp(4194308,4,Ik.bind(null,u,c),x)},useLayoutEffect:function(c,u){return Bp(4194308,4,c,u)},useInsertionEffect:function(c,u){return Bp(4,2,c,u)},useMemo:function(c,u){var x=Li();return u=u===void 0?null:u,c=c(),x.memoizedState=[c,u],c},useReducer:function(c,u,x){var j=Li();return u=x!==void 0?x(u):u,j.memoizedState=j.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},j.queue=c,c=c.dispatch=H9.bind(null,qr,c),[j.memoizedState,c]},useRef:function(c){var u=Li();return c={current:c},u.memoizedState=c},useState:Ek,useDebugValue:Hv,useDeferredValue:function(c){return Li().memoizedState=c},useTransition:function(){var c=Ek(!1),u=c[0];return c=q9.bind(null,c[1]),Li().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,x){var j=qr,k=Li();if(zr){if(x===void 0)throw Error(s(407));x=x()}else{if(x=u(),Ds===null)throw Error(s(349));(Nc&30)!==0||Ck(j,u,x)}k.memoizedState=x;var P={value:x,getSnapshot:u};return k.queue=P,Ok(_k.bind(null,j,P,c),[c]),j.flags|=2048,Zm(9,kk.bind(null,j,P,x,u),void 0,null),x},useId:function(){var c=Li(),u=Ds.identifierPrefix;if(zr){var x=go,j=po;x=(j&~(1<<32-J(j)-1)).toString(32)+x,u=":"+u+"R"+x,x=Xm++,0<x&&(u+="H"+x.toString(32)),u+=":"}else x=V9++,u=":"+u+"r"+x.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},Y9={readContext:kn,useCallback:Lk,useContext:kn,useEffect:qv,useImperativeHandle:Dk,useInsertionEffect:Mk,useLayoutEffect:Rk,useMemo:$k,useReducer:Wv,useRef:Tk,useState:function(){return Wv(Qm)},useDebugValue:Hv,useDeferredValue:function(c){var u=_n();return zk(u,Ns.memoizedState,c)},useTransition:function(){var c=Wv(Qm)[0],u=_n().memoizedState;return[c,u]},useMutableSource:Nk,useSyncExternalStore:Sk,useId:Fk,unstable_isNewReconciler:!1},J9={readContext:kn,useCallback:Lk,useContext:kn,useEffect:qv,useImperativeHandle:Dk,useInsertionEffect:Mk,useLayoutEffect:Rk,useMemo:$k,useReducer:Vv,useRef:Tk,useState:function(){return Vv(Qm)},useDebugValue:Hv,useDeferredValue:function(c){var u=_n();return Ns===null?u.memoizedState=c:zk(u,Ns.memoizedState,c)},useTransition:function(){var c=Vv(Qm)[0],u=_n().memoizedState;return[c,u]},useMutableSource:Nk,useSyncExternalStore:Sk,useId:Fk,unstable_isNewReconciler:!1};function li(c,u){if(c&&c.defaultProps){u=Y({},u),c=c.defaultProps;for(var x in c)u[x]===void 0&&(u[x]=c[x]);return u}return u}function Kv(c,u,x,j){u=c.memoizedState,x=x(j,u),x=x==null?u:Y({},u,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var qp={isMounted:function(c){return(c=c._reactInternals)?Ze(c)===c:!1},enqueueSetState:function(c,u,x){c=c._reactInternals;var j=_a(),k=xl(c),P=yo(j,k);P.payload=u,x!=null&&(P.callback=x),u=hl(c,P,k),u!==null&&(ui(u,c,k,j),Lp(u,c,k))},enqueueReplaceState:function(c,u,x){c=c._reactInternals;var j=_a(),k=xl(c),P=yo(j,k);P.tag=1,P.payload=u,x!=null&&(P.callback=x),u=hl(c,P,k),u!==null&&(ui(u,c,k,j),Lp(u,c,k))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var x=_a(),j=xl(c),k=yo(x,j);k.tag=2,u!=null&&(k.callback=u),u=hl(c,k,j),u!==null&&(ui(u,c,j,x),Lp(u,c,j))}};function Vk(c,u,x,j,k,P,D){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(j,P,D):u.prototype&&u.prototype.isPureReactComponent?!zm(x,j)||!zm(k,P):!0}function qk(c,u,x){var j=!1,k=dl,P=u.contextType;return typeof P=="object"&&P!==null?P=kn(P):(k=$a(u)?yc:oa.current,j=u.contextTypes,P=(j=j!=null)?qd(c,k):dl),u=new u(x,P),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=qp,c.stateNode=u,u._reactInternals=c,j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=k,c.__reactInternalMemoizedMaskedChildContext=P),u}function Hk(c,u,x,j){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(x,j),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(x,j),u.state!==c&&qp.enqueueReplaceState(u,u.state,null)}function Gv(c,u,x,j){var k=c.stateNode;k.props=x,k.state=c.memoizedState,k.refs={},Rv(c);var P=u.contextType;typeof P=="object"&&P!==null?k.context=kn(P):(P=$a(u)?yc:oa.current,k.context=qd(c,P)),k.state=c.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(Kv(c,u,P,x),k.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(u=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),u!==k.state&&qp.enqueueReplaceState(k,k.state,null),$p(c,x,k,j),k.state=c.memoizedState),typeof k.componentDidMount=="function"&&(c.flags|=4194308)}function Zd(c,u){try{var x="",j=u;do x+=he(j),j=j.return;while(j);var k=x}catch(P){k=`
Error generating stack: `+P.message+`
`+P.stack}return{value:c,source:u,stack:k,digest:null}}function Yv(c,u,x){return{value:c,source:null,stack:x??null,digest:u??null}}function Jv(c,u){try{console.error(u.value)}catch(x){setTimeout(function(){throw x})}}var X9=typeof WeakMap=="function"?WeakMap:Map;function Kk(c,u,x){x=yo(-1,x),x.tag=3,x.payload={element:null};var j=u.value;return x.callback=function(){Qp||(Qp=!0,ub=j),Jv(c,u)},x}function Gk(c,u,x){x=yo(-1,x),x.tag=3;var j=c.type.getDerivedStateFromError;if(typeof j=="function"){var k=u.value;x.payload=function(){return j(k)},x.callback=function(){Jv(c,u)}}var P=c.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(x.callback=function(){Jv(c,u),typeof j!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})}),x}function Yk(c,u,x){var j=c.pingCache;if(j===null){j=c.pingCache=new X9;var k=new Set;j.set(u,k)}else k=j.get(u),k===void 0&&(k=new Set,j.set(u,k));k.has(x)||(k.add(x),c=uB.bind(null,c,u,x),u.then(c,c))}function Jk(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function Xk(c,u,x,j,k){return(c.mode&1)===0?(c===u?c.flags|=65536:(c.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(u=yo(-1,1),u.tag=2,hl(x,u,1))),x.lanes|=1),c):(c.flags|=65536,c.lanes=k,c)}var Q9=_.ReactCurrentOwner,za=!1;function ka(c,u,x,j){u.child=c===null?xk(u,null,x,j):Yd(u,c.child,x,j)}function Qk(c,u,x,j,k){x=x.render;var P=u.ref;return Xd(u,k),j=Uv(c,u,x,j,P,k),x=Bv(),c!==null&&!za?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~k,vo(c,u,k)):(zr&&x&&Sv(u),u.flags|=1,ka(c,u,j,k),u.child)}function Zk(c,u,x,j,k){if(c===null){var P=x.type;return typeof P=="function"&&!yb(P)&&P.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(u.tag=15,u.type=P,e_(c,u,P,j,k)):(c=ag(x.type,null,j,u,u.mode,k),c.ref=u.ref,c.return=u,u.child=c)}if(P=c.child,(c.lanes&k)===0){var D=P.memoizedProps;if(x=x.compare,x=x!==null?x:zm,x(D,j)&&c.ref===u.ref)return vo(c,u,k)}return u.flags|=1,c=vl(P,j),c.ref=u.ref,c.return=u,u.child=c}function e_(c,u,x,j,k){if(c!==null){var P=c.memoizedProps;if(zm(P,j)&&c.ref===u.ref)if(za=!1,u.pendingProps=j=P,(c.lanes&k)!==0)(c.flags&131072)!==0&&(za=!0);else return u.lanes=c.lanes,vo(c,u,k)}return Xv(c,u,x,j,k)}function t_(c,u,x){var j=u.pendingProps,k=j.children,P=c!==null?c.memoizedState:null;if(j.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(tu,an),an|=x;else{if((x&1073741824)===0)return c=P!==null?P.baseLanes|x:x,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null,transitions:null},u.updateQueue=null,kr(tu,an),an|=c,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=P!==null?P.baseLanes:x,kr(tu,an),an|=j}else P!==null?(j=P.baseLanes|x,u.memoizedState=null):j=x,kr(tu,an),an|=j;return ka(c,u,k,x),u.child}function r_(c,u){var x=u.ref;(c===null&&x!==null||c!==null&&c.ref!==x)&&(u.flags|=512,u.flags|=2097152)}function Xv(c,u,x,j,k){var P=$a(x)?yc:oa.current;return P=qd(u,P),Xd(u,k),x=Uv(c,u,x,j,P,k),j=Bv(),c!==null&&!za?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~k,vo(c,u,k)):(zr&&j&&Sv(u),u.flags|=1,ka(c,u,x,k),u.child)}function s_(c,u,x,j,k){if($a(x)){var P=!0;Ap(u)}else P=!1;if(Xd(u,k),u.stateNode===null)Kp(c,u),qk(u,x,j),Gv(u,x,j,k),j=!0;else if(c===null){var D=u.stateNode,Q=u.memoizedProps;D.props=Q;var re=D.context,pe=x.contextType;typeof pe=="object"&&pe!==null?pe=kn(pe):(pe=$a(x)?yc:oa.current,pe=qd(u,pe));var Oe=x.getDerivedStateFromProps,Me=typeof Oe=="function"||typeof D.getSnapshotBeforeUpdate=="function";Me||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Q!==j||re!==pe)&&Hk(u,D,j,pe),ml=!1;var Ae=u.memoizedState;D.state=Ae,$p(u,j,D,k),re=u.memoizedState,Q!==j||Ae!==re||La.current||ml?(typeof Oe=="function"&&(Kv(u,x,Oe,j),re=u.memoizedState),(Q=ml||Vk(u,x,Q,j,Ae,re,pe))?(Me||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(u.flags|=4194308)):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=j,u.memoizedState=re),D.props=j,D.state=re,D.context=pe,j=Q):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),j=!1)}else{D=u.stateNode,vk(c,u),Q=u.memoizedProps,pe=u.type===u.elementType?Q:li(u.type,Q),D.props=pe,Me=u.pendingProps,Ae=D.context,re=x.contextType,typeof re=="object"&&re!==null?re=kn(re):(re=$a(x)?yc:oa.current,re=qd(u,re));var qe=x.getDerivedStateFromProps;(Oe=typeof qe=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Q!==Me||Ae!==re)&&Hk(u,D,j,re),ml=!1,Ae=u.memoizedState,D.state=Ae,$p(u,j,D,k);var Xe=u.memoizedState;Q!==Me||Ae!==Xe||La.current||ml?(typeof qe=="function"&&(Kv(u,x,qe,j),Xe=u.memoizedState),(pe=ml||Vk(u,x,pe,j,Ae,Xe,re)||!1)?(Oe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(j,Xe,re),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(j,Xe,re)),typeof D.componentDidUpdate=="function"&&(u.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof D.componentDidUpdate!="function"||Q===c.memoizedProps&&Ae===c.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Q===c.memoizedProps&&Ae===c.memoizedState||(u.flags|=1024),u.memoizedProps=j,u.memoizedState=Xe),D.props=j,D.state=Xe,D.context=re,j=pe):(typeof D.componentDidUpdate!="function"||Q===c.memoizedProps&&Ae===c.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Q===c.memoizedProps&&Ae===c.memoizedState||(u.flags|=1024),j=!1)}return Qv(c,u,x,j,P,k)}function Qv(c,u,x,j,k,P){r_(c,u);var D=(u.flags&128)!==0;if(!j&&!D)return k&&lk(u,x,!1),vo(c,u,P);j=u.stateNode,Q9.current=u;var Q=D&&typeof x.getDerivedStateFromError!="function"?null:j.render();return u.flags|=1,c!==null&&D?(u.child=Yd(u,c.child,null,P),u.child=Yd(u,null,Q,P)):ka(c,u,Q,P),u.memoizedState=j.state,k&&lk(u,x,!0),u.child}function a_(c){var u=c.stateNode;u.pendingContext?ik(c,u.pendingContext,u.pendingContext!==u.context):u.context&&ik(c,u.context,!1),Iv(c,u.containerInfo)}function n_(c,u,x,j,k){return Gd(),Pv(k),u.flags|=256,ka(c,u,x,j),u.child}var Zv={dehydrated:null,treeContext:null,retryLane:0};function eb(c){return{baseLanes:c,cachePool:null,transitions:null}}function i_(c,u,x){var j=u.pendingProps,k=Vr.current,P=!1,D=(u.flags&128)!==0,Q;if((Q=D)||(Q=c!==null&&c.memoizedState===null?!1:(k&2)!==0),Q?(P=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(k|=1),kr(Vr,k&1),c===null)return _v(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((u.mode&1)===0?u.lanes=1:c.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(D=j.children,c=j.fallback,P?(j=u.mode,P=u.child,D={mode:"hidden",children:D},(j&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=D):P=ng(D,j,0,null),c=Pc(c,j,x,null),P.return=u,c.return=u,P.sibling=c,u.child=P,u.child.memoizedState=eb(x),u.memoizedState=Zv,c):tb(u,D));if(k=c.memoizedState,k!==null&&(Q=k.dehydrated,Q!==null))return Z9(c,u,D,j,Q,k,x);if(P){P=j.fallback,D=u.mode,k=c.child,Q=k.sibling;var re={mode:"hidden",children:j.children};return(D&1)===0&&u.child!==k?(j=u.child,j.childLanes=0,j.pendingProps=re,u.deletions=null):(j=vl(k,re),j.subtreeFlags=k.subtreeFlags&14680064),Q!==null?P=vl(Q,P):(P=Pc(P,D,x,null),P.flags|=2),P.return=u,j.return=u,j.sibling=P,u.child=j,j=P,P=u.child,D=c.child.memoizedState,D=D===null?eb(x):{baseLanes:D.baseLanes|x,cachePool:null,transitions:D.transitions},P.memoizedState=D,P.childLanes=c.childLanes&~x,u.memoizedState=Zv,j}return P=c.child,c=P.sibling,j=vl(P,{mode:"visible",children:j.children}),(u.mode&1)===0&&(j.lanes=x),j.return=u,j.sibling=null,c!==null&&(x=u.deletions,x===null?(u.deletions=[c],u.flags|=16):x.push(c)),u.child=j,u.memoizedState=null,j}function tb(c,u){return u=ng({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function Hp(c,u,x,j){return j!==null&&Pv(j),Yd(u,c.child,null,x),c=tb(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function Z9(c,u,x,j,k,P,D){if(x)return u.flags&256?(u.flags&=-257,j=Yv(Error(s(422))),Hp(c,u,D,j)):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(P=j.fallback,k=u.mode,j=ng({mode:"visible",children:j.children},k,0,null),P=Pc(P,k,D,null),P.flags|=2,j.return=u,P.return=u,j.sibling=P,u.child=j,(u.mode&1)!==0&&Yd(u,c.child,null,D),u.child.memoizedState=eb(D),u.memoizedState=Zv,P);if((u.mode&1)===0)return Hp(c,u,D,null);if(k.data==="$!"){if(j=k.nextSibling&&k.nextSibling.dataset,j)var Q=j.dgst;return j=Q,P=Error(s(419)),j=Yv(P,j,void 0),Hp(c,u,D,j)}if(Q=(D&c.childLanes)!==0,za||Q){if(j=Ds,j!==null){switch(D&-D){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(j.suspendedLanes|D))!==0?0:k,k!==0&&k!==P.retryLane&&(P.retryLane=k,xo(c,k),ui(j,c,k,-1))}return xb(),j=Yv(Error(s(421))),Hp(c,u,D,j)}return k.data==="$?"?(u.flags|=128,u.child=c.child,u=mB.bind(null,c),k._reactRetry=u,null):(c=P.treeContext,sn=ll(k.nextSibling),rn=u,zr=!0,oi=null,c!==null&&(Sn[Cn++]=po,Sn[Cn++]=go,Sn[Cn++]=vc,po=c.id,go=c.overflow,vc=u),u=tb(u,j.children),u.flags|=4096,u)}function o_(c,u,x){c.lanes|=u;var j=c.alternate;j!==null&&(j.lanes|=u),Ov(c.return,u,x)}function rb(c,u,x,j,k){var P=c.memoizedState;P===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:j,tail:x,tailMode:k}:(P.isBackwards=u,P.rendering=null,P.renderingStartTime=0,P.last=j,P.tail=x,P.tailMode=k)}function l_(c,u,x){var j=u.pendingProps,k=j.revealOrder,P=j.tail;if(ka(c,u,j.children,x),j=Vr.current,(j&2)!==0)j=j&1|2,u.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&o_(c,x,u);else if(c.tag===19)o_(c,x,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}j&=1}if(kr(Vr,j),(u.mode&1)===0)u.memoizedState=null;else switch(k){case"forwards":for(x=u.child,k=null;x!==null;)c=x.alternate,c!==null&&zp(c)===null&&(k=x),x=x.sibling;x=k,x===null?(k=u.child,u.child=null):(k=x.sibling,x.sibling=null),rb(u,!1,k,x,P);break;case"backwards":for(x=null,k=u.child,u.child=null;k!==null;){if(c=k.alternate,c!==null&&zp(c)===null){u.child=k;break}c=k.sibling,k.sibling=x,x=k,k=c}rb(u,!0,x,null,P);break;case"together":rb(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Kp(c,u){(u.mode&1)===0&&c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2)}function vo(c,u,x){if(c!==null&&(u.dependencies=c.dependencies),Sc|=u.lanes,(x&u.childLanes)===0)return null;if(c!==null&&u.child!==c.child)throw Error(s(153));if(u.child!==null){for(c=u.child,x=vl(c,c.pendingProps),u.child=x,x.return=u;c.sibling!==null;)c=c.sibling,x=x.sibling=vl(c,c.pendingProps),x.return=u;x.sibling=null}return u.child}function eB(c,u,x){switch(u.tag){case 3:a_(u),Gd();break;case 5:jk(u);break;case 1:$a(u.type)&&Ap(u);break;case 4:Iv(u,u.stateNode.containerInfo);break;case 10:var j=u.type._context,k=u.memoizedProps.value;kr(Ip,j._currentValue),j._currentValue=k;break;case 13:if(j=u.memoizedState,j!==null)return j.dehydrated!==null?(kr(Vr,Vr.current&1),u.flags|=128,null):(x&u.child.childLanes)!==0?i_(c,u,x):(kr(Vr,Vr.current&1),c=vo(c,u,x),c!==null?c.sibling:null);kr(Vr,Vr.current&1);break;case 19:if(j=(x&u.childLanes)!==0,(c.flags&128)!==0){if(j)return l_(c,u,x);u.flags|=128}if(k=u.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),kr(Vr,Vr.current),j)break;return null;case 22:case 23:return u.lanes=0,t_(c,u,x)}return vo(c,u,x)}var c_,sb,d_,u_;c_=function(c,u){for(var x=u.child;x!==null;){if(x.tag===5||x.tag===6)c.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},sb=function(){},d_=function(c,u,x,j){var k=c.memoizedProps;if(k!==j){c=u.stateNode,jc(Di.current);var P=null;switch(x){case"input":k=Te(c,k),j=Te(c,j),P=[];break;case"select":k=Y({},k,{value:void 0}),j=Y({},j,{value:void 0}),P=[];break;case"textarea":k=Be(c,k),j=Be(c,j),P=[];break;default:typeof k.onClick!="function"&&typeof j.onClick=="function"&&(c.onclick=kp)}Ca(x,j);var D;x=null;for(pe in k)if(!j.hasOwnProperty(pe)&&k.hasOwnProperty(pe)&&k[pe]!=null)if(pe==="style"){var Q=k[pe];for(D in Q)Q.hasOwnProperty(D)&&(x||(x={}),x[D]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(n.hasOwnProperty(pe)?P||(P=[]):(P=P||[]).push(pe,null));for(pe in j){var re=j[pe];if(Q=k!=null?k[pe]:void 0,j.hasOwnProperty(pe)&&re!==Q&&(re!=null||Q!=null))if(pe==="style")if(Q){for(D in Q)!Q.hasOwnProperty(D)||re&&re.hasOwnProperty(D)||(x||(x={}),x[D]="");for(D in re)re.hasOwnProperty(D)&&Q[D]!==re[D]&&(x||(x={}),x[D]=re[D])}else x||(P||(P=[]),P.push(pe,x)),x=re;else pe==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,Q=Q?Q.__html:void 0,re!=null&&Q!==re&&(P=P||[]).push(pe,re)):pe==="children"?typeof re!="string"&&typeof re!="number"||(P=P||[]).push(pe,""+re):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(n.hasOwnProperty(pe)?(re!=null&&pe==="onScroll"&&Or("scroll",c),P||Q===re||(P=[])):(P=P||[]).push(pe,re))}x&&(P=P||[]).push("style",x);var pe=P;(u.updateQueue=pe)&&(u.flags|=4)}},u_=function(c,u,x,j){x!==j&&(u.flags|=4)};function eh(c,u){if(!zr)switch(c.tailMode){case"hidden":u=c.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:j.sibling=null}}function ca(c){var u=c.alternate!==null&&c.alternate.child===c.child,x=0,j=0;if(u)for(var k=c.child;k!==null;)x|=k.lanes|k.childLanes,j|=k.subtreeFlags&14680064,j|=k.flags&14680064,k.return=c,k=k.sibling;else for(k=c.child;k!==null;)x|=k.lanes|k.childLanes,j|=k.subtreeFlags,j|=k.flags,k.return=c,k=k.sibling;return c.subtreeFlags|=j,c.childLanes=x,u}function tB(c,u,x){var j=u.pendingProps;switch(Cv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ca(u),null;case 1:return $a(u.type)&&Pp(),ca(u),null;case 3:return j=u.stateNode,Qd(),Mr(La),Mr(oa),$v(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(c===null||c.child===null)&&(Mp(u)?u.flags|=4:c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,oi!==null&&(fb(oi),oi=null))),sb(c,u),ca(u),null;case 5:Dv(u);var k=jc(Ym.current);if(x=u.type,c!==null&&u.stateNode!=null)d_(c,u,x,j,k),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!j){if(u.stateNode===null)throw Error(s(166));return ca(u),null}if(c=jc(Di.current),Mp(u)){j=u.stateNode,x=u.type;var P=u.memoizedProps;switch(j[Ii]=u,j[Vm]=P,c=(u.mode&1)!==0,x){case"dialog":Or("cancel",j),Or("close",j);break;case"iframe":case"object":case"embed":Or("load",j);break;case"video":case"audio":for(k=0;k<Um.length;k++)Or(Um[k],j);break;case"source":Or("error",j);break;case"img":case"image":case"link":Or("error",j),Or("load",j);break;case"details":Or("toggle",j);break;case"input":Ue(j,P),Or("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!P.multiple},Or("invalid",j);break;case"textarea":kt(j,P),Or("invalid",j)}Ca(x,P),k=null;for(var D in P)if(P.hasOwnProperty(D)){var Q=P[D];D==="children"?typeof Q=="string"?j.textContent!==Q&&(P.suppressHydrationWarning!==!0&&Cp(j.textContent,Q,c),k=["children",Q]):typeof Q=="number"&&j.textContent!==""+Q&&(P.suppressHydrationWarning!==!0&&Cp(j.textContent,Q,c),k=["children",""+Q]):n.hasOwnProperty(D)&&Q!=null&&D==="onScroll"&&Or("scroll",j)}switch(x){case"input":Ee(j),Ct(j,P,!0);break;case"textarea":Ee(j),_t(j);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(j.onclick=kp)}j=k,u.updateQueue=j,j!==null&&(u.flags|=4)}else{D=k.nodeType===9?k:k.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=wr(x)),c==="http://www.w3.org/1999/xhtml"?x==="script"?(c=D.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof j.is=="string"?c=D.createElement(x,{is:j.is}):(c=D.createElement(x),x==="select"&&(D=c,j.multiple?D.multiple=!0:j.size&&(D.size=j.size))):c=D.createElementNS(c,x),c[Ii]=u,c[Vm]=j,c_(c,u,!1,!1),u.stateNode=c;e:{switch(D=Dt(x,j),x){case"dialog":Or("cancel",c),Or("close",c),k=j;break;case"iframe":case"object":case"embed":Or("load",c),k=j;break;case"video":case"audio":for(k=0;k<Um.length;k++)Or(Um[k],c);k=j;break;case"source":Or("error",c),k=j;break;case"img":case"image":case"link":Or("error",c),Or("load",c),k=j;break;case"details":Or("toggle",c),k=j;break;case"input":Ue(c,j),k=Te(c,j),Or("invalid",c);break;case"option":k=j;break;case"select":c._wrapperState={wasMultiple:!!j.multiple},k=Y({},j,{value:void 0}),Or("invalid",c);break;case"textarea":kt(c,j),k=Be(c,j),Or("invalid",c);break;default:k=j}Ca(x,k),Q=k;for(P in Q)if(Q.hasOwnProperty(P)){var re=Q[P];P==="style"?us(c,re):P==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&bs(c,re)):P==="children"?typeof re=="string"?(x!=="textarea"||re!=="")&&Tr(c,re):typeof re=="number"&&Tr(c,""+re):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(n.hasOwnProperty(P)?re!=null&&P==="onScroll"&&Or("scroll",c):re!=null&&S(c,P,re,D))}switch(x){case"input":Ee(c),Ct(c,j,!1);break;case"textarea":Ee(c),_t(c);break;case"option":j.value!=null&&c.setAttribute("value",""+De(j.value));break;case"select":c.multiple=!!j.multiple,P=j.value,P!=null?ue(c,!!j.multiple,P,!1):j.defaultValue!=null&&ue(c,!!j.multiple,j.defaultValue,!0);break;default:typeof k.onClick=="function"&&(c.onclick=kp)}switch(x){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ca(u),null;case 6:if(c&&u.stateNode!=null)u_(c,u,c.memoizedProps,j);else{if(typeof j!="string"&&u.stateNode===null)throw Error(s(166));if(x=jc(Ym.current),jc(Di.current),Mp(u)){if(j=u.stateNode,x=u.memoizedProps,j[Ii]=u,(P=j.nodeValue!==x)&&(c=rn,c!==null))switch(c.tag){case 3:Cp(j.nodeValue,x,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Cp(j.nodeValue,x,(c.mode&1)!==0)}P&&(u.flags|=4)}else j=(x.nodeType===9?x:x.ownerDocument).createTextNode(j),j[Ii]=u,u.stateNode=j}return ca(u),null;case 13:if(Mr(Vr),j=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(zr&&sn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)fk(),Gd(),u.flags|=98560,P=!1;else if(P=Mp(u),j!==null&&j.dehydrated!==null){if(c===null){if(!P)throw Error(s(318));if(P=u.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(s(317));P[Ii]=u}else Gd(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ca(u),P=!1}else oi!==null&&(fb(oi),oi=null),P=!0;if(!P)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=x,u):(j=j!==null,j!==(c!==null&&c.memoizedState!==null)&&j&&(u.child.flags|=8192,(u.mode&1)!==0&&(c===null||(Vr.current&1)!==0?Ss===0&&(Ss=3):xb())),u.updateQueue!==null&&(u.flags|=4),ca(u),null);case 4:return Qd(),sb(c,u),c===null&&Bm(u.stateNode.containerInfo),ca(u),null;case 10:return Tv(u.type._context),ca(u),null;case 17:return $a(u.type)&&Pp(),ca(u),null;case 19:if(Mr(Vr),P=u.memoizedState,P===null)return ca(u),null;if(j=(u.flags&128)!==0,D=P.rendering,D===null)if(j)eh(P,!1);else{if(Ss!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(D=zp(c),D!==null){for(u.flags|=128,eh(P,!1),j=D.updateQueue,j!==null&&(u.updateQueue=j,u.flags|=4),u.subtreeFlags=0,j=x,x=u.child;x!==null;)P=x,c=j,P.flags&=14680066,D=P.alternate,D===null?(P.childLanes=0,P.lanes=c,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=D.childLanes,P.lanes=D.lanes,P.child=D.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=D.memoizedProps,P.memoizedState=D.memoizedState,P.updateQueue=D.updateQueue,P.type=D.type,c=D.dependencies,P.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),x=x.sibling;return kr(Vr,Vr.current&1|2),u.child}c=c.sibling}P.tail!==null&&ir()>ru&&(u.flags|=128,j=!0,eh(P,!1),u.lanes=4194304)}else{if(!j)if(c=zp(D),c!==null){if(u.flags|=128,j=!0,x=c.updateQueue,x!==null&&(u.updateQueue=x,u.flags|=4),eh(P,!0),P.tail===null&&P.tailMode==="hidden"&&!D.alternate&&!zr)return ca(u),null}else 2*ir()-P.renderingStartTime>ru&&x!==1073741824&&(u.flags|=128,j=!0,eh(P,!1),u.lanes=4194304);P.isBackwards?(D.sibling=u.child,u.child=D):(x=P.last,x!==null?x.sibling=D:u.child=D,P.last=D)}return P.tail!==null?(u=P.tail,P.rendering=u,P.tail=u.sibling,P.renderingStartTime=ir(),u.sibling=null,x=Vr.current,kr(Vr,j?x&1|2:x&1),u):(ca(u),null);case 22:case 23:return gb(),j=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==j&&(u.flags|=8192),j&&(u.mode&1)!==0?(an&1073741824)!==0&&(ca(u),u.subtreeFlags&6&&(u.flags|=8192)):ca(u),null;case 24:return null;case 25:return null}throw Error(s(156,u.tag))}function rB(c,u){switch(Cv(u),u.tag){case 1:return $a(u.type)&&Pp(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return Qd(),Mr(La),Mr(oa),$v(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 5:return Dv(u),null;case 13:if(Mr(Vr),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(s(340));Gd()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return Mr(Vr),null;case 4:return Qd(),null;case 10:return Tv(u.type._context),null;case 22:case 23:return gb(),null;case 24:return null;default:return null}}var Gp=!1,da=!1,sB=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function eu(c,u){var x=c.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(j){Jr(c,u,j)}else x.current=null}function ab(c,u,x){try{x()}catch(j){Jr(c,u,j)}}var m_=!1;function aB(c,u){if(gv=gc,c=V4(),lv(c)){if("selectionStart"in c)var x={start:c.selectionStart,end:c.selectionEnd};else e:{x=(x=c.ownerDocument)&&x.defaultView||window;var j=x.getSelection&&x.getSelection();if(j&&j.rangeCount!==0){x=j.anchorNode;var k=j.anchorOffset,P=j.focusNode;j=j.focusOffset;try{x.nodeType,P.nodeType}catch{x=null;break e}var D=0,Q=-1,re=-1,pe=0,Oe=0,Me=c,Ae=null;t:for(;;){for(var qe;Me!==x||k!==0&&Me.nodeType!==3||(Q=D+k),Me!==P||j!==0&&Me.nodeType!==3||(re=D+j),Me.nodeType===3&&(D+=Me.nodeValue.length),(qe=Me.firstChild)!==null;)Ae=Me,Me=qe;for(;;){if(Me===c)break t;if(Ae===x&&++pe===k&&(Q=D),Ae===P&&++Oe===j&&(re=D),(qe=Me.nextSibling)!==null)break;Me=Ae,Ae=Me.parentNode}Me=qe}x=Q===-1||re===-1?null:{start:Q,end:re}}else x=null}x=x||{start:0,end:0}}else x=null;for(xv={focusedElem:c,selectionRange:x},gc=!1,Ye=u;Ye!==null;)if(u=Ye,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,Ye=c;else for(;Ye!==null;){u=Ye;try{var Xe=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Xe!==null){var Qe=Xe.memoizedProps,ss=Xe.memoizedState,le=u.stateNode,ae=le.getSnapshotBeforeUpdate(u.elementType===u.type?Qe:li(u.type,Qe),ss);le.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var de=u.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Le){Jr(u,u.return,Le)}if(c=u.sibling,c!==null){c.return=u.return,Ye=c;break}Ye=u.return}return Xe=m_,m_=!1,Xe}function th(c,u,x){var j=u.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var k=j=j.next;do{if((k.tag&c)===c){var P=k.destroy;k.destroy=void 0,P!==void 0&&ab(u,x,P)}k=k.next}while(k!==j)}}function Yp(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var x=u=u.next;do{if((x.tag&c)===c){var j=x.create;x.destroy=j()}x=x.next}while(x!==u)}}function nb(c){var u=c.ref;if(u!==null){var x=c.stateNode;switch(c.tag){case 5:c=x;break;default:c=x}typeof u=="function"?u(c):u.current=c}}function h_(c){var u=c.alternate;u!==null&&(c.alternate=null,h_(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&(delete u[Ii],delete u[Vm],delete u[wv],delete u[F9],delete u[U9])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function f_(c){return c.tag===5||c.tag===3||c.tag===4}function p_(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||f_(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function ib(c,u,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,u?x.nodeType===8?x.parentNode.insertBefore(c,u):x.insertBefore(c,u):(x.nodeType===8?(u=x.parentNode,u.insertBefore(c,x)):(u=x,u.appendChild(c)),x=x._reactRootContainer,x!=null||u.onclick!==null||(u.onclick=kp));else if(j!==4&&(c=c.child,c!==null))for(ib(c,u,x),c=c.sibling;c!==null;)ib(c,u,x),c=c.sibling}function ob(c,u,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,u?x.insertBefore(c,u):x.appendChild(c);else if(j!==4&&(c=c.child,c!==null))for(ob(c,u,x),c=c.sibling;c!==null;)ob(c,u,x),c=c.sibling}var Ks=null,ci=!1;function fl(c,u,x){for(x=x.child;x!==null;)g_(c,u,x),x=x.sibling}function g_(c,u,x){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(mr,x)}catch{}switch(x.tag){case 5:da||eu(x,u);case 6:var j=Ks,k=ci;Ks=null,fl(c,u,x),Ks=j,ci=k,Ks!==null&&(ci?(c=Ks,x=x.stateNode,c.nodeType===8?c.parentNode.removeChild(x):c.removeChild(x)):Ks.removeChild(x.stateNode));break;case 18:Ks!==null&&(ci?(c=Ks,x=x.stateNode,c.nodeType===8?bv(c.parentNode,x):c.nodeType===1&&bv(c,x),il(c)):bv(Ks,x.stateNode));break;case 4:j=Ks,k=ci,Ks=x.stateNode.containerInfo,ci=!0,fl(c,u,x),Ks=j,ci=k;break;case 0:case 11:case 14:case 15:if(!da&&(j=x.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){k=j=j.next;do{var P=k,D=P.destroy;P=P.tag,D!==void 0&&((P&2)!==0||(P&4)!==0)&&ab(x,u,D),k=k.next}while(k!==j)}fl(c,u,x);break;case 1:if(!da&&(eu(x,u),j=x.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=x.memoizedProps,j.state=x.memoizedState,j.componentWillUnmount()}catch(Q){Jr(x,u,Q)}fl(c,u,x);break;case 21:fl(c,u,x);break;case 22:x.mode&1?(da=(j=da)||x.memoizedState!==null,fl(c,u,x),da=j):fl(c,u,x);break;default:fl(c,u,x)}}function x_(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var x=c.stateNode;x===null&&(x=c.stateNode=new sB),u.forEach(function(j){var k=hB.bind(null,c,j);x.has(j)||(x.add(j),j.then(k,k))})}}function di(c,u){var x=u.deletions;if(x!==null)for(var j=0;j<x.length;j++){var k=x[j];try{var P=c,D=u,Q=D;e:for(;Q!==null;){switch(Q.tag){case 5:Ks=Q.stateNode,ci=!1;break e;case 3:Ks=Q.stateNode.containerInfo,ci=!0;break e;case 4:Ks=Q.stateNode.containerInfo,ci=!0;break e}Q=Q.return}if(Ks===null)throw Error(s(160));g_(P,D,k),Ks=null,ci=!1;var re=k.alternate;re!==null&&(re.return=null),k.return=null}catch(pe){Jr(k,u,pe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)y_(u,c),u=u.sibling}function y_(c,u){var x=c.alternate,j=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(di(u,c),$i(c),j&4){try{th(3,c,c.return),Yp(3,c)}catch(Qe){Jr(c,c.return,Qe)}try{th(5,c,c.return)}catch(Qe){Jr(c,c.return,Qe)}}break;case 1:di(u,c),$i(c),j&512&&x!==null&&eu(x,x.return);break;case 5:if(di(u,c),$i(c),j&512&&x!==null&&eu(x,x.return),c.flags&32){var k=c.stateNode;try{Tr(k,"")}catch(Qe){Jr(c,c.return,Qe)}}if(j&4&&(k=c.stateNode,k!=null)){var P=c.memoizedProps,D=x!==null?x.memoizedProps:P,Q=c.type,re=c.updateQueue;if(c.updateQueue=null,re!==null)try{Q==="input"&&P.type==="radio"&&P.name!=null&&ie(k,P),Dt(Q,D);var pe=Dt(Q,P);for(D=0;D<re.length;D+=2){var Oe=re[D],Me=re[D+1];Oe==="style"?us(k,Me):Oe==="dangerouslySetInnerHTML"?bs(k,Me):Oe==="children"?Tr(k,Me):S(k,Oe,Me,pe)}switch(Q){case"input":Ge(k,P);break;case"textarea":Jt(k,P);break;case"select":var Ae=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!P.multiple;var qe=P.value;qe!=null?ue(k,!!P.multiple,qe,!1):Ae!==!!P.multiple&&(P.defaultValue!=null?ue(k,!!P.multiple,P.defaultValue,!0):ue(k,!!P.multiple,P.multiple?[]:"",!1))}k[Vm]=P}catch(Qe){Jr(c,c.return,Qe)}}break;case 6:if(di(u,c),$i(c),j&4){if(c.stateNode===null)throw Error(s(162));k=c.stateNode,P=c.memoizedProps;try{k.nodeValue=P}catch(Qe){Jr(c,c.return,Qe)}}break;case 3:if(di(u,c),$i(c),j&4&&x!==null&&x.memoizedState.isDehydrated)try{il(u.containerInfo)}catch(Qe){Jr(c,c.return,Qe)}break;case 4:di(u,c),$i(c);break;case 13:di(u,c),$i(c),k=c.child,k.flags&8192&&(P=k.memoizedState!==null,k.stateNode.isHidden=P,!P||k.alternate!==null&&k.alternate.memoizedState!==null||(db=ir())),j&4&&x_(c);break;case 22:if(Oe=x!==null&&x.memoizedState!==null,c.mode&1?(da=(pe=da)||Oe,di(u,c),da=pe):di(u,c),$i(c),j&8192){if(pe=c.memoizedState!==null,(c.stateNode.isHidden=pe)&&!Oe&&(c.mode&1)!==0)for(Ye=c,Oe=c.child;Oe!==null;){for(Me=Ye=Oe;Ye!==null;){switch(Ae=Ye,qe=Ae.child,Ae.tag){case 0:case 11:case 14:case 15:th(4,Ae,Ae.return);break;case 1:eu(Ae,Ae.return);var Xe=Ae.stateNode;if(typeof Xe.componentWillUnmount=="function"){j=Ae,x=Ae.return;try{u=j,Xe.props=u.memoizedProps,Xe.state=u.memoizedState,Xe.componentWillUnmount()}catch(Qe){Jr(j,x,Qe)}}break;case 5:eu(Ae,Ae.return);break;case 22:if(Ae.memoizedState!==null){w_(Me);continue}}qe!==null?(qe.return=Ae,Ye=qe):w_(Me)}Oe=Oe.sibling}e:for(Oe=null,Me=c;;){if(Me.tag===5){if(Oe===null){Oe=Me;try{k=Me.stateNode,pe?(P=k.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(Q=Me.stateNode,re=Me.memoizedProps.style,D=re!=null&&re.hasOwnProperty("display")?re.display:null,Q.style.display=rs("display",D))}catch(Qe){Jr(c,c.return,Qe)}}}else if(Me.tag===6){if(Oe===null)try{Me.stateNode.nodeValue=pe?"":Me.memoizedProps}catch(Qe){Jr(c,c.return,Qe)}}else if((Me.tag!==22&&Me.tag!==23||Me.memoizedState===null||Me===c)&&Me.child!==null){Me.child.return=Me,Me=Me.child;continue}if(Me===c)break e;for(;Me.sibling===null;){if(Me.return===null||Me.return===c)break e;Oe===Me&&(Oe=null),Me=Me.return}Oe===Me&&(Oe=null),Me.sibling.return=Me.return,Me=Me.sibling}}break;case 19:di(u,c),$i(c),j&4&&x_(c);break;case 21:break;default:di(u,c),$i(c)}}function $i(c){var u=c.flags;if(u&2){try{e:{for(var x=c.return;x!==null;){if(f_(x)){var j=x;break e}x=x.return}throw Error(s(160))}switch(j.tag){case 5:var k=j.stateNode;j.flags&32&&(Tr(k,""),j.flags&=-33);var P=p_(c);ob(c,P,k);break;case 3:case 4:var D=j.stateNode.containerInfo,Q=p_(c);ib(c,Q,D);break;default:throw Error(s(161))}}catch(re){Jr(c,c.return,re)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function nB(c,u,x){Ye=c,v_(c)}function v_(c,u,x){for(var j=(c.mode&1)!==0;Ye!==null;){var k=Ye,P=k.child;if(k.tag===22&&j){var D=k.memoizedState!==null||Gp;if(!D){var Q=k.alternate,re=Q!==null&&Q.memoizedState!==null||da;Q=Gp;var pe=da;if(Gp=D,(da=re)&&!pe)for(Ye=k;Ye!==null;)D=Ye,re=D.child,D.tag===22&&D.memoizedState!==null?j_(k):re!==null?(re.return=D,Ye=re):j_(k);for(;P!==null;)Ye=P,v_(P),P=P.sibling;Ye=k,Gp=Q,da=pe}b_(c)}else(k.subtreeFlags&8772)!==0&&P!==null?(P.return=k,Ye=P):b_(c)}}function b_(c){for(;Ye!==null;){var u=Ye;if((u.flags&8772)!==0){var x=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:da||Yp(5,u);break;case 1:var j=u.stateNode;if(u.flags&4&&!da)if(x===null)j.componentDidMount();else{var k=u.elementType===u.type?x.memoizedProps:li(u.type,x.memoizedProps);j.componentDidUpdate(k,x.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var P=u.updateQueue;P!==null&&wk(u,P,j);break;case 3:var D=u.updateQueue;if(D!==null){if(x=null,u.child!==null)switch(u.child.tag){case 5:x=u.child.stateNode;break;case 1:x=u.child.stateNode}wk(u,D,x)}break;case 5:var Q=u.stateNode;if(x===null&&u.flags&4){x=Q;var re=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&x.focus();break;case"img":re.src&&(x.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var pe=u.alternate;if(pe!==null){var Oe=pe.memoizedState;if(Oe!==null){var Me=Oe.dehydrated;Me!==null&&il(Me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}da||u.flags&512&&nb(u)}catch(Ae){Jr(u,u.return,Ae)}}if(u===c){Ye=null;break}if(x=u.sibling,x!==null){x.return=u.return,Ye=x;break}Ye=u.return}}function w_(c){for(;Ye!==null;){var u=Ye;if(u===c){Ye=null;break}var x=u.sibling;if(x!==null){x.return=u.return,Ye=x;break}Ye=u.return}}function j_(c){for(;Ye!==null;){var u=Ye;try{switch(u.tag){case 0:case 11:case 15:var x=u.return;try{Yp(4,u)}catch(re){Jr(u,x,re)}break;case 1:var j=u.stateNode;if(typeof j.componentDidMount=="function"){var k=u.return;try{j.componentDidMount()}catch(re){Jr(u,k,re)}}var P=u.return;try{nb(u)}catch(re){Jr(u,P,re)}break;case 5:var D=u.return;try{nb(u)}catch(re){Jr(u,D,re)}}}catch(re){Jr(u,u.return,re)}if(u===c){Ye=null;break}var Q=u.sibling;if(Q!==null){Q.return=u.return,Ye=Q;break}Ye=u.return}}var iB=Math.ceil,Jp=_.ReactCurrentDispatcher,lb=_.ReactCurrentOwner,Pn=_.ReactCurrentBatchConfig,sr=0,Ds=null,ms=null,Gs=0,an=0,tu=cl(0),Ss=0,rh=null,Sc=0,Xp=0,cb=0,sh=null,Fa=null,db=0,ru=1/0,bo=null,Qp=!1,ub=null,pl=null,Zp=!1,gl=null,eg=0,ah=0,mb=null,tg=-1,rg=0;function _a(){return(sr&6)!==0?ir():tg!==-1?tg:tg=ir()}function xl(c){return(c.mode&1)===0?1:(sr&2)!==0&&Gs!==0?Gs&-Gs:W9.transition!==null?(rg===0&&(rg=Nm()),rg):(c=lr,c!==0||(c=window.event,c=c===void 0?16:Dd(c.type)),c)}function ui(c,u,x,j){if(50<ah)throw ah=0,mb=null,Error(s(185));tl(c,x,j),((sr&2)===0||c!==Ds)&&(c===Ds&&((sr&2)===0&&(Xp|=x),Ss===4&&yl(c,Gs)),Ua(c,j),x===1&&sr===0&&(u.mode&1)===0&&(ru=ir()+500,Ep&&ul()))}function Ua(c,u){var x=c.callbackNode;dp(c,u);var j=ti(c,c===Ds?Gs:0);if(j===0)x!==null&&Nn(x),c.callbackNode=null,c.callbackPriority=0;else if(u=j&-j,c.callbackPriority!==u){if(x!=null&&Nn(x),u===1)c.tag===0?B9(S_.bind(null,c)):ck(S_.bind(null,c)),$9(function(){(sr&6)===0&&ul()}),x=null;else{switch(Sm(j)){case 1:x=ei;break;case 4:x=we;break;case 16:x=ze;break;case 536870912:x=ot;break;default:x=ze}x=O_(x,N_.bind(null,c))}c.callbackPriority=u,c.callbackNode=x}}function N_(c,u){if(tg=-1,rg=0,(sr&6)!==0)throw Error(s(327));var x=c.callbackNode;if(su()&&c.callbackNode!==x)return null;var j=ti(c,c===Ds?Gs:0);if(j===0)return null;if((j&30)!==0||(j&c.expiredLanes)!==0||u)u=sg(c,j);else{u=j;var k=sr;sr|=2;var P=k_();(Ds!==c||Gs!==u)&&(bo=null,ru=ir()+500,kc(c,u));do try{cB();break}catch(Q){C_(c,Q)}while(!0);Ev(),Jp.current=P,sr=k,ms!==null?u=0:(Ds=null,Gs=0,u=Ss)}if(u!==0){if(u===2&&(k=Ed(c),k!==0&&(j=k,u=hb(c,k))),u===1)throw x=rh,kc(c,0),yl(c,j),Ua(c,ir()),x;if(u===6)yl(c,j);else{if(k=c.current.alternate,(j&30)===0&&!oB(k)&&(u=sg(c,j),u===2&&(P=Ed(c),P!==0&&(j=P,u=hb(c,P))),u===1))throw x=rh,kc(c,0),yl(c,j),Ua(c,ir()),x;switch(c.finishedWork=k,c.finishedLanes=j,u){case 0:case 1:throw Error(s(345));case 2:_c(c,Fa,bo);break;case 3:if(yl(c,j),(j&130023424)===j&&(u=db+500-ir(),10<u)){if(ti(c,0)!==0)break;if(k=c.suspendedLanes,(k&j)!==j){_a(),c.pingedLanes|=c.suspendedLanes&k;break}c.timeoutHandle=vv(_c.bind(null,c,Fa,bo),u);break}_c(c,Fa,bo);break;case 4:if(yl(c,j),(j&4194240)===j)break;for(u=c.eventTimes,k=-1;0<j;){var D=31-J(j);P=1<<D,D=u[D],D>k&&(k=D),j&=~P}if(j=k,j=ir()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*iB(j/1960))-j,10<j){c.timeoutHandle=vv(_c.bind(null,c,Fa,bo),j);break}_c(c,Fa,bo);break;case 5:_c(c,Fa,bo);break;default:throw Error(s(329))}}}return Ua(c,ir()),c.callbackNode===x?N_.bind(null,c):null}function hb(c,u){var x=sh;return c.current.memoizedState.isDehydrated&&(kc(c,u).flags|=256),c=sg(c,u),c!==2&&(u=Fa,Fa=x,u!==null&&fb(u)),c}function fb(c){Fa===null?Fa=c:Fa.push.apply(Fa,c)}function oB(c){for(var u=c;;){if(u.flags&16384){var x=u.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var j=0;j<x.length;j++){var k=x[j],P=k.getSnapshot;k=k.value;try{if(!ii(P(),k))return!1}catch{return!1}}}if(x=u.child,u.subtreeFlags&16384&&x!==null)x.return=u,u=x;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function yl(c,u){for(u&=~cb,u&=~Xp,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var x=31-J(u),j=1<<x;c[x]=-1,u&=~j}}function S_(c){if((sr&6)!==0)throw Error(s(327));su();var u=ti(c,0);if((u&1)===0)return Ua(c,ir()),null;var x=sg(c,u);if(c.tag!==0&&x===2){var j=Ed(c);j!==0&&(u=j,x=hb(c,j))}if(x===1)throw x=rh,kc(c,0),yl(c,u),Ua(c,ir()),x;if(x===6)throw Error(s(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,_c(c,Fa,bo),Ua(c,ir()),null}function pb(c,u){var x=sr;sr|=1;try{return c(u)}finally{sr=x,sr===0&&(ru=ir()+500,Ep&&ul())}}function Cc(c){gl!==null&&gl.tag===0&&(sr&6)===0&&su();var u=sr;sr|=1;var x=Pn.transition,j=lr;try{if(Pn.transition=null,lr=1,c)return c()}finally{lr=j,Pn.transition=x,sr=u,(sr&6)===0&&ul()}}function gb(){an=tu.current,Mr(tu)}function kc(c,u){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;if(x!==-1&&(c.timeoutHandle=-1,L9(x)),ms!==null)for(x=ms.return;x!==null;){var j=x;switch(Cv(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&Pp();break;case 3:Qd(),Mr(La),Mr(oa),$v();break;case 5:Dv(j);break;case 4:Qd();break;case 13:Mr(Vr);break;case 19:Mr(Vr);break;case 10:Tv(j.type._context);break;case 22:case 23:gb()}x=x.return}if(Ds=c,ms=c=vl(c.current,null),Gs=an=u,Ss=0,rh=null,cb=Xp=Sc=0,Fa=sh=null,wc!==null){for(u=0;u<wc.length;u++)if(x=wc[u],j=x.interleaved,j!==null){x.interleaved=null;var k=j.next,P=x.pending;if(P!==null){var D=P.next;P.next=k,j.next=D}x.pending=j}wc=null}return c}function C_(c,u){do{var x=ms;try{if(Ev(),Fp.current=Vp,Up){for(var j=qr.memoizedState;j!==null;){var k=j.queue;k!==null&&(k.pending=null),j=j.next}Up=!1}if(Nc=0,Is=Ns=qr=null,Jm=!1,Xm=0,lb.current=null,x===null||x.return===null){Ss=1,rh=u,ms=null;break}e:{var P=c,D=x.return,Q=x,re=u;if(u=Gs,Q.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var pe=re,Oe=Q,Me=Oe.tag;if((Oe.mode&1)===0&&(Me===0||Me===11||Me===15)){var Ae=Oe.alternate;Ae?(Oe.updateQueue=Ae.updateQueue,Oe.memoizedState=Ae.memoizedState,Oe.lanes=Ae.lanes):(Oe.updateQueue=null,Oe.memoizedState=null)}var qe=Jk(D);if(qe!==null){qe.flags&=-257,Xk(qe,D,Q,P,u),qe.mode&1&&Yk(P,pe,u),u=qe,re=pe;var Xe=u.updateQueue;if(Xe===null){var Qe=new Set;Qe.add(re),u.updateQueue=Qe}else Xe.add(re);break e}else{if((u&1)===0){Yk(P,pe,u),xb();break e}re=Error(s(426))}}else if(zr&&Q.mode&1){var ss=Jk(D);if(ss!==null){(ss.flags&65536)===0&&(ss.flags|=256),Xk(ss,D,Q,P,u),Pv(Zd(re,Q));break e}}P=re=Zd(re,Q),Ss!==4&&(Ss=2),sh===null?sh=[P]:sh.push(P),P=D;do{switch(P.tag){case 3:P.flags|=65536,u&=-u,P.lanes|=u;var le=Kk(P,re,u);bk(P,le);break e;case 1:Q=re;var ae=P.type,de=P.stateNode;if((P.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(pl===null||!pl.has(de)))){P.flags|=65536,u&=-u,P.lanes|=u;var Le=Gk(P,Q,u);bk(P,Le);break e}}P=P.return}while(P!==null)}P_(x)}catch(rt){u=rt,ms===x&&x!==null&&(ms=x=x.return);continue}break}while(!0)}function k_(){var c=Jp.current;return Jp.current=Vp,c===null?Vp:c}function xb(){(Ss===0||Ss===3||Ss===2)&&(Ss=4),Ds===null||(Sc&268435455)===0&&(Xp&268435455)===0||yl(Ds,Gs)}function sg(c,u){var x=sr;sr|=2;var j=k_();(Ds!==c||Gs!==u)&&(bo=null,kc(c,u));do try{lB();break}catch(k){C_(c,k)}while(!0);if(Ev(),sr=x,Jp.current=j,ms!==null)throw Error(s(261));return Ds=null,Gs=0,Ss}function lB(){for(;ms!==null;)__(ms)}function cB(){for(;ms!==null&&!Za();)__(ms)}function __(c){var u=T_(c.alternate,c,an);c.memoizedProps=c.pendingProps,u===null?P_(c):ms=u,lb.current=null}function P_(c){var u=c;do{var x=u.alternate;if(c=u.return,(u.flags&32768)===0){if(x=tB(x,u,an),x!==null){ms=x;return}}else{if(x=rB(x,u),x!==null){x.flags&=32767,ms=x;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Ss=6,ms=null;return}}if(u=u.sibling,u!==null){ms=u;return}ms=u=c}while(u!==null);Ss===0&&(Ss=5)}function _c(c,u,x){var j=lr,k=Pn.transition;try{Pn.transition=null,lr=1,dB(c,u,x,j)}finally{Pn.transition=k,lr=j}return null}function dB(c,u,x,j){do su();while(gl!==null);if((sr&6)!==0)throw Error(s(327));x=c.finishedWork;var k=c.finishedLanes;if(x===null)return null;if(c.finishedWork=null,c.finishedLanes=0,x===c.current)throw Error(s(177));c.callbackNode=null,c.callbackPriority=0;var P=x.lanes|x.childLanes;if(up(c,P),c===Ds&&(ms=Ds=null,Gs=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||Zp||(Zp=!0,O_(ze,function(){return su(),null})),P=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||P){P=Pn.transition,Pn.transition=null;var D=lr;lr=1;var Q=sr;sr|=4,lb.current=null,aB(c,x),y_(x,c),E9(xv),gc=!!gv,xv=gv=null,c.current=x,nB(x),Zo(),sr=Q,lr=D,Pn.transition=P}else c.current=x;if(Zp&&(Zp=!1,gl=c,eg=k),P=c.pendingLanes,P===0&&(pl=null),or(x.stateNode),Ua(c,ir()),u!==null)for(j=c.onRecoverableError,x=0;x<u.length;x++)k=u[x],j(k.value,{componentStack:k.stack,digest:k.digest});if(Qp)throw Qp=!1,c=ub,ub=null,c;return(eg&1)!==0&&c.tag!==0&&su(),P=c.pendingLanes,(P&1)!==0?c===mb?ah++:(ah=0,mb=c):ah=0,ul(),null}function su(){if(gl!==null){var c=Sm(eg),u=Pn.transition,x=lr;try{if(Pn.transition=null,lr=16>c?16:c,gl===null)var j=!1;else{if(c=gl,gl=null,eg=0,(sr&6)!==0)throw Error(s(331));var k=sr;for(sr|=4,Ye=c.current;Ye!==null;){var P=Ye,D=P.child;if((Ye.flags&16)!==0){var Q=P.deletions;if(Q!==null){for(var re=0;re<Q.length;re++){var pe=Q[re];for(Ye=pe;Ye!==null;){var Oe=Ye;switch(Oe.tag){case 0:case 11:case 15:th(8,Oe,P)}var Me=Oe.child;if(Me!==null)Me.return=Oe,Ye=Me;else for(;Ye!==null;){Oe=Ye;var Ae=Oe.sibling,qe=Oe.return;if(h_(Oe),Oe===pe){Ye=null;break}if(Ae!==null){Ae.return=qe,Ye=Ae;break}Ye=qe}}}var Xe=P.alternate;if(Xe!==null){var Qe=Xe.child;if(Qe!==null){Xe.child=null;do{var ss=Qe.sibling;Qe.sibling=null,Qe=ss}while(Qe!==null)}}Ye=P}}if((P.subtreeFlags&2064)!==0&&D!==null)D.return=P,Ye=D;else e:for(;Ye!==null;){if(P=Ye,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:th(9,P,P.return)}var le=P.sibling;if(le!==null){le.return=P.return,Ye=le;break e}Ye=P.return}}var ae=c.current;for(Ye=ae;Ye!==null;){D=Ye;var de=D.child;if((D.subtreeFlags&2064)!==0&&de!==null)de.return=D,Ye=de;else e:for(D=ae;Ye!==null;){if(Q=Ye,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:Yp(9,Q)}}catch(rt){Jr(Q,Q.return,rt)}if(Q===D){Ye=null;break e}var Le=Q.sibling;if(Le!==null){Le.return=Q.return,Ye=Le;break e}Ye=Q.return}}if(sr=k,ul(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(mr,c)}catch{}j=!0}return j}finally{lr=x,Pn.transition=u}}return!1}function A_(c,u,x){u=Zd(x,u),u=Kk(c,u,1),c=hl(c,u,1),u=_a(),c!==null&&(tl(c,1,u),Ua(c,u))}function Jr(c,u,x){if(c.tag===3)A_(c,c,x);else for(;u!==null;){if(u.tag===3){A_(u,c,x);break}else if(u.tag===1){var j=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(pl===null||!pl.has(j))){c=Zd(x,c),c=Gk(u,c,1),u=hl(u,c,1),c=_a(),u!==null&&(tl(u,1,c),Ua(u,c));break}}u=u.return}}function uB(c,u,x){var j=c.pingCache;j!==null&&j.delete(u),u=_a(),c.pingedLanes|=c.suspendedLanes&x,Ds===c&&(Gs&x)===x&&(Ss===4||Ss===3&&(Gs&130023424)===Gs&&500>ir()-db?kc(c,0):cb|=x),Ua(c,u)}function E_(c,u){u===0&&((c.mode&1)===0?u=1:(u=ia,ia<<=1,(ia&130023424)===0&&(ia=4194304)));var x=_a();c=xo(c,u),c!==null&&(tl(c,u,x),Ua(c,x))}function mB(c){var u=c.memoizedState,x=0;u!==null&&(x=u.retryLane),E_(c,x)}function hB(c,u){var x=0;switch(c.tag){case 13:var j=c.stateNode,k=c.memoizedState;k!==null&&(x=k.retryLane);break;case 19:j=c.stateNode;break;default:throw Error(s(314))}j!==null&&j.delete(u),E_(c,x)}var T_;T_=function(c,u,x){if(c!==null)if(c.memoizedProps!==u.pendingProps||La.current)za=!0;else{if((c.lanes&x)===0&&(u.flags&128)===0)return za=!1,eB(c,u,x);za=(c.flags&131072)!==0}else za=!1,zr&&(u.flags&1048576)!==0&&dk(u,Op,u.index);switch(u.lanes=0,u.tag){case 2:var j=u.type;Kp(c,u),c=u.pendingProps;var k=qd(u,oa.current);Xd(u,x),k=Uv(null,u,j,c,k,x);var P=Bv();return u.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,$a(j)?(P=!0,Ap(u)):P=!1,u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Rv(u),k.updater=qp,u.stateNode=k,k._reactInternals=u,Gv(u,j,c,x),u=Qv(null,u,j,!0,P,x)):(u.tag=0,zr&&P&&Sv(u),ka(null,u,k,x),u=u.child),u;case 16:j=u.elementType;e:{switch(Kp(c,u),c=u.pendingProps,k=j._init,j=k(j._payload),u.type=j,k=u.tag=pB(j),c=li(j,c),k){case 0:u=Xv(null,u,j,c,x);break e;case 1:u=s_(null,u,j,c,x);break e;case 11:u=Qk(null,u,j,c,x);break e;case 14:u=Zk(null,u,j,li(j.type,c),x);break e}throw Error(s(306,j,""))}return u;case 0:return j=u.type,k=u.pendingProps,k=u.elementType===j?k:li(j,k),Xv(c,u,j,k,x);case 1:return j=u.type,k=u.pendingProps,k=u.elementType===j?k:li(j,k),s_(c,u,j,k,x);case 3:e:{if(a_(u),c===null)throw Error(s(387));j=u.pendingProps,P=u.memoizedState,k=P.element,vk(c,u),$p(u,j,null,x);var D=u.memoizedState;if(j=D.element,P.isDehydrated)if(P={element:j,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},u.updateQueue.baseState=P,u.memoizedState=P,u.flags&256){k=Zd(Error(s(423)),u),u=n_(c,u,j,x,k);break e}else if(j!==k){k=Zd(Error(s(424)),u),u=n_(c,u,j,x,k);break e}else for(sn=ll(u.stateNode.containerInfo.firstChild),rn=u,zr=!0,oi=null,x=xk(u,null,j,x),u.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Gd(),j===k){u=vo(c,u,x);break e}ka(c,u,j,x)}u=u.child}return u;case 5:return jk(u),c===null&&_v(u),j=u.type,k=u.pendingProps,P=c!==null?c.memoizedProps:null,D=k.children,yv(j,k)?D=null:P!==null&&yv(j,P)&&(u.flags|=32),r_(c,u),ka(c,u,D,x),u.child;case 6:return c===null&&_v(u),null;case 13:return i_(c,u,x);case 4:return Iv(u,u.stateNode.containerInfo),j=u.pendingProps,c===null?u.child=Yd(u,null,j,x):ka(c,u,j,x),u.child;case 11:return j=u.type,k=u.pendingProps,k=u.elementType===j?k:li(j,k),Qk(c,u,j,k,x);case 7:return ka(c,u,u.pendingProps,x),u.child;case 8:return ka(c,u,u.pendingProps.children,x),u.child;case 12:return ka(c,u,u.pendingProps.children,x),u.child;case 10:e:{if(j=u.type._context,k=u.pendingProps,P=u.memoizedProps,D=k.value,kr(Ip,j._currentValue),j._currentValue=D,P!==null)if(ii(P.value,D)){if(P.children===k.children&&!La.current){u=vo(c,u,x);break e}}else for(P=u.child,P!==null&&(P.return=u);P!==null;){var Q=P.dependencies;if(Q!==null){D=P.child;for(var re=Q.firstContext;re!==null;){if(re.context===j){if(P.tag===1){re=yo(-1,x&-x),re.tag=2;var pe=P.updateQueue;if(pe!==null){pe=pe.shared;var Oe=pe.pending;Oe===null?re.next=re:(re.next=Oe.next,Oe.next=re),pe.pending=re}}P.lanes|=x,re=P.alternate,re!==null&&(re.lanes|=x),Ov(P.return,x,u),Q.lanes|=x;break}re=re.next}}else if(P.tag===10)D=P.type===u.type?null:P.child;else if(P.tag===18){if(D=P.return,D===null)throw Error(s(341));D.lanes|=x,Q=D.alternate,Q!==null&&(Q.lanes|=x),Ov(D,x,u),D=P.sibling}else D=P.child;if(D!==null)D.return=P;else for(D=P;D!==null;){if(D===u){D=null;break}if(P=D.sibling,P!==null){P.return=D.return,D=P;break}D=D.return}P=D}ka(c,u,k.children,x),u=u.child}return u;case 9:return k=u.type,j=u.pendingProps.children,Xd(u,x),k=kn(k),j=j(k),u.flags|=1,ka(c,u,j,x),u.child;case 14:return j=u.type,k=li(j,u.pendingProps),k=li(j.type,k),Zk(c,u,j,k,x);case 15:return e_(c,u,u.type,u.pendingProps,x);case 17:return j=u.type,k=u.pendingProps,k=u.elementType===j?k:li(j,k),Kp(c,u),u.tag=1,$a(j)?(c=!0,Ap(u)):c=!1,Xd(u,x),qk(u,j,k),Gv(u,j,k,x),Qv(null,u,j,!0,c,x);case 19:return l_(c,u,x);case 22:return t_(c,u,x)}throw Error(s(156,u.tag))};function O_(c,u){return Da(c,u)}function fB(c,u,x,j){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(c,u,x,j){return new fB(c,u,x,j)}function yb(c){return c=c.prototype,!(!c||!c.isReactComponent)}function pB(c){if(typeof c=="function")return yb(c)?1:0;if(c!=null){if(c=c.$$typeof,c===I)return 11;if(c===U)return 14}return 2}function vl(c,u){var x=c.alternate;return x===null?(x=An(c.tag,u,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=u,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&14680064,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,u=c.dependencies,x.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x}function ag(c,u,x,j,k,P){var D=2;if(j=c,typeof c=="function")yb(c)&&(D=1);else if(typeof c=="string")D=5;else e:switch(c){case E:return Pc(x.children,k,P,u);case R:D=8,k|=8;break;case $:return c=An(12,x,u,k|2),c.elementType=$,c.lanes=P,c;case W:return c=An(13,x,u,k),c.elementType=W,c.lanes=P,c;case V:return c=An(19,x,u,k),c.elementType=V,c.lanes=P,c;case O:return ng(x,k,P,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case K:D=10;break e;case M:D=9;break e;case I:D=11;break e;case U:D=14;break e;case L:D=16,j=null;break e}throw Error(s(130,c==null?c:typeof c,""))}return u=An(D,x,u,k),u.elementType=c,u.type=j,u.lanes=P,u}function Pc(c,u,x,j){return c=An(7,c,j,u),c.lanes=x,c}function ng(c,u,x,j){return c=An(22,c,j,u),c.elementType=O,c.lanes=x,c.stateNode={isHidden:!1},c}function vb(c,u,x){return c=An(6,c,null,u),c.lanes=x,c}function bb(c,u,x){return u=An(4,c.children!==null?c.children:[],c.key,u),u.lanes=x,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function gB(c,u,x,j,k){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Td(0),this.expirationTimes=Td(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Td(0),this.identifierPrefix=j,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function wb(c,u,x,j,k,P,D,Q,re){return c=new gB(c,u,x,Q,re),u===1?(u=1,P===!0&&(u|=8)):u=0,P=An(3,null,null,u),c.current=P,P.stateNode=c,P.memoizedState={element:j,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rv(P),c}function xB(c,u,x){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:j==null?null:""+j,children:c,containerInfo:u,implementation:x}}function M_(c){if(!c)return dl;c=c._reactInternals;e:{if(Ze(c)!==c||c.tag!==1)throw Error(s(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if($a(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(c.tag===1){var x=c.type;if($a(x))return ok(c,x,u)}return u}function R_(c,u,x,j,k,P,D,Q,re){return c=wb(x,j,!0,c,k,P,D,Q,re),c.context=M_(null),x=c.current,j=_a(),k=xl(x),P=yo(j,k),P.callback=u??null,hl(x,P,k),c.current.lanes=k,tl(c,k,j),Ua(c,j),c}function ig(c,u,x,j){var k=u.current,P=_a(),D=xl(k);return x=M_(x),u.context===null?u.context=x:u.pendingContext=x,u=yo(P,D),u.payload={element:c},j=j===void 0?null:j,j!==null&&(u.callback=j),c=hl(k,u,D),c!==null&&(ui(c,k,D,P),Lp(c,k,D)),D}function og(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function I_(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<u?x:u}}function jb(c,u){I_(c,u),(c=c.alternate)&&I_(c,u)}function yB(){return null}var D_=typeof reportError=="function"?reportError:function(c){console.error(c)};function Nb(c){this._internalRoot=c}lg.prototype.render=Nb.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(s(409));ig(c,u,null,null)},lg.prototype.unmount=Nb.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;Cc(function(){ig(null,c,null,null)}),u[ho]=null}};function lg(c){this._internalRoot=c}lg.prototype.unstable_scheduleHydration=function(c){if(c){var u=_m();c={blockedOn:null,target:c,priority:u};for(var x=0;x<ni.length&&u!==0&&u<ni[x].priority;x++);ni.splice(x,0,c),x===0&&Em(c)}};function Sb(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function cg(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function L_(){}function vB(c,u,x,j,k){if(k){if(typeof j=="function"){var P=j;j=function(){var pe=og(D);P.call(pe)}}var D=R_(u,j,c,0,null,!1,!1,"",L_);return c._reactRootContainer=D,c[ho]=D.current,Bm(c.nodeType===8?c.parentNode:c),Cc(),D}for(;k=c.lastChild;)c.removeChild(k);if(typeof j=="function"){var Q=j;j=function(){var pe=og(re);Q.call(pe)}}var re=wb(c,0,!1,null,null,!1,!1,"",L_);return c._reactRootContainer=re,c[ho]=re.current,Bm(c.nodeType===8?c.parentNode:c),Cc(function(){ig(u,re,x,j)}),re}function dg(c,u,x,j,k){var P=x._reactRootContainer;if(P){var D=P;if(typeof k=="function"){var Q=k;k=function(){var re=og(D);Q.call(re)}}ig(u,D,c,k)}else D=vB(x,u,c,k,j);return og(D)}Cm=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var x=en(u.pendingLanes);x!==0&&(Od(u,x|1),Ua(u,ir()),(sr&6)===0&&(ru=ir()+500,ul()))}break;case 13:Cc(function(){var j=xo(c,1);if(j!==null){var k=_a();ui(j,c,1,k)}}),jb(c,1)}},Md=function(c){if(c.tag===13){var u=xo(c,134217728);if(u!==null){var x=_a();ui(u,c,134217728,x)}jb(c,134217728)}},km=function(c){if(c.tag===13){var u=xl(c),x=xo(c,u);if(x!==null){var j=_a();ui(x,c,u,j)}jb(c,u)}},_m=function(){return lr},Pm=function(c,u){var x=lr;try{return lr=c,u()}finally{lr=x}},ye=function(c,u,x){switch(u){case"input":if(Ge(c,x),u=x.name,x.type==="radio"&&u!=null){for(x=c;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<x.length;u++){var j=x[u];if(j!==c&&j.form===c.form){var k=_p(j);if(!k)throw Error(s(90));te(j),Ge(j,k)}}}break;case"textarea":Jt(c,x);break;case"select":u=x.value,u!=null&&ue(c,!!x.multiple,u,!1)}},ra=pb,sa=Cc;var bB={usingClientEntryPoint:!1,Events:[qm,Wd,_p,rr,bt,pb]},nh={findFiberByHostInstance:xc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wB={bundleType:nh.bundleType,version:nh.version,rendererPackageName:nh.rendererPackageName,rendererConfig:nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Rs(c),c===null?null:c.stateNode},findFiberByHostInstance:nh.findFiberByHostInstance||yB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ug=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ug.isDisabled&&ug.supportsFiber)try{mr=ug.inject(wB),wt=ug}catch{}}return Ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bB,Ba.createPortal=function(c,u){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sb(u))throw Error(s(200));return xB(c,u,null,x)},Ba.createRoot=function(c,u){if(!Sb(c))throw Error(s(299));var x=!1,j="",k=D_;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),u=wb(c,1,!1,null,null,x,!1,j,k),c[ho]=u.current,Bm(c.nodeType===8?c.parentNode:c),new Nb(u)},Ba.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return c=Rs(u),c=c===null?null:c.stateNode,c},Ba.flushSync=function(c){return Cc(c)},Ba.hydrate=function(c,u,x){if(!cg(u))throw Error(s(200));return dg(null,c,u,!0,x)},Ba.hydrateRoot=function(c,u,x){if(!Sb(c))throw Error(s(405));var j=x!=null&&x.hydratedSources||null,k=!1,P="",D=D_;if(x!=null&&(x.unstable_strictMode===!0&&(k=!0),x.identifierPrefix!==void 0&&(P=x.identifierPrefix),x.onRecoverableError!==void 0&&(D=x.onRecoverableError)),u=R_(u,null,c,1,x??null,k,!1,P,D),c[ho]=u.current,Bm(c),j)for(c=0;c<j.length;c++)x=j[c],k=x._getVersion,k=k(x._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[x,k]:u.mutableSourceEagerHydrationData.push(x,k);return new lg(u)},Ba.render=function(c,u,x){if(!cg(u))throw Error(s(200));return dg(null,c,u,!1,x)},Ba.unmountComponentAtNode=function(c){if(!cg(c))throw Error(s(40));return c._reactRootContainer?(Cc(function(){dg(null,null,c,!1,function(){c._reactRootContainer=null,c[ho]=null})}),!0):!1},Ba.unstable_batchedUpdates=pb,Ba.unstable_renderSubtreeIntoContainer=function(c,u,x,j){if(!cg(x))throw Error(s(200));if(c==null||c._reactInternals===void 0)throw Error(s(38));return dg(c,u,x,!1,j)},Ba.version="18.3.1-next-f1338f8080-20240426",Ba}var q_;function NO(){if(q_)return _b.exports;q_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),_b.exports=OB(),_b.exports}var H_;function MB(){if(H_)return mg;H_=1;var e=NO();return mg.createRoot=e.createRoot,mg.hydrateRoot=e.hydrateRoot,mg}var RB=MB();const K_=vn(RB);var Xl=NO();const IB=vn(Xl);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Bh.apply(this,arguments)}var Dl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dl||(Dl={}));const G_="popstate";function DB(e){e===void 0&&(e={});function r(a,n){let{pathname:i,search:o,hash:l}=a.location;return uN("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:l0(n)}return $B(r,s,null,e)}function ns(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function SO(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function LB(){return Math.random().toString(36).substr(2,8)}function Y_(e,r){return{usr:e.state,key:e.key,idx:r}}function uN(e,r,s,a){return s===void 0&&(s=null),Bh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Qu(r):r,{state:s,key:r&&r.key||a||LB()})}function l0(e){let{pathname:r="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Qu(e){let r={};if(e){let s=e.indexOf("#");s>=0&&(r.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(r.search=e.substr(a),e=e.substr(0,a)),e&&(r.pathname=e)}return r}function $B(e,r,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l=Dl.Pop,d=null,m=h();m==null&&(m=0,o.replaceState(Bh({},o.state,{idx:m}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=Dl.Pop;let b=h(),N=b==null?null:b-m;m=b,d&&d({action:l,location:v.location,delta:N})}function g(b,N){l=Dl.Push;let C=uN(v.location,b,N);m=h()+1;let S=Y_(C,m),_=v.createHref(C);try{o.pushState(S,"",_)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;n.location.assign(_)}i&&d&&d({action:l,location:v.location,delta:1})}function y(b,N){l=Dl.Replace;let C=uN(v.location,b,N);m=h();let S=Y_(C,m),_=v.createHref(C);o.replaceState(S,"",_),i&&d&&d({action:l,location:v.location,delta:0})}function w(b){let N=n.location.origin!=="null"?n.location.origin:n.location.href,C=typeof b=="string"?b:l0(b);return C=C.replace(/ $/,"%20"),ns(N,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,N)}let v={get action(){return l},get location(){return e(n,o)},listen(b){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(G_,f),d=b,()=>{n.removeEventListener(G_,f),d=null}},createHref(b){return r(n,b)},createURL:w,encodeLocation(b){let N=w(b);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:y,go(b){return o.go(b)}};return v}var J_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(J_||(J_={}));function zB(e,r,s){return s===void 0&&(s="/"),FB(e,r,s)}function FB(e,r,s,a){let n=typeof r=="string"?Qu(r):r,i=Wh(n.pathname||"/",s);if(i==null)return null;let o=CO(e);UB(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let m=ZB(i);l=JB(o[d],m)}return l}function CO(e,r,s,a){r===void 0&&(r=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(ns(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let m=zl([a,d.relativePath]),h=s.concat(d);i.children&&i.children.length>0&&(ns(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),CO(i.children,r,h,m)),!(i.path==null&&!i.index)&&r.push({path:m,score:GB(m,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let d of kO(i.path))n(i,o,d)}),r}function kO(e){let r=e.split("/");if(r.length===0)return[];let[s,...a]=r,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=kO(a.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),n&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function UB(e){e.sort((r,s)=>r.score!==s.score?s.score-r.score:YB(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const BB=/^:[\w-]+$/,WB=3,VB=2,qB=1,HB=10,KB=-2,X_=e=>e==="*";function GB(e,r){let s=e.split("/"),a=s.length;return s.some(X_)&&(a+=KB),r&&(a+=VB),s.filter(n=>!X_(n)).reduce((n,i)=>n+(BB.test(i)?WB:i===""?qB:HB),a)}function YB(e,r){return e.length===r.length&&e.slice(0,-1).every((a,n)=>a===r[n])?e[e.length-1]-r[r.length-1]:0}function JB(e,r,s){let{routesMeta:a}=e,n={},i="/",o=[];for(let l=0;l<a.length;++l){let d=a[l],m=l===a.length-1,h=i==="/"?r:r.slice(i.length)||"/",f=XB({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},h),g=d.route;if(!f)return null;Object.assign(n,f.params),o.push({params:n,pathname:zl([i,f.pathname]),pathnameBase:sW(zl([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=zl([i,f.pathnameBase]))}return o}function XB(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=QB(e.path,e.caseSensitive,e.end),n=r.match(s);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((m,h,f)=>{let{paramName:g,isOptional:y}=h;if(g==="*"){let v=l[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[f];return y&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:o,pattern:e}}function QB(e,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),SO(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(a.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),a]}function ZB(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return SO(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function Wh(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function eW(e,r){r===void 0&&(r="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?Qu(e):e;return{pathname:s?s.startsWith("/")?s:tW(s,r):r,search:aW(a),hash:nW(n)}}function tW(e,r){let s=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function Eb(e,r,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rW(e){return e.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function mS(e,r){let s=rW(e);return r?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function hS(e,r,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Qu(e):(n=Bh({},e),ns(!n.pathname||!n.pathname.includes("?"),Eb("?","pathname","search",n)),ns(!n.pathname||!n.pathname.includes("#"),Eb("#","pathname","hash",n)),ns(!n.search||!n.search.includes("#"),Eb("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=s;else{let f=r.length-1;if(!a&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;n.pathname=g.join("/")}l=f>=0?r[f]:"/"}let d=eW(n,l),m=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(m||h)&&(d.pathname+="/"),d}const zl=e=>e.join("/").replace(/\/\/+/g,"/"),sW=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aW=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nW=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _O=["post","put","patch","delete"];new Set(_O);const oW=["get",..._O];new Set(oW);const lW={state:"unblocked",proceed:void 0,reset:void 0,location:void 0};/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function td(){return td=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},td.apply(this,arguments)}const fS=p.createContext(null),cW=p.createContext(null),Ql=p.createContext(null),Nx=p.createContext(null),so=p.createContext({outlet:null,matches:[],isDataRoute:!1}),PO=p.createContext(null);function dW(e,r){let{relative:s}=r===void 0?{}:r;Zu()||ns(!1);let{basename:a,navigator:n}=p.useContext(Ql),{hash:i,pathname:o,search:l}=EO(e,{relative:s}),d=o;return a!=="/"&&(d=o==="/"?a:zl([a,o])),n.createHref({pathname:d,search:l,hash:i})}function Zu(){return p.useContext(Nx)!=null}function Zl(){return Zu()||ns(!1),p.useContext(Nx).location}function AO(e){p.useContext(Ql).static||p.useLayoutEffect(e)}function br(){let{isDataRoute:e}=p.useContext(so);return e?CW():uW()}function uW(){Zu()||ns(!1);let e=p.useContext(fS),{basename:r,future:s,navigator:a}=p.useContext(Ql),{matches:n}=p.useContext(so),{pathname:i}=Zl(),o=JSON.stringify(mS(n,s.v7_relativeSplatPath)),l=p.useRef(!1);return AO(()=>{l.current=!0}),p.useCallback(function(m,h){if(h===void 0&&(h={}),!l.current)return;if(typeof m=="number"){a.go(m);return}let f=hS(m,JSON.parse(o),i,h.relative==="path");e==null&&r!=="/"&&(f.pathname=f.pathname==="/"?r:zl([r,f.pathname])),(h.replace?a.replace:a.push)(f,h.state,h)},[r,a,o,i,e])}const mW=p.createContext(null);function hW(e){let r=p.useContext(so).outlet;return r&&p.createElement(mW.Provider,{value:e},r)}function wf(){let{matches:e}=p.useContext(so),r=e[e.length-1];return r?r.params:{}}function EO(e,r){let{relative:s}=r===void 0?{}:r,{future:a}=p.useContext(Ql),{matches:n}=p.useContext(so),{pathname:i}=Zl(),o=JSON.stringify(mS(n,a.v7_relativeSplatPath));return p.useMemo(()=>hS(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function fW(e,r){return pW(e,r)}function pW(e,r,s,a){Zu()||ns(!1);let{navigator:n}=p.useContext(Ql),{matches:i}=p.useContext(so),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let m=Zl(),h;if(r){var f;let b=typeof r=="string"?Qu(r):r;d==="/"||(f=b.pathname)!=null&&f.startsWith(d)||ns(!1),h=b}else h=m;let g=h.pathname||"/",y=g;if(d!=="/"){let b=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=zB(e,{pathname:y}),v=bW(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:zl([d,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:zl([d,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,s,a);return r&&v?p.createElement(Nx.Provider,{value:{location:td({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Dl.Pop}},v):v}function gW(){let e=jW(),r=iW(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},r),s?p.createElement("pre",{style:n},s):null,null)}const xW=p.createElement(gW,null);class yW extends p.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?p.createElement(so.Provider,{value:this.props.routeContext},p.createElement(PO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vW(e){let{routeContext:r,match:s,children:a}=e,n=p.useContext(fS);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),p.createElement(so.Provider,{value:r},a)}function bW(e,r,s,a){var n;if(r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=a)!=null&&i.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(n=s)==null?void 0:n.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||ns(!1),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,m=-1;if(s&&a&&a.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(m=h),f.route.id){let{loaderData:g,errors:y}=s,w=f.route.loader&&g[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((h,f,g)=>{let y,w=!1,v=null,b=null;s&&(y=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||xW,d&&(m<0&&g===0?(kW("route-fallback"),w=!0,b=null):m===g&&(w=!0,b=f.route.hydrateFallbackElement||null)));let N=r.concat(o.slice(0,g+1)),C=()=>{let S;return y?S=v:w?S=b:f.route.Component?S=p.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,p.createElement(vW,{match:f,routeContext:{outlet:h,matches:N,isDataRoute:s!=null},children:S})};return s&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?p.createElement(yW,{location:s.location,revalidation:s.revalidation,component:v,error:y,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}var TO=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(TO||{}),OO=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(OO||{});function MO(e){let r=p.useContext(fS);return r||ns(!1),r}function RO(e){let r=p.useContext(cW);return r||ns(!1),r}function wW(e){let r=p.useContext(so);return r||ns(!1),r}function IO(e){let r=wW(),s=r.matches[r.matches.length-1];return s.route.id||ns(!1),s.route.id}function jW(){var e;let r=p.useContext(PO),s=RO(),a=IO();return r!==void 0?r:(e=s.errors)==null?void 0:e[a]}let NW=0;function SW(e){let{router:r,basename:s}=MO(),a=RO(),[n,i]=p.useState(""),o=p.useCallback(l=>{if(typeof e!="function")return!!e;if(s==="/")return e(l);let{currentLocation:d,nextLocation:m,historyAction:h}=l;return e({currentLocation:td({},d,{pathname:Wh(d.pathname,s)||d.pathname}),nextLocation:td({},m,{pathname:Wh(m.pathname,s)||m.pathname}),historyAction:h})},[s,e]);return p.useEffect(()=>{let l=String(++NW);return i(l),()=>r.deleteBlocker(l)},[r]),p.useEffect(()=>{n!==""&&r.getBlocker(n,o)},[r,n,o]),n&&a.blockers.has(n)?a.blockers.get(n):lW}function CW(){let{router:e}=MO(TO.UseNavigateStable),r=IO(OO.UseNavigateStable),s=p.useRef(!1);return AO(()=>{s.current=!0}),p.useCallback(function(n,i){i===void 0&&(i={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,td({fromRouteId:r},i)))},[e,r])}const Q_={};function kW(e,r,s){Q_[e]||(Q_[e]=!0)}function _W(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function pS(e){let{to:r,replace:s,state:a,relative:n}=e;Zu()||ns(!1);let{future:i,static:o}=p.useContext(Ql),{matches:l}=p.useContext(so),{pathname:d}=Zl(),m=br(),h=hS(r,mS(l,i.v7_relativeSplatPath),d,n==="path"),f=JSON.stringify(h);return p.useEffect(()=>m(JSON.parse(f),{replace:s,state:a,relative:n}),[m,f,n,s,a]),null}function PW(e){return hW(e.context)}function ft(e){ns(!1)}function AW(e){let{basename:r="/",children:s=null,location:a,navigationType:n=Dl.Pop,navigator:i,static:o=!1,future:l}=e;Zu()&&ns(!1);let d=r.replace(/^\/*/,"/"),m=p.useMemo(()=>({basename:d,navigator:i,static:o,future:td({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof a=="string"&&(a=Qu(a));let{pathname:h="/",search:f="",hash:g="",state:y=null,key:w="default"}=a,v=p.useMemo(()=>{let b=Wh(h,d);return b==null?null:{location:{pathname:b,search:f,hash:g,state:y,key:w},navigationType:n}},[d,h,f,g,y,w,n]);return v==null?null:p.createElement(Ql.Provider,{value:m},p.createElement(Nx.Provider,{children:s,value:v}))}function EW(e){let{children:r,location:s}=e;return fW(mN(r),s)}new Promise(()=>{});function mN(e,r){r===void 0&&(r=[]);let s=[];return p.Children.forEach(e,(a,n)=>{if(!p.isValidElement(a))return;let i=[...r,n];if(a.type===p.Fragment){s.push.apply(s,mN(a.props.children,i));return}a.type!==ft&&ns(!1),!a.props.index||!a.props.children||ns(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=mN(a.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},hN.apply(this,arguments)}function TW(e,r){if(e==null)return{};var s={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(r.indexOf(n)>=0)&&(s[n]=e[n]);return s}function OW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MW(e,r){return e.button===0&&(!r||r==="_self")&&!OW(e)}function fN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,s)=>{let a=e[s];return r.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function RW(e,r){let s=fN(e);return r&&r.forEach((a,n)=>{s.has(n)||r.getAll(n).forEach(i=>{s.append(n,i)})}),s}const IW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DW="6";try{window.__reactRouterVersion=DW}catch{}const LW="startTransition",Z_=jx[LW];function $W(e){let{basename:r,children:s,future:a,window:n}=e,i=p.useRef();i.current==null&&(i.current=DB({window:n,v5Compat:!0}));let o=i.current,[l,d]=p.useState({action:o.action,location:o.location}),{v7_startTransition:m}=a||{},h=p.useCallback(f=>{m&&Z_?Z_(()=>d(f)):d(f)},[d,m]);return p.useLayoutEffect(()=>o.listen(h),[o,h]),p.useEffect(()=>_W(a),[a]),p.createElement(AW,{basename:r,children:s,location:l.location,navigationType:l.action,navigator:o,future:a})}const zW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UW=p.forwardRef(function(r,s){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:d,to:m,preventScrollReset:h,viewTransition:f}=r,g=TW(r,IW),{basename:y}=p.useContext(Ql),w,v=!1;if(typeof m=="string"&&FW.test(m)&&(w=m,zW))try{let S=new URL(window.location.href),_=m.startsWith("//")?new URL(S.protocol+m):new URL(m),A=Wh(_.pathname,y);_.origin===S.origin&&A!=null?m=A+_.search+_.hash:v=!0}catch{}let b=dW(m,{relative:n}),N=BW(m,{replace:o,state:l,target:d,preventScrollReset:h,relative:n,viewTransition:f});function C(S){a&&a(S),S.defaultPrevented||N(S)}return p.createElement("a",hN({},g,{href:w||b,onClick:v||i?a:C,ref:s,target:d}))});var eP;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(eP||(eP={}));var tP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tP||(tP={}));function BW(e,r){let{target:s,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=r===void 0?{}:r,d=br(),m=Zl(),h=EO(e,{relative:o});return p.useCallback(f=>{if(MW(f,s)){f.preventDefault();let g=a!==void 0?a:l0(m)===l0(h);d(e,{replace:g,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[m,d,h,a,n,s,e,i,o,l])}function WW(e){let r=p.useRef(fN(e)),s=p.useRef(!1),a=Zl(),n=p.useMemo(()=>RW(a.search,s.current?null:r.current),[a.search]),i=br(),o=p.useCallback((l,d)=>{const m=fN(typeof l=="function"?l(n):l);s.current=!0,i("?"+m,d)},[i,n]);return[n,o]}var VW=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function DO({packageName:e,customMessages:r}){let s=e;function a(i,o){if(!o)return`${s}: ${i}`;let l=i;const d=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const m of d){const h=(o[m[1]]||"").toString();l=l.replace(`{{${m[1]}}}`,h)}return`${s}: ${l}`}const n={...VW,...r};return{setPackageName({packageName:i}){return typeof i=="string"&&(s=i),this},setMessages({customMessages:i}){return Object.assign(n,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(a(n.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(a(n.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(a(n.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(a(n.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(a(n.MissingClerkProvider,i))},throw(i){throw new Error(a(i))}}}var LO=Object.defineProperty,qW=Object.getOwnPropertyDescriptor,HW=Object.getOwnPropertyNames,KW=Object.prototype.hasOwnProperty,GW=(e,r)=>{for(var s in r)LO(e,s,{get:r[s],enumerable:!0})},YW=(e,r,s,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of HW(r))!KW.call(e,n)&&n!==s&&LO(e,n,{get:()=>r[n],enumerable:!(a=qW(r,n))||a.enumerable});return e},JW=(e,r,s)=>(YW(e,r,"default"),s),XW={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},QW=new Set(["first_factor","second_factor","multi_factor"]),ZW=new Set(["strict_mfa","strict","moderate","lax"]),eV=e=>typeof e=="number"&&e>0,tV=e=>QW.has(e),rV=e=>ZW.has(e),Tb=e=>e.replace(/^(org:)*/,"org:"),sV=(e,r)=>{const{orgId:s,orgRole:a,orgPermissions:n}=r;return!e.role&&!e.permission||!s||!a||!n?null:e.permission?n.includes(Tb(e.permission)):e.role?Tb(a)===Tb(e.role):null},rP=(e,r)=>{const{org:s,user:a}=nV(e),[n,i]=r.split(":"),o=i||n;return n==="org"?s.includes(o):n==="user"?a.includes(o):[...s,...a].includes(o)},aV=(e,r)=>{const{features:s,plans:a}=r;return e.feature&&s?rP(s,e.feature):e.plan&&a?rP(a,e.plan):null},nV=e=>{const r=e?e.split(",").map(s=>s.trim()):[];return{org:r.filter(s=>s.split(":")[0].includes("o")).map(s=>s.split(":")[1]),user:r.filter(s=>s.split(":")[0].includes("u")).map(s=>s.split(":")[1])}},iV=e=>{if(!e)return!1;const r=n=>typeof n=="string"?XW[n]:n,s=typeof e=="string"&&rV(e),a=typeof e=="object"&&tV(e.level)&&eV(e.afterMinutes);return s||a?r.bind(null,e):!1},oV=(e,{factorVerificationAge:r})=>{if(!e.reverification||!r)return null;const s=iV(e.reverification);if(!s)return null;const{level:a,afterMinutes:n}=s(),[i,o]=r,l=i!==-1?n>i:null,d=o!==-1?n>o:null;switch(a){case"first_factor":return l;case"second_factor":return o!==-1?d:l;case"multi_factor":return o===-1?l:l&&d}},lV=e=>r=>{if(!e.userId)return!1;const s=aV(r,e),a=sV(r,e),n=oV(r,e);return[s||a,n].some(i=>i===null)?[s||a,n].some(i=>i===!0):[s||a,n].every(i=>i===!0)},cV=({authObject:{sessionId:e,sessionStatus:r,userId:s,actor:a,orgId:n,orgRole:i,orgSlug:o,signOut:l,getToken:d,has:m,sessionClaims:h},options:{treatPendingAsSignedOut:f=!0}})=>{if(e===void 0&&s===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:e,sessionClaims:void 0,userId:s,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:l,getToken:d};if(e===null&&s===null)return{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:s,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:d};if(f&&r==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:d};if(e&&h&&s&&n&&i)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:h,userId:s,actor:a||null,orgId:n,orgRole:i,orgSlug:o||null,has:m,signOut:l,getToken:d};if(e&&h&&s&&!n)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:h,userId:s,actor:a||null,orgId:null,orgRole:null,orgSlug:null,has:m,signOut:l,getToken:d}},$O=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,dV=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],zO="pk_live_",uV="pk_test_";function FO(e){if(!e.endsWith("$"))return!1;const r=e.slice(0,-1);return r.includes("$")?!1:r.includes(".")}function sP(e,r={}){if(e=e||"",!e||!pN(e)){if(r.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(r.fatal&&!pN(e))throw new Error("Publishable key not valid.");return null}const s=e.startsWith(zO)?"production":"development";let a;try{a=$O(e.split("_")[2])}catch{if(r.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!FO(a)){if(r.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let n=a.slice(0,-1);return r.proxyUrl?n=r.proxyUrl:s!=="development"&&r.domain&&r.isSatellite&&(n=`clerk.${r.domain}`),{instanceType:s,frontendApi:n}}function pN(e=""){try{if(!(e.startsWith(zO)||e.startsWith(uV)))return!1;const s=e.split("_");if(s.length!==3)return!1;const a=s[2];if(!a)return!1;const n=$O(a);return FO(n)}catch{return!1}}function mV(){const e=new Map;return{isDevOrStagingUrl:r=>{if(!r)return!1;const s=typeof r=="string"?r:r.hostname;let a=e.get(s);return a===void 0&&(a=dV.some(n=>s.endsWith(n)),e.set(s,a)),a}}}var hV="METHOD_CALLED";function UO(e,r){return{event:hV,payload:{method:e,...r}}}var Ob={exports:{}},Mb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aP;function fV(){if(aP)return Mb;aP=1;var e=Xu();function r(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var s=typeof Object.is=="function"?Object.is:r,a=e.useState,n=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(f,g){var y=g(),w=a({inst:{value:y,getSnapshot:g}}),v=w[0].inst,b=w[1];return i(function(){v.value=y,v.getSnapshot=g,d(v)&&b({inst:v})},[f,y,g]),n(function(){return d(v)&&b({inst:v}),f(function(){d(v)&&b({inst:v})})},[f]),o(y),y}function d(f){var g=f.getSnapshot;f=f.value;try{var y=g();return!s(f,y)}catch{return!0}}function m(f,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:l;return Mb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Mb}var nP;function BO(){return nP||(nP=1,Ob.exports=fV()),Ob.exports}var gS=BO();const WO=0,VO=1,qO=2,iP=3;var oP=Object.prototype.hasOwnProperty;function gN(e,r){var s,a;if(e===r)return!0;if(e&&r&&(s=e.constructor)===r.constructor){if(s===Date)return e.getTime()===r.getTime();if(s===RegExp)return e.toString()===r.toString();if(s===Array){if((a=e.length)===r.length)for(;a--&&gN(e[a],r[a]););return a===-1}if(!s||typeof e=="object"){a=0;for(s in e)if(oP.call(e,s)&&++a&&!oP.call(r,s)||!(s in r)||!gN(e[s],r[s]))return!1;return Object.keys(r).length===a}}return e!==e&&r!==r}const xi=new WeakMap,Ll=()=>{},ks=Ll(),c0=Object,$t=e=>e===ks,Dn=e=>typeof e=="function",Lo=(e,r)=>({...e,...r}),HO=e=>Dn(e.then),Rb={},hg={},xS="undefined",jf=typeof window!=xS,xN=typeof document!=xS,pV=jf&&"Deno"in window,gV=()=>jf&&typeof window.requestAnimationFrame!=xS,El=(e,r)=>{const s=xi.get(e);return[()=>!$t(r)&&e.get(r)||Rb,a=>{if(!$t(r)){const n=e.get(r);r in hg||(hg[r]=n),s[5](r,Lo(n,a),n||Rb)}},s[6],()=>!$t(r)&&r in hg?hg[r]:!$t(r)&&e.get(r)||Rb]};let yN=!0;const xV=()=>yN,[vN,bN]=jf&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ll,Ll],yV=()=>{const e=xN&&document.visibilityState;return $t(e)||e!=="hidden"},vV=e=>(xN&&document.addEventListener("visibilitychange",e),vN("focus",e),()=>{xN&&document.removeEventListener("visibilitychange",e),bN("focus",e)}),bV=e=>{const r=()=>{yN=!0,e()},s=()=>{yN=!1};return vN("online",r),vN("offline",s),()=>{bN("online",r),bN("offline",s)}},wV={isOnline:xV,isVisible:yV},jV={initFocus:vV,initReconnect:bV},lP=!oe.useId,Vh=!jf||pV,NV=e=>gV()?window.requestAnimationFrame(e):setTimeout(e,1),Mh=Vh?p.useEffect:p.useLayoutEffect,Ib=typeof navigator<"u"&&navigator.connection,cP=!Vh&&Ib&&(["slow-2g","2g"].includes(Ib.effectiveType)||Ib.saveData),fg=new WeakMap,SV=e=>c0.prototype.toString.call(e),Db=(e,r)=>e===`[object ${r}]`;let CV=0;const wN=e=>{const r=typeof e,s=SV(e),a=Db(s,"Date"),n=Db(s,"RegExp"),i=Db(s,"Object");let o,l;if(c0(e)===e&&!a&&!n){if(o=fg.get(e),o)return o;if(o=++CV+"~",fg.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=wN(e[l])+",";fg.set(e,o)}if(i){o="#";const d=c0.keys(e).sort();for(;!$t(l=d.pop());)$t(e[l])||(o+=l+":"+wN(e[l])+",");fg.set(e,o)}}else o=a?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return o},Lu=e=>{if(Dn(e))try{e=e()}catch{e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?wN(e):"",[e,r]};let kV=0;const jN=()=>++kV;async function KO(...e){const[r,s,a,n]=e,i=Lo({populateCache:!0,throwOnError:!0},typeof n=="boolean"?{revalidate:n}:n||{});let o=i.populateCache;const l=i.rollbackOnError;let d=i.optimisticData;const m=g=>typeof l=="function"?l(g):l!==!1,h=i.throwOnError;if(Dn(s)){const g=s,y=[],w=r.keys();for(const v of w)!/^\$(inf|sub)\$/.test(v)&&g(r.get(v)._k)&&y.push(v);return Promise.all(y.map(f))}return f(s);async function f(g){const[y]=Lu(g);if(!y)return;const[w,v]=El(r,y),[b,N,C,S]=xi.get(r),_=()=>{const V=b[y];return(Dn(i.revalidate)?i.revalidate(w().data,g):i.revalidate!==!1)&&(delete C[y],delete S[y],V&&V[0])?V[0](qO).then(()=>w().data):w().data};if(e.length<3)return _();let A=a,T,E=!1;const R=jN();N[y]=[R,0];const $=!$t(d),K=w(),M=K.data,I=K._c,W=$t(I)?M:I;if($&&(d=Dn(d)?d(W,M):d,v({data:d,_c:W})),Dn(A))try{A=A(W)}catch(V){T=V,E=!0}if(A&&HO(A))if(A=await A.catch(V=>{T=V,E=!0}),R!==N[y][0]){if(E)throw T;return A}else E&&$&&m(T)&&(o=!0,v({data:W,_c:ks}));if(o&&!E)if(Dn(o)){const V=o(A,W);v({data:V,error:ks,_c:ks})}else v({data:A,error:ks,_c:ks});if(N[y][1]=jN(),Promise.resolve(_()).then(()=>{v({_c:ks})}),E){if(h)throw T;return}return A}}const dP=(e,r)=>{for(const s in e)e[s][0]&&e[s][0](r)},GO=(e,r)=>{if(!xi.has(e)){const s=Lo(jV,r),a=Object.create(null),n=KO.bind(ks,e);let i=Ll;const o=Object.create(null),l=(h,f)=>{const g=o[h]||[];return o[h]=g,g.push(f),()=>g.splice(g.indexOf(f),1)},d=(h,f,g)=>{e.set(h,f);const y=o[h];if(y)for(const w of y)w(f,g)},m=()=>{if(!xi.has(e)&&(xi.set(e,[a,Object.create(null),Object.create(null),Object.create(null),n,d,l]),!Vh)){const h=s.initFocus(setTimeout.bind(ks,dP.bind(ks,a,WO))),f=s.initReconnect(setTimeout.bind(ks,dP.bind(ks,a,VO)));i=()=>{h&&h(),f&&f(),xi.delete(e)}}};return m(),[e,n,m,i]}return[e,xi.get(e)[4]]},_V=(e,r,s,a,n)=>{const i=s.errorRetryCount,o=n.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*s.errorRetryInterval;!$t(i)&&o>i||setTimeout(a,l,n)},PV=gN,[Nf,YO]=GO(new Map),JO=Lo({onLoadingSlow:Ll,onSuccess:Ll,onError:Ll,onErrorRetry:_V,onDiscarded:Ll,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:cP?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:cP?5e3:3e3,compare:PV,isPaused:()=>!1,cache:Nf,mutate:YO,fallback:{}},wV),XO=(e,r)=>{const s=Lo(e,r);if(r){const{use:a,fallback:n}=e,{use:i,fallback:o}=r;a&&i&&(s.use=a.concat(i)),n&&o&&(s.fallback=Lo(n,o))}return s},NN=p.createContext({}),AV=e=>{const{value:r}=e,s=p.useContext(NN),a=Dn(r),n=p.useMemo(()=>a?r(s):r,[a,s,r]),i=p.useMemo(()=>a?n:XO(s,n),[a,s,n]),o=n&&n.provider,l=p.useRef(ks);o&&!l.current&&(l.current=GO(o(i.cache||Nf),n));const d=l.current;return d&&(i.cache=d[0],i.mutate=d[1]),Mh(()=>{if(d)return d[2]&&d[2](),d[3]},[]),p.createElement(NN.Provider,Lo(e,{value:i}))},QO="$inf$",ZO=jf&&window.__SWR_DEVTOOLS_USE__,EV=ZO?window.__SWR_DEVTOOLS_USE__:[],TV=()=>{ZO&&(window.__SWR_DEVTOOLS_REACT__=oe)},eM=e=>Dn(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],tM=()=>Lo(JO,p.useContext(NN)),OV=(e,r)=>{const[s,a]=Lu(e),[,,,n]=xi.get(Nf);if(n[s])return n[s];const i=r(a);return n[s]=i,i},MV=e=>(r,s,a)=>e(r,s&&((...i)=>{const[o]=Lu(r),[,,,l]=xi.get(Nf);if(o.startsWith(QO))return s(...i);const d=l[o];return $t(d)?s(...i):(delete l[o],d)}),a),RV=EV.concat(MV),IV=e=>function(...s){const a=tM(),[n,i,o]=eM(s),l=XO(a,o);let d=e;const{use:m}=l,h=(m||[]).concat(RV);for(let f=h.length;f--;)d=h[f](d);return d(n,i||l.fetcher||null,l)},DV=(e,r,s)=>{const a=r[e]||(r[e]=[]);return a.push(s),()=>{const n=a.indexOf(s);n>=0&&(a[n]=a[a.length-1],a.pop())}},LV=(e,r)=>(...s)=>{const[a,n,i]=eM(s),o=(i.use||[]).concat(r);return e(a,n,{...i,use:o})};TV();const $V=()=>{},zV=$V(),SN=Object,uP=e=>e===zV,FV=e=>typeof e=="function",pg=new WeakMap,UV=e=>SN.prototype.toString.call(e),Lb=(e,r)=>e===`[object ${r}]`;let BV=0;const CN=e=>{const r=typeof e,s=UV(e),a=Lb(s,"Date"),n=Lb(s,"RegExp"),i=Lb(s,"Object");let o,l;if(SN(e)===e&&!a&&!n){if(o=pg.get(e),o)return o;if(o=++BV+"~",pg.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=CN(e[l])+",";pg.set(e,o)}if(i){o="#";const d=SN.keys(e).sort();for(;!uP(l=d.pop());)uP(e[l])||(o+=l+":"+CN(e[l])+",");pg.set(e,o)}}else o=a?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return o},WV=e=>{if(FV(e))try{e=e()}catch{e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?CN(e):"",[e,r]},VV=e=>WV(e)[0],$b=oe.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(r=>{e.status="fulfilled",e.value=r},r=>{e.status="rejected",e.reason=r}),e}}),zb={dedupe:!0},qV=(e,r,s)=>{const{cache:a,compare:n,suspense:i,fallbackData:o,revalidateOnMount:l,revalidateIfStale:d,refreshInterval:m,refreshWhenHidden:h,refreshWhenOffline:f,keepPreviousData:g}=s,[y,w,v,b]=xi.get(a),[N,C]=Lu(e),S=p.useRef(!1),_=p.useRef(!1),A=p.useRef(N),T=p.useRef(r),E=p.useRef(s),R=()=>E.current,$=()=>R().isVisible()&&R().isOnline(),[K,M,I,W]=El(a,N),V=p.useRef({}).current,U=$t(o)?$t(s.fallback)?ks:s.fallback[N]:o,L=(be,Te)=>{for(const Ue in V){const ie=Ue;if(ie==="data"){if(!n(be[ie],Te[ie])&&(!$t(be[ie])||!n(he,Te[ie])))return!1}else if(Te[ie]!==be[ie])return!1}return!0},O=p.useMemo(()=>{const be=!N||!r?!1:$t(l)?R().isPaused()||i?!1:d!==!1:l,Te=St=>{const ue=Lo(St);return delete ue._k,be?{isValidating:!0,isLoading:!0,...ue}:ue},Ue=K(),ie=W(),Ge=Te(Ue),Ct=Ue===ie?Ge:Te(ie);let Ot=Ge;return[()=>{const St=Te(K());return L(St,Ot)?(Ot.data=St.data,Ot.isLoading=St.isLoading,Ot.isValidating=St.isValidating,Ot.error=St.error,Ot):(Ot=St,St)},()=>Ct]},[a,N]),F=gS.useSyncExternalStore(p.useCallback(be=>I(N,(Te,Ue)=>{L(Ue,Te)||be()}),[a,N]),O[0],O[1]),z=!S.current,Y=y[N]&&y[N].length>0,B=F.data,ee=$t(B)?U&&HO(U)?$b(U):U:B,ke=F.error,H=p.useRef(ee),he=g?$t(B)?$t(H.current)?ee:H.current:B:ee,Ie=Y&&!$t(ke)?!1:z&&!$t(l)?l:R().isPaused()?!1:i?$t(ee)?!1:d:$t(ee)||d,Pe=!!(N&&r&&z&&Ie),De=$t(F.isValidating)?Pe:F.isValidating,ce=$t(F.isLoading)?Pe:F.isLoading,Ce=p.useCallback(async be=>{const Te=T.current;if(!N||!Te||_.current||R().isPaused())return!1;let Ue,ie,Ge=!0;const Ct=be||{},Ot=!v[N]||!Ct.dedupe,St=()=>lP?!_.current&&N===A.current&&S.current:N===A.current,ue={isValidating:!1,isLoading:!1},Be=()=>{M(ue)},kt=()=>{const _t=v[N];_t&&_t[1]===ie&&delete v[N]},Jt={isValidating:!0};$t(K().data)&&(Jt.isLoading=!0);try{if(Ot&&(M(Jt),s.loadingTimeout&&$t(K().data)&&setTimeout(()=>{Ge&&St()&&R().onLoadingSlow(N,s)},s.loadingTimeout),v[N]=[Te(C),jN()]),[Ue,ie]=v[N],Ue=await Ue,Ot&&setTimeout(kt,s.dedupingInterval),!v[N]||v[N][1]!==ie)return Ot&&St()&&R().onDiscarded(N),!1;ue.error=ks;const _t=w[N];if(!$t(_t)&&(ie<=_t[0]||ie<=_t[1]||_t[1]===0))return Be(),Ot&&St()&&R().onDiscarded(N),!1;const wr=K().data;ue.data=n(wr,Ue)?wr:Ue,Ot&&St()&&R().onSuccess(Ue,N,s)}catch(_t){kt();const wr=R(),{shouldRetryOnError:Yr}=wr;wr.isPaused()||(ue.error=_t,Ot&&St()&&(wr.onError(_t,N,wr),(Yr===!0||Dn(Yr)&&Yr(_t))&&(!R().revalidateOnFocus||!R().revalidateOnReconnect||$())&&wr.onErrorRetry(_t,N,wr,jr=>{const bs=y[N];bs&&bs[0]&&bs[0](iP,jr)},{retryCount:(Ct.retryCount||0)+1,dedupe:!0})))}return Ge=!1,Be(),!0},[N,a]),Ee=p.useCallback((...be)=>KO(a,A.current,...be),[]);if(Mh(()=>{T.current=r,E.current=s,$t(B)||(H.current=B)}),Mh(()=>{if(!N)return;const be=Ce.bind(ks,zb);let Te=0;R().revalidateOnFocus&&(Te=Date.now()+R().focusThrottleInterval);const ie=DV(N,y,(Ge,Ct={})=>{if(Ge==WO){const Ot=Date.now();R().revalidateOnFocus&&Ot>Te&&$()&&(Te=Ot+R().focusThrottleInterval,be())}else if(Ge==VO)R().revalidateOnReconnect&&$()&&be();else{if(Ge==qO)return Ce();if(Ge==iP)return Ce(Ct)}});return _.current=!1,A.current=N,S.current=!0,M({_k:C}),Ie&&(v[N]||($t(ee)||Vh?be():NV(be))),()=>{_.current=!0,ie()}},[N]),Mh(()=>{let be;function Te(){const ie=Dn(m)?m(K().data):m;ie&&be!==-1&&(be=setTimeout(Ue,ie))}function Ue(){!K().error&&(h||R().isVisible())&&(f||R().isOnline())?Ce(zb).then(Te):Te()}return Te(),()=>{be&&(clearTimeout(be),be=-1)}},[m,h,f,N]),p.useDebugValue(he),i&&$t(ee)&&N){if(!lP&&Vh)throw new Error("Fallback data is required when using Suspense in SSR.");T.current=r,E.current=s,_.current=!1;const be=b[N];if(!$t(be)){const Te=Ee(be);$b(Te)}if($t(ke)){const Te=Ce(zb);$t(he)||(Te.status="fulfilled",Te.value=!0),$b(Te)}else throw ke}return{mutate:Ee,get data(){return V.data=!0,he},get error(){return V.error=!0,ke},get isValidating(){return V.isValidating=!0,De},get isLoading(){return V.isLoading=!0,ce}}},HV=c0.defineProperty(AV,"defaultValue",{value:JO}),yS=IV(qV),KV=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:HV,default:yS,mutate:YO,preload:OV,unstable_serialize:VV,useSWRConfig:tM},Symbol.toStringTag,{value:"Module"})),GV=()=>{},YV=GV(),kN=Object,mP=e=>e===YV,JV=e=>typeof e=="function",gg=new WeakMap,XV=e=>kN.prototype.toString.call(e),Fb=(e,r)=>e===`[object ${r}]`;let QV=0;const _N=e=>{const r=typeof e,s=XV(e),a=Fb(s,"Date"),n=Fb(s,"RegExp"),i=Fb(s,"Object");let o,l;if(kN(e)===e&&!a&&!n){if(o=gg.get(e),o)return o;if(o=++QV+"~",gg.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=_N(e[l])+",";gg.set(e,o)}if(i){o="#";const d=kN.keys(e).sort();for(;!mP(l=d.pop());)mP(e[l])||(o+=l+":"+_N(e[l])+",");gg.set(e,o)}}else o=a?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return o},ZV=e=>{if(JV(e))try{e=e()}catch{e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?_N(e):"",[e,r]},eq=e=>ZV(e?e(0,null):null)[0],Ub=Promise.resolve(),tq=e=>(r,s,a)=>{const n=p.useRef(!1),{cache:i,initialSize:o=1,revalidateAll:l=!1,persistSize:d=!1,revalidateFirstPage:m=!0,revalidateOnMount:h=!1,parallel:f=!1}=a,[,,,g]=xi.get(Nf);let y;try{y=eq(r),y&&(y=QO+y)}catch{}const[w,v,b]=El(i,y),N=p.useCallback(()=>$t(w()._l)?o:w()._l,[i,y,o]);gS.useSyncExternalStore(p.useCallback(R=>y?b(y,()=>{R()}):()=>{},[i,y]),N,N);const C=p.useCallback(()=>{const R=w()._l;return $t(R)?o:R},[y,o]),S=p.useRef(C());Mh(()=>{if(!n.current){n.current=!0;return}y&&v({_l:d?S.current:C()})},[y,i]);const _=h&&!n.current,A=e(y,async R=>{const $=w()._i,K=w()._r;v({_r:ks});const M=[],I=C(),[W]=El(i,R),V=W().data,U=[];let L=null;for(let O=0;O<I;++O){const[F,z]=Lu(r(O,f?null:L));if(!F)break;const[Y,B]=El(i,F);let ee=Y().data;const ke=l||$||$t(ee)||m&&!O&&!$t(V)||_||V&&!$t(V[O])&&!a.compare(V[O],ee);if(s&&(typeof K=="function"?K(ee,z):ke)){const H=async()=>{if(!(F in g))ee=await s(z);else{const Ie=g[F];delete g[F],ee=await Ie}B({data:ee,_k:z}),M[O]=ee};f?U.push(H):await H()}else M[O]=ee;f||(L=ee)}return f&&await Promise.all(U.map(O=>O())),v({_i:ks}),M},a),T=p.useCallback(function(R,$){const K=typeof $=="boolean"?{revalidate:$}:$||{},M=K.revalidate!==!1;return y?(M&&($t(R)?v({_i:!0,_r:K.revalidate}):v({_i:!1,_r:K.revalidate})),arguments.length?A.mutate(R,{...K,revalidate:M}):A.mutate()):Ub},[y,i]),E=p.useCallback(R=>{if(!y)return Ub;const[,$]=El(i,y);let K;if(Dn(R)?K=R(C()):typeof R=="number"&&(K=R),typeof K!="number")return Ub;$({_l:K}),S.current=K;const M=[],[I]=El(i,y);let W=null;for(let V=0;V<K;++V){const[U]=Lu(r(V,W)),[L]=El(i,U),O=U?L().data:ks;if($t(O))return T(I().data);M.push(O),W=O}return T(M)},[y,i,T,C]);return{size:C(),setSize:E,mutate:T,get data(){return A.data},get error(){return A.error},get isValidating(){return A.isValidating},get isLoading(){return A.isLoading}}},rq=LV(yS,tq);var hP=Object.prototype.hasOwnProperty;function fP(e,r,s){for(s of e.keys())if(Rh(s,r))return s}function Rh(e,r){var s,a,n;if(e===r)return!0;if(e&&r&&(s=e.constructor)===r.constructor){if(s===Date)return e.getTime()===r.getTime();if(s===RegExp)return e.toString()===r.toString();if(s===Array){if((a=e.length)===r.length)for(;a--&&Rh(e[a],r[a]););return a===-1}if(s===Set){if(e.size!==r.size)return!1;for(a of e)if(n=a,n&&typeof n=="object"&&(n=fP(r,n),!n)||!r.has(n))return!1;return!0}if(s===Map){if(e.size!==r.size)return!1;for(a of e)if(n=a[0],n&&typeof n=="object"&&(n=fP(r,n),!n)||!Rh(a[1],r.get(n)))return!1;return!0}if(s===ArrayBuffer)e=new Uint8Array(e),r=new Uint8Array(r);else if(s===DataView){if((a=e.byteLength)===r.byteLength)for(;a--&&e.getInt8(a)===r.getInt8(a););return a===-1}if(ArrayBuffer.isView(e)){if((a=e.byteLength)===r.byteLength)for(;a--&&e[a]===r[a];);return a===-1}if(!s||typeof e=="object"){a=0;for(s in e)if(hP.call(e,s)&&++a&&!hP.call(r,s)||!(s in r)||!Rh(e[s],r[s]))return!1;return Object.keys(r).length===a}}return e!==e&&r!==r}function sq(e,r){if(!e)throw typeof r=="string"?new Error(r):new Error(`${r.displayName} not found`)}var ao=(e,r)=>{const{assertCtxFn:s=sq}={},a=oe.createContext(void 0);return a.displayName=e,[a,()=>{const o=oe.useContext(a);return s(o,`${e} not found`),o.value},()=>{const o=oe.useContext(a);return o?o.value:{}}]},vS={};GW(vS,{useSWR:()=>yS,useSWRInfinite:()=>rq});JW(vS,KV);var[rM,sM]=ao("ClerkInstanceContext"),[aq,nq]=ao("UserContext"),[iq,_1e]=ao("ClientContext"),[oq,P1e]=ao("SessionContext");oe.createContext({});var[lq,A1e]=ao("CheckoutContext"),cq=({children:e,...r})=>oe.createElement(lq.Provider,{value:{value:r}},e),[dq,E1e]=ao("OrganizationContext"),uq=({children:e,organization:r,swrConfig:s})=>oe.createElement(vS.SWRConfig,{value:s},oe.createElement(dq.Provider,{value:{value:{organization:r}}},e));function aM(e){if(!oe.useContext(rM)){if(typeof e=="function"){e();return}throw new Error(`${e} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?oe.useLayoutEffect:oe.useEffect;var pP="useUser";function bS(){var s;aM(pP);const e=nq();return(s=sM().telemetry)==null||s.record(UO(pP)),e===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}var gP=Rh,mq=e=>{const r=p.useRef(e);return p.useEffect(()=>{r.current=e},[e]),r.current},nn=(e,r,s)=>{const a=!!s,n=p.useRef(s);p.useEffect(()=>{n.current=s},[s]),p.useEffect(()=>{if(!a||!e)return()=>{};const i=(...o)=>{n.current&&n.current(...o)};return e.on(r,i),()=>{e.off(r,i)}},[a,r,e,n])},nM=oe.createContext(null);nM.displayName="ElementsContext";var hq=(e,r)=>{if(!e)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${r} in an <Elements> provider.`);return e},d0=e=>e!==null&&typeof e=="object",fq=(e,r,s)=>d0(e)?Object.keys(e).reduce((a,n)=>{const i=!d0(r)||!iM(e[n],r[n]);return s.includes(n)?(i&&console.warn(`Unsupported prop change: options.${n} is not a mutable property.`),a):i?{...a||{},[n]:e[n]}:a},null):null,xP="[object Object]",iM=(e,r)=>{if(!d0(e)||!d0(r))return e===r;const s=Array.isArray(e),a=Array.isArray(r);if(s!==a)return!1;const n=Object.prototype.toString.call(e)===xP,i=Object.prototype.toString.call(r)===xP;if(n!==i)return!1;if(!n&&!s)return e===r;const o=Object.keys(e),l=Object.keys(r);if(o.length!==l.length)return!1;const d={};for(let y=0;y<o.length;y+=1)d[o[y]]=!0;for(let y=0;y<l.length;y+=1)d[l[y]]=!0;const m=Object.keys(d);if(m.length!==o.length)return!1;const h=e,f=r,g=y=>iM(h[y],f[y]);return m.every(g)},yP=e=>{const r=oe.useContext(nM);return hq(r,e)},pq=e=>e.charAt(0).toUpperCase()+e.slice(1),gq=(e,r)=>{const s=`${pq(e)}Element`,i=r?o=>{yP(`mounts <${s}>`);const{id:l,className:d}=o;return oe.createElement("div",{id:l,className:d})}:({id:o,className:l,fallback:d,options:m={},onBlur:h,onFocus:f,onReady:g,onChange:y,onEscape:w,onClick:v,onLoadError:b,onLoaderStart:N,onNetworksChange:C,onConfirm:S,onCancel:_,onShippingAddressChange:A,onShippingRateChange:T})=>{const E=yP(`mounts <${s}>`),R="elements"in E?E.elements:null,[$,K]=oe.useState(null),M=oe.useRef(null),I=oe.useRef(null),[W,V]=p.useState(!1);nn($,"blur",h),nn($,"focus",f),nn($,"escape",w),nn($,"click",v),nn($,"loaderror",b),nn($,"loaderstart",N),nn($,"networkschange",C),nn($,"confirm",S),nn($,"cancel",_),nn($,"shippingaddresschange",A),nn($,"shippingratechange",T),nn($,"change",y);let U;g&&(U=()=>{V(!0),g($)}),nn($,"ready",U),oe.useLayoutEffect(()=>{if(M.current===null&&I.current!==null&&R){let O=null;R&&(O=R.create(e,m)),M.current=O,K(O),O&&O.mount(I.current)}},[R,m]);const L=mq(m);return oe.useEffect(()=>{if(!M.current)return;const O=fq(m,L,["paymentRequest"]);O&&"update"in M.current&&M.current.update(O)},[m,L]),oe.useLayoutEffect(()=>()=>{if(M.current&&typeof M.current.destroy=="function")try{M.current.destroy(),M.current=null}catch{}},[]),oe.createElement(oe.Fragment,null,!W&&d,oe.createElement("div",{id:o,className:l,ref:I}))};return i.displayName=s,i.__elementType=e,i},xq=typeof window>"u";gq("payment",xq);ao("StripeLibsContext");ao("PaymentElementContext");ao("StripeUtilsContext");var Vi=DO({packageName:"@clerk/clerk-react"});function yq(e){Vi.setMessages(e).setPackageName(e)}var[vq,bq]=ao("AuthContext"),wq=rM,oM=sM,jq="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",Nq=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,Sq="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",Bb="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",Cq="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",kq="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",_q="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",Pq="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",Aq=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,Eq=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,Tq=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,Oq="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",Mq="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",Rq="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",Iq="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",Dq="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",Lq="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",$q="Missing props. <UserButton.Action /> component requires the following props: label.",lM=e=>{aM(()=>{Vi.throwMissingClerkProviderError({source:e})})},cM=e=>new Promise(r=>{const s=a=>{["ready","degraded"].includes(a)&&(r(),e.off("status",s))};e.on("status",s,{notify:!0})}),zq=e=>async r=>(await cM(e),e.session?e.session.getToken(r):null),Fq=e=>async(...r)=>(await cM(e),e.signOut(...r)),Uq=(e={})=>{var r,s;lM("useAuth");const{treatPendingAsSignedOut:a,...n}=e??{},i=n;let l=bq();l.sessionId===void 0&&l.userId===void 0&&(l=i??{});const d=oM(),m=p.useCallback(zq(d),[d]),h=p.useCallback(Fq(d),[d]);return(r=d.telemetry)==null||r.record(UO("useAuth",{treatPendingAsSignedOut:a})),Bq({...l,getToken:m,signOut:h},{treatPendingAsSignedOut:a??((s=d.__internal_getOption)==null?void 0:s.call(d,"treatPendingAsSignedOut"))})};function Bq(e,{treatPendingAsSignedOut:r=!0}={}){const{userId:s,orgId:a,orgRole:n,has:i,signOut:o,getToken:l,orgPermissions:d,factorVerificationAge:m,sessionClaims:h}=e??{},f=p.useCallback(y=>i?i(y):lV({userId:s,orgId:a,orgRole:n,orgPermissions:d,factorVerificationAge:m,features:(h==null?void 0:h.fea)||"",plans:(h==null?void 0:h.pla)||""})(y),[i,s,a,n,d,m]),g=cV({authObject:{...e,getToken:l,signOut:o,has:f},options:{treatPendingAsSignedOut:r}});return g||Vi.throw(Sq)}var Gr=(e,r)=>{const a=(typeof r=="string"?r:r==null?void 0:r.component)||e.displayName||e.name||"Component";e.displayName=a;const n=typeof r=="string"?void 0:r,i=o=>{lM(a||"withClerk");const l=oM();return!l.loaded&&!(n!=null&&n.renderWhileLoading)?null:oe.createElement(e,{...o,component:a,clerk:l})};return i.displayName=`withClerk(${a})`,i},Wq=()=>{try{return!1}catch{}return!1},Vq=()=>{try{return!1}catch{}return!1},qq=()=>{try{return!0}catch{}return!1},vP=new Set,wS=(e,r,s)=>{const a=Vq()||qq(),n=e;vP.has(n)||a||(vP.add(n),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${r}`))};Gr(({clerk:e,...r})=>{const{client:s,session:a}=e,n=s.signedInSessions?s.signedInSessions.length>0:s.activeSessions&&s.activeSessions.length>0;return oe.useEffect(()=>{a===null&&n?e.redirectToAfterSignOut():e.redirectToSignIn(r)},[]),null},"RedirectToSignIn");Gr(({clerk:e,...r})=>(oe.useEffect(()=>{e.redirectToSignUp(r)},[]),null),"RedirectToSignUp");Gr(({clerk:e})=>(oe.useEffect(()=>{wS("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");Gr(({clerk:e})=>(oe.useEffect(()=>{wS("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");Gr(({clerk:e})=>(oe.useEffect(()=>{wS("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");Gr(({clerk:e,...r})=>(oe.useEffect(()=>{e.handleRedirectCallback(r)},[]),null),"AuthenticateWithRedirectCallback");var Aa=e=>{Wq()&&console.error(`Clerk: ${e}`)};function Wb(e,r,s){if(typeof e=="function")return e(r);if(typeof e<"u")return e;if(typeof s<"u")return s}var bP=(e,...r)=>{const s={...e};for(const a of r)delete s[a];return s},Sx=e=>r=>{try{return oe.Children.only(e)}catch{return Vi.throw(Nq(r))}},Cx=(e,r)=>(e||(e=r),typeof e=="string"&&(e=oe.createElement("button",null,e)),e),kx=e=>(...r)=>{if(e&&typeof e=="function")return e(...r)};function Hq(e){return typeof e=="function"}var xg=new Map;function Kq(e,r,s=1){oe.useEffect(()=>{const a=xg.get(e)||0;return a==s?Vi.throw(r):(xg.set(e,a+1),()=>{xg.set(e,(xg.get(e)||1)-1)})},[])}function Gq(e,r,s){const a=e.displayName||e.name||r||"Component",n=i=>(Kq(r,s),oe.createElement(e,{...i}));return n.displayName=`withMaxAllowedInstancesGuard(${a})`,n}var Ih=e=>{const r=Array(e.length).fill(null),[s,a]=p.useState(r);return e.map((n,i)=>({id:n.id,mount:o=>a(l=>l.map((d,m)=>m===i?o:d)),unmount:()=>a(o=>o.map((l,d)=>d===i?null:l)),portal:()=>oe.createElement(oe.Fragment,null,s[i]?Xl.createPortal(n.component,s[i]):null)}))},Pa=(e,r)=>!!e&&oe.isValidElement(e)&&(e==null?void 0:e.type)===r,dM=(e,r)=>hM({children:e,reorderItemsLabels:["account","security"],LinkComponent:Cf,PageComponent:Sf,MenuItemsComponent:Px,componentName:"UserProfile"},r),uM=(e,r)=>hM({children:e,reorderItemsLabels:["general","members"],LinkComponent:Ex,PageComponent:Ax,componentName:"OrganizationProfile"},r),mM=e=>{const r=[],s=[Ex,Ax,Px,Sf,Cf];return oe.Children.forEach(e,a=>{s.some(n=>Pa(a,n))||r.push(a)}),r},hM=(e,r)=>{const{children:s,LinkComponent:a,PageComponent:n,MenuItemsComponent:i,reorderItemsLabels:o,componentName:l}=e,{allowForAnyChildren:d=!1}=r||{},m=[];oe.Children.forEach(s,C=>{if(!Pa(C,n)&&!Pa(C,a)&&!Pa(C,i)){C&&!d&&Aa(Aq(l));return}const{props:S}=C,{children:_,label:A,url:T,labelIcon:E}=S;if(Pa(C,n))if(wP(S,o))m.push({label:A});else if(Vb(S))m.push({label:A,labelIcon:E,children:_,url:T});else{Aa(Eq(l));return}if(Pa(C,a))if(qb(S))m.push({label:A,labelIcon:E,url:T});else{Aa(Tq(l));return}});const h=[],f=[],g=[];m.forEach((C,S)=>{if(Vb(C)){h.push({component:C.children,id:S}),f.push({component:C.labelIcon,id:S});return}qb(C)&&g.push({component:C.labelIcon,id:S})});const y=Ih(h),w=Ih(f),v=Ih(g),b=[],N=[];return m.forEach((C,S)=>{if(wP(C,o)){b.push({label:C.label});return}if(Vb(C)){const{portal:_,mount:A,unmount:T}=y.find(K=>K.id===S),{portal:E,mount:R,unmount:$}=w.find(K=>K.id===S);b.push({label:C.label,url:C.url,mount:A,unmount:T,mountIcon:R,unmountIcon:$}),N.push(_),N.push(E);return}if(qb(C)){const{portal:_,mount:A,unmount:T}=v.find(E=>E.id===S);b.push({label:C.label,url:C.url,mountIcon:A,unmountIcon:T}),N.push(_);return}}),{customPages:b,customPagesPortals:N}},wP=(e,r)=>{const{children:s,label:a,url:n,labelIcon:i}=e;return!s&&!n&&!i&&r.some(o=>o===a)},Vb=e=>{const{children:r,label:s,url:a,labelIcon:n}=e;return!!r&&!!a&&!!n&&!!s},qb=e=>{const{children:r,label:s,url:a,labelIcon:n}=e;return!r&&!!a&&!!n&&!!s},Yq=e=>Jq({children:e,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:Px,MenuActionComponent:pM,MenuLinkComponent:gM,UserProfileLinkComponent:Cf,UserProfilePageComponent:Sf}),Jq=({children:e,MenuItemsComponent:r,MenuActionComponent:s,MenuLinkComponent:a,UserProfileLinkComponent:n,UserProfilePageComponent:i,reorderItemsLabels:o})=>{const l=[],d=[],m=[];oe.Children.forEach(e,w=>{if(!Pa(w,r)&&!Pa(w,n)&&!Pa(w,i)){w&&Aa(Oq);return}if(Pa(w,n)||Pa(w,i))return;const{props:v}=w;oe.Children.forEach(v.children,b=>{if(!Pa(b,s)&&!Pa(b,a)){b&&Aa(Mq);return}const{props:N}=b,{label:C,labelIcon:S,href:_,onClick:A,open:T}=N;if(Pa(b,s))if(jP(N,o))l.push({label:C});else if(Hb(N)){const E={label:C,labelIcon:S};if(A!==void 0)l.push({...E,onClick:A});else if(T!==void 0)l.push({...E,open:T.startsWith("/")?T:`/${T}`});else{Aa("Custom menu item must have either onClick or open property");return}}else{Aa($q);return}if(Pa(b,a))if(Kb(N))l.push({label:C,labelIcon:S,href:_});else{Aa(Lq);return}})});const h=[],f=[];l.forEach((w,v)=>{Hb(w)&&h.push({component:w.labelIcon,id:v}),Kb(w)&&f.push({component:w.labelIcon,id:v})});const g=Ih(h),y=Ih(f);return l.forEach((w,v)=>{if(jP(w,o)&&d.push({label:w.label}),Hb(w)){const{portal:b,mount:N,unmount:C}=g.find(_=>_.id===v),S={label:w.label,mountIcon:N,unmountIcon:C};"onClick"in w?S.onClick=w.onClick:"open"in w&&(S.open=w.open),d.push(S),m.push(b)}if(Kb(w)){const{portal:b,mount:N,unmount:C}=y.find(S=>S.id===v);d.push({label:w.label,href:w.href,mountIcon:N,unmountIcon:C}),m.push(b)}}),{customMenuItems:d,customMenuItemsPortals:m}},jP=(e,r)=>{const{children:s,label:a,onClick:n,labelIcon:i}=e;return!s&&!n&&!i&&r.some(o=>o===a)},Hb=e=>{const{label:r,labelIcon:s,onClick:a,open:n}=e;return!!s&&!!r&&(typeof a=="function"||typeof n=="string")},Kb=e=>{const{label:r,href:s,labelIcon:a}=e;return!!s&&!!a&&!!r};function Xq(e){const{root:r=document==null?void 0:document.body,selector:s,timeout:a=0}=e;return new Promise((n,i)=>{if(!r){i(new Error("No root element provided"));return}let o=r;if(s&&(o=r==null?void 0:r.querySelector(s)),(o==null?void 0:o.childElementCount)&&o.childElementCount>0){n();return}const d=new MutationObserver(m=>{for(const h of m)if(h.type==="childList"&&(!o&&s&&(o=r==null?void 0:r.querySelector(s)),o!=null&&o.childElementCount&&o.childElementCount>0)){d.disconnect(),n();return}});d.observe(r,{childList:!0,subtree:!0}),a>0&&setTimeout(()=>{d.disconnect(),i(new Error("Timeout waiting for element children"))},a)})}function bn(e){const r=p.useRef(),[s,a]=p.useState("rendering");return p.useEffect(()=>{if(!e)throw new Error("Clerk: no component name provided, unable to detect mount.");typeof window<"u"&&!r.current&&(r.current=Xq({selector:`[data-clerk-component="${e}"]`}).then(()=>{a("rendered")}).catch(()=>{a("error")}))},[e]),s}var yg=e=>"mount"in e,NP=e=>"open"in e,SP=e=>e==null?void 0:e.map(({mountIcon:r,unmountIcon:s,...a})=>a),Oa=class extends oe.PureComponent{constructor(){super(...arguments),this.rootRef=oe.createRef()}componentDidUpdate(e){var r,s,a,n;if(!yg(e)||!yg(this.props))return;const i=bP(e.props,"customPages","customMenuItems","children"),o=bP(this.props.props,"customPages","customMenuItems","children"),l=((r=i.customPages)==null?void 0:r.length)!==((s=o.customPages)==null?void 0:s.length),d=((a=i.customMenuItems)==null?void 0:a.length)!==((n=o.customMenuItems)==null?void 0:n.length),m=SP(e.props.customMenuItems),h=SP(this.props.props.customMenuItems);(!gP(i,o)||!gP(m,h)||l||d)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(yg(this.props)&&this.props.mount(this.rootRef.current,this.props.props),NP(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(yg(this.props)&&this.props.unmount(this.rootRef.current),NP(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:e=!1}=this.props,r={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return oe.createElement(oe.Fragment,null,!e&&oe.createElement("div",{...r}),this.props.children)}},_x=e=>{var r,s;return oe.createElement(oe.Fragment,null,(r=e==null?void 0:e.customPagesPortals)==null?void 0:r.map((a,n)=>p.createElement(a,{key:n})),(s=e==null?void 0:e.customMenuItemsPortals)==null?void 0:s.map((a,n)=>p.createElement(a,{key:n})))},Qq=Gr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return oe.createElement(oe.Fragment,null,i&&s,e.loaded&&oe.createElement(Oa,{component:r,mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"SignIn",renderWhileLoading:!0}),Zq=Gr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return oe.createElement(oe.Fragment,null,i&&s,e.loaded&&oe.createElement(Oa,{component:r,mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"SignUp",renderWhileLoading:!0});function Sf({children:e}){return Aa(Cq),oe.createElement(oe.Fragment,null,e)}function Cf({children:e}){return Aa(kq),oe.createElement(oe.Fragment,null,e)}var eH=Gr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=dM(a.children);return oe.createElement(oe.Fragment,null,i&&s,oe.createElement(Oa,{component:r,mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...a,customPages:l},rootProps:o},oe.createElement(_x,{customPagesPortals:d})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(eH,{Page:Sf,Link:Cf});var fM=p.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),tH=Gr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=dM(a.children,{allowForAnyChildren:!!a.__experimental_asProvider}),m=Object.assign(a.userProfileProps||{},{customPages:l}),{customMenuItems:h,customMenuItemsPortals:f}=Yq(a.children),g=mM(a.children),y={mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...a,userProfileProps:m,customMenuItems:h}},w={customPagesPortals:d,customMenuItemsPortals:f};return oe.createElement(fM.Provider,{value:y},i&&s,e.loaded&&oe.createElement(Oa,{component:r,...y,hideRootHtmlElement:!!a.__experimental_asProvider,rootProps:o},a.__experimental_asProvider?g:null,oe.createElement(_x,{...w})))},{component:"UserButton",renderWhileLoading:!0});function Px({children:e}){return Aa(Rq),oe.createElement(oe.Fragment,null,e)}function pM({children:e}){return Aa(Iq),oe.createElement(oe.Fragment,null,e)}function gM({children:e}){return Aa(Dq),oe.createElement(oe.Fragment,null,e)}function rH(e){const r=p.useContext(fM),s={...r,props:{...r.props,...e}};return oe.createElement(Oa,{...s})}Object.assign(tH,{UserProfilePage:Sf,UserProfileLink:Cf,MenuItems:Px,Action:pM,Link:gM,__experimental_Outlet:rH});function Ax({children:e}){return Aa(_q),oe.createElement(oe.Fragment,null,e)}function Ex({children:e}){return Aa(Pq),oe.createElement(oe.Fragment,null,e)}var sH=Gr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=uM(a.children);return oe.createElement(oe.Fragment,null,i&&s,e.loaded&&oe.createElement(Oa,{component:r,mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...a,customPages:l},rootProps:o},oe.createElement(_x,{customPagesPortals:d})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(sH,{Page:Ax,Link:Ex});Gr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return oe.createElement(oe.Fragment,null,i&&s,e.loaded&&oe.createElement(Oa,{component:r,mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"CreateOrganization",renderWhileLoading:!0});var xM=p.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),aH=Gr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=uM(a.children,{allowForAnyChildren:!!a.__experimental_asProvider}),m=Object.assign(a.organizationProfileProps||{},{customPages:l}),h=mM(a.children),f={mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...a,organizationProfileProps:m},rootProps:o,component:r};return e.__experimental_prefetchOrganizationSwitcher(),oe.createElement(xM.Provider,{value:f},oe.createElement(oe.Fragment,null,i&&s,e.loaded&&oe.createElement(Oa,{...f,hideRootHtmlElement:!!a.__experimental_asProvider},a.__experimental_asProvider?h:null,oe.createElement(_x,{customPagesPortals:d}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function nH(e){const r=p.useContext(xM),s={...r,props:{...r.props,...e}};return oe.createElement(Oa,{...s})}Object.assign(aH,{OrganizationProfilePage:Ax,OrganizationProfileLink:Ex,__experimental_Outlet:nH});Gr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return oe.createElement(oe.Fragment,null,i&&s,e.loaded&&oe.createElement(Oa,{component:r,mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"OrganizationList",renderWhileLoading:!0});Gr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return oe.createElement(oe.Fragment,null,i&&s,e.loaded&&oe.createElement(Oa,{component:r,open:e.openGoogleOneTap,close:e.closeGoogleOneTap,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"GoogleOneTap",renderWhileLoading:!0});Gr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return oe.createElement(oe.Fragment,null,i&&s,e.loaded&&oe.createElement(Oa,{component:r,mount:e.mountWaitlist,unmount:e.unmountWaitlist,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"Waitlist",renderWhileLoading:!0});Gr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return oe.createElement(oe.Fragment,null,i&&s,e.loaded&&oe.createElement(Oa,{component:r,mount:e.mountPricingTable,unmount:e.unmountPricingTable,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"PricingTable",renderWhileLoading:!0});Gr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return oe.createElement(oe.Fragment,null,i&&s,e.loaded&&oe.createElement(Oa,{component:r,mount:e.mountApiKeys,unmount:e.unmountApiKeys,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"ApiKeys",renderWhileLoading:!0});Gr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return oe.createElement(oe.Fragment,null,i&&s,e.loaded&&oe.createElement(Oa,{component:r,mount:e.mountTaskSelectOrganization,unmount:e.unmountTaskSelectOrganization,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"TaskSelectOrganization",renderWhileLoading:!0});var yM=e=>{throw TypeError(e)},jS=(e,r,s)=>r.has(e)||yM("Cannot "+s),Hr=(e,r,s)=>(jS(e,r,"read from private field"),s?s.call(e):r.get(e)),Rc=(e,r,s)=>r.has(e)?yM("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,s),au=(e,r,s,a)=>(jS(e,r,"write to private field"),r.set(e,s),s),Gb=(e,r,s)=>(jS(e,r,"access private method"),s),iH=(e,r="5.77.0")=>{if(e)return e;const s=oH(r);return s?s==="snapshot"?"5.77.0":s:lH(r)},oH=e=>{var r;return(r=e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:r[1]},lH=e=>e.trim().replace(/^v/,"").split(".")[0];function cH(e){return e?dH(e)||vM(e):!0}function dH(e){return/^http(s)?:\/\//.test(e||"")}function vM(e){return e.startsWith("/")}function uH(e){return e?vM(e)?new URL(e,window.location.origin).toString():e:""}function mH(e){if(!e)return"";let r;if(e.match(/^(clerk\.)+\w*$/))r=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;r=/^(clerk\.)*/gi}return`clerk.${e.replace(r,"")}`}var hH={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,r)=>r<5,retryImmediately:!1,jitter:!0},fH=100,bM=async e=>new Promise(r=>setTimeout(r,e)),wM=(e,r)=>r?e*(1+Math.random()):e,pH=e=>{let r=0;const s=()=>{const a=e.initialDelay,n=e.factor;let i=a*Math.pow(n,r);return i=wM(i,e.jitter),Math.min(e.maxDelayBetweenRetries||i,i)};return async()=>{await bM(s()),r++}},gH=async(e,r={})=>{let s=0;const{shouldRetry:a,initialDelay:n,maxDelayBetweenRetries:i,factor:o,retryImmediately:l,jitter:d}={...hH,...r},m=pH({initialDelay:n,maxDelayBetweenRetries:i,factor:o,jitter:d});for(;;)try{return await e()}catch(h){if(s++,!a(h,s))throw h;l&&s===1?await bM(wM(fH,d)):await m()}},xH="loadScript cannot be called when document does not exist",yH="loadScript cannot be called without a src";async function vH(e="",r){const{async:s,defer:a,beforeLoad:n,crossOrigin:i,nonce:o}=r||{};return gH(()=>new Promise((d,m)=>{e||m(new Error(yH)),(!document||!document.body)&&m(xH);const h=document.createElement("script");i&&h.setAttribute("crossorigin",i),h.async=s||!1,h.defer=a||!1,h.addEventListener("load",()=>{h.remove(),d(h)}),h.addEventListener("error",()=>{h.remove(),m()}),h.src=e,h.nonce=o,n==null||n(h),document.body.appendChild(h)}),{shouldRetry:(d,m)=>m<=5})}var jM="Clerk: Failed to load Clerk",{isDevOrStagingUrl:bH}=mV(),NM=DO({packageName:"@clerk/shared"});function wH(e){NM.setPackageName({packageName:e})}function PN(){if(typeof window>"u"||!window.Clerk)return!1;const e=window.Clerk;return typeof e=="object"&&typeof e.load=="function"}function CP(e){return new Promise((r,s)=>{let a=!1;const n=(m,h)=>{clearTimeout(m),clearInterval(h)},i=()=>{a||PN()&&(a=!0,n(l,d),r(null))},l=setTimeout(()=>{a||(a=!0,n(l,d),PN()?r(null):s(new Error(jM)))},e);i();const d=setInterval(()=>{if(a){clearInterval(d);return}i()},100)})}var jH=async e=>{const r=(e==null?void 0:e.scriptLoadTimeout)??15e3;if(PN())return null;if(document.querySelector("script[data-clerk-js-script]"))return CP(r);if(!(e!=null&&e.publishableKey))return NM.throwMissingPublishableKeyError(),null;const a=CP(r);return vH(NH(e),{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:CH(e)}).catch(()=>{throw new Error(jM)}),a},NH=e=>{var h,f;const{clerkJSUrl:r,clerkJSVariant:s,clerkJSVersion:a,proxyUrl:n,domain:i,publishableKey:o}=e;if(r)return r;let l="";n&&cH(n)?l=uH(n).replace(/http(s)?:\/\//,""):i&&!bH(((h=sP(o))==null?void 0:h.frontendApi)||"")?l=mH(i):l=((f=sP(o))==null?void 0:f.frontendApi)||"";const d=s?`${s.replace(/\.+$/,"")}.`:"",m=iH(a);return`https://${l}/npm/@clerk/clerk-js@${m}/dist/clerk.${d}browser.js`},SH=e=>{const r={};return e.publishableKey&&(r["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(r["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(r["data-clerk-domain"]=e.domain),e.nonce&&(r.nonce=e.nonce),r},CH=e=>r=>{const s=SH(e);for(const a in s)r.setAttribute(a,s[a])},kH=(e,r,s)=>!e&&s?_H(s):PH(r),_H=e=>{const r=e.userId,s=e.user,a=e.sessionId,n=e.sessionStatus,i=e.sessionClaims,o=e.session,l=e.organization,d=e.orgId,m=e.orgRole,h=e.orgPermissions,f=e.orgSlug,g=e.actor,y=e.factorVerificationAge;return{userId:r,user:s,sessionId:a,session:o,sessionStatus:n,sessionClaims:i,organization:l,orgId:d,orgRole:m,orgPermissions:h,orgSlug:f,actor:g,factorVerificationAge:y}},PH=e=>{var v,b,N,C;const r=e.user?e.user.id:e.user,s=e.user,a=e.session?e.session.id:e.session,n=e.session,i=(v=e.session)==null?void 0:v.status,o=e.session?(N=(b=e.session.lastActiveToken)==null?void 0:b.jwt)==null?void 0:N.claims:null,l=e.session?e.session.factorVerificationAge:null,d=n==null?void 0:n.actor,m=e.organization,h=e.organization?e.organization.id:e.organization,f=m==null?void 0:m.slug,g=m&&((C=s==null?void 0:s.organizationMemberships)==null?void 0:C.find(S=>S.organization.id===h)),y=g&&g.permissions,w=g&&g.role;return{userId:r,user:s,sessionId:a,session:n,sessionStatus:i,sessionClaims:o,organization:m,orgId:h,orgRole:w,orgSlug:f,orgPermissions:y,actor:d,factorVerificationAge:l}};function kP(){return typeof window<"u"}var _P=(e,r,s,a,n)=>{const{notify:i}=n||{};let o=e.get(s);o||(o=[],e.set(s,o)),o.push(a),i&&r.has(s)&&a(r.get(s))},PP=(e,r,s)=>(e.get(r)||[]).map(a=>a(s)),AP=(e,r,s)=>{const a=e.get(r);a&&(s?a.splice(a.indexOf(s)>>>0,1):e.set(r,[]))},AH=()=>{const e=new Map,r=new Map,s=new Map;return{on:(...n)=>_P(e,r,...n),prioritizedOn:(...n)=>_P(s,r,...n),emit:(n,i)=>{r.set(n,i),PP(s,n,i),PP(e,n,i)},off:(...n)=>AP(e,...n),prioritizedOff:(...n)=>AP(s,...n),internal:{retrieveListeners:n=>e.get(n)||[]}}},vg={Status:"status"},EH=()=>AH();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);Gr(({clerk:e,children:r,...s})=>{const{signUpFallbackRedirectUrl:a,forceRedirectUrl:n,fallbackRedirectUrl:i,signUpForceRedirectUrl:o,mode:l,initialValues:d,withSignUp:m,oauthFlow:h,...f}=s;r=Cx(r,"Sign in");const g=Sx(r)("SignInButton"),y=()=>{const b={forceRedirectUrl:n,fallbackRedirectUrl:i,signUpFallbackRedirectUrl:a,signUpForceRedirectUrl:o,initialValues:d,withSignUp:m,oauthFlow:h};return l==="modal"?e.openSignIn({...b,appearance:s.appearance}):e.redirectToSignIn({...b,signInFallbackRedirectUrl:i,signInForceRedirectUrl:n})},v={...f,onClick:async b=>(g&&typeof g=="object"&&"props"in g&&await kx(g.props.onClick)(b),y())};return oe.cloneElement(g,v)},{component:"SignInButton",renderWhileLoading:!0});Gr(({clerk:e,children:r,...s})=>{const{redirectUrl:a,...n}=s;r=Cx(r,"Sign in with Metamask");const i=Sx(r)("SignInWithMetamaskButton"),o=async()=>{async function m(){await e.authenticateWithMetamask({redirectUrl:a||void 0})}m()},d={...n,onClick:async m=>(await kx(i.props.onClick)(m),o())};return oe.cloneElement(i,d)},{component:"SignInWithMetamask",renderWhileLoading:!0});Gr(({clerk:e,children:r,...s})=>{const{redirectUrl:a="/",signOutOptions:n,...i}=s;r=Cx(r,"Sign out");const o=Sx(r)("SignOutButton"),l=()=>e.signOut({redirectUrl:a,...n}),m={...i,onClick:async h=>(await kx(o.props.onClick)(h),l())};return oe.cloneElement(o,m)},{component:"SignOutButton",renderWhileLoading:!0});var TH=Gr(({clerk:e,children:r,...s})=>{const{fallbackRedirectUrl:a,forceRedirectUrl:n,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,mode:l,initialValues:d,oauthFlow:m,...h}=s;r=Cx(r,"Sign up");const f=Sx(r)("SignUpButton"),g=()=>{const v={fallbackRedirectUrl:a,forceRedirectUrl:n,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,initialValues:d,oauthFlow:m};return l==="modal"?e.openSignUp({...v,appearance:s.appearance,unsafeMetadata:s.unsafeMetadata}):e.redirectToSignUp({...v,signUpFallbackRedirectUrl:a,signUpForceRedirectUrl:n})},w={...h,onClick:async v=>(f&&typeof f=="object"&&"props"in f&&await kx(f.props.onClick)(v),g())};return oe.cloneElement(f,w)},{component:"SignUpButton",renderWhileLoading:!0});typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var OH={name:"@clerk/clerk-react",version:"5.37.0",environment:"production"},Yg,ju,Nu,_l,No,Tl,_h,Jg,SM=class CM{constructor(r){Rc(this,_h),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskSelectOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],Rc(this,Yg,"loading"),Rc(this,ju),Rc(this,Nu),Rc(this,_l),Rc(this,No,EH()),this.buildSignInUrl=n=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignInUrl(n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignInUrl",i)},this.buildSignUpUrl=n=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignUpUrl(n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignUpUrl",i)},this.buildAfterSignInUrl=(...n)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignInUrl(...n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignInUrl",i)},this.buildAfterSignUpUrl=(...n)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignUpUrl(...n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignUpUrl",i)},this.buildAfterSignOutUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildAfterSignOutUrl",n)},this.buildNewSubscriptionRedirectUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",n)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",n)},this.buildUserProfileUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildUserProfileUrl",n)},this.buildCreateOrganizationUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildCreateOrganizationUrl",n)},this.buildOrganizationProfileUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildOrganizationProfileUrl",n)},this.buildWaitlistUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildWaitlistUrl",n)},this.buildUrlWithAuth=n=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildUrlWithAuth(n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUrlWithAuth",i)},this.handleUnauthenticated=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.handleUnauthenticated()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("handleUnauthenticated",n)},this.on=(...n)=>{var i;if((i=this.clerkjs)!=null&&i.on)return this.clerkjs.on(...n);Hr(this,No).on(...n)},this.off=(...n)=>{var i;if((i=this.clerkjs)!=null&&i.off)return this.clerkjs.off(...n);Hr(this,No).off(...n)},this.addOnLoaded=n=>{this.loadedListeners.push(n),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(n=>n()),this.loadedListeners=[]},this.beforeLoad=n=>{if(!n)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=n=>{var i;if(!n)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=n,this.premountMethodCalls.forEach(o=>o()),this.premountAddListenerCalls.forEach((o,l)=>{o.nativeUnsubscribe=n.addListener(l)}),(i=Hr(this,No).internal.retrieveListeners("status"))==null||i.forEach(o=>{this.on("status",o,{notify:!0})}),this.preopenSignIn!==null&&n.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&n.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&n.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&n.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&n.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&n.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&n.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&n.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&n.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&n.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&n.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((o,l)=>{n.mountSignIn(l,o)}),this.premountSignUpNodes.forEach((o,l)=>{n.mountSignUp(l,o)}),this.premountUserProfileNodes.forEach((o,l)=>{n.mountUserProfile(l,o)}),this.premountUserButtonNodes.forEach((o,l)=>{n.mountUserButton(l,o)}),this.premountOrganizationListNodes.forEach((o,l)=>{n.mountOrganizationList(l,o)}),this.premountWaitlistNodes.forEach((o,l)=>{n.mountWaitlist(l,o)}),this.premountPricingTableNodes.forEach((o,l)=>{n.mountPricingTable(l,o)}),this.premountApiKeysNodes.forEach((o,l)=>{n.mountApiKeys(l,o)}),this.premountOAuthConsentNodes.forEach((o,l)=>{n.__internal_mountOAuthConsent(l,o)}),this.premountTaskSelectOrganizationNodes.forEach((o,l)=>{n.mountTaskSelectOrganization(l,o)}),typeof this.clerkjs.status>"u"&&Hr(this,No).emit(vg.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...n)=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_checkout(...n)},this.__unstable__updateProps=async n=>{const i=await Gb(this,_h,Jg).call(this);if(i&&"__unstable__updateProps"in i)return i.__unstable__updateProps(n)},this.__internal_navigateToTaskIfAvailable=async n=>this.clerkjs?this.clerkjs.__internal_navigateToTaskIfAvailable(n):Promise.reject(),this.setActive=n=>this.clerkjs?this.clerkjs.setActive(n):Promise.reject(),this.openSignIn=n=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(n):this.preopenSignIn=n},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(n):this.preopenCheckout=n},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(n):this.preopenPlanDetails=n},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(n):this.preopenSubscriptionDetails=n??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(n):this.preopenUserVerification=n},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=n=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(n):this.preopenOneTap=n},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(n):this.preopenUserProfile=n},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(n):this.preopenOrganizationProfile=n},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=n=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(n):this.preopenCreateOrganization=n},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=n=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(n):this.preOpenWaitlist=n},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=n=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(n):this.preopenSignUp=n},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(n,i):this.premountSignInNodes.set(n,i)},this.unmountSignIn=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(n):this.premountSignInNodes.delete(n)},this.mountSignUp=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(n,i):this.premountSignUpNodes.set(n,i)},this.unmountSignUp=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(n):this.premountSignUpNodes.delete(n)},this.mountUserProfile=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(n,i):this.premountUserProfileNodes.set(n,i)},this.unmountUserProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(n):this.premountUserProfileNodes.delete(n)},this.mountOrganizationProfile=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(n,i):this.premountOrganizationProfileNodes.set(n,i)},this.unmountOrganizationProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(n):this.premountOrganizationProfileNodes.delete(n)},this.mountCreateOrganization=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(n,i):this.premountCreateOrganizationNodes.set(n,i)},this.unmountCreateOrganization=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(n):this.premountCreateOrganizationNodes.delete(n)},this.mountOrganizationSwitcher=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(n,i):this.premountOrganizationSwitcherNodes.set(n,i)},this.unmountOrganizationSwitcher=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(n):this.premountOrganizationSwitcherNodes.delete(n)},this.__experimental_prefetchOrganizationSwitcher=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",n)},this.mountOrganizationList=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(n,i):this.premountOrganizationListNodes.set(n,i)},this.unmountOrganizationList=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(n):this.premountOrganizationListNodes.delete(n)},this.mountUserButton=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(n,i):this.premountUserButtonNodes.set(n,i)},this.unmountUserButton=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(n):this.premountUserButtonNodes.delete(n)},this.mountWaitlist=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(n,i):this.premountWaitlistNodes.set(n,i)},this.unmountWaitlist=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(n):this.premountWaitlistNodes.delete(n)},this.mountPricingTable=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(n,i):this.premountPricingTableNodes.set(n,i)},this.unmountPricingTable=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(n):this.premountPricingTableNodes.delete(n)},this.mountApiKeys=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(n,i):this.premountApiKeysNodes.set(n,i)},this.unmountApiKeys=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(n):this.premountApiKeysNodes.delete(n)},this.__internal_mountOAuthConsent=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(n,i):this.premountOAuthConsentNodes.set(n,i)},this.__internal_unmountOAuthConsent=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(n):this.premountOAuthConsentNodes.delete(n)},this.mountTaskSelectOrganization=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskSelectOrganization(n,i):this.premountTaskSelectOrganizationNodes.set(n,i)},this.unmountTaskSelectOrganization=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskSelectOrganization(n):this.premountTaskSelectOrganizationNodes.delete(n)},this.addListener=n=>{if(this.clerkjs)return this.clerkjs.addListener(n);{const i=()=>{var o;const l=this.premountAddListenerCalls.get(n);l&&((o=l.nativeUnsubscribe)==null||o.call(l),this.premountAddListenerCalls.delete(n))};return this.premountAddListenerCalls.set(n,{unsubscribe:i,nativeUnsubscribe:void 0}),i}},this.navigate=n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.navigate(n)};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("navigate",i)},this.redirectWithAuth=async(...n)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectWithAuth(...n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectWithAuth",i)},this.redirectToSignIn=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignIn(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignIn",i)},this.redirectToSignUp=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignUp(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignUp",i)},this.redirectToUserProfile=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToUserProfile",n)},this.redirectToAfterSignUp=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToAfterSignUp",n)},this.redirectToAfterSignIn=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignIn()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("redirectToAfterSignIn",n)},this.redirectToAfterSignOut=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignOut()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("redirectToAfterSignOut",n)},this.redirectToOrganizationProfile=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToOrganizationProfile",n)},this.redirectToCreateOrganization=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToCreateOrganization",n)},this.redirectToWaitlist=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToWaitlist",n)},this.handleRedirectCallback=async n=>{var i;const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleRedirectCallback(n)};this.clerkjs&&this.loaded?(i=o())==null||i.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",o)},this.handleGoogleOneTapCallback=async(n,i)=>{var o;const l=()=>{var d;return(d=this.clerkjs)==null?void 0:d.handleGoogleOneTapCallback(n,i)};this.clerkjs&&this.loaded?(o=l())==null||o.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",l)},this.handleEmailLinkVerification=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleEmailLinkVerification(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("handleEmailLinkVerification",i)},this.authenticateWithMetamask=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithMetamask(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithMetamask",i)},this.authenticateWithCoinbaseWallet=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithCoinbaseWallet(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",i)},this.authenticateWithOKXWallet=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithOKXWallet(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithOKXWallet",i)},this.authenticateWithWeb3=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithWeb3(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithWeb3",i)},this.authenticateWithGoogleOneTap=async n=>(await Gb(this,_h,Jg).call(this)).authenticateWithGoogleOneTap(n),this.__internal_loadStripeJs=async()=>(await Gb(this,_h,Jg).call(this)).__internal_loadStripeJs(),this.createOrganization=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.createOrganization(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("createOrganization",i)},this.getOrganization=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.getOrganization(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("getOrganization",i)},this.joinWaitlist=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.joinWaitlist(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("joinWaitlist",i)},this.signOut=async(...n)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.signOut(...n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("signOut",i)};const{Clerk:s=null,publishableKey:a}=r||{};au(this,_l,a),au(this,Nu,r==null?void 0:r.proxyUrl),au(this,ju,r==null?void 0:r.domain),this.options=r,this.Clerk=s,this.mode=kP()?"browser":"server",this.options.sdkMetadata||(this.options.sdkMetadata=OH),Hr(this,No).emit(vg.Status,"loading"),Hr(this,No).prioritizedOn(vg.Status,n=>au(this,Yg,n)),Hr(this,_l)&&this.loadClerkJS()}get publishableKey(){return Hr(this,_l)}get loaded(){var r;return((r=this.clerkjs)==null?void 0:r.loaded)||!1}get status(){var r;return this.clerkjs?((r=this.clerkjs)==null?void 0:r.status)||(this.clerkjs.loaded?"ready":"loading"):Hr(this,Yg)}static getOrCreateInstance(r){return(!kP()||!Hr(this,Tl)||r.Clerk&&Hr(this,Tl).Clerk!==r.Clerk||Hr(this,Tl).publishableKey!==r.publishableKey)&&au(this,Tl,new CM(r)),Hr(this,Tl)}static clearInstance(){au(this,Tl,null)}get domain(){return typeof window<"u"&&window.location?Wb(Hr(this,ju),new URL(window.location.href),""):typeof Hr(this,ju)=="function"?Vi.throw(Bb):Hr(this,ju)||""}get proxyUrl(){return typeof window<"u"&&window.location?Wb(Hr(this,Nu),new URL(window.location.href),""):typeof Hr(this,Nu)=="function"?Vi.throw(Bb):Hr(this,Nu)||""}__internal_getOption(r){var s,a;return(s=this.clerkjs)!=null&&s.__internal_getOption?(a=this.clerkjs)==null?void 0:a.__internal_getOption(r):this.options[r]}get sdkMetadata(){var r;return((r=this.clerkjs)==null?void 0:r.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var r;return(r=this.clerkjs)==null?void 0:r.instanceType}get frontendApi(){var r;return((r=this.clerkjs)==null?void 0:r.frontendApi)||""}get isStandardBrowser(){var r;return((r=this.clerkjs)==null?void 0:r.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?Wb(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?Vi.throw(Bb):!1}async loadClerkJS(){var r;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=Hr(this,_l),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let s;Hq(this.Clerk)?(s=new this.Clerk(Hr(this,_l),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(s),await s.load(this.options)):(s=this.Clerk,s.loaded||(this.beforeLoad(s),await s.load(this.options))),global.Clerk=s}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await jH({...this.options,publishableKey:Hr(this,_l),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(r=global.Clerk)!=null&&r.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(s){const a=s;Hr(this,No).emit(vg.Status,"error"),console.error(a.stack||a.message||a);return}}}get version(){var r;return(r=this.clerkjs)==null?void 0:r.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var r;return(r=this.clerkjs)==null?void 0:r.billing}get apiKeys(){var r;return(r=this.clerkjs)==null?void 0:r.apiKeys}__unstable__setEnvironment(...r){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(r);else return}};Yg=new WeakMap;ju=new WeakMap;Nu=new WeakMap;_l=new WeakMap;No=new WeakMap;Tl=new WeakMap;_h=new WeakSet;Jg=function(){return new Promise(e=>{this.addOnLoaded(()=>e(this.clerkjs))})};Rc(SM,Tl);var EP=SM;function MH(e){const{isomorphicClerkOptions:r,initialState:s,children:a}=e,{isomorphicClerk:n,clerkStatus:i}=RH(r),[o,l]=oe.useState({client:n.client,session:n.session,user:n.user,organization:n.organization});oe.useEffect(()=>n.addListener(I=>l({...I})),[]);const d=kH(n.loaded,o,s),m=oe.useMemo(()=>({value:n}),[i]),h=oe.useMemo(()=>({value:o.client}),[o.client]),{sessionId:f,sessionStatus:g,sessionClaims:y,session:w,userId:v,user:b,orgId:N,actor:C,organization:S,orgRole:_,orgSlug:A,orgPermissions:T,factorVerificationAge:E}=d,R=oe.useMemo(()=>({value:{sessionId:f,sessionStatus:g,sessionClaims:y,userId:v,actor:C,orgId:N,orgRole:_,orgSlug:A,orgPermissions:T,factorVerificationAge:E}}),[f,g,v,C,N,_,A,E,y==null?void 0:y.__raw]),$=oe.useMemo(()=>({value:w}),[f,w]),K=oe.useMemo(()=>({value:b}),[v,b]),M=oe.useMemo(()=>({value:{organization:S}}),[N,S]);return oe.createElement(wq.Provider,{value:m},oe.createElement(iq.Provider,{value:h},oe.createElement(oq.Provider,{value:$},oe.createElement(uq,{...M.value},oe.createElement(vq.Provider,{value:R},oe.createElement(aq.Provider,{value:K},oe.createElement(cq,{value:void 0},a)))))))}var RH=e=>{const r=oe.useRef(EP.getOrCreateInstance(e)),[s,a]=oe.useState(r.current.status);return oe.useEffect(()=>{r.current.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),oe.useEffect(()=>{r.current.__unstable__updateProps({options:e})},[e.localization]),oe.useEffect(()=>(r.current.on("status",a),()=>{r.current&&r.current.off("status",a),EP.clearInstance()}),[]),{isomorphicClerk:r.current,clerkStatus:s}};function IH(e){const{initialState:r,children:s,__internal_bypassMissingPublishableKey:a,...n}=e,{publishableKey:i="",Clerk:o}=n;return!o&&!a&&(i?i&&!pN(i)&&Vi.throwInvalidPublishableKeyError({key:i}):Vi.throwMissingPublishableKeyError()),oe.createElement(MH,{initialState:r,isomorphicClerkOptions:n},s)}var kM=Gq(IH,"ClerkProvider",jq);kM.displayName="ClerkProvider";yq({packageName:"@clerk/clerk-react"});wH("@clerk/clerk-react");p.createContext(null);const DH="modulepreload",LH=function(e){return"/"+e},TP={},fn=function(r,s,a){let n=Promise.resolve();if(s&&s.length>0){let o=function(m){return Promise.all(m.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=o(s.map(m=>{if(m=LH(m),m in TP)return;TP[m]=!0;const h=m.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${f}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":DH,h||(g.as="script"),g.crossOrigin="",g.href=m,d&&g.setAttribute("nonce",d),document.head.appendChild(g),h)return new Promise((y,w)=>{g.addEventListener("load",y),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return r().catch(i)})},$H=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...s)=>fn(async()=>{const{default:a}=await Promise.resolve().then(()=>em);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)};class NS extends Error{constructor(r,s="FunctionsError",a){super(r),this.name=s,this.context=a}}class zH extends NS{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class OP extends NS{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class MP extends NS{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var AN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(AN||(AN={}));var FH=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};class UH{constructor(r,{headers:s={},customFetch:a,region:n=AN.Any}={}){this.url=r,this.headers=s,this.region=n,this.fetch=$H(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,s={}){var a;return FH(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let l={},{region:d}=s;d||(d=this.region);const m=new URL(`${this.url}/${r}`);d&&d!=="any"&&(l["x-region"]=d,m.searchParams.set("forceFunctionRegion",d));let h;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(m.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:h}).catch(v=>{throw new zH(v)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new OP(f);if(!f.ok)throw new MP(f);let y=((a=f.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield f.json():y==="application/octet-stream"?w=yield f.blob():y==="text/event-stream"?w=f:y==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(n){return{data:null,error:n,response:n instanceof MP||n instanceof OP?n.context:void 0}}})}}var $s={},nu={},iu={},ou={},lu={},cu={},BH=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$u=BH();const WH=$u.fetch,_M=$u.fetch.bind($u),PM=$u.Headers,VH=$u.Request,qH=$u.Response,em=Object.freeze(Object.defineProperty({__proto__:null,Headers:PM,Request:VH,Response:qH,default:_M,fetch:WH},Symbol.toStringTag,{value:"Module"})),HH=kB(em);var bg={},RP;function AM(){if(RP)return bg;RP=1,Object.defineProperty(bg,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return bg.default=e,bg}var IP;function EM(){if(IP)return cu;IP=1;var e=cu&&cu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(cu,"__esModule",{value:!0});const r=e(HH),s=e(AM());class a{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var h,f,g;let y=null,w=null,v=null,b=m.status,N=m.statusText;if(m.ok){if(this.method!=="HEAD"){const A=await m.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=A:w=JSON.parse(A))}const S=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),_=(f=m.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");S&&_&&_.length>1&&(v=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(y={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,v=null,b=406,N="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const S=await m.text();try{y=JSON.parse(S),Array.isArray(y)&&m.status===404&&(w=[],y=null,b=200,N="OK")}catch{m.status===404&&S===""?(b=204,N="No Content"):y={message:S}}if(y&&this.isMaybeSingle&&(!((g=y==null?void 0:y.details)===null||g===void 0)&&g.includes("0 rows"))&&(y=null,b=200,N="OK"),y&&this.shouldThrowOnError)throw new s.default(y)}return{error:y,data:w,count:v,status:b,statusText:N}});return this.shouldThrowOnError||(d=d.catch(m=>{var h,f,g;return{error:{message:`${(h=m==null?void 0:m.name)!==null&&h!==void 0?h:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(f=m==null?void 0:m.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(g=m==null?void 0:m.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),d.then(i,o)}returns(){return this}overrideTypes(){return this}}return cu.default=a,cu}var DP;function TM(){if(DP)return lu;DP=1;var e=lu&&lu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(lu,"__esModule",{value:!0});const r=e(EM());class s extends r.default{select(n){let i=!1;const o=(n??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:d=l}={}){const m=d?`${d}.order`:"order",h=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${h?`${h},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:l=o}={}){const d=typeof l>"u"?"offset":`${l}.offset`,m=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${n}`),this.url.searchParams.set(m,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:d=!1,format:m="text"}={}){var h;const f=[n?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${g}"; options=${f};`,m==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return lu.default=s,lu}var LP;function SS(){if(LP)return ou;LP=1;var e=ou&&ou.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ou,"__esModule",{value:!0});const r=e(TM());class s extends r.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:l}={}){let d="";l==="plain"?d="pl":l==="phrase"?d="ph":l==="websearch"&&(d="w");const m=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${d}fts${m}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return ou.default=s,ou}var $P;function OM(){if($P)return iu;$P=1;var e=iu&&iu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(iu,"__esModule",{value:!0});const r=e(SS());class s{constructor(n,{headers:i={},schema:o,fetch:l}){this.url=n,this.headers=i,this.schema=o,this.fetch=l}select(n,{head:i=!1,count:o}={}){const l=i?"HEAD":"GET";let d=!1;const m=(n??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",m),o&&(this.headers.Prefer=`count=${o}`),new r.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const l="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),i&&d.push(`count=${i}`),o||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(n)){const m=n.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(m.length>0){const h=[...new Set(m)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new r.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:d=!0}={}){const m="POST",h=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),d||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(n)){const f=n.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(f.length>0){const g=[...new Set(f)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),this.headers.Prefer=l.join(","),new r.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new r.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return iu.default=s,iu}var oh={},lh={},zP;function KH(){return zP||(zP=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.version=void 0,lh.version="0.0.0-automated"),lh}var FP;function GH(){if(FP)return oh;FP=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.DEFAULT_HEADERS=void 0;const e=KH();return oh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},oh}var UP;function YH(){if(UP)return nu;UP=1;var e=nu&&nu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(nu,"__esModule",{value:!0});const r=e(OM()),s=e(SS()),a=GH();class n{constructor(o,{headers:l={},schema:d,fetch:m}={}){this.url=o,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),l),this.schemaName=d,this.fetch=m}from(o){const l=new URL(`${this.url}/${o}`);return new r.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:d=!1,get:m=!1,count:h}={}){let f;const g=new URL(`${this.url}/rpc/${o}`);let y;d||m?(f=d?"HEAD":"GET",Object.entries(l).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{g.searchParams.append(v,b)})):(f="POST",y=l);const w=Object.assign({},this.headers);return h&&(w.Prefer=`count=${h}`),new s.default({method:f,url:g,headers:w,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return nu.default=n,nu}var BP;function JH(){if(BP)return $s;BP=1;var e=$s&&$s.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty($s,"__esModule",{value:!0}),$s.PostgrestError=$s.PostgrestBuilder=$s.PostgrestTransformBuilder=$s.PostgrestFilterBuilder=$s.PostgrestQueryBuilder=$s.PostgrestClient=void 0;const r=e(YH());$s.PostgrestClient=r.default;const s=e(OM());$s.PostgrestQueryBuilder=s.default;const a=e(SS());$s.PostgrestFilterBuilder=a.default;const n=e(TM());$s.PostgrestTransformBuilder=n.default;const i=e(EM());$s.PostgrestBuilder=i.default;const o=e(AM());return $s.PostgrestError=o.default,$s.default={PostgrestClient:r.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},$s}var XH=JH();const QH=vn(XH),{PostgrestClient:ZH,PostgrestQueryBuilder:T1e,PostgrestFilterBuilder:O1e,PostgrestTransformBuilder:M1e,PostgrestBuilder:R1e,PostgrestError:I1e}=QH;function eK(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const tK=eK(),rK="2.11.15",sK=`realtime-js/${rK}`,aK="1.0.0",MM=1e4,nK=1e3;var Dh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dh||(Dh={}));var ua;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ua||(ua={}));var pi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pi||(pi={}));var EN;(function(e){e.websocket="websocket"})(EN||(EN={}));var Fc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fc||(Fc={}));class iK{constructor(){this.HEADER_LENGTH=1}decode(r,s){return r.constructor===ArrayBuffer?s(this._binaryDecode(r)):s(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const s=new DataView(r),a=new TextDecoder;return this._decodeBroadcast(r,s,a)}_decodeBroadcast(r,s,a){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=a.decode(r.slice(o,o+n));o=o+n;const d=a.decode(r.slice(o,o+i));o=o+i;const m=JSON.parse(a.decode(r.slice(o,r.byteLength)));return{ref:null,topic:l,event:d,payload:m}}}class RM{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _r;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_r||(_r={}));const WP=(e,r,s={})=>{var a;const n=(a=s.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(r).reduce((i,o)=>(i[o]=oK(o,e,r,n),i),{})},oK=(e,r,s,a)=>{const n=r.find(l=>l.name===e),i=n==null?void 0:n.type,o=s[e];return i&&!a.includes(i)?IM(i,o):TN(o)},IM=(e,r)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return uK(r,s)}switch(e){case _r.bool:return lK(r);case _r.float4:case _r.float8:case _r.int2:case _r.int4:case _r.int8:case _r.numeric:case _r.oid:return cK(r);case _r.json:case _r.jsonb:return dK(r);case _r.timestamp:return mK(r);case _r.abstime:case _r.date:case _r.daterange:case _r.int4range:case _r.int8range:case _r.money:case _r.reltime:case _r.text:case _r.time:case _r.timestamptz:case _r.timetz:case _r.tsrange:case _r.tstzrange:return TN(r);default:return TN(r)}},TN=e=>e,lK=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},cK=e=>{if(typeof e=="string"){const r=parseFloat(e);if(!Number.isNaN(r))return r}return e},dK=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.log(`JSON parse error: ${r}`),e}return e},uK=(e,r)=>{if(typeof e!="string")return e;const s=e.length-1,a=e[s];if(e[0]==="{"&&a==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>IM(r,l))}return e},mK=e=>typeof e=="string"?e.replace(" ","T"):e,DM=e=>{let r=e;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class Yb{constructor(r,s,a={},n=MM){this.channel=r,this.event=s,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var a;return this._hasReceived(r)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var VP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(VP||(VP={}));class Lh{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lh.syncState(this.state,n,i,o),this.pendingDiffs.forEach(d=>{this.state=Lh.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Lh.syncDiff(this.state,n,i,o),l())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,a,n){const i=this.cloneDeep(r),o=this.transformState(s),l={},d={};return this.map(i,(m,h)=>{o[m]||(d[m]=h)}),this.map(o,(m,h)=>{const f=i[m];if(f){const g=h.map(b=>b.presence_ref),y=f.map(b=>b.presence_ref),w=h.filter(b=>y.indexOf(b.presence_ref)<0),v=f.filter(b=>g.indexOf(b.presence_ref)<0);w.length>0&&(l[m]=w),v.length>0&&(d[m]=v)}else l[m]=h}),this.syncDiff(i,{joins:l,leaves:d},a,n)}static syncDiff(r,s,a,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(i,(l,d)=>{var m;const h=(m=r[l])!==null&&m!==void 0?m:[];if(r[l]=this.cloneDeep(d),h.length>0){const f=r[l].map(y=>y.presence_ref),g=h.filter(y=>f.indexOf(y.presence_ref)<0);r[l].unshift(...g)}a(l,h,d)}),this.map(o,(l,d)=>{let m=r[l];if(!m)return;const h=d.map(f=>f.presence_ref);m=m.filter(f=>h.indexOf(f.presence_ref)<0),r[l]=m,n(l,m,d),m.length===0&&delete r[l]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(a=>s(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,a)=>{const n=r[a];return"metas"in n?s[a]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[a]=n,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qP||(qP={}));var HP;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(HP||(HP={}));var Co;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Co||(Co={}));class CS{constructor(r,s={config:{}},a){this.topic=r,this.params=s,this.socket=a,this.bindings={},this.state=ua.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Yb(this,pi.join,this.params,this.timeout),this.rejoinTimer=new RM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ua.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ua.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ua.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ua.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pi.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Lh(this),this.broadcastEndpointURL=DM(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,s=this.timeout){var a,n;if(this.socket.isConnected()||this.socket.connect(),this.state==ua.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(h=>r==null?void 0:r(Co.CHANNEL_ERROR,h)),this._onClose(()=>r==null?void 0:r(Co.CLOSED));const d={},m={broadcast:i,presence:o,postgres_changes:(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(h=>h.filter))!==null&&n!==void 0?n:[],private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},d)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:h})=>{var f;if(this.socket.setAuth(),h===void 0){r==null||r(Co.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(f=g==null?void 0:g.length)!==null&&f!==void 0?f:0,w=[];for(let v=0;v<y;v++){const b=g[v],{filter:{event:N,schema:C,table:S,filter:_}}=b,A=h&&h[v];if(A&&A.event===N&&A.schema===C&&A.table===S&&A.filter===_)w.push(Object.assign(Object.assign({},b),{id:A.id}));else{this.unsubscribe(),this.state=ua.errored,r==null||r(Co.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,r&&r(Co.SUBSCRIBED);return}}).receive("error",h=>{this.state=ua.errored,r==null||r(Co.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Co.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,a){return this._on(r,s,a)}async send(r,s={}){var a,n;if(!this._canPush()&&r.type==="broadcast"){const{event:i,payload:o}=r,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((n=m.body)===null||n===void 0?void 0:n.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,d;const m=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),m.receive("ok",()=>i("ok")),m.receive("error",()=>i("error")),m.receive("timeout",()=>i("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=ua.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pi.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(n=>{a=new Yb(this,pi.leave,{},r),a.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,s,a){const n=new AbortController,i=setTimeout(()=>n.abort(),a),o=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(r,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Yb(this,r,s,a);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(r,s,a){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,a){var n,i;const o=r.toLocaleLowerCase(),{close:l,error:d,leave:m,join:h}=pi;if(a&&[l,d,m,h].indexOf(o)>=0&&a!==this._joinRef())return;let g=this._onMessage(o,s,a);if(s&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(y=>{var w,v,b;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(v=y.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(y=>y.callback(g,a)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var w,v,b,N,C,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,A=(w=y.filter)===null||w===void 0?void 0:w.event;return _&&((v=s.ids)===null||v===void 0?void 0:v.includes(_))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((b=s.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(C=(N=y==null?void 0:y.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return _==="*"||_===((S=s==null?void 0:s.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:v,table:b,commit_timestamp:N,type:C,errors:S}=w;g=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:N,eventType:C,new:{},old:{},errors:S}),this._getPayloadRecords(w))}y.callback(g,a)})}_isClosed(){return this.state===ua.closed}_isJoined(){return this.state===ua.joined}_isJoining(){return this.state===ua.joining}_isLeaving(){return this.state===ua.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,a){const n=r.toLocaleLowerCase(),i={type:n,filter:s,callback:a};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(r,s){const a=r.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&CS.isEqual(n.filter,s))}),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const a in r)if(r[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(pi.close,{},r)}_onError(r){this._on(pi.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ua.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=WP(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=WP(r.columns,r.old_record)),s}}const KP=()=>{},hK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fK{constructor(r,s){var a;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=MM,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=KP,this.ref=0,this.logger=KP,this.conn=null,this.sendBuffer=[],this.serializer=new iK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>fn(async()=>{const{default:d}=await Promise.resolve().then(()=>em);return{default:d}},void 0).then(({default:d})=>d(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${r}/${EN.websocket}`,this.httpEndpoint=DM(r),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(a=s==null?void 0:s.params)===null||a===void 0?void 0:a.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new RM(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=tK),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aK}))}disconnect(r,s){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(a=>a.teardown()))}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,a){this.logger(r,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Dh.connecting:return Fc.Connecting;case Dh.open:return Fc.Open;case Dh.closing:return Fc.Closing;default:return Fc.Closed}}isConnected(){return this.connectionState()===Fc.Open}channel(r,s={config:{}}){const a=`realtime:${r}`,n=this.getChannels().find(i=>i.topic===a);if(n)return n;{const i=new CS(`realtime:${r}`,s,this);return this.channels.push(i),i}}push(r){const{topic:s,event:a,payload:n,ref:i}=r,o=()=>{this.encode(r,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${s} ${a} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(r=null){let s=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const n={access_token:s,version:sK};s&&a.updateJoinPayload(n),a.joinedOnce&&a._isJoined()&&a._push(pi.access_token,{access_token:s})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(nK,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,s=>{let{topic:a,event:n,payload:i,ref:o}=s;a==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${a} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(a)).forEach(l=>l._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(r=>r())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(r))}_onConnError(r){this.log("transport",`${r}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(pi.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const a=r.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${r}${a}${n}`}_workerObjectUrl(r){let s;if(r)s=r;else{const a=new Blob([hK],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}}class kS extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function zs(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class pK extends kS{constructor(r,s){super(r),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ON extends kS{constructor(r,s){super(r),this.name="StorageUnknownError",this.originalError=s}}var gK=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const LM=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...s)=>fn(async()=>{const{default:a}=await Promise.resolve().then(()=>em);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)},xK=()=>gK(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fn(()=>Promise.resolve().then(()=>em),void 0)).Response:Response}),MN=e=>{if(Array.isArray(e))return e.map(s=>MN(s));if(typeof e=="function"||e!==Object(e))return e;const r={};return Object.entries(e).forEach(([s,a])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));r[n]=MN(a)}),r};var vd=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const Jb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yK=(e,r,s)=>vd(void 0,void 0,void 0,function*(){const a=yield xK();e instanceof a&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{r(new pK(Jb(n),e.status||500))}).catch(n=>{r(new ON(Jb(n),n))}):r(new ON(Jb(e),e))}),vK=(e,r,s,a)=>{const n={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),a&&(n.body=JSON.stringify(a)),Object.assign(Object.assign({},n),s))};function kf(e,r,s,a,n,i){return vd(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(s,vK(r,a,n,i)).then(d=>{if(!d.ok)throw d;return a!=null&&a.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>yK(d,l,a))})})}function u0(e,r,s,a){return vd(this,void 0,void 0,function*(){return kf(e,"GET",r,s,a)})}function Ol(e,r,s,a,n){return vd(this,void 0,void 0,function*(){return kf(e,"POST",r,a,n,s)})}function bK(e,r,s,a,n){return vd(this,void 0,void 0,function*(){return kf(e,"PUT",r,a,n,s)})}function wK(e,r,s,a){return vd(this,void 0,void 0,function*(){return kf(e,"HEAD",r,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function $M(e,r,s,a,n){return vd(this,void 0,void 0,function*(){return kf(e,"DELETE",r,a,n,s)})}var Wa=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const jK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},GP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NK{constructor(r,s={},a,n){this.url=r,this.headers=s,this.bucketId=a,this.fetch=LM(n)}uploadOrUpdate(r,s,a,n){return Wa(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},GP),n);let l=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=a,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,d&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const m=this._removeEmptyFolders(s),h=this._getFinalPath(m),f=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:r,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield f.json();return f.ok?{data:{path:m,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(zs(i))return{data:null,error:i};throw i}})}upload(r,s,a){return Wa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,s,a)})}uploadToSignedUrl(r,s,a,n){return Wa(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(r),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let d;const m=Object.assign({upsert:GP.upsert},n),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),d.append("",a)):typeof FormData<"u"&&a instanceof FormData?(d=a,d.append("cacheControl",m.cacheControl)):(d=a,h["cache-control"]=`max-age=${m.cacheControl}`,h["content-type"]=m.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:d,headers:h}),g=yield f.json();return f.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(d){if(zs(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(r,s){return Wa(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Ol(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new kS("No token returned by API");return{data:{signedUrl:o.toString(),path:r,token:l},error:null}}catch(a){if(zs(a))return{data:null,error:a};throw a}})}update(r,s,a){return Wa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,s,a)})}move(r,s,a){return Wa(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(zs(n))return{data:null,error:n};throw n}})}copy(r,s,a){return Wa(this,void 0,void 0,function*(){try{return{data:{path:(yield Ol(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(zs(n))return{data:null,error:n};throw n}})}createSignedUrl(r,s,a){return Wa(this,void 0,void 0,function*(){try{let n=this._getFinalPath(r),i=yield Ol(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(zs(n))return{data:null,error:n};throw n}})}createSignedUrls(r,s,a){return Wa(this,void 0,void 0,function*(){try{const n=yield Ol(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:r},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(zs(n))return{data:null,error:n};throw n}})}download(r,s){return Wa(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(r);return{data:yield(yield u0(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(zs(l))return{data:null,error:l};throw l}})}info(r){return Wa(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{const a=yield u0(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:MN(a),error:null}}catch(a){if(zs(a))return{data:null,error:a};throw a}})}exists(r){return Wa(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{return yield wK(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(zs(a)&&a instanceof ON){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,s){const a=this._getFinalPath(r),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});d!==""&&n.push(d);let m=n.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${m}`)}}}remove(r){return Wa(this,void 0,void 0,function*(){try{return{data:yield $M(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(s){if(zs(s))return{data:null,error:s};throw s}})}list(r,s,a){return Wa(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},jK),s),{prefix:r||""});return{data:yield Ol(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(zs(n))return{data:null,error:n};throw n}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const s=[];return r.width&&s.push(`width=${r.width}`),r.height&&s.push(`height=${r.height}`),r.resize&&s.push(`resize=${r.resize}`),r.format&&s.push(`format=${r.format}`),r.quality&&s.push(`quality=${r.quality}`),s.join("&")}}const SK="2.7.1",CK={"X-Client-Info":`storage-js/${SK}`};var du=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};class kK{constructor(r,s={},a){this.url=r,this.headers=Object.assign(Object.assign({},CK),s),this.fetch=LM(a)}listBuckets(){return du(this,void 0,void 0,function*(){try{return{data:yield u0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(zs(r))return{data:null,error:r};throw r}})}getBucket(r){return du(this,void 0,void 0,function*(){try{return{data:yield u0(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(s){if(zs(s))return{data:null,error:s};throw s}})}createBucket(r,s={public:!1}){return du(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(zs(a))return{data:null,error:a};throw a}})}updateBucket(r,s){return du(this,void 0,void 0,function*(){try{return{data:yield bK(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(zs(a))return{data:null,error:a};throw a}})}emptyBucket(r){return du(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(zs(s))return{data:null,error:s};throw s}})}deleteBucket(r){return du(this,void 0,void 0,function*(){try{return{data:yield $M(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(zs(s))return{data:null,error:s};throw s}})}}class _K extends kK{constructor(r,s={},a){super(r,s,a)}from(r){return new NK(this.url,this.headers,r,this.fetch)}}const PK="2.52.1";let Ph="";typeof Deno<"u"?Ph="deno":typeof document<"u"?Ph="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ph="react-native":Ph="node";const AK={"X-Client-Info":`supabase-js-${Ph}/${PK}`},EK={headers:AK},TK={schema:"public"},OK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},MK={};var RK=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const IK=e=>{let r;return e?r=e:typeof fetch>"u"?r=_M:r=fetch,(...s)=>r(...s)},DK=()=>typeof Headers>"u"?PM:Headers,LK=(e,r,s)=>{const a=IK(s),n=DK();return(i,o)=>RK(void 0,void 0,void 0,function*(){var l;const d=(l=yield r())!==null&&l!==void 0?l:e;let m=new n(o==null?void 0:o.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${d}`),a(i,Object.assign(Object.assign({},o),{headers:m}))})};var $K=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};function zK(e){return e.endsWith("/")?e:e+"/"}function FK(e,r){var s,a;const{db:n,auth:i,realtime:o,global:l}=e,{db:d,auth:m,realtime:h,global:f}=r,g={db:Object.assign(Object.assign({},d),n),auth:Object.assign(Object.assign({},m),i),realtime:Object.assign(Object.assign({},h),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>$K(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const zM="2.71.1",Su=30*1e3,RN=3,Xb=RN*Su,UK="http://localhost:9999",BK="supabase.auth.token",WK={"X-Client-Info":`gotrue-js/${zM}`},IN="X-Supabase-Api-Version",FM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qK=10*60*1e3;class _S extends Error{constructor(r,s,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function At(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class HK extends _S{constructor(r,s,a){super(r,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function KK(e){return At(e)&&e.name==="AuthApiError"}class UM extends _S{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class ec extends _S{constructor(r,s,a,n){super(r,a,n),this.name=s,this.status=a}}class Pl extends ec{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GK(e){return At(e)&&e.name==="AuthSessionMissingError"}class wg extends ec{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jg extends ec{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ng extends ec{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YK(e){return At(e)&&e.name==="AuthImplicitGrantRedirectError"}class YP extends ec{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class DN extends ec{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Qb(e){return At(e)&&e.name==="AuthRetryableFetchError"}class JP extends ec{constructor(r,s,a){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class LN extends ec{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const m0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),XP=` 	
\r=`.split(""),JK=(()=>{const e=new Array(128);for(let r=0;r<e.length;r+=1)e[r]=-1;for(let r=0;r<XP.length;r+=1)e[XP[r].charCodeAt(0)]=-2;for(let r=0;r<m0.length;r+=1)e[m0[r].charCodeAt(0)]=r;return e})();function QP(e,r,s){if(e!==null)for(r.queue=r.queue<<8|e,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(m0[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(m0[a]),r.queuedBits-=6}}function BM(e,r,s){const a=JK[e];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ZP(e){const r=[],s=o=>{r.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{ZK(o,a,s)};for(let o=0;o<e.length;o+=1)BM(e.charCodeAt(o),n,i);return r.join("")}function XK(e,r){if(e<=127){r(e);return}else if(e<=2047){r(192|e>>6),r(128|e&63);return}else if(e<=65535){r(224|e>>12),r(128|e>>6&63),r(128|e&63);return}else if(e<=1114111){r(240|e>>18),r(128|e>>12&63),r(128|e>>6&63),r(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function QK(e,r){for(let s=0;s<e.length;s+=1){let a=e.charCodeAt(s);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(e.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}XK(a,r)}}function ZK(e,r,s){if(r.utf8seq===0){if(e<=127){s(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=e&31;else if(r.utf8seq===3)r.codepoint=e&15;else if(r.utf8seq===4)r.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|e&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function eG(e){const r=[],s={queue:0,queuedBits:0},a=n=>{r.push(n)};for(let n=0;n<e.length;n+=1)BM(e.charCodeAt(n),s,a);return new Uint8Array(r)}function tG(e){const r=[];return QK(e,s=>r.push(s)),new Uint8Array(r)}function rG(e){const r=[],s={queue:0,queuedBits:0},a=n=>{r.push(n)};return e.forEach(n=>QP(n,s,a)),QP(null,s,a),r.join("")}function sG(e){return Math.round(Date.now()/1e3)+e}function aG(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const r=Math.random()*16|0;return(e=="x"?r:r&3|8).toString(16)})}const hi=()=>typeof window<"u"&&typeof document<"u",Ac={tested:!1,writable:!1},WM=()=>{if(!hi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ac.tested)return Ac.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ac.tested=!0,Ac.writable=!0}catch{Ac.tested=!0,Ac.writable=!1}return Ac.writable};function nG(e){const r={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{r[i]=n})}catch{}return s.searchParams.forEach((a,n)=>{r[n]=a}),r}const VM=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...s)=>fn(async()=>{const{default:a}=await Promise.resolve().then(()=>em);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)},iG=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cu=async(e,r,s)=>{await e.setItem(r,JSON.stringify(s))},Ec=async(e,r)=>{const s=await e.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},wl=async(e,r)=>{await e.removeItem(r)};class Tx{constructor(){this.promise=new Tx.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Tx.promiseConstructor=Promise;function Zb(e){const r=e.split(".");if(r.length!==3)throw new LN("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!VK.test(r[a]))throw new LN("JWT not in base64url format");return{header:JSON.parse(ZP(r[0])),payload:JSON.parse(ZP(r[1])),signature:eG(r[2]),raw:{header:r[0],payload:r[1]}}}async function oG(e){return await new Promise(r=>{setTimeout(()=>r(null),e)})}function lG(e,r){return new Promise((a,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!r(i,null,o)){a(o);return}}catch(o){if(!r(i,o)){n(o);return}}})()})}function cG(e){return("0"+e.toString(16)).substr(-2)}function dG(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(r),Array.from(r,cG).join("")}async function uG(e){const s=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(a);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function mG(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await uG(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function uu(e,r,s=!1){const a=dG();let n=a;s&&(n+="/PASSWORD_RECOVERY"),await Cu(e,`${r}-code-verifier`,n);const i=await mG(a);return[i,a===i?"plain":"s256"]}const hG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fG(e){const r=e.headers.get(IN);if(!r||!r.match(hG))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function pG(e){if(!e)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(e<=r)throw new Error("JWT has expired")}function gG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mu(e){if(!xG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ew(){const e={};return new Proxy(e,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eA(e){return JSON.parse(JSON.stringify(e))}var yG=function(e,r){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s};const Ic=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vG=[502,503,504];async function tA(e){var r;if(!iG(e))throw new DN(Ic(e),0);if(vG.includes(e.status))throw new DN(Ic(e),e.status);let s;try{s=await e.json()}catch(i){throw new UM(Ic(i),i)}let a;const n=fG(e);if(n&&n.getTime()>=FM["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new JP(Ic(s),e.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new Pl}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new JP(Ic(s),e.status,s.weak_password.reasons);throw new HK(Ic(s),e.status||500,a)}const bG=(e,r,s,a)=>{const n={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),s))};async function Wt(e,r,s,a){var n;const i=Object.assign({},a==null?void 0:a.headers);i[IN]||(i[IN]=FM["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await wG(e,r,s+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(d):{data:Object.assign({},d),error:null}}async function wG(e,r,s,a,n,i){const o=bG(r,a,n,i);let l;try{l=await e(s,Object.assign({},o))}catch(d){throw console.error(d),new DN(Ic(d),0)}if(l.ok||await tA(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(d){await tA(d)}}function So(e){var r;let s=null;CG(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=sG(e.expires_in)));const a=(r=e.user)!==null&&r!==void 0?r:e;return{data:{session:s,user:a},error:null}}function rA(e){const r=So(e);return!r.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(r.data.weak_password=e.weak_password),r}function Rl(e){var r;return{data:{user:(r=e.user)!==null&&r!==void 0?r:e},error:null}}function jG(e){return{data:e,error:null}}function NG(e){const{action_link:r,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i}=e,o=yG(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:r,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i},d=Object.assign({},o);return{data:{properties:l,user:d},error:null}}function SG(e){return e}function CG(e){return e.access_token&&e.refresh_token&&e.expires_in}const tw=["global","local","others"];var kG=function(e,r){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s};class _G{constructor({url:r="",headers:s={},fetch:a}){this.url=r,this.headers=s,this.fetch=VM(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,s=tw[0]){if(tw.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${tw.join(", ")}`);try{return await Wt(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(At(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,s={}){try{return await Wt(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Rl})}catch(a){if(At(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:s}=r,a=kG(r,["options"]),n=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),await Wt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:NG,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(At(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await Wt(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Rl})}catch(s){if(At(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,a,n,i,o,l,d;try{const m={nextPage:null,lastPage:0,total:0},h=await Wt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=r==null?void 0:r.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:SG});if(h.error)throw h.error;const f=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);m[`${b}Page`]=v}),m.total=parseInt(g)),{data:Object.assign(Object.assign({},f),m),error:null}}catch(m){if(At(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){mu(r);try{return await Wt(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Rl})}catch(s){if(At(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){mu(r);try{return await Wt(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:Rl})}catch(a){if(At(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,s=!1){mu(r);try{return await Wt(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:Rl})}catch(a){if(At(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){mu(r.userId);try{const{data:s,error:a}=await Wt(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:a}}catch(s){if(At(s))return{data:null,error:s};throw s}}async _deleteFactor(r){mu(r.userId),mu(r.id);try{return{data:await Wt(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}}}function sA(e={}){return{getItem:r=>e[r]||null,setItem:(r,s)=>{e[r]=s},removeItem:r=>{delete e[r]}}}function PG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hu={debug:!!(globalThis&&WM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qM extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class AG extends qM{}async function EG(e,r,s){hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),hu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async n=>{if(n){hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(r===0)throw hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new AG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(hu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}PG();const TG={url:UK,storageKey:BK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:WK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function aA(e,r,s){return await s()}const fu={};class qh{constructor(r){var s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qh.nextInstanceID,qh.nextInstanceID+=1,this.instanceID>0&&hi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},TG),r);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new _G({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=VM(n.fetch),this.lock=n.lock||aA,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:hi()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=EG:this.lock=aA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:WM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sA(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=sA(this.memoryStorage)),hi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var r,s;return(s=(r=fu[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){fu[this.storageKey]=Object.assign(Object.assign({},fu[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=fu[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){fu[this.storageKey]=Object.assign(Object.assign({},fu[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zM}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const s=nG(window.location.href);let a="none";if(this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce"),hi()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),YK(i)){const d=(r=i.details)===null||r===void 0?void 0:r.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return At(s)?{error:s}:{error:new UM("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,a,n;try{const i=await Wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.captchaToken}},xform:So}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,m=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(i){if(At(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(r){var s,a,n;try{let i;if("email"in r){const{email:h,password:f,options:g}=r;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await uu(this.storage,this.storageKey)),i=await Wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:f,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:w},xform:So})}else if("phone"in r){const{phone:h,password:f,options:g}=r;i=await Wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},channel:(n=g==null?void 0:g.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:So})}else throw new jg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,m=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(i){if(At(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(r){try{let s;if("email"in r){const{email:i,password:o,options:l}=r;s=await Wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:rA})}else if("phone"in r){const{phone:i,password:o,options:l}=r;s=await Wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:rA})}else throw new jg("You must provide either an email or phone number and a password");const{data:a,error:n}=s;return n?{data:{user:null,session:null},error:n}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new wg}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(s){if(At(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(r){var s,a,n,i;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=r.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=r.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;if(s==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(r){var s,a,n,i,o,l,d,m,h,f,g,y;let w,v;if("message"in r)w=r.message,v=r.signature;else{const{chain:b,wallet:N,statement:C,options:S}=r;let _;if(hi())if(typeof N=="object")_=N;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))_=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=N}const A=new URL((s=S==null?void 0:S.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in _&&_.signIn){const T=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),C?{statement:C}:null));let E;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")E=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)E=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)w=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${A.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(n=(a=S==null?void 0:S.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((m=S==null?void 0:S.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((f=(h=S==null?void 0:S.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...S.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const T=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=T}}try{const{data:b,error:N}=await Wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:rG(v)},!((g=r.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=r.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:So});if(N)throw N;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new wg}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:N})}catch(b){if(At(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(r){const s=await Ec(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(s??"").split("/");try{const{data:i,error:o}=await Wt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:So});if(await wl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new wg}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(At(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(r){try{const{options:s,provider:a,token:n,access_token:i,nonce:o}=r,l=await Wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:So}),{data:d,error:m}=l;return m?{data:{user:null,session:null},error:m}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new wg}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:m})}catch(s){if(At(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(r){var s,a,n,i,o;try{if("email"in r){const{email:l,options:d}=r;let m=null,h=null;this.flowType==="pkce"&&([m,h]=await uu(this.storage,this.storageKey));const{error:f}=await Wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:m,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in r){const{phone:l,options:d}=r,{data:m,error:h}=await Wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:h}}throw new jg("You must provide either an email or phone number.")}catch(l){if(At(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(r){var s,a;try{let n,i;"options"in r&&(n=(s=r.options)===null||s===void 0?void 0:s.redirectTo,i=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:l}=await Wt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:So});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,m=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(n){if(At(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(r){var s,a,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await uu(this.storage,this.storageKey)),await Wt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=r==null?void 0:r.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:jG})}catch(i){if(At(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)throw a;if(!s)throw new Pl;const{error:n}=await Wt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(r){if(At(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:a,type:n,options:i}=r,{error:o}=await Wt(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in r){const{phone:a,type:n,options:i}=r,{data:o,error:l}=await Wt(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new jg("You must provide either an email or phone number and a type")}catch(s){if(At(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Ec(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<Xb:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const o=await Ec(this.userStorage,this.storageKey+"-user");o!=null&&o.user?r.user=o.user:r.user=ew()}if(this.storage.isServer&&r.user){let o=this.suppressGetSessionWarning;r=new Proxy(r,{get:(d,m,h)=>(!o&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,m,h))})}return{data:{session:r},error:null}}const{session:n,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Rl}):await this._useSession(async s=>{var a,n,i;const{data:o,error:l}=s;if(l)throw l;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pl}:await Wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Rl})})}catch(s){if(At(s))return GK(s)&&(await this._removeSession(),await wl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async a=>{const{data:n,error:i}=a;if(i)throw i;if(!n.session)throw new Pl;const o=n.session;let l=null,d=null;this.flowType==="pkce"&&r.email!=null&&([l,d]=await uu(this.storage,this.storageKey));const{data:m,error:h}=await Wt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:Rl});if(h)throw h;return o.user=m.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(a){if(At(a))return{data:{user:null},error:a};throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Pl;const s=Date.now()/1e3;let a=s,n=!0,i=null;const{payload:o}=Zb(r.access_token);if(o.exp&&(a=o.exp,n=a<=s),n){const{session:l,error:d}=await this._callRefreshToken(r.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:d}=await this._getUser(r.access_token);if(d)throw d;i={access_token:r.access_token,refresh_token:r.refresh_token,user:l.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(At(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var a;if(!r){const{data:o,error:l}=s;if(l)throw l;r=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new Pl;const{session:n,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(At(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(r,s){try{if(!hi())throw new Ng("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ng(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new YP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ng("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new YP("No code detected.");const{data:C,error:S}=await this._exchangeCodeForSession(r.code);if(S)throw S;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:l,expires_at:d,token_type:m}=r;if(!i||!l||!o||!m)throw new Ng("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let g=h+f;d&&(g=parseInt(d));const y=g-h;y*1e3<=Su&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const w=g-f;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,h);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const N={provider_token:a,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:g,refresh_token:o,token_type:m,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:r.type},error:null}}catch(a){if(At(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Ec(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{error:i};const o=(a=n.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:l}=await this.admin.signOut(o,r);if(l&&!(KK(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return r!=="others"&&(await this._removeSession(),await wl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const s=aG(),a={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async s=>{var a,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",r,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(r))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",i),console.error(i)}})}async resetPasswordForEmail(r,s={}){let a=null,n=null;this.flowType==="pkce"&&([a,n]=await uu(this.storage,this.storageKey,!0));try{return await Wt(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(At(i))return{data:null,error:i};throw i}}async getUserIdentities(){var r;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}}async linkIdentity(r){var s;try{const{data:a,error:n}=await this._useSession(async i=>{var o,l,d,m,h;const{data:f,error:g}=i;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=r.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Wt(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(m=f.session)===null||m===void 0?void 0:m.access_token)!==null&&h!==void 0?h:void 0})});if(n)throw n;return hi()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:r.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(At(a))return{data:{provider:r.provider,url:null},error:a};throw a}}async unlinkIdentity(r){try{return await this._useSession(async s=>{var a,n;const{data:i,error:o}=s;if(o)throw o;return await Wt(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(At(s))return{data:null,error:s};throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await lG(async n=>(n>0&&await oG(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await Wt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:So})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Qb(i)&&Date.now()+o-a<Su})}catch(a){if(this._debug(s,"error",a),At(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",a),hi()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const n=await Ec(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Ec(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Cu(this.userStorage,this.storageKey+"-user",o)),n.user=(r=o==null?void 0:o.user)!==null&&r!==void 0?r:ew()}else if(n&&!n.user&&!n.user){const o=await Ec(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await wl(this.storage,this.storageKey+"-user"),await Cu(this.storage,this.storageKey,n)):n.user=ew()}if(this._debug(a,"session from storage",n),!this._isValidSession(n)){this._debug(a,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Xb;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${Xb}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Qb(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(a,"error",n),console.error(n);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var s,a;if(!r)throw new Pl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Tx;const{data:i,error:o}=await this._refreshAccessToken(r);if(o)throw o;if(!i.session)throw new Pl;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),At(i)){const o={session:null,error:i};return Qb(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(r,s,a=!0){const n=`#_notifyAllSubscribers(${r})`;this._debug(n,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(r,s)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const s=Object.assign({},r),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await Cu(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=eA(n);await Cu(this.storage,this.storageKey,i)}else{const n=eA(s);await Cu(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await wl(this.storage,this.storageKey),await wl(this.storage,this.storageKey+"-code-verifier"),await wl(this.storage,this.storageKey+"-user"),this.userStorage&&await wl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&hi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Su);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-r)/Su);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Su}ms, refresh threshold is ${RN} ticks`),n<=RN&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof qM)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,a){const n=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await uu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);n.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${n.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;return i?{data:null,error:i}:await Wt(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(At(s))return{data:null,error:s};throw s}}async _enroll(r){try{return await this._useSession(async s=>{var a,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:d,error:m}=await Wt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return m?{data:null,error:m}:(r.factorType==="totp"&&(!((n=d==null?void 0:d.totp)===null||n===void 0)&&n.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(s){if(At(s))return{data:null,error:s};throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:l}=await Wt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(At(s))return{data:null,error:s};throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;return i?{data:null,error:i}:await Wt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(At(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(r){const{data:s,error:a}=await this._challenge({factorId:r.factorId});return a?{data:null,error:a}:await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const a=(r==null?void 0:r.factors)||[],n=a.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=a.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:a,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var s,a;const{data:{session:n},error:i}=r;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Zb(n.access_token);let l=null;o.aal&&(l=o.aal);let d=l;((a=(s=n.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(r,s={keys:[]}){let a=s.keys.find(l=>l.kid===r);if(a)return a;const n=Date.now();if(a=this.jwks.keys.find(l=>l.kid===r),a&&this.jwks_cached_at+qK>n)return a;const{data:i,error:o}=await Wt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,a=i.keys.find(l=>l.kid===r),!a)?null:a}async getClaims(r,s={}){try{let a=r;if(!a){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};a=y.session.access_token}const{header:n,payload:i,signature:o,raw:{header:l,payload:d}}=Zb(a);s!=null&&s.allowExpired||pG(i.exp);const m=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!m){const{error:y}=await this.getUser(a);if(y)throw y;return{data:{claims:i,header:n,signature:o},error:null}}const h=gG(n.alg),f=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,tG(`${l}.${d}`)))throw new LN("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(a){if(At(a))return{data:null,error:a};throw a}}}qh.nextInstanceID=0;const OG=qh;class MG extends OG{constructor(r){super(r)}}var RG=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};class IG{constructor(r,s,a){var n,i,o;if(this.supabaseUrl=r,this.supabaseKey=s,!r)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=zK(r),d=new URL(l);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const m=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:TK,realtime:MK,auth:Object.assign(Object.assign({},OK),{storageKey:m}),global:EK},f=FK(a??{},h);this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=LK(s,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new ZH(new URL("rest/v1",d).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new UH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new _K(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,s={},a={}){return this.rest.rpc(r,s,a)}channel(r,s={config:{}}){return this.realtime.channel(r,s)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,s;return RG(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:n,storageKey:i,flowType:o,lock:l,debug:d},m,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MG({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),m),storageKey:i,autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:n,flowType:o,lock:l,debug:d,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new fK(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,s,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:r==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const DG=(e,r,s)=>new IG(e,r,s);function LG(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}LG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rw="https://twigokrtbvigiqnaybfy.supabase.co",HM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3aWdva3J0YnZpZ2lxbmF5YmZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExMzUyNjksImV4cCI6MjA2NjcxMTI2OX0.AcRI1NYcCYpRqvHZvux15kMbGPocFbvT6uLf5DD6v24",$h=rw.startsWith("http")?rw:`https://${rw}`;typeof window<"u"&&console.log(" Supabase Config:",{envUrl:"https://twigokrtbvigiqnaybfy.supabase.co",finalUrl:$h,hasKey:!0});if(!$h||!HM)throw new Error("Supabase URL or anonymous key is missing from environment variables.");let sw;function PS(){if(!sw){if(typeof window>"u")throw new Error("Supabase client can only be used in the browser");const e=$h.startsWith("http")?$h:`https://${$h.replace(/^https?:\/\//,"")}`;console.log(" Creating Supabase client with URL:",e),sw=DG(e,HM,{auth:{autoRefreshToken:!0,persistSession:!0,storage:window.localStorage,storageKey:"sb-twigokrtbvigiqnaybfy-auth-token",detectSessionInUrl:!0},global:{headers:{"X-Client-Info":"apex-frontend"}}})}return sw}const fs=new Proxy({},{get(e,r,s){const a=PS();return Reflect.get(a,r,s)}});let Sg=null;function $G(){return Sg||(Sg=PS(),console.log(" Supabase client initialized:",!!Sg),console.log(" Supabase URL:","https://twigokrtbvigiqnaybfy.supabase.co")),Sg}const Ut=new Proxy({},{get(e,r,s){const a=$G();return Reflect.get(a,r,s)}});class zG{get client(){return Ut}async getOrganizations(){console.log(" SupabaseService.getOrganizations called");const{data:r,error:s}=await Ut.from("organizations").select("*").order("created_at",{ascending:!1});if(console.log(" Supabase query result:",{data:r,error:s}),s)throw console.error(" Supabase error in getOrganizations:",s),s;return console.log(" Returning organizations:",(r==null?void 0:r.length)||0),r}async getOrganization(r){console.log(" Fetching organization with ID:",r);const{data:s,error:a}=await Ut.from("organizations").select("*").eq("id",r).single();if(a)throw console.error(" Error fetching organization:",a),a;return console.log(" Organization fetched from Supabase:",s),console.log(" Organization data fields:",{hasName:!!(s!=null&&s.name),hasBillingEmail:!!(s!=null&&s.billing_email),hasPhone:!!(s!=null&&s.phone),hasWebsite:!!(s!=null&&s.website),hasIndustry:!!(s!=null&&s.industry),hasAddress:!!(s!=null&&s.address),hasVapiApiKey:!!(s!=null&&s.vapi_api_key),hasVapiPrivateKey:!!(s!=null&&s.vapi_private_key)}),s}async createOrganization(r){const{data:s,error:a}=await Ut.from("organizations").insert(r).select().single();if(a)throw a;return s}async updateOrganization(r,s){const{data:a,error:n}=await Ut.from("organizations").update(s).eq("id",r).select().single();if(n)throw n;return a}async getUsers(r){let s=Ut.from("users").select("*").order("created_at",{ascending:!1});r&&(s=s.eq("organization_id",r));const{data:a,error:n}=await s;if(n)throw n;return a}async getUserByClerkId(r){console.log(" getUserByClerkId called with:",r);try{const{data:s,error:a}=await Ut.from("users").select("*").eq("clerk_id",r).single();if(console.log(" Query result:",{data:s,error:a}),a){if(a.code==="PGRST116")return console.log(" No user found with clerk_id:",r),null;throw console.error(" Full error:",a),a}return s}catch(s){throw console.error(" getUserByClerkId error:",s),s}}async getUserById(r){var n;console.log(" getUserById called with:",r);const{data:s,error:a}=await Ut.from("users").select(`
        *,
        organizations(
          id,
          name,
          slug
        )
      `).eq("id",r).single();return a?(console.error(" getUserById error:",a),a.code==="PGRST116"&&console.log(" No user found with ID:",r),null):s?(console.log(" Found user:",s.email,"Role:",s.role),{...s,organizationName:(n=s.organizations)==null?void 0:n.name}):(console.log(" No user found with ID:",r),null)}async getUserByEmail(r){console.log(" getUserByEmail called with:",r);try{console.log(" Attempting simple query...");const{data:s,error:a}=await Ut.from("users").select("*").eq("email",r).single();if(console.log(" Query completed - Data:",!!s,"Error:",!!a),a){if(console.error(" Query error:",a),console.log("Error details:",{code:a.code,details:a.details,hint:a.hint,message:a.message}),a.code==="PGRST116")return console.log(" No user found"),null;throw a}if(!s)return console.log(" No user found with email:",r),null;if(console.log(" Found user:",s.email,"Role:",s.role,"ID:",s.id),s.organization_id)try{const{data:n}=await Ut.from("organizations").select("id, name, slug").eq("id",s.organization_id).single();n&&(s.organizations=n,s.organizationName=n.name)}catch(n){console.warn("Could not fetch organization:",n)}return s}catch(s){throw console.error(" getUserByEmail failed:",s),s}}async getUserByEmailFallback(r){console.log(" Using fallback query (no joins)...");try{const{data:s,error:a}=await Ut.from("users").select("*").eq("email",r).single();if(a)throw console.error(" Fallback query error:",a),a;if(!s)return console.log(" No user found in fallback"),null;if(console.log(" Fallback query successful:",s.email,"Role:",s.role),s.organization_id){const{data:n}=await Ut.from("organizations").select("id, name, slug").eq("id",s.organization_id).single();n&&(s.organizations=n,s.organizationName=n.name)}return s}catch(s){throw console.error(" Fallback query failed:",s),s}}async createUser(r){const{data:s,error:a}=await Ut.from("users").insert(r).select().single();if(a)throw a;return s}async updateUser(r,s){const{data:a,error:n}=await Ut.from("users").update(s).eq("id",r).select().single();if(n)throw n;return a}async syncUserFromClerk(r,s){var i,o,l;const a=await this.getUserByClerkId(r.id),n={clerk_id:r.id,first_name:r.firstName||"",last_name:r.lastName||"",email:((i=r.primaryEmailAddress)==null?void 0:i.emailAddress)||"",avatar_url:r.imageUrl,email_verified:((l=(o=r.primaryEmailAddress)==null?void 0:o.verification)==null?void 0:l.status)==="verified",last_login_at:new Date().toISOString()};return a?await this.updateUser(a.id,n):await this.createUser({...n,organization_id:s,role:"client_user",permissions:{},status:"active",timezone:"UTC",language:"en"})}async getCampaigns(r){const{data:s,error:a}=await Ut.from("campaigns").select("*").eq("organization_id",r).order("created_at",{ascending:!1});if(a)throw a;return s}async getCampaign(r){const{data:s,error:a}=await Ut.from("campaigns").select("*").eq("id",r).single();if(a)throw a;return s}async createCampaign(r){const{data:s,error:a}=await Ut.from("campaigns").insert(r).select().single();if(a)throw a;return s}async updateCampaign(r,s){const{data:a,error:n}=await Ut.from("campaigns").update(s).eq("id",r).select().single();if(n)throw n;return a}async deleteCampaign(r){const{error:s}=await Ut.from("campaigns").delete().eq("id",r);if(s)throw s}async getLeads(r,s){let a=Ut.from("leads").select("*").eq("organization_id",r).order("created_at",{ascending:!1});s&&(a=a.eq("campaign_id",s));const{data:n,error:i}=await a;if(i)throw i;return n}async createLead(r){const{data:s,error:a}=await Ut.from("leads").insert(r).select().single();if(a)throw a;return s}async updateLead(r,s){const{data:a,error:n}=await Ut.from("leads").update(s).eq("id",r).select().single();if(n)throw n;return a}async deleteLead(r){const{error:s}=await Ut.from("leads").delete().eq("id",r);if(s)throw s}async bulkCreateLeads(r){const{data:s,error:a}=await Ut.from("leads").insert(r).select();if(a)throw a;return s}async getCalls(r,s,a){let n=Ut.from("calls").select("*").eq("organization_id",r).order("started_at",{ascending:!1});s&&(n=n.eq("campaign_id",s)),a&&(n=n.eq("lead_id",a));const{data:i,error:o}=await n;if(o)throw o;return i}async createCall(r){const{data:s,error:a}=await Ut.from("calls").insert(r).select().single();if(a)throw a;return s}async updateCall(r,s){const{data:a,error:n}=await Ut.from("calls").update(s).eq("id",r).select().single();if(n)throw n;return a}async getVapiIntegrations(r){const{data:s,error:a}=await Ut.from("vapi_integrations").select("*").eq("organization_id",r).order("created_at",{ascending:!1});if(a)throw a;return s}async createVapiIntegration(r){const{data:s,error:a}=await Ut.from("vapi_integrations").insert(r).select().single();if(a)throw a;return s}async updateVapiIntegration(r,s){const{data:a,error:n}=await Ut.from("vapi_integrations").update(s).eq("id",r).select().single();if(n)throw n;return a}async getUserSettings(r){const{data:s,error:a}=await Ut.from("user_settings").select("*").eq("user_id",r).single();if(a&&a.code!=="PGRST116")throw a;return s}async upsertUserSettings(r){const{data:s,error:a}=await Ut.from("user_settings").upsert(r).select().single();if(a)throw a;return s}async getNotifications(r,s,a=!1){let n=Ut.from("notifications").select("*").eq("organization_id",r).order("created_at",{ascending:!1});s&&(n=n.eq("user_id",s)),a&&(n=n.eq("read",!1));const{data:i,error:o}=await n;if(o)throw o;return i}async createNotification(r){const{data:s,error:a}=await Ut.from("notifications").insert(r).select().single();if(a)throw a;return s}async markNotificationAsRead(r){const{data:s,error:a}=await Ut.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("id",r).select().single();if(a)throw a;return s}async markAllNotificationsAsRead(r,s){let a=Ut.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("organization_id",r).eq("read",!1);s&&(a=a.eq("user_id",s));const{error:n}=await a;if(n)throw n}async getCampaignAnalytics(r,s,a){let n=Ut.from("calls").select(`
        *,
        campaigns(*),
        leads(*)
      `).eq("organization_id",r);s&&(n=n.eq("campaign_id",s)),a&&(n=n.gte("started_at",a.start).lte("started_at",a.end));const{data:i,error:o}=await n;if(o)throw o;return i}async getOrganizationStats(r){const[s,a,n,i]=await Promise.all([this.getCampaigns(r),this.getLeads(r),this.getCalls(r),this.getUsers(r)]);return{totalCampaigns:s.length,activeCampaigns:s.filter(o=>o.status==="active").length,totalLeads:a.length,qualifiedLeads:a.filter(o=>o.qualification_status==="qualified").length,totalCalls:n.length,completedCalls:n.filter(o=>o.status==="completed").length,totalUsers:i.length,activeUsers:i.filter(o=>o.status==="active").length}}async getPhoneNumbers(r){try{const{data:s,error:a}=await Ut.from("phone_numbers").select("*").eq("organization_id",r);if(a)throw a;return s||[]}catch(s){return console.error("Error fetching phone numbers:",s),[]}}async getAssistants(r){try{return console.log("vapi_assistants table does not exist, returning empty array"),[]}catch(s){return console.error("Error fetching assistants:",s),[]}}async getOrganizationUsers(r){try{const{data:s,error:a}=await Ut.from("users").select("*").eq("organization_id",r);if(a)throw a;return s||[]}catch(s){return console.error("Error fetching organization users:",s),[]}}}const qi=new zG,Au=Object.freeze(Object.defineProperty({__proto__:null,supabaseService:qi},Symbol.toStringTag,{value:"Module"}));p.createContext(void 0);function tm(){var n,i,o;const[e,r]=p.useState(null),[s,a]=p.useState(!1);{const l=bS();if(p.useEffect(()=>{l.isSignedIn&&l.user&&!s&&(a(!0),qi.getUserByClerkId(l.user.id).then(async d=>{var m;if(!d&&((m=l.user.primaryEmailAddress)!=null&&m.emailAddress)){const h=await qi.getUserByEmail(l.user.primaryEmailAddress.emailAddress);r(h)}else r(d)}).catch(d=>{var m;(m=d.message)!=null&&m.includes("404")||console.error(" Error fetching db user:",d)}))},[l.isSignedIn,(n=l.user)==null?void 0:n.id,s]),!l.isSignedIn||!l.user)return{isSignedIn:!1,user:null,isLoaded:l.isLoaded};if(!e){const d=(i=l.user.primaryEmailAddress)==null?void 0:i.emailAddress;let m="client_user",h=null;return d==="sean@artificialmedia.co.uk"?(m="platform_owner",h="47a8e3ea-cd34-4746-a786-dd31e8f8105e"):d==="seanwentz99@gmail.com"&&(m="client_admin",h="2566d8c5-2245-4a3c-b539-4cea21a07d9b"),{isSignedIn:!0,isLoaded:!0,user:{id:l.user.id,firstName:l.user.firstName||"",lastName:l.user.lastName||"",fullName:l.user.fullName||"",email:d||"",emailAddresses:l.user.emailAddresses,primaryEmailAddress:l.user.primaryEmailAddress,imageUrl:l.user.imageUrl,role:m,organization_id:h,organizationName:null}}}return{isSignedIn:!0,isLoaded:!0,user:{id:e.id,clerkId:l.user.id,firstName:e.first_name,lastName:e.last_name,fullName:`${e.first_name} ${e.last_name}`,email:e.email,emailAddresses:l.user.emailAddresses,primaryEmailAddress:l.user.primaryEmailAddress,imageUrl:l.user.imageUrl,role:e.role,organization_id:e.organization_id,organizationName:(o=e.organizations)==null?void 0:o.name,...e}}}}function ja(){var s;const[e,r]=p.useState(null);{const a=Uq(),{user:n}=bS();return p.useEffect(()=>{a.isSignedIn&&n&&qi.getUserByClerkId(n.id).then(i=>r(i)).catch(i=>console.error("Error fetching db user:",i))},[a.isSignedIn,n==null?void 0:n.id]),{isLoaded:a.isLoaded&&(a.isSignedIn?e!==null:!0),isSignedIn:a.isSignedIn,user:a.isSignedIn&&n&&e?{id:e.id,clerkId:n.id,firstName:e.first_name,lastName:e.last_name,fullName:`${e.first_name} ${e.last_name}`,email:e.email,emailAddresses:n.emailAddresses,primaryEmailAddress:n.primaryEmailAddress,imageUrl:n.imageUrl,role:e.role,organization_id:e.organization_id,organizationName:(s=e.organizations)==null?void 0:s.name,...e}:null,signOut:a.signOut,getToken:a.getToken}}}const KM=p.createContext(void 0),FG=({children:e})=>{const[r,s]=p.useState(null),[a,n]=p.useState(null),{user:i,isLoaded:o}=tm();return p.useEffect(()=>{var d,m,h,f;const l=(i==null?void 0:i.id)||(i==null?void 0:i.email)||null;if(o&&i&&l!==a){n(l),console.log(" MinimalUserProvider: User data received:",{email:i.email,role:i.role,firstName:i.firstName||i.first_name,lastName:i.lastName||i.last_name,organization_id:i.organization_id});const g=((d=i.primaryEmailAddress)==null?void 0:d.emailAddress)||((h=(m=i.emailAddresses)==null?void 0:m[0])==null?void 0:h.emailAddress)||i.email||"user@example.com",y={firstName:i.firstName||i.first_name||"User",lastName:i.lastName||i.last_name||"",organizationName:i.organizationName||((f=i.organizations)==null?void 0:f.name)||"Organization",organization_id:i.organization_id,email:g,role:i.role||"client_user"};console.log(" MinimalUserProvider: Setting user context:",y),s(y)}else o&&!i&&a!==null&&(n(null),s(null))},[i==null?void 0:i.id,i==null?void 0:i.email,o,a]),t.jsx(KM.Provider,{value:{userContext:r,setUserContext:s},children:e})},no=()=>{const e=p.useContext(KM);if(!e)throw new Error("useUserContext must be used within a MinimalUserProvider");return e};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GM=(...e)=>e.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=p.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:o,...l},d)=>p.createElement("svg",{ref:d,...BG,width:r,height:r,stroke:e,strokeWidth:a?Number(s)*24/Number(r):s,className:GM("lucide",n),...l},[...o.map(([m,h])=>p.createElement(m,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(e,r)=>{const s=p.forwardRef(({className:a,...n},i)=>p.createElement(WG,{ref:i,iconNode:r,className:GM(`lucide-${UG(e)}`,a),...n}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=Ne("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=Ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=Ne("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=Ne("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=Ne("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=Ne("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Ne("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=Ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=Ne("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=Ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Ne("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Ne("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=Ne("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=Ne("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Ne("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=Ne("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=Ne("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=Ne("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=Ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=Ne("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=Ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=Ne("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=Ne("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=Ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=Ne("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=Ne("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=Ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Ne("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=Ne("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=Ne("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=Ne("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=Ne("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=Ne("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Ne("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Ne("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Ne("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=Ne("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=Ne("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=Ne("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=Ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Ne("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=Ne("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=Ne("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=Ne("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=Ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=Ne("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Ne("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=Ne("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Ne("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=Ne("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Ne("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=Ne("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Ne("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=Ne("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=Ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=Ne("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=Ne("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Ne("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=Ne("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Ne("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=Ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=Ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Ne("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=Ne("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=Ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=Ne("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=Ne("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=Ne("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=Ne("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=Ne("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=Ne("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function oA(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function Dx(...e){return r=>{let s=!1;const a=e.map(n=>{const i=oA(n,r);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let n=0;n<a.length;n++){const i=a[n];typeof i=="function"?i():oA(e[n],null)}}}}function ht(...e){return p.useCallback(Dx(...e),e)}function nd(e){const r=jY(e),s=p.forwardRef((a,n)=>{const{children:i,...o}=a,l=p.Children.toArray(i),d=l.find(SY);if(d){const m=d.props.children,h=l.map(f=>f===d?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:f);return t.jsx(r,{...o,ref:n,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return t.jsx(r,{...o,ref:n,children:i})});return s.displayName=`${e}.Slot`,s}var wY=nd("Slot");function jY(e){const r=p.forwardRef((s,a)=>{const{children:n,...i}=s;if(p.isValidElement(n)){const o=kY(n),l=CY(i,n.props);return n.type!==p.Fragment&&(l.ref=a?Dx(a,o):o),p.cloneElement(n,l)}return p.Children.count(n)>1?p.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var tR=Symbol("radix.slottable");function NY(e){const r=({children:s})=>t.jsx(t.Fragment,{children:s});return r.displayName=`${e}.Slottable`,r.__radixId=tR,r}function SY(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tR}function CY(e,r){const s={...r};for(const a in r){const n=e[a],i=r[a];/^on[A-Z]/.test(a)?n&&i?s[a]=(...l)=>{const d=i(...l);return n(...l),d}:n&&(s[a]=n):a==="style"?s[a]={...n,...i}:a==="className"&&(s[a]=[n,i].filter(Boolean).join(" "))}return{...e,...s}}function kY(e){var a,n;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function rR(e){var r,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(r=0;r<n;r++)e[r]&&(s=rR(e[r]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function Zt(){for(var e,r,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(r=rR(e))&&(a&&(a+=" "),a+=r);return a}const lA=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cA=Zt,Ef=(e,r)=>s=>{var a;if((r==null?void 0:r.variants)==null)return cA(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:i}=r,o=Object.keys(n).map(m=>{const h=s==null?void 0:s[m],f=i==null?void 0:i[m];if(h===null)return null;const g=lA(h)||lA(f);return n[m][g]}),l=s&&Object.entries(s).reduce((m,h)=>{let[f,g]=h;return g===void 0||(m[f]=g),m},{}),d=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((m,h)=>{let{class:f,className:g,...y}=h;return Object.entries(y).every(w=>{let[v,b]=w;return Array.isArray(b)?b.includes({...i,...l}[v]):{...i,...l}[v]===b})?[...m,f,g]:m},[]);return cA(e,o,d,s==null?void 0:s.class,s==null?void 0:s.className)},ES="-",_Y=e=>{const r=AY(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(ES);return l[0]===""&&l.length!==1&&l.shift(),sR(l,r)||PY(o)},getConflictingClassGroupIds:(o,l)=>{const d=s[o]||[];return l&&a[o]?[...d,...a[o]]:d}}},sR=(e,r)=>{var o;if(e.length===0)return r.classGroupId;const s=e[0],a=r.nextPart.get(s),n=a?sR(e.slice(1),a):void 0;if(n)return n;if(r.validators.length===0)return;const i=e.join(ES);return(o=r.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},dA=/^\[(.+)\]$/,PY=e=>{if(dA.test(e)){const r=dA.exec(e)[1],s=r==null?void 0:r.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},AY=e=>{const{theme:r,prefix:s}=e,a={nextPart:new Map,validators:[]};return TY(Object.entries(e.classGroups),s).forEach(([i,o])=>{UN(o,a,i,r)}),a},UN=(e,r,s,a)=>{e.forEach(n=>{if(typeof n=="string"){const i=n===""?r:uA(r,n);i.classGroupId=s;return}if(typeof n=="function"){if(EY(n)){UN(n(a),r,s,a);return}r.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([i,o])=>{UN(o,uA(r,i),s,a)})})},uA=(e,r)=>{let s=e;return r.split(ES).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},EY=e=>e.isThemeGetter,TY=(e,r)=>r?e.map(([s,a])=>{const n=a.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[r+o,l])):i);return[s,n]}):e,OY=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,a=new Map;const n=(i,o)=>{s.set(i,o),r++,r>e&&(r=0,a=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return n(i,o),o},set(i,o){s.has(i)?s.set(i,o):n(i,o)}}},aR="!",MY=e=>{const{separator:r,experimentalParseClassName:s}=e,a=r.length===1,n=r[0],i=r.length,o=l=>{const d=[];let m=0,h=0,f;for(let b=0;b<l.length;b++){let N=l[b];if(m===0){if(N===n&&(a||l.slice(b,b+i)===r)){d.push(l.slice(h,b)),h=b+i;continue}if(N==="/"){f=b;continue}}N==="["?m++:N==="]"&&m--}const g=d.length===0?l:l.substring(h),y=g.startsWith(aR),w=y?g.substring(1):g,v=f&&f>h?f-h:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:v}};return s?l=>s({className:l,parseClassName:o}):o},RY=e=>{if(e.length<=1)return e;const r=[];let s=[];return e.forEach(a=>{a[0]==="["?(r.push(...s.sort(),a),s=[]):s.push(a)}),r.push(...s.sort()),r},IY=e=>({cache:OY(e.cacheSize),parseClassName:MY(e),..._Y(e)}),DY=/\s+/,LY=(e,r)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:n}=r,i=[],o=e.trim().split(DY);let l="";for(let d=o.length-1;d>=0;d-=1){const m=o[d],{modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:y}=s(m);let w=!!y,v=a(w?g.substring(0,y):g);if(!v){if(!w){l=m+(l.length>0?" "+l:l);continue}if(v=a(g),!v){l=m+(l.length>0?" "+l:l);continue}w=!1}const b=RY(h).join(":"),N=f?b+aR:b,C=N+v;if(i.includes(C))continue;i.push(C);const S=n(v,w);for(let _=0;_<S.length;++_){const A=S[_];i.push(N+A)}l=m+(l.length>0?" "+l:l)}return l};function $Y(){let e=0,r,s,a="";for(;e<arguments.length;)(r=arguments[e++])&&(s=nR(r))&&(a&&(a+=" "),a+=s);return a}const nR=e=>{if(typeof e=="string")return e;let r,s="";for(let a=0;a<e.length;a++)e[a]&&(r=nR(e[a]))&&(s&&(s+=" "),s+=r);return s};function zY(e,...r){let s,a,n,i=o;function o(d){const m=r.reduce((h,f)=>f(h),e());return s=IY(m),a=s.cache.get,n=s.cache.set,i=l,l(d)}function l(d){const m=a(d);if(m)return m;const h=LY(d,s);return n(d,h),h}return function(){return i($Y.apply(null,arguments))}}const Rr=e=>{const r=s=>s[e]||[];return r.isThemeGetter=!0,r},iR=/^\[(?:([a-z-]+):)?(.+)\]$/i,FY=/^\d+\/\d+$/,UY=new Set(["px","full","screen"]),BY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wo=e=>Eu(e)||UY.has(e)||FY.test(e),jl=e=>am(e,"length",eJ),Eu=e=>!!e&&!Number.isNaN(Number(e)),aw=e=>am(e,"number",Eu),ch=e=>!!e&&Number.isInteger(Number(e)),KY=e=>e.endsWith("%")&&Eu(e.slice(0,-1)),Mt=e=>iR.test(e),Nl=e=>BY.test(e),GY=new Set(["length","size","percentage"]),YY=e=>am(e,GY,oR),JY=e=>am(e,"position",oR),XY=new Set(["image","url"]),QY=e=>am(e,XY,rJ),ZY=e=>am(e,"",tJ),dh=()=>!0,am=(e,r,s)=>{const a=iR.exec(e);return a?a[1]?typeof r=="string"?a[1]===r:r.has(a[1]):s(a[2]):!1},eJ=e=>WY.test(e)&&!VY.test(e),oR=()=>!1,tJ=e=>qY.test(e),rJ=e=>HY.test(e),sJ=()=>{const e=Rr("colors"),r=Rr("spacing"),s=Rr("blur"),a=Rr("brightness"),n=Rr("borderColor"),i=Rr("borderRadius"),o=Rr("borderSpacing"),l=Rr("borderWidth"),d=Rr("contrast"),m=Rr("grayscale"),h=Rr("hueRotate"),f=Rr("invert"),g=Rr("gap"),y=Rr("gradientColorStops"),w=Rr("gradientColorStopPositions"),v=Rr("inset"),b=Rr("margin"),N=Rr("opacity"),C=Rr("padding"),S=Rr("saturate"),_=Rr("scale"),A=Rr("sepia"),T=Rr("skew"),E=Rr("space"),R=Rr("translate"),$=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Mt,r],I=()=>[Mt,r],W=()=>["",wo,jl],V=()=>["auto",Eu,Mt],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Mt],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Eu,Mt];return{cacheSize:500,separator:":",theme:{colors:[dh],spacing:[wo,jl],blur:["none","",Nl,Mt],brightness:B(),borderColor:[e],borderRadius:["none","","full",Nl,Mt],borderSpacing:I(),borderWidth:W(),contrast:B(),grayscale:z(),hueRotate:B(),invert:z(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[KY,jl],inset:M(),margin:M(),opacity:B(),padding:I(),saturate:B(),scale:B(),sepia:z(),skew:B(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Mt]}],container:["container"],columns:[{columns:[Nl]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Mt]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ch,Mt]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Mt]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",ch,Mt]}],"grid-cols":[{"grid-cols":[dh]}],"col-start-end":[{col:["auto",{span:["full",ch,Mt]},Mt]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[dh]}],"row-start-end":[{row:["auto",{span:[ch,Mt]},Mt]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Mt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Mt,r]}],"min-w":[{"min-w":[Mt,r,"min","max","fit"]}],"max-w":[{"max-w":[Mt,r,"none","full","min","max","fit","prose",{screen:[Nl]},Nl]}],h:[{h:[Mt,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Mt,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Mt,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Mt,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Nl,jl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",aw]}],"font-family":[{font:[dh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Mt]}],"line-clamp":[{"line-clamp":["none",Eu,aw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wo,Mt]}],"list-image":[{"list-image":["none",Mt]}],"list-style-type":[{list:["none","disc","decimal",Mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wo,jl]}],"underline-offset":[{"underline-offset":["auto",wo,Mt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),JY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",YY]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},QY]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:L()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[wo,Mt]}],"outline-w":[{outline:[wo,jl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[wo,jl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Nl,ZY]}],"shadow-color":[{shadow:[dh]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Nl,Mt]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Mt]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Mt]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[ch,Mt]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Mt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Mt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Mt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wo,jl,aw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},aJ=zY(sJ);function Re(...e){return aJ(Zt(e))}function nw(e){const r=new Date(e);return isNaN(r.getTime())?"Invalid Date":r.toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}const TS=Ef("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gray-600 hover:bg-gray-700 text-white shadow-sm",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-gray-700 bg-transparent hover:bg-gray-600/10 hover:border-gray-600 text-gray-300 hover:text-white",secondary:"bg-gray-800 text-white hover:bg-gray-700 border border-gray-700 hover:border-gray-600",ghost:"hover:bg-gray-800 text-gray-300 hover:text-white",link:"text-gray-400 underline-offset-4 hover:underline hover:text-gray-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=p.forwardRef(({className:e,variant:r,size:s,asChild:a=!1,...n},i)=>{const o=a?wY:"button";return t.jsx(o,{className:Re(TS({variant:r,size:s,className:e})),ref:i,...n})});q.displayName="Button";const nJ=e=>e instanceof Error?e.message+`
`+e.stack:JSON.stringify(e,null,2);let iJ=class extends oe.Component{constructor(s){super(s);mi(this,"handleReload",()=>{window.location.reload()});mi(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){console.error(" ErrorBoundary caught an error:",s),console.error(" Component stack:",a.componentStack),this.setState({error:s,errorInfo:a})}render(){return this.state.hasError?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950 p-6",children:t.jsxs("div",{className:"w-full max-w-md rounded-xl border border-red-500/20 bg-gray-900 p-8 text-center shadow-2xl",children:[t.jsx("div",{className:"mb-6 flex justify-center",children:t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-500/10",children:t.jsx(va,{className:"h-8 w-8 text-red-400"})})}),t.jsx("h1",{className:"mb-2 text-2xl font-bold text-white",children:"Oops! Something went wrong"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"We encountered an unexpected error. Don't worry, your data is safe."}),t.jsxs("div",{className:"mb-6 space-y-3",children:[t.jsxs(q,{onClick:this.handleReload,className:"w-full bg-gradient-to-r from-brand-pink to-brand-magenta hover:from-brand-pink/80 hover:to-brand-magenta/80",children:[t.jsx(ea,{className:"mr-2 h-4 w-4"}),"Reload Page"]}),t.jsxs(q,{onClick:this.handleGoHome,variant:"outline",className:"w-full border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(Ix,{className:"mr-2 h-4 w-4"}),"Go to Dashboard"]})]}),t.jsxs("details",{className:"text-left",children:[t.jsx("summary",{className:"mb-2 cursor-pointer text-sm text-gray-500 hover:text-gray-400",children:"View Technical Details"}),t.jsxs("div",{className:"mt-2 rounded-lg bg-gray-800 p-4",children:[t.jsx("pre",{className:"max-h-32 overflow-auto text-xs text-red-400",children:nJ(this.state.error)}),this.state.errorInfo&&t.jsx("pre",{className:"mt-2 max-h-32 overflow-auto text-xs text-gray-500",children:this.state.errorInfo.componentStack})]})]}),t.jsx("div",{className:"mt-6 border-t border-gray-800 pt-4",children:t.jsx("p",{className:"text-xs text-gray-500",children:"If this problem persists, please contact support."})})]})}):this.props.children}};const mA=({children:e})=>{const r=Zl(),{isLoaded:s,isSignedIn:a}=ja();return s?a?t.jsx(t.Fragment,{children:e}):t.jsx(pS,{to:"/login",state:{from:r},replace:!0}):t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-b-2 border-emerald-600"}),t.jsx("p",{className:"text-gray-400",children:"Loading..."})]})})};function $e(e,r,{checkForDefaultPrevented:s=!0}={}){return function(n){if(e==null||e(n),s===!1||!n.defaultPrevented)return r==null?void 0:r(n)}}function oJ(e,r){const s=p.createContext(r),a=i=>{const{children:o,...l}=i,d=p.useMemo(()=>l,Object.values(l));return t.jsx(s.Provider,{value:d,children:o})};a.displayName=e+"Provider";function n(i){const o=p.useContext(s);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,n]}function Vs(e,r=[]){let s=[];function a(i,o){const l=p.createContext(o),d=s.length;s=[...s,o];const m=f=>{var N;const{scope:g,children:y,...w}=f,v=((N=g==null?void 0:g[e])==null?void 0:N[d])||l,b=p.useMemo(()=>w,Object.values(w));return t.jsx(v.Provider,{value:b,children:y})};m.displayName=i+"Provider";function h(f,g){var v;const y=((v=g==null?void 0:g[e])==null?void 0:v[d])||l,w=p.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[m,h]}const n=()=>{const i=s.map(o=>p.createContext(o));return function(l){const d=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return n.scopeName=e,[a,lJ(n,...r)]}function lJ(...e){const r=e[0];if(e.length===1)return r;const s=()=>{const a=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const o=a.reduce((l,{useScope:d,scopeName:m})=>{const f=d(i)[`__scope${m}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return s.scopeName=r.scopeName,s}var os=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},cJ=jx[" useInsertionEffect ".trim().toString()]||os;function Ni({prop:e,defaultProp:r,onChange:s=()=>{},caller:a}){const[n,i,o]=dJ({defaultProp:r,onChange:s}),l=e!==void 0,d=l?e:n;{const h=p.useRef(e!==void 0);p.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${a} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,a])}const m=p.useCallback(h=>{var f;if(l){const g=uJ(h)?h(e):h;g!==e&&((f=o.current)==null||f.call(o,g))}else i(h)},[l,e,i,o]);return[d,m]}function dJ({defaultProp:e,onChange:r}){const[s,a]=p.useState(e),n=p.useRef(s),i=p.useRef(r);return cJ(()=>{i.current=r},[r]),p.useEffect(()=>{var o;n.current!==s&&((o=i.current)==null||o.call(i,s),n.current=s)},[s,n]),[s,a,i]}function uJ(e){return typeof e=="function"}var mJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],He=mJ.reduce((e,r)=>{const s=nd(`Primitive.${r}`),a=p.forwardRef((n,i)=>{const{asChild:o,...l}=n,d=o?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(d,{...l,ref:i})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function OS(e,r){e&&Xl.flushSync(()=>e.dispatchEvent(r))}function Tf(e){const r=e+"CollectionProvider",[s,a]=Vs(r),[n,i]=s(r,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:b,children:N}=v,C=oe.useRef(null),S=oe.useRef(new Map).current;return t.jsx(n,{scope:b,itemMap:S,collectionRef:C,children:N})};o.displayName=r;const l=e+"CollectionSlot",d=nd(l),m=oe.forwardRef((v,b)=>{const{scope:N,children:C}=v,S=i(l,N),_=ht(b,S.collectionRef);return t.jsx(d,{ref:_,children:C})});m.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",g=nd(h),y=oe.forwardRef((v,b)=>{const{scope:N,children:C,...S}=v,_=oe.useRef(null),A=ht(b,_),T=i(h,N);return oe.useEffect(()=>(T.itemMap.set(_,{ref:_,...S}),()=>void T.itemMap.delete(_))),t.jsx(g,{[f]:"",ref:A,children:C})});y.displayName=h;function w(v){const b=i(e+"CollectionConsumer",v);return oe.useCallback(()=>{const C=b.collectionRef.current;if(!C)return[];const S=Array.from(C.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((T,E)=>S.indexOf(T.ref.current)-S.indexOf(E.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:m,ItemSlot:y},w,a]}var hJ=p.createContext(void 0);function bd(e){const r=p.useContext(hJ);return e||r||"ltr"}function Zr(e){const r=p.useRef(e);return p.useEffect(()=>{r.current=e}),p.useMemo(()=>(...s)=>{var a;return(a=r.current)==null?void 0:a.call(r,...s)},[])}function fJ(e,r=globalThis==null?void 0:globalThis.document){const s=Zr(e);p.useEffect(()=>{const a=n=>{n.key==="Escape"&&s(n)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[s,r])}var pJ="DismissableLayer",BN="dismissableLayer.update",gJ="dismissableLayer.pointerDownOutside",xJ="dismissableLayer.focusOutside",hA,lR=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Of=p.forwardRef((e,r)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,m=p.useContext(lR),[h,f]=p.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),w=ht(r,E=>f(E)),v=Array.from(m.layers),[b]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(b),C=h?v.indexOf(h):-1,S=m.layersWithOutsidePointerEventsDisabled.size>0,_=C>=N,A=vJ(E=>{const R=E.target,$=[...m.branches].some(K=>K.contains(R));!_||$||(n==null||n(E),o==null||o(E),E.defaultPrevented||l==null||l())},g),T=bJ(E=>{const R=E.target;[...m.branches].some(K=>K.contains(R))||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},g);return fJ(E=>{C===m.layers.size-1&&(a==null||a(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},g),p.useEffect(()=>{if(h)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(hA=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),fA(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=hA)}},[h,g,s,m]),p.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),fA())},[h,m]),p.useEffect(()=>{const E=()=>y({});return document.addEventListener(BN,E),()=>document.removeEventListener(BN,E)},[]),t.jsx(He.div,{...d,ref:w,style:{pointerEvents:S?_?"auto":"none":void 0,...e.style},onFocusCapture:$e(e.onFocusCapture,T.onFocusCapture),onBlurCapture:$e(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:$e(e.onPointerDownCapture,A.onPointerDownCapture)})});Of.displayName=pJ;var yJ="DismissableLayerBranch",cR=p.forwardRef((e,r)=>{const s=p.useContext(lR),a=p.useRef(null),n=ht(r,a);return p.useEffect(()=>{const i=a.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),t.jsx(He.div,{...e,ref:n})});cR.displayName=yJ;function vJ(e,r=globalThis==null?void 0:globalThis.document){const s=Zr(e),a=p.useRef(!1),n=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let d=function(){dR(gJ,s,m,{discrete:!0})};const m={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",n.current),n.current=d,r.addEventListener("click",n.current,{once:!0})):d()}else r.removeEventListener("click",n.current);a.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",n.current)}},[r,s]),{onPointerDownCapture:()=>a.current=!0}}function bJ(e,r=globalThis==null?void 0:globalThis.document){const s=Zr(e),a=p.useRef(!1);return p.useEffect(()=>{const n=i=>{i.target&&!a.current&&dR(xJ,s,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",n),()=>r.removeEventListener("focusin",n)},[r,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function fA(){const e=new CustomEvent(BN);document.dispatchEvent(e)}function dR(e,r,s,{discrete:a}){const n=s.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});r&&n.addEventListener(e,r,{once:!0}),a?OS(n,i):n.dispatchEvent(i)}var wJ=Of,jJ=cR,iw=0;function MS(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??pA()),document.body.insertAdjacentElement("beforeend",e[1]??pA()),iw++,()=>{iw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),iw--}},[])}function pA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ow="focusScope.autoFocusOnMount",lw="focusScope.autoFocusOnUnmount",gA={bubbles:!1,cancelable:!0},NJ="FocusScope",Lx=p.forwardRef((e,r)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:i,...o}=e,[l,d]=p.useState(null),m=Zr(n),h=Zr(i),f=p.useRef(null),g=ht(r,v=>d(v)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(a){let v=function(S){if(y.paused||!l)return;const _=S.target;l.contains(_)?f.current=_:Al(f.current,{select:!0})},b=function(S){if(y.paused||!l)return;const _=S.relatedTarget;_!==null&&(l.contains(_)||Al(f.current,{select:!0}))},N=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&Al(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const C=new MutationObserver(N);return l&&C.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),C.disconnect()}}},[a,l,y.paused]),p.useEffect(()=>{if(l){yA.add(y);const v=document.activeElement;if(!l.contains(v)){const N=new CustomEvent(ow,gA);l.addEventListener(ow,m),l.dispatchEvent(N),N.defaultPrevented||(SJ(AJ(uR(l)),{select:!0}),document.activeElement===v&&Al(l))}return()=>{l.removeEventListener(ow,m),setTimeout(()=>{const N=new CustomEvent(lw,gA);l.addEventListener(lw,h),l.dispatchEvent(N),N.defaultPrevented||Al(v??document.body,{select:!0}),l.removeEventListener(lw,h),yA.remove(y)},0)}}},[l,m,h,y]);const w=p.useCallback(v=>{if(!s&&!a||y.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(b&&N){const C=v.currentTarget,[S,_]=CJ(C);S&&_?!v.shiftKey&&N===_?(v.preventDefault(),s&&Al(S,{select:!0})):v.shiftKey&&N===S&&(v.preventDefault(),s&&Al(_,{select:!0})):N===C&&v.preventDefault()}},[s,a,y.paused]);return t.jsx(He.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});Lx.displayName=NJ;function SJ(e,{select:r=!1}={}){const s=document.activeElement;for(const a of e)if(Al(a,{select:r}),document.activeElement!==s)return}function CJ(e){const r=uR(e),s=xA(r,e),a=xA(r.reverse(),e);return[s,a]}function uR(e){const r=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function xA(e,r){for(const s of e)if(!kJ(s,{upTo:r}))return s}function kJ(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _J(e){return e instanceof HTMLInputElement&&"select"in e}function Al(e,{select:r=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&_J(e)&&r&&e.select()}}var yA=PJ();function PJ(){let e=[];return{add(r){const s=e[0];r!==s&&(s==null||s.pause()),e=vA(e,r),e.unshift(r)},remove(r){var s;e=vA(e,r),(s=e[0])==null||s.resume()}}}function vA(e,r){const s=[...e],a=s.indexOf(r);return a!==-1&&s.splice(a,1),s}function AJ(e){return e.filter(r=>r.tagName!=="A")}var EJ=jx[" useId ".trim().toString()]||(()=>{}),TJ=0;function Hi(e){const[r,s]=p.useState(EJ());return os(()=>{s(a=>a??String(TJ++))},[e]),r?`radix-${r}`:""}const OJ=["top","right","bottom","left"],Kl=Math.min,dn=Math.max,x0=Math.round,Cg=Math.floor,Ki=e=>({x:e,y:e}),MJ={left:"right",right:"left",bottom:"top",top:"bottom"},RJ={start:"end",end:"start"};function WN(e,r,s){return dn(e,Kl(r,s))}function zo(e,r){return typeof e=="function"?e(r):e}function Fo(e){return e.split("-")[0]}function nm(e){return e.split("-")[1]}function RS(e){return e==="x"?"y":"x"}function IS(e){return e==="y"?"height":"width"}const IJ=new Set(["top","bottom"]);function Bi(e){return IJ.has(Fo(e))?"y":"x"}function DS(e){return RS(Bi(e))}function DJ(e,r,s){s===void 0&&(s=!1);const a=nm(e),n=DS(e),i=IS(n);let o=n==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=y0(o)),[o,y0(o)]}function LJ(e){const r=y0(e);return[VN(e),r,VN(r)]}function VN(e){return e.replace(/start|end/g,r=>RJ[r])}const bA=["left","right"],wA=["right","left"],$J=["top","bottom"],zJ=["bottom","top"];function FJ(e,r,s){switch(e){case"top":case"bottom":return s?r?wA:bA:r?bA:wA;case"left":case"right":return r?$J:zJ;default:return[]}}function UJ(e,r,s,a){const n=nm(e);let i=FJ(Fo(e),s==="start",a);return n&&(i=i.map(o=>o+"-"+n),r&&(i=i.concat(i.map(VN)))),i}function y0(e){return e.replace(/left|right|bottom|top/g,r=>MJ[r])}function BJ(e){return{top:0,right:0,bottom:0,left:0,...e}}function mR(e){return typeof e!="number"?BJ(e):{top:e,right:e,bottom:e,left:e}}function v0(e){const{x:r,y:s,width:a,height:n}=e;return{width:a,height:n,top:s,left:r,right:r+a,bottom:s+n,x:r,y:s}}function jA(e,r,s){let{reference:a,floating:n}=e;const i=Bi(r),o=DS(r),l=IS(o),d=Fo(r),m=i==="y",h=a.x+a.width/2-n.width/2,f=a.y+a.height/2-n.height/2,g=a[l]/2-n[l]/2;let y;switch(d){case"top":y={x:h,y:a.y-n.height};break;case"bottom":y={x:h,y:a.y+a.height};break;case"right":y={x:a.x+a.width,y:f};break;case"left":y={x:a.x-n.width,y:f};break;default:y={x:a.x,y:a.y}}switch(nm(r)){case"start":y[o]-=g*(s&&m?-1:1);break;case"end":y[o]+=g*(s&&m?-1:1);break}return y}const WJ=async(e,r,s)=>{const{placement:a="bottom",strategy:n="absolute",middleware:i=[],platform:o}=s,l=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(r));let m=await o.getElementRects({reference:e,floating:r,strategy:n}),{x:h,y:f}=jA(m,a,d),g=a,y={},w=0;for(let v=0;v<l.length;v++){const{name:b,fn:N}=l[v],{x:C,y:S,data:_,reset:A}=await N({x:h,y:f,initialPlacement:a,placement:g,strategy:n,middlewareData:y,rects:m,platform:o,elements:{reference:e,floating:r}});h=C??h,f=S??f,y={...y,[b]:{...y[b],..._}},A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(g=A.placement),A.rects&&(m=A.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:n}):A.rects),{x:h,y:f}=jA(m,g,d)),v=-1)}return{x:h,y:f,placement:g,strategy:n,middlewareData:y}};async function Kh(e,r){var s;r===void 0&&(r={});const{x:a,y:n,platform:i,rects:o,elements:l,strategy:d}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:g=!1,padding:y=0}=zo(r,e),w=mR(y),b=l[g?f==="floating"?"reference":"floating":f],N=v0(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(b)))==null||s?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:m,rootBoundary:h,strategy:d})),C=f==="floating"?{x:a,y:n,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},A=v0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:S,strategy:d}):C);return{top:(N.top-A.top+w.top)/_.y,bottom:(A.bottom-N.bottom+w.bottom)/_.y,left:(N.left-A.left+w.left)/_.x,right:(A.right-N.right+w.right)/_.x}}const VJ=e=>({name:"arrow",options:e,async fn(r){const{x:s,y:a,placement:n,rects:i,platform:o,elements:l,middlewareData:d}=r,{element:m,padding:h=0}=zo(e,r)||{};if(m==null)return{};const f=mR(h),g={x:s,y:a},y=DS(n),w=IS(y),v=await o.getDimensions(m),b=y==="y",N=b?"top":"left",C=b?"bottom":"right",S=b?"clientHeight":"clientWidth",_=i.reference[w]+i.reference[y]-g[y]-i.floating[w],A=g[y]-i.reference[y],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(m));let E=T?T[S]:0;(!E||!await(o.isElement==null?void 0:o.isElement(T)))&&(E=l.floating[S]||i.floating[w]);const R=_/2-A/2,$=E/2-v[w]/2-1,K=Kl(f[N],$),M=Kl(f[C],$),I=K,W=E-v[w]-M,V=E/2-v[w]/2+R,U=WN(I,V,W),L=!d.arrow&&nm(n)!=null&&V!==U&&i.reference[w]/2-(V<I?K:M)-v[w]/2<0,O=L?V<I?V-I:V-W:0;return{[y]:g[y]+O,data:{[y]:U,centerOffset:V-U-O,...L&&{alignmentOffset:O}},reset:L}}}),qJ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var s,a;const{placement:n,middlewareData:i,rects:o,initialPlacement:l,platform:d,elements:m}=r,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...b}=zo(e,r);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const N=Fo(n),C=Bi(l),S=Fo(l)===l,_=await(d.isRTL==null?void 0:d.isRTL(m.floating)),A=g||(S||!v?[y0(l)]:LJ(l)),T=w!=="none";!g&&T&&A.push(...UJ(l,v,w,_));const E=[l,...A],R=await Kh(r,b),$=[];let K=((a=i.flip)==null?void 0:a.overflows)||[];if(h&&$.push(R[N]),f){const V=DJ(n,o,_);$.push(R[V[0]],R[V[1]])}if(K=[...K,{placement:n,overflows:$}],!$.every(V=>V<=0)){var M,I;const V=(((M=i.flip)==null?void 0:M.index)||0)+1,U=E[V];if(U&&(!(f==="alignment"?C!==Bi(U):!1)||K.every(F=>F.overflows[0]>0&&Bi(F.placement)===C)))return{data:{index:V,overflows:K},reset:{placement:U}};let L=(I=K.filter(O=>O.overflows[0]<=0).sort((O,F)=>O.overflows[1]-F.overflows[1])[0])==null?void 0:I.placement;if(!L)switch(y){case"bestFit":{var W;const O=(W=K.filter(F=>{if(T){const z=Bi(F.placement);return z===C||z==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(z=>z>0).reduce((z,Y)=>z+Y,0)]).sort((F,z)=>F[1]-z[1])[0])==null?void 0:W[0];O&&(L=O);break}case"initialPlacement":L=l;break}if(n!==L)return{reset:{placement:L}}}return{}}}};function NA(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function SA(e){return OJ.some(r=>e[r]>=0)}const HJ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:s}=r,{strategy:a="referenceHidden",...n}=zo(e,r);switch(a){case"referenceHidden":{const i=await Kh(r,{...n,elementContext:"reference"}),o=NA(i,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:SA(o)}}}case"escaped":{const i=await Kh(r,{...n,altBoundary:!0}),o=NA(i,s.floating);return{data:{escapedOffsets:o,escaped:SA(o)}}}default:return{}}}}},hR=new Set(["left","top"]);async function KJ(e,r){const{placement:s,platform:a,elements:n}=e,i=await(a.isRTL==null?void 0:a.isRTL(n.floating)),o=Fo(s),l=nm(s),d=Bi(s)==="y",m=hR.has(o)?-1:1,h=i&&d?-1:1,f=zo(r,e);let{mainAxis:g,crossAxis:y,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),d?{x:y*h,y:g*m}:{x:g*m,y:y*h}}const GJ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var s,a;const{x:n,y:i,placement:o,middlewareData:l}=r,d=await KJ(r,e);return o===((s=l.offset)==null?void 0:s.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:n+d.x,y:i+d.y,data:{...d,placement:o}}}}},YJ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:s,y:a,placement:n}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:N,y:C}=b;return{x:N,y:C}}},...d}=zo(e,r),m={x:s,y:a},h=await Kh(r,d),f=Bi(Fo(n)),g=RS(f);let y=m[g],w=m[f];if(i){const b=g==="y"?"top":"left",N=g==="y"?"bottom":"right",C=y+h[b],S=y-h[N];y=WN(C,y,S)}if(o){const b=f==="y"?"top":"left",N=f==="y"?"bottom":"right",C=w+h[b],S=w-h[N];w=WN(C,w,S)}const v=l.fn({...r,[g]:y,[f]:w});return{...v,data:{x:v.x-s,y:v.y-a,enabled:{[g]:i,[f]:o}}}}}},JJ=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:s,y:a,placement:n,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:d=!0,crossAxis:m=!0}=zo(e,r),h={x:s,y:a},f=Bi(n),g=RS(f);let y=h[g],w=h[f];const v=zo(l,r),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const S=g==="y"?"height":"width",_=i.reference[g]-i.floating[S]+b.mainAxis,A=i.reference[g]+i.reference[S]-b.mainAxis;y<_?y=_:y>A&&(y=A)}if(m){var N,C;const S=g==="y"?"width":"height",_=hR.has(Fo(n)),A=i.reference[f]-i.floating[S]+(_&&((N=o.offset)==null?void 0:N[f])||0)+(_?0:b.crossAxis),T=i.reference[f]+i.reference[S]+(_?0:((C=o.offset)==null?void 0:C[f])||0)-(_?b.crossAxis:0);w<A?w=A:w>T&&(w=T)}return{[g]:y,[f]:w}}}},XJ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var s,a;const{placement:n,rects:i,platform:o,elements:l}=r,{apply:d=()=>{},...m}=zo(e,r),h=await Kh(r,m),f=Fo(n),g=nm(n),y=Bi(n)==="y",{width:w,height:v}=i.floating;let b,N;f==="top"||f==="bottom"?(b=f,N=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=f,b=g==="end"?"top":"bottom");const C=v-h.top-h.bottom,S=w-h.left-h.right,_=Kl(v-h[b],C),A=Kl(w-h[N],S),T=!r.middlewareData.shift;let E=_,R=A;if((s=r.middlewareData.shift)!=null&&s.enabled.x&&(R=S),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(E=C),T&&!g){const K=dn(h.left,0),M=dn(h.right,0),I=dn(h.top,0),W=dn(h.bottom,0);y?R=w-2*(K!==0||M!==0?K+M:dn(h.left,h.right)):E=v-2*(I!==0||W!==0?I+W:dn(h.top,h.bottom))}await d({...r,availableWidth:R,availableHeight:E});const $=await o.getDimensions(l.floating);return w!==$.width||v!==$.height?{reset:{rects:!0}}:{}}}};function $x(){return typeof window<"u"}function im(e){return fR(e)?(e.nodeName||"").toLowerCase():"#document"}function pn(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function oo(e){var r;return(r=(fR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function fR(e){return $x()?e instanceof Node||e instanceof pn(e).Node:!1}function Si(e){return $x()?e instanceof Element||e instanceof pn(e).Element:!1}function Qi(e){return $x()?e instanceof HTMLElement||e instanceof pn(e).HTMLElement:!1}function CA(e){return!$x()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pn(e).ShadowRoot}const QJ=new Set(["inline","contents"]);function Mf(e){const{overflow:r,overflowX:s,overflowY:a,display:n}=Ci(e);return/auto|scroll|overlay|hidden|clip/.test(r+a+s)&&!QJ.has(n)}const ZJ=new Set(["table","td","th"]);function eX(e){return ZJ.has(im(e))}const tX=[":popover-open",":modal"];function zx(e){return tX.some(r=>{try{return e.matches(r)}catch{return!1}})}const rX=["transform","translate","scale","rotate","perspective"],sX=["transform","translate","scale","rotate","perspective","filter"],aX=["paint","layout","strict","content"];function LS(e){const r=$S(),s=Si(e)?Ci(e):e;return rX.some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!r&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!r&&(s.filter?s.filter!=="none":!1)||sX.some(a=>(s.willChange||"").includes(a))||aX.some(a=>(s.contain||"").includes(a))}function nX(e){let r=Gl(e);for(;Qi(r)&&!Fu(r);){if(LS(r))return r;if(zx(r))return null;r=Gl(r)}return null}function $S(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iX=new Set(["html","body","#document"]);function Fu(e){return iX.has(im(e))}function Ci(e){return pn(e).getComputedStyle(e)}function Fx(e){return Si(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Gl(e){if(im(e)==="html")return e;const r=e.assignedSlot||e.parentNode||CA(e)&&e.host||oo(e);return CA(r)?r.host:r}function pR(e){const r=Gl(e);return Fu(r)?e.ownerDocument?e.ownerDocument.body:e.body:Qi(r)&&Mf(r)?r:pR(r)}function Gh(e,r,s){var a;r===void 0&&(r=[]),s===void 0&&(s=!0);const n=pR(e),i=n===((a=e.ownerDocument)==null?void 0:a.body),o=pn(n);if(i){const l=qN(o);return r.concat(o,o.visualViewport||[],Mf(n)?n:[],l&&s?Gh(l):[])}return r.concat(n,Gh(n,[],s))}function qN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gR(e){const r=Ci(e);let s=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const n=Qi(e),i=n?e.offsetWidth:s,o=n?e.offsetHeight:a,l=x0(s)!==i||x0(a)!==o;return l&&(s=i,a=o),{width:s,height:a,$:l}}function zS(e){return Si(e)?e:e.contextElement}function Tu(e){const r=zS(e);if(!Qi(r))return Ki(1);const s=r.getBoundingClientRect(),{width:a,height:n,$:i}=gR(r);let o=(i?x0(s.width):s.width)/a,l=(i?x0(s.height):s.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const oX=Ki(0);function xR(e){const r=pn(e);return!$S()||!r.visualViewport?oX:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function lX(e,r,s){return r===void 0&&(r=!1),!s||r&&s!==pn(e)?!1:r}function id(e,r,s,a){r===void 0&&(r=!1),s===void 0&&(s=!1);const n=e.getBoundingClientRect(),i=zS(e);let o=Ki(1);r&&(a?Si(a)&&(o=Tu(a)):o=Tu(e));const l=lX(i,s,a)?xR(i):Ki(0);let d=(n.left+l.x)/o.x,m=(n.top+l.y)/o.y,h=n.width/o.x,f=n.height/o.y;if(i){const g=pn(i),y=a&&Si(a)?pn(a):a;let w=g,v=qN(w);for(;v&&a&&y!==w;){const b=Tu(v),N=v.getBoundingClientRect(),C=Ci(v),S=N.left+(v.clientLeft+parseFloat(C.paddingLeft))*b.x,_=N.top+(v.clientTop+parseFloat(C.paddingTop))*b.y;d*=b.x,m*=b.y,h*=b.x,f*=b.y,d+=S,m+=_,w=pn(v),v=qN(w)}}return v0({width:h,height:f,x:d,y:m})}function FS(e,r){const s=Fx(e).scrollLeft;return r?r.left+s:id(oo(e)).left+s}function yR(e,r,s){s===void 0&&(s=!1);const a=e.getBoundingClientRect(),n=a.left+r.scrollLeft-(s?0:FS(e,a)),i=a.top+r.scrollTop;return{x:n,y:i}}function cX(e){let{elements:r,rect:s,offsetParent:a,strategy:n}=e;const i=n==="fixed",o=oo(a),l=r?zx(r.floating):!1;if(a===o||l&&i)return s;let d={scrollLeft:0,scrollTop:0},m=Ki(1);const h=Ki(0),f=Qi(a);if((f||!f&&!i)&&((im(a)!=="body"||Mf(o))&&(d=Fx(a)),Qi(a))){const y=id(a);m=Tu(a),h.x=y.x+a.clientLeft,h.y=y.y+a.clientTop}const g=o&&!f&&!i?yR(o,d,!0):Ki(0);return{width:s.width*m.x,height:s.height*m.y,x:s.x*m.x-d.scrollLeft*m.x+h.x+g.x,y:s.y*m.y-d.scrollTop*m.y+h.y+g.y}}function dX(e){return Array.from(e.getClientRects())}function uX(e){const r=oo(e),s=Fx(e),a=e.ownerDocument.body,n=dn(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),i=dn(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let o=-s.scrollLeft+FS(e);const l=-s.scrollTop;return Ci(a).direction==="rtl"&&(o+=dn(r.clientWidth,a.clientWidth)-n),{width:n,height:i,x:o,y:l}}function mX(e,r){const s=pn(e),a=oo(e),n=s.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,d=0;if(n){i=n.width,o=n.height;const m=$S();(!m||m&&r==="fixed")&&(l=n.offsetLeft,d=n.offsetTop)}return{width:i,height:o,x:l,y:d}}const hX=new Set(["absolute","fixed"]);function fX(e,r){const s=id(e,!0,r==="fixed"),a=s.top+e.clientTop,n=s.left+e.clientLeft,i=Qi(e)?Tu(e):Ki(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,d=n*i.x,m=a*i.y;return{width:o,height:l,x:d,y:m}}function kA(e,r,s){let a;if(r==="viewport")a=mX(e,s);else if(r==="document")a=uX(oo(e));else if(Si(r))a=fX(r,s);else{const n=xR(e);a={x:r.x-n.x,y:r.y-n.y,width:r.width,height:r.height}}return v0(a)}function vR(e,r){const s=Gl(e);return s===r||!Si(s)||Fu(s)?!1:Ci(s).position==="fixed"||vR(s,r)}function pX(e,r){const s=r.get(e);if(s)return s;let a=Gh(e,[],!1).filter(l=>Si(l)&&im(l)!=="body"),n=null;const i=Ci(e).position==="fixed";let o=i?Gl(e):e;for(;Si(o)&&!Fu(o);){const l=Ci(o),d=LS(o);!d&&l.position==="fixed"&&(n=null),(i?!d&&!n:!d&&l.position==="static"&&!!n&&hX.has(n.position)||Mf(o)&&!d&&vR(e,o))?a=a.filter(h=>h!==o):n=l,o=Gl(o)}return r.set(e,a),a}function gX(e){let{element:r,boundary:s,rootBoundary:a,strategy:n}=e;const o=[...s==="clippingAncestors"?zx(r)?[]:pX(r,this._c):[].concat(s),a],l=o[0],d=o.reduce((m,h)=>{const f=kA(r,h,n);return m.top=dn(f.top,m.top),m.right=Kl(f.right,m.right),m.bottom=Kl(f.bottom,m.bottom),m.left=dn(f.left,m.left),m},kA(r,l,n));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function xX(e){const{width:r,height:s}=gR(e);return{width:r,height:s}}function yX(e,r,s){const a=Qi(r),n=oo(r),i=s==="fixed",o=id(e,!0,i,r);let l={scrollLeft:0,scrollTop:0};const d=Ki(0);function m(){d.x=FS(n)}if(a||!a&&!i)if((im(r)!=="body"||Mf(n))&&(l=Fx(r)),a){const y=id(r,!0,i,r);d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}else n&&m();i&&!a&&n&&m();const h=n&&!a&&!i?yR(n,l):Ki(0),f=o.left+l.scrollLeft-d.x-h.x,g=o.top+l.scrollTop-d.y-h.y;return{x:f,y:g,width:o.width,height:o.height}}function cw(e){return Ci(e).position==="static"}function _A(e,r){if(!Qi(e)||Ci(e).position==="fixed")return null;if(r)return r(e);let s=e.offsetParent;return oo(e)===s&&(s=s.ownerDocument.body),s}function bR(e,r){const s=pn(e);if(zx(e))return s;if(!Qi(e)){let n=Gl(e);for(;n&&!Fu(n);){if(Si(n)&&!cw(n))return n;n=Gl(n)}return s}let a=_A(e,r);for(;a&&eX(a)&&cw(a);)a=_A(a,r);return a&&Fu(a)&&cw(a)&&!LS(a)?s:a||nX(e)||s}const vX=async function(e){const r=this.getOffsetParent||bR,s=this.getDimensions,a=await s(e.floating);return{reference:yX(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function bX(e){return Ci(e).direction==="rtl"}const wX={convertOffsetParentRelativeRectToViewportRelativeRect:cX,getDocumentElement:oo,getClippingRect:gX,getOffsetParent:bR,getElementRects:vX,getClientRects:dX,getDimensions:xX,getScale:Tu,isElement:Si,isRTL:bX};function wR(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function jX(e,r){let s=null,a;const n=oo(e);function i(){var l;clearTimeout(a),(l=s)==null||l.disconnect(),s=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const m=e.getBoundingClientRect(),{left:h,top:f,width:g,height:y}=m;if(l||r(),!g||!y)return;const w=Cg(f),v=Cg(n.clientWidth-(h+g)),b=Cg(n.clientHeight-(f+y)),N=Cg(h),S={rootMargin:-w+"px "+-v+"px "+-b+"px "+-N+"px",threshold:dn(0,Kl(1,d))||1};let _=!0;function A(T){const E=T[0].intersectionRatio;if(E!==d){if(!_)return o();E?o(!1,E):a=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!wR(m,e.getBoundingClientRect())&&o(),_=!1}try{s=new IntersectionObserver(A,{...S,root:n.ownerDocument})}catch{s=new IntersectionObserver(A,S)}s.observe(e)}return o(!0),i}function NX(e,r,s,a){a===void 0&&(a={});const{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=a,m=zS(e),h=n||i?[...m?Gh(m):[],...Gh(r)]:[];h.forEach(N=>{n&&N.addEventListener("scroll",s,{passive:!0}),i&&N.addEventListener("resize",s)});const f=m&&l?jX(m,s):null;let g=-1,y=null;o&&(y=new ResizeObserver(N=>{let[C]=N;C&&C.target===m&&y&&(y.unobserve(r),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(r)})),s()}),m&&!d&&y.observe(m),y.observe(r));let w,v=d?id(e):null;d&&b();function b(){const N=id(e);v&&!wR(v,N)&&s(),v=N,w=requestAnimationFrame(b)}return s(),()=>{var N;h.forEach(C=>{n&&C.removeEventListener("scroll",s),i&&C.removeEventListener("resize",s)}),f==null||f(),(N=y)==null||N.disconnect(),y=null,d&&cancelAnimationFrame(w)}}const SX=GJ,CX=YJ,kX=qJ,_X=XJ,PX=HJ,PA=VJ,AX=JJ,EX=(e,r,s)=>{const a=new Map,n={platform:wX,...s},i={...n.platform,_c:a};return WJ(e,r,{...n,platform:i})};var TX=typeof document<"u",OX=function(){},Xg=TX?p.useLayoutEffect:OX;function b0(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let s,a,n;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==r.length)return!1;for(a=s;a--!==0;)if(!b0(e[a],r[a]))return!1;return!0}if(n=Object.keys(e),s=n.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(r,n[a]))return!1;for(a=s;a--!==0;){const i=n[a];if(!(i==="_owner"&&e.$$typeof)&&!b0(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function jR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function AA(e,r){const s=jR(e);return Math.round(r*s)/s}function dw(e){const r=p.useRef(e);return Xg(()=>{r.current=e}),r}function MX(e){e===void 0&&(e={});const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:n,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:m}=e,[h,f]=p.useState({x:0,y:0,strategy:s,placement:r,middlewareData:{},isPositioned:!1}),[g,y]=p.useState(a);b0(g,a)||y(a);const[w,v]=p.useState(null),[b,N]=p.useState(null),C=p.useCallback(F=>{F!==T.current&&(T.current=F,v(F))},[]),S=p.useCallback(F=>{F!==E.current&&(E.current=F,N(F))},[]),_=i||w,A=o||b,T=p.useRef(null),E=p.useRef(null),R=p.useRef(h),$=d!=null,K=dw(d),M=dw(n),I=dw(m),W=p.useCallback(()=>{if(!T.current||!E.current)return;const F={placement:r,strategy:s,middleware:g};M.current&&(F.platform=M.current),EX(T.current,E.current,F).then(z=>{const Y={...z,isPositioned:I.current!==!1};V.current&&!b0(R.current,Y)&&(R.current=Y,Xl.flushSync(()=>{f(Y)}))})},[g,r,s,M,I]);Xg(()=>{m===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[m]);const V=p.useRef(!1);Xg(()=>(V.current=!0,()=>{V.current=!1}),[]),Xg(()=>{if(_&&(T.current=_),A&&(E.current=A),_&&A){if(K.current)return K.current(_,A,W);W()}},[_,A,W,K,$]);const U=p.useMemo(()=>({reference:T,floating:E,setReference:C,setFloating:S}),[C,S]),L=p.useMemo(()=>({reference:_,floating:A}),[_,A]),O=p.useMemo(()=>{const F={position:s,left:0,top:0};if(!L.floating)return F;const z=AA(L.floating,h.x),Y=AA(L.floating,h.y);return l?{...F,transform:"translate("+z+"px, "+Y+"px)",...jR(L.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:z,top:Y}},[s,l,L.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:W,refs:U,elements:L,floatingStyles:O}),[h,W,U,L,O])}const RX=e=>{function r(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:a,padding:n}=typeof e=="function"?e(s):e;return a&&r(a)?a.current!=null?PA({element:a.current,padding:n}).fn(s):{}:a?PA({element:a,padding:n}).fn(s):{}}}},IX=(e,r)=>({...SX(e),options:[e,r]}),DX=(e,r)=>({...CX(e),options:[e,r]}),LX=(e,r)=>({...AX(e),options:[e,r]}),$X=(e,r)=>({...kX(e),options:[e,r]}),zX=(e,r)=>({..._X(e),options:[e,r]}),FX=(e,r)=>({...PX(e),options:[e,r]}),UX=(e,r)=>({...RX(e),options:[e,r]});var BX="Arrow",NR=p.forwardRef((e,r)=>{const{children:s,width:a=10,height:n=5,...i}=e;return t.jsx(He.svg,{...i,ref:r,width:a,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});NR.displayName=BX;var WX=NR;function Rf(e){const[r,s]=p.useState(void 0);return os(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const i=n[0];let o,l;if("borderBoxSize"in i){const d=i.borderBoxSize,m=Array.isArray(d)?d[0]:d;o=m.inlineSize,l=m.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else s(void 0)},[e]),r}var US="Popper",[SR,Ux]=Vs(US),[VX,CR]=SR(US),kR=e=>{const{__scopePopper:r,children:s}=e,[a,n]=p.useState(null);return t.jsx(VX,{scope:r,anchor:a,onAnchorChange:n,children:s})};kR.displayName=US;var _R="PopperAnchor",PR=p.forwardRef((e,r)=>{const{__scopePopper:s,virtualRef:a,...n}=e,i=CR(_R,s),o=p.useRef(null),l=ht(r,o);return p.useEffect(()=>{i.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:t.jsx(He.div,{...n,ref:l})});PR.displayName=_R;var BS="PopperContent",[qX,HX]=SR(BS),AR=p.forwardRef((e,r)=>{var Pe,De,ce,Ce,Ee,te;const{__scopePopper:s,side:a="bottom",sideOffset:n=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:w,...v}=e,b=CR(BS,s),[N,C]=p.useState(null),S=ht(r,be=>C(be)),[_,A]=p.useState(null),T=Rf(_),E=(T==null?void 0:T.width)??0,R=(T==null?void 0:T.height)??0,$=a+(i!=="center"?"-"+i:""),K=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(m)?m:[m],I=M.length>0,W={padding:K,boundary:M.filter(GX),altBoundary:I},{refs:V,floatingStyles:U,placement:L,isPositioned:O,middlewareData:F}=MX({strategy:"fixed",placement:$,whileElementsMounted:(...be)=>NX(...be,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[IX({mainAxis:n+R,alignmentAxis:o}),d&&DX({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?LX():void 0,...W}),d&&$X({...W}),zX({...W,apply:({elements:be,rects:Te,availableWidth:Ue,availableHeight:ie})=>{const{width:Ge,height:Ct}=Te.reference,Ot=be.floating.style;Ot.setProperty("--radix-popper-available-width",`${Ue}px`),Ot.setProperty("--radix-popper-available-height",`${ie}px`),Ot.setProperty("--radix-popper-anchor-width",`${Ge}px`),Ot.setProperty("--radix-popper-anchor-height",`${Ct}px`)}}),_&&UX({element:_,padding:l}),YX({arrowWidth:E,arrowHeight:R}),g&&FX({strategy:"referenceHidden",...W})]}),[z,Y]=OR(L),B=Zr(w);os(()=>{O&&(B==null||B())},[O,B]);const ee=(Pe=F.arrow)==null?void 0:Pe.x,ke=(De=F.arrow)==null?void 0:De.y,H=((ce=F.arrow)==null?void 0:ce.centerOffset)!==0,[he,Ie]=p.useState();return os(()=>{N&&Ie(window.getComputedStyle(N).zIndex)},[N]),t.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:O?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(Ce=F.transformOrigin)==null?void 0:Ce.x,(Ee=F.transformOrigin)==null?void 0:Ee.y].join(" "),...((te=F.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(qX,{scope:s,placedSide:z,onArrowChange:A,arrowX:ee,arrowY:ke,shouldHideArrow:H,children:t.jsx(He.div,{"data-side":z,"data-align":Y,...v,ref:S,style:{...v.style,animation:O?void 0:"none"}})})})});AR.displayName=BS;var ER="PopperArrow",KX={top:"bottom",right:"left",bottom:"top",left:"right"},TR=p.forwardRef(function(r,s){const{__scopePopper:a,...n}=r,i=HX(ER,a),o=KX[i.placedSide];return t.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:t.jsx(WX,{...n,ref:s,style:{...n.style,display:"block"}})})});TR.displayName=ER;function GX(e){return e!==null}var YX=e=>({name:"transformOrigin",options:e,fn(r){var b,N,C;const{placement:s,rects:a,middlewareData:n}=r,o=((b=n.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[m,h]=OR(s),f={start:"0%",center:"50%",end:"100%"}[h],g=(((N=n.arrow)==null?void 0:N.x)??0)+l/2,y=(((C=n.arrow)==null?void 0:C.y)??0)+d/2;let w="",v="";return m==="bottom"?(w=o?f:`${g}px`,v=`${-d}px`):m==="top"?(w=o?f:`${g}px`,v=`${a.floating.height+d}px`):m==="right"?(w=`${-d}px`,v=o?f:`${y}px`):m==="left"&&(w=`${a.floating.width+d}px`,v=o?f:`${y}px`),{data:{x:w,y:v}}}});function OR(e){const[r,s="center"]=e.split("-");return[r,s]}var MR=kR,RR=PR,IR=AR,DR=TR,JX="Portal",If=p.forwardRef((e,r)=>{var l;const{container:s,...a}=e,[n,i]=p.useState(!1);os(()=>i(!0),[]);const o=s||n&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?IB.createPortal(t.jsx(He.div,{...a,ref:r}),o):null});If.displayName=JX;function XX(e,r){return p.useReducer((s,a)=>r[s][a]??s,e)}var Na=e=>{const{present:r,children:s}=e,a=QX(r),n=typeof s=="function"?s({present:a.isPresent}):p.Children.only(s),i=ht(a.ref,ZX(n));return typeof s=="function"||a.isPresent?p.cloneElement(n,{ref:i}):null};Na.displayName="Presence";function QX(e){const[r,s]=p.useState(),a=p.useRef(null),n=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[l,d]=XX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const m=kg(a.current);i.current=l==="mounted"?m:"none"},[l]),os(()=>{const m=a.current,h=n.current;if(h!==e){const g=i.current,y=kg(m);e?d("MOUNT"):y==="none"||(m==null?void 0:m.display)==="none"?d("UNMOUNT"):d(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,d]),os(()=>{if(r){let m;const h=r.ownerDocument.defaultView??window,f=y=>{const v=kg(a.current).includes(y.animationName);if(y.target===r&&v&&(d("ANIMATION_END"),!n.current)){const b=r.style.animationFillMode;r.style.animationFillMode="forwards",m=h.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=b)})}},g=y=>{y.target===r&&(i.current=kg(a.current))};return r.addEventListener("animationstart",g),r.addEventListener("animationcancel",f),r.addEventListener("animationend",f),()=>{h.clearTimeout(m),r.removeEventListener("animationstart",g),r.removeEventListener("animationcancel",f),r.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[r,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(m=>{a.current=m?getComputedStyle(m):null,s(m)},[])}}function kg(e){return(e==null?void 0:e.animationName)||"none"}function ZX(e){var a,n;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var uw="rovingFocusGroup.onEntryFocus",eQ={bubbles:!1,cancelable:!0},Df="RovingFocusGroup",[HN,LR,tQ]=Tf(Df),[rQ,om]=Vs(Df,[tQ]),[sQ,aQ]=rQ(Df),$R=p.forwardRef((e,r)=>t.jsx(HN.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(HN.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(nQ,{...e,ref:r})})}));$R.displayName=Df;var nQ=p.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,orientation:a,loop:n=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:m,preventScrollOnEntryFocus:h=!1,...f}=e,g=p.useRef(null),y=ht(r,g),w=bd(i),[v,b]=Ni({prop:o,defaultProp:l??null,onChange:d,caller:Df}),[N,C]=p.useState(!1),S=Zr(m),_=LR(s),A=p.useRef(!1),[T,E]=p.useState(0);return p.useEffect(()=>{const R=g.current;if(R)return R.addEventListener(uw,S),()=>R.removeEventListener(uw,S)},[S]),t.jsx(sQ,{scope:s,orientation:a,dir:w,loop:n,currentTabStopId:v,onItemFocus:p.useCallback(R=>b(R),[b]),onItemShiftTab:p.useCallback(()=>C(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(R=>R+1),[]),onFocusableItemRemove:p.useCallback(()=>E(R=>R-1),[]),children:t.jsx(He.div,{tabIndex:N||T===0?-1:0,"data-orientation":a,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:$e(e.onMouseDown,()=>{A.current=!0}),onFocus:$e(e.onFocus,R=>{const $=!A.current;if(R.target===R.currentTarget&&$&&!N){const K=new CustomEvent(uw,eQ);if(R.currentTarget.dispatchEvent(K),!K.defaultPrevented){const M=_().filter(L=>L.focusable),I=M.find(L=>L.active),W=M.find(L=>L.id===v),U=[I,W,...M].filter(Boolean).map(L=>L.ref.current);UR(U,h)}}A.current=!1}),onBlur:$e(e.onBlur,()=>C(!1))})})}),zR="RovingFocusGroupItem",FR=p.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,focusable:a=!0,active:n=!1,tabStopId:i,children:o,...l}=e,d=Hi(),m=i||d,h=aQ(zR,s),f=h.currentTabStopId===m,g=LR(s),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:v}=h;return p.useEffect(()=>{if(a)return y(),()=>w()},[a,y,w]),t.jsx(HN.ItemSlot,{scope:s,id:m,focusable:a,active:n,children:t.jsx(He.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:r,onMouseDown:$e(e.onMouseDown,b=>{a?h.onItemFocus(m):b.preventDefault()}),onFocus:$e(e.onFocus,()=>h.onItemFocus(m)),onKeyDown:$e(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const N=lQ(b,h.orientation,h.dir);if(N!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let S=g().filter(_=>_.focusable).map(_=>_.ref.current);if(N==="last")S.reverse();else if(N==="prev"||N==="next"){N==="prev"&&S.reverse();const _=S.indexOf(b.currentTarget);S=h.loop?cQ(S,_+1):S.slice(_+1)}setTimeout(()=>UR(S))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});FR.displayName=zR;var iQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oQ(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function lQ(e,r,s){const a=oQ(e.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return iQ[a]}function UR(e,r=!1){const s=document.activeElement;for(const a of e)if(a===s||(a.focus({preventScroll:r}),document.activeElement!==s))return}function cQ(e,r){return e.map((s,a)=>e[(r+a)%e.length])}var WS=$R,VS=FR,dQ=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},pu=new WeakMap,_g=new WeakMap,Pg={},mw=0,BR=function(e){return e&&(e.host||BR(e.parentNode))},uQ=function(e,r){return r.map(function(s){if(e.contains(s))return s;var a=BR(s);return a&&e.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},mQ=function(e,r,s,a){var n=uQ(r,Array.isArray(e)?e:[e]);Pg[s]||(Pg[s]=new WeakMap);var i=Pg[s],o=[],l=new Set,d=new Set(n),m=function(f){!f||l.has(f)||(l.add(f),m(f.parentNode))};n.forEach(m);var h=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))h(g);else try{var y=g.getAttribute(a),w=y!==null&&y!=="false",v=(pu.get(g)||0)+1,b=(i.get(g)||0)+1;pu.set(g,v),i.set(g,b),o.push(g),v===1&&w&&_g.set(g,!0),b===1&&g.setAttribute(s,"true"),w||g.setAttribute(a,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return h(r),l.clear(),mw++,function(){o.forEach(function(f){var g=pu.get(f)-1,y=i.get(f)-1;pu.set(f,g),i.set(f,y),g||(_g.has(f)||f.removeAttribute(a),_g.delete(f)),y||f.removeAttribute(s)}),mw--,mw||(pu=new WeakMap,pu=new WeakMap,_g=new WeakMap,Pg={})}},qS=function(e,r,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),n=dQ(e);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live], script"))),mQ(a,n,s,"aria-hidden")):function(){return null}},Ui=function(){return Ui=Object.assign||function(r){for(var s,a=1,n=arguments.length;a<n;a++){s=arguments[a];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])}return r},Ui.apply(this,arguments)};function WR(e,r){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s}function hQ(e,r,s){if(s||arguments.length===2)for(var a=0,n=r.length,i;a<n;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var Qg="right-scroll-bar-position",Zg="width-before-scroll-bar",fQ="with-scroll-bars-hidden",pQ="--removed-body-scroll-bar-size";function hw(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function gQ(e,r){var s=p.useState(function(){return{value:e,callback:r,facade:{get current(){return s.value},set current(a){var n=s.value;n!==a&&(s.value=a,s.callback(a,n))}}}})[0];return s.callback=r,s.facade}var xQ=typeof window<"u"?p.useLayoutEffect:p.useEffect,EA=new WeakMap;function yQ(e,r){var s=gQ(null,function(a){return e.forEach(function(n){return hw(n,a)})});return xQ(function(){var a=EA.get(s);if(a){var n=new Set(a),i=new Set(e),o=s.current;n.forEach(function(l){i.has(l)||hw(l,null)}),i.forEach(function(l){n.has(l)||hw(l,o)})}EA.set(s,e)},[e]),s}function vQ(e){return e}function bQ(e,r){r===void 0&&(r=vQ);var s=[],a=!1,n={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(i){var o=r(i,a);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){a=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(i),o=s}var d=function(){var h=o;o=[],h.forEach(i)},m=function(){return Promise.resolve().then(d)};m(),s={push:function(h){o.push(h),m()},filter:function(h){return o=o.filter(h),s}}}};return n}function wQ(e){e===void 0&&(e={});var r=bQ(null);return r.options=Ui({async:!0,ssr:!1},e),r}var VR=function(e){var r=e.sideCar,s=WR(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return p.createElement(a,Ui({},s))};VR.isSideCarExport=!0;function jQ(e,r){return e.useMedium(r),VR}var qR=wQ(),fw=function(){},Bx=p.forwardRef(function(e,r){var s=p.useRef(null),a=p.useState({onScrollCapture:fw,onWheelCapture:fw,onTouchMoveCapture:fw}),n=a[0],i=a[1],o=e.forwardProps,l=e.children,d=e.className,m=e.removeScrollBar,h=e.enabled,f=e.shards,g=e.sideCar,y=e.noRelative,w=e.noIsolation,v=e.inert,b=e.allowPinchZoom,N=e.as,C=N===void 0?"div":N,S=e.gapMode,_=WR(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=g,T=yQ([s,r]),E=Ui(Ui({},_),n);return p.createElement(p.Fragment,null,h&&p.createElement(A,{sideCar:qR,removeScrollBar:m,shards:f,noRelative:y,noIsolation:w,inert:v,setCallbacks:i,allowPinchZoom:!!b,lockRef:s,gapMode:S}),o?p.cloneElement(p.Children.only(l),Ui(Ui({},E),{ref:T})):p.createElement(C,Ui({},E,{className:d,ref:T}),l))});Bx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bx.classNames={fullWidth:Zg,zeroRight:Qg};var NQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=NQ();return r&&e.setAttribute("nonce",r),e}function CQ(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function kQ(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var _Q=function(){var e=0,r=null;return{add:function(s){e==0&&(r=SQ())&&(CQ(r,s),kQ(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},PQ=function(){var e=_Q();return function(r,s){p.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&s])}},HR=function(){var e=PQ(),r=function(s){var a=s.styles,n=s.dynamic;return e(a,n),null};return r},AQ={left:0,top:0,right:0,gap:0},pw=function(e){return parseInt(e||"",10)||0},EQ=function(e){var r=window.getComputedStyle(document.body),s=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],n=r[e==="padding"?"paddingRight":"marginRight"];return[pw(s),pw(a),pw(n)]},TQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return AQ;var r=EQ(e),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-s+r[2]-r[0])}},OQ=HR(),Ou="data-scroll-locked",MQ=function(e,r,s,a){var n=e.left,i=e.top,o=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(fQ,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(Ou,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qg,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Zg,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Qg," .").concat(Qg,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Zg," .").concat(Zg,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Ou,`] {
    `).concat(pQ,": ").concat(l,`px;
  }
`)},TA=function(){var e=parseInt(document.body.getAttribute(Ou)||"0",10);return isFinite(e)?e:0},RQ=function(){p.useEffect(function(){return document.body.setAttribute(Ou,(TA()+1).toString()),function(){var e=TA()-1;e<=0?document.body.removeAttribute(Ou):document.body.setAttribute(Ou,e.toString())}},[])},IQ=function(e){var r=e.noRelative,s=e.noImportant,a=e.gapMode,n=a===void 0?"margin":a;RQ();var i=p.useMemo(function(){return TQ(n)},[n]);return p.createElement(OQ,{styles:MQ(i,!r,n,s?"":"!important")})},KN=!1;if(typeof window<"u")try{var Ag=Object.defineProperty({},"passive",{get:function(){return KN=!0,!0}});window.addEventListener("test",Ag,Ag),window.removeEventListener("test",Ag,Ag)}catch{KN=!1}var gu=KN?{passive:!1}:!1,DQ=function(e){return e.tagName==="TEXTAREA"},KR=function(e,r){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[r]!=="hidden"&&!(s.overflowY===s.overflowX&&!DQ(e)&&s[r]==="visible")},LQ=function(e){return KR(e,"overflowY")},$Q=function(e){return KR(e,"overflowX")},OA=function(e,r){var s=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var n=GR(e,a);if(n){var i=YR(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},zQ=function(e){var r=e.scrollTop,s=e.scrollHeight,a=e.clientHeight;return[r,s,a]},FQ=function(e){var r=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth;return[r,s,a]},GR=function(e,r){return e==="v"?LQ(r):$Q(r)},YR=function(e,r){return e==="v"?zQ(r):FQ(r)},UQ=function(e,r){return e==="h"&&r==="rtl"?-1:1},BQ=function(e,r,s,a,n){var i=UQ(e,window.getComputedStyle(r).direction),o=i*a,l=s.target,d=r.contains(l),m=!1,h=o>0,f=0,g=0;do{if(!l)break;var y=YR(e,l),w=y[0],v=y[1],b=y[2],N=v-b-i*w;(w||N)&&GR(e,l)&&(f+=N,g+=w);var C=l.parentNode;l=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!d&&l!==document.body||d&&(r.contains(l)||r===l));return(h&&Math.abs(f)<1||!h&&Math.abs(g)<1)&&(m=!0),m},Eg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},MA=function(e){return[e.deltaX,e.deltaY]},RA=function(e){return e&&"current"in e?e.current:e},WQ=function(e,r){return e[0]===r[0]&&e[1]===r[1]},VQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},qQ=0,xu=[];function HQ(e){var r=p.useRef([]),s=p.useRef([0,0]),a=p.useRef(),n=p.useState(qQ++)[0],i=p.useState(HR)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var v=hQ([e.lockRef.current],(e.shards||[]).map(RA),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var N=Eg(v),C=s.current,S="deltaX"in v?v.deltaX:C[0]-N[0],_="deltaY"in v?v.deltaY:C[1]-N[1],A,T=v.target,E=Math.abs(S)>Math.abs(_)?"h":"v";if("touches"in v&&E==="h"&&T.type==="range")return!1;var R=OA(E,T);if(!R)return!0;if(R?A=E:(A=E==="v"?"h":"v",R=OA(E,T)),!R)return!1;if(!a.current&&"changedTouches"in v&&(S||_)&&(a.current=A),!A)return!0;var $=a.current||A;return BQ($,b,v,$==="h"?S:_)},[]),d=p.useCallback(function(v){var b=v;if(!(!xu.length||xu[xu.length-1]!==i)){var N="deltaY"in b?MA(b):Eg(b),C=r.current.filter(function(A){return A.name===b.type&&(A.target===b.target||b.target===A.shadowParent)&&WQ(A.delta,N)})[0];if(C&&C.should){b.cancelable&&b.preventDefault();return}if(!C){var S=(o.current.shards||[]).map(RA).filter(Boolean).filter(function(A){return A.contains(b.target)}),_=S.length>0?l(b,S[0]):!o.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),m=p.useCallback(function(v,b,N,C){var S={name:v,delta:b,target:N,should:C,shadowParent:KQ(N)};r.current.push(S),setTimeout(function(){r.current=r.current.filter(function(_){return _!==S})},1)},[]),h=p.useCallback(function(v){s.current=Eg(v),a.current=void 0},[]),f=p.useCallback(function(v){m(v.type,MA(v),v.target,l(v,e.lockRef.current))},[]),g=p.useCallback(function(v){m(v.type,Eg(v),v.target,l(v,e.lockRef.current))},[]);p.useEffect(function(){return xu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",d,gu),document.addEventListener("touchmove",d,gu),document.addEventListener("touchstart",h,gu),function(){xu=xu.filter(function(v){return v!==i}),document.removeEventListener("wheel",d,gu),document.removeEventListener("touchmove",d,gu),document.removeEventListener("touchstart",h,gu)}},[]);var y=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(i,{styles:VQ(n)}):null,y?p.createElement(IQ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function KQ(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const GQ=jQ(qR,HQ);var Wx=p.forwardRef(function(e,r){return p.createElement(Bx,Ui({},e,{ref:r,sideCar:GQ}))});Wx.classNames=Bx.classNames;var GN=["Enter"," "],YQ=["ArrowDown","PageUp","Home"],JR=["ArrowUp","PageDown","End"],JQ=[...YQ,...JR],XQ={ltr:[...GN,"ArrowRight"],rtl:[...GN,"ArrowLeft"]},QQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lf="Menu",[Yh,ZQ,eZ]=Tf(Lf),[wd,XR]=Vs(Lf,[eZ,Ux,om]),Vx=Ux(),QR=om(),[tZ,jd]=wd(Lf),[rZ,$f]=wd(Lf),ZR=e=>{const{__scopeMenu:r,open:s=!1,children:a,dir:n,onOpenChange:i,modal:o=!0}=e,l=Vx(r),[d,m]=p.useState(null),h=p.useRef(!1),f=Zr(i),g=bd(n);return p.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),t.jsx(MR,{...l,children:t.jsx(tZ,{scope:r,open:s,onOpenChange:f,content:d,onContentChange:m,children:t.jsx(rZ,{scope:r,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:g,modal:o,children:a})})})};ZR.displayName=Lf;var sZ="MenuAnchor",HS=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e,n=Vx(s);return t.jsx(RR,{...n,...a,ref:r})});HS.displayName=sZ;var KS="MenuPortal",[aZ,eI]=wd(KS,{forceMount:void 0}),tI=e=>{const{__scopeMenu:r,forceMount:s,children:a,container:n}=e,i=jd(KS,r);return t.jsx(aZ,{scope:r,forceMount:s,children:t.jsx(Na,{present:s||i.open,children:t.jsx(If,{asChild:!0,container:n,children:a})})})};tI.displayName=KS;var Vn="MenuContent",[nZ,GS]=wd(Vn),rI=p.forwardRef((e,r)=>{const s=eI(Vn,e.__scopeMenu),{forceMount:a=s.forceMount,...n}=e,i=jd(Vn,e.__scopeMenu),o=$f(Vn,e.__scopeMenu);return t.jsx(Yh.Provider,{scope:e.__scopeMenu,children:t.jsx(Na,{present:a||i.open,children:t.jsx(Yh.Slot,{scope:e.__scopeMenu,children:o.modal?t.jsx(iZ,{...n,ref:r}):t.jsx(oZ,{...n,ref:r})})})})}),iZ=p.forwardRef((e,r)=>{const s=jd(Vn,e.__scopeMenu),a=p.useRef(null),n=ht(r,a);return p.useEffect(()=>{const i=a.current;if(i)return qS(i)},[]),t.jsx(YS,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:$e(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),oZ=p.forwardRef((e,r)=>{const s=jd(Vn,e.__scopeMenu);return t.jsx(YS,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),lZ=nd("MenuContent.ScrollLock"),YS=p.forwardRef((e,r)=>{const{__scopeMenu:s,loop:a=!1,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:y,disableOutsideScroll:w,...v}=e,b=jd(Vn,s),N=$f(Vn,s),C=Vx(s),S=QR(s),_=ZQ(s),[A,T]=p.useState(null),E=p.useRef(null),R=ht(r,E,b.onContentChange),$=p.useRef(0),K=p.useRef(""),M=p.useRef(0),I=p.useRef(null),W=p.useRef("right"),V=p.useRef(0),U=w?Wx:p.Fragment,L=w?{as:lZ,allowPinchZoom:!0}:void 0,O=z=>{var Pe,De;const Y=K.current+z,B=_().filter(ce=>!ce.disabled),ee=document.activeElement,ke=(Pe=B.find(ce=>ce.ref.current===ee))==null?void 0:Pe.textValue,H=B.map(ce=>ce.textValue),he=bZ(H,Y,ke),Ie=(De=B.find(ce=>ce.textValue===he))==null?void 0:De.ref.current;(function ce(Ce){K.current=Ce,window.clearTimeout($.current),Ce!==""&&($.current=window.setTimeout(()=>ce(""),1e3))})(Y),Ie&&setTimeout(()=>Ie.focus())};p.useEffect(()=>()=>window.clearTimeout($.current),[]),MS();const F=p.useCallback(z=>{var B,ee;return W.current===((B=I.current)==null?void 0:B.side)&&jZ(z,(ee=I.current)==null?void 0:ee.area)},[]);return t.jsx(nZ,{scope:s,searchRef:K,onItemEnter:p.useCallback(z=>{F(z)&&z.preventDefault()},[F]),onItemLeave:p.useCallback(z=>{var Y;F(z)||((Y=E.current)==null||Y.focus(),T(null))},[F]),onTriggerLeave:p.useCallback(z=>{F(z)&&z.preventDefault()},[F]),pointerGraceTimerRef:M,onPointerGraceIntentChange:p.useCallback(z=>{I.current=z},[]),children:t.jsx(U,{...L,children:t.jsx(Lx,{asChild:!0,trapped:n,onMountAutoFocus:$e(i,z=>{var Y;z.preventDefault(),(Y=E.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:t.jsx(Of,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:y,children:t.jsx(WS,{asChild:!0,...S,dir:N.dir,orientation:"vertical",loop:a,currentTabStopId:A,onCurrentTabStopIdChange:T,onEntryFocus:$e(d,z=>{N.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(IR,{role:"menu","aria-orientation":"vertical","data-state":yI(b.open),"data-radix-menu-content":"",dir:N.dir,...C,...v,ref:R,style:{outline:"none",...v.style},onKeyDown:$e(v.onKeyDown,z=>{const B=z.target.closest("[data-radix-menu-content]")===z.currentTarget,ee=z.ctrlKey||z.altKey||z.metaKey,ke=z.key.length===1;B&&(z.key==="Tab"&&z.preventDefault(),!ee&&ke&&O(z.key));const H=E.current;if(z.target!==H||!JQ.includes(z.key))return;z.preventDefault();const Ie=_().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);JR.includes(z.key)&&Ie.reverse(),yZ(Ie)}),onBlur:$e(e.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout($.current),K.current="")}),onPointerMove:$e(e.onPointerMove,Jh(z=>{const Y=z.target,B=V.current!==z.clientX;if(z.currentTarget.contains(Y)&&B){const ee=z.clientX>V.current?"right":"left";W.current=ee,V.current=z.clientX}}))})})})})})})});rI.displayName=Vn;var cZ="MenuGroup",JS=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e;return t.jsx(He.div,{role:"group",...a,ref:r})});JS.displayName=cZ;var dZ="MenuLabel",sI=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e;return t.jsx(He.div,{...a,ref:r})});sI.displayName=dZ;var w0="MenuItem",IA="menu.itemSelect",qx=p.forwardRef((e,r)=>{const{disabled:s=!1,onSelect:a,...n}=e,i=p.useRef(null),o=$f(w0,e.__scopeMenu),l=GS(w0,e.__scopeMenu),d=ht(r,i),m=p.useRef(!1),h=()=>{const f=i.current;if(!s&&f){const g=new CustomEvent(IA,{bubbles:!0,cancelable:!0});f.addEventListener(IA,y=>a==null?void 0:a(y),{once:!0}),OS(f,g),g.defaultPrevented?m.current=!1:o.onClose()}};return t.jsx(aI,{...n,ref:d,disabled:s,onClick:$e(e.onClick,h),onPointerDown:f=>{var g;(g=e.onPointerDown)==null||g.call(e,f),m.current=!0},onPointerUp:$e(e.onPointerUp,f=>{var g;m.current||(g=f.currentTarget)==null||g.click()}),onKeyDown:$e(e.onKeyDown,f=>{const g=l.searchRef.current!=="";s||g&&f.key===" "||GN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});qx.displayName=w0;var aI=p.forwardRef((e,r)=>{const{__scopeMenu:s,disabled:a=!1,textValue:n,...i}=e,o=GS(w0,s),l=QR(s),d=p.useRef(null),m=ht(r,d),[h,f]=p.useState(!1),[g,y]=p.useState("");return p.useEffect(()=>{const w=d.current;w&&y((w.textContent??"").trim())},[i.children]),t.jsx(Yh.ItemSlot,{scope:s,disabled:a,textValue:n??g,children:t.jsx(VS,{asChild:!0,...l,focusable:!a,children:t.jsx(He.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:m,onPointerMove:$e(e.onPointerMove,Jh(w=>{a?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:$e(e.onPointerLeave,Jh(w=>o.onItemLeave(w))),onFocus:$e(e.onFocus,()=>f(!0)),onBlur:$e(e.onBlur,()=>f(!1))})})})}),uZ="MenuCheckboxItem",nI=p.forwardRef((e,r)=>{const{checked:s=!1,onCheckedChange:a,...n}=e;return t.jsx(dI,{scope:e.__scopeMenu,checked:s,children:t.jsx(qx,{role:"menuitemcheckbox","aria-checked":j0(s)?"mixed":s,...n,ref:r,"data-state":QS(s),onSelect:$e(n.onSelect,()=>a==null?void 0:a(j0(s)?!0:!s),{checkForDefaultPrevented:!1})})})});nI.displayName=uZ;var iI="MenuRadioGroup",[mZ,hZ]=wd(iI,{value:void 0,onValueChange:()=>{}}),oI=p.forwardRef((e,r)=>{const{value:s,onValueChange:a,...n}=e,i=Zr(a);return t.jsx(mZ,{scope:e.__scopeMenu,value:s,onValueChange:i,children:t.jsx(JS,{...n,ref:r})})});oI.displayName=iI;var lI="MenuRadioItem",cI=p.forwardRef((e,r)=>{const{value:s,...a}=e,n=hZ(lI,e.__scopeMenu),i=s===n.value;return t.jsx(dI,{scope:e.__scopeMenu,checked:i,children:t.jsx(qx,{role:"menuitemradio","aria-checked":i,...a,ref:r,"data-state":QS(i),onSelect:$e(a.onSelect,()=>{var o;return(o=n.onValueChange)==null?void 0:o.call(n,s)},{checkForDefaultPrevented:!1})})})});cI.displayName=lI;var XS="MenuItemIndicator",[dI,fZ]=wd(XS,{checked:!1}),uI=p.forwardRef((e,r)=>{const{__scopeMenu:s,forceMount:a,...n}=e,i=fZ(XS,s);return t.jsx(Na,{present:a||j0(i.checked)||i.checked===!0,children:t.jsx(He.span,{...n,ref:r,"data-state":QS(i.checked)})})});uI.displayName=XS;var pZ="MenuSeparator",mI=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e;return t.jsx(He.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});mI.displayName=pZ;var gZ="MenuArrow",hI=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e,n=Vx(s);return t.jsx(DR,{...n,...a,ref:r})});hI.displayName=gZ;var xZ="MenuSub",[L1e,fI]=wd(xZ),Ah="MenuSubTrigger",pI=p.forwardRef((e,r)=>{const s=jd(Ah,e.__scopeMenu),a=$f(Ah,e.__scopeMenu),n=fI(Ah,e.__scopeMenu),i=GS(Ah,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=i,m={__scopeMenu:e.__scopeMenu},h=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),d(null)}},[l,d]),t.jsx(HS,{asChild:!0,...m,children:t.jsx(aI,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":n.contentId,"data-state":yI(s.open),...e,ref:Dx(r,n.onTriggerChange),onClick:f=>{var g;(g=e.onClick)==null||g.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:$e(e.onPointerMove,Jh(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!s.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),h()},100))})),onPointerLeave:$e(e.onPointerLeave,Jh(f=>{var y,w;h();const g=(y=s.content)==null?void 0:y.getBoundingClientRect();if(g){const v=(w=s.content)==null?void 0:w.dataset.side,b=v==="right",N=b?-5:5,C=g[b?"left":"right"],S=g[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:C,y:g.top},{x:S,y:g.top},{x:S,y:g.bottom},{x:C,y:g.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:$e(e.onKeyDown,f=>{var y;const g=i.searchRef.current!=="";e.disabled||g&&f.key===" "||XQ[a.dir].includes(f.key)&&(s.onOpenChange(!0),(y=s.content)==null||y.focus(),f.preventDefault())})})})});pI.displayName=Ah;var gI="MenuSubContent",xI=p.forwardRef((e,r)=>{const s=eI(Vn,e.__scopeMenu),{forceMount:a=s.forceMount,...n}=e,i=jd(Vn,e.__scopeMenu),o=$f(Vn,e.__scopeMenu),l=fI(gI,e.__scopeMenu),d=p.useRef(null),m=ht(r,d);return t.jsx(Yh.Provider,{scope:e.__scopeMenu,children:t.jsx(Na,{present:a||i.open,children:t.jsx(Yh.Slot,{scope:e.__scopeMenu,children:t.jsx(YS,{id:l.contentId,"aria-labelledby":l.triggerId,...n,ref:m,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=d.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:$e(e.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:$e(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:$e(e.onKeyDown,h=>{var y;const f=h.currentTarget.contains(h.target),g=QQ[o.dir].includes(h.key);f&&g&&(i.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});xI.displayName=gI;function yI(e){return e?"open":"closed"}function j0(e){return e==="indeterminate"}function QS(e){return j0(e)?"indeterminate":e?"checked":"unchecked"}function yZ(e){const r=document.activeElement;for(const s of e)if(s===r||(s.focus(),document.activeElement!==r))return}function vZ(e,r){return e.map((s,a)=>e[(r+a)%e.length])}function bZ(e,r,s){const n=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,i=s?e.indexOf(s):-1;let o=vZ(e,Math.max(i,0));n.length===1&&(o=o.filter(m=>m!==s));const d=o.find(m=>m.toLowerCase().startsWith(n.toLowerCase()));return d!==s?d:void 0}function wZ(e,r){const{x:s,y:a}=e;let n=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],d=r[o],m=l.x,h=l.y,f=d.x,g=d.y;h>a!=g>a&&s<(f-m)*(a-h)/(g-h)+m&&(n=!n)}return n}function jZ(e,r){if(!r)return!1;const s={x:e.clientX,y:e.clientY};return wZ(s,r)}function Jh(e){return r=>r.pointerType==="mouse"?e(r):void 0}var NZ=ZR,SZ=HS,CZ=tI,kZ=rI,_Z=JS,PZ=sI,AZ=qx,EZ=nI,TZ=oI,OZ=cI,MZ=uI,RZ=mI,IZ=hI,DZ=pI,LZ=xI,Hx="DropdownMenu",[$Z,$1e]=Vs(Hx,[XR]),Ma=XR(),[zZ,vI]=$Z(Hx),bI=e=>{const{__scopeDropdownMenu:r,children:s,dir:a,open:n,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,d=Ma(r),m=p.useRef(null),[h,f]=Ni({prop:n,defaultProp:i??!1,onChange:o,caller:Hx});return t.jsx(zZ,{scope:r,triggerId:Hi(),triggerRef:m,contentId:Hi(),open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(g=>!g),[f]),modal:l,children:t.jsx(NZ,{...d,open:h,onOpenChange:f,dir:a,modal:l,children:s})})};bI.displayName=Hx;var wI="DropdownMenuTrigger",jI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,disabled:a=!1,...n}=e,i=vI(wI,s),o=Ma(s);return t.jsx(SZ,{asChild:!0,...o,children:t.jsx(He.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...n,ref:Dx(r,i.triggerRef),onPointerDown:$e(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:$e(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});jI.displayName=wI;var FZ="DropdownMenuPortal",NI=e=>{const{__scopeDropdownMenu:r,...s}=e,a=Ma(r);return t.jsx(CZ,{...a,...s})};NI.displayName=FZ;var SI="DropdownMenuContent",CI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=vI(SI,s),i=Ma(s),o=p.useRef(!1);return t.jsx(kZ,{id:n.contentId,"aria-labelledby":n.triggerId,...i,...a,ref:r,onCloseAutoFocus:$e(e.onCloseAutoFocus,l=>{var d;o.current||(d=n.triggerRef.current)==null||d.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:$e(e.onInteractOutside,l=>{const d=l.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,h=d.button===2||m;(!n.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CI.displayName=SI;var UZ="DropdownMenuGroup",kI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ma(s);return t.jsx(_Z,{...n,...a,ref:r})});kI.displayName=UZ;var BZ="DropdownMenuLabel",_I=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ma(s);return t.jsx(PZ,{...n,...a,ref:r})});_I.displayName=BZ;var WZ="DropdownMenuItem",PI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ma(s);return t.jsx(AZ,{...n,...a,ref:r})});PI.displayName=WZ;var VZ="DropdownMenuCheckboxItem",AI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ma(s);return t.jsx(EZ,{...n,...a,ref:r})});AI.displayName=VZ;var qZ="DropdownMenuRadioGroup",HZ=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ma(s);return t.jsx(TZ,{...n,...a,ref:r})});HZ.displayName=qZ;var KZ="DropdownMenuRadioItem",EI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ma(s);return t.jsx(OZ,{...n,...a,ref:r})});EI.displayName=KZ;var GZ="DropdownMenuItemIndicator",TI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ma(s);return t.jsx(MZ,{...n,...a,ref:r})});TI.displayName=GZ;var YZ="DropdownMenuSeparator",OI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ma(s);return t.jsx(RZ,{...n,...a,ref:r})});OI.displayName=YZ;var JZ="DropdownMenuArrow",XZ=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ma(s);return t.jsx(IZ,{...n,...a,ref:r})});XZ.displayName=JZ;var QZ="DropdownMenuSubTrigger",MI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ma(s);return t.jsx(DZ,{...n,...a,ref:r})});MI.displayName=QZ;var ZZ="DropdownMenuSubContent",RI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ma(s);return t.jsx(LZ,{...n,...a,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RI.displayName=ZZ;var eee=bI,tee=jI,ree=NI,II=CI,see=kI,DI=_I,LI=PI,$I=AI,zI=EI,FI=TI,UI=OI,BI=MI,WI=RI;const ki=eee,_i=tee,aee=see,nee=p.forwardRef(({className:e,inset:r,children:s,...a},n)=>t.jsxs(BI,{ref:n,className:Re("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-zinc-100 data-[state=open]:bg-zinc-100 dark:focus:bg-zinc-800 dark:data-[state=open]:bg-zinc-800 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",e),...a,children:[s,t.jsx(io,{className:"ml-auto"})]}));nee.displayName=BI.displayName;const iee=p.forwardRef(({className:e,...r},s)=>t.jsx(WI,{ref:s,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white p-1 text-zinc-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",e),...r}));iee.displayName=WI.displayName;const Kn=p.forwardRef(({className:e,sideOffset:r=4,style:s,...a},n)=>t.jsx(ree,{children:t.jsx(II,{ref:n,sideOffset:r,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",e),style:{backgroundColor:"#111827 !important",borderColor:"#374151 !important",color:"#f9fafb !important",border:"1px solid #374151 !important",opacity:"1 !important",...s},...a})}));Kn.displayName=II.displayName;const Qt=p.forwardRef(({className:e,inset:r,style:s,onMouseEnter:a,onMouseLeave:n,...i},o)=>t.jsx(LI,{ref:o,className:Re("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 outline-none data-[disabled]:pointer-events-none [&>svg]:size-4 [&>svg]:shrink-0","[&:active]:bg-transparent [&:focus]:bg-transparent [&[data-highlighted]]:bg-transparent [&]:bg-transparent [&]:hover:bg-transparent",r&&"pl-8",e),style:{backgroundColor:"transparent !important",color:"#d1d5db",...s},onMouseEnter:l=>{console.log("Mouse enter - setting background to #374151"),l.currentTarget.style.cssText="background-color: #374151 !important; background: #374151 !important; color: #10b981 !important;",a==null||a(l)},onMouseLeave:l=>{l.currentTarget.style.setProperty("background-color","transparent","important"),l.currentTarget.style.setProperty("background","transparent","important"),l.currentTarget.style.setProperty("color","#d1d5db","important"),n==null||n(l)},...i}));Qt.displayName=LI.displayName;const oee=p.forwardRef(({className:e,children:r,checked:s,style:a,onMouseEnter:n,onMouseLeave:i,...o},l)=>t.jsxs($I,{ref:l,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,style:{backgroundColor:"transparent",color:"#d1d5db",...a},onMouseEnter:d=>{console.log("Mouse enter - setting background to #374151"),d.currentTarget.style.cssText="background-color: #374151 !important; background: #374151 !important; color: #10b981 !important;",n==null||n(d)},onMouseLeave:d=>{d.currentTarget.style.setProperty("background-color","transparent","important"),d.currentTarget.style.setProperty("background","transparent","important"),d.currentTarget.style.setProperty("color","#d1d5db","important"),i==null||i(d)},...o,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(FI,{children:t.jsx(rm,{className:"h-4 w-4"})})}),r]}));oee.displayName=$I.displayName;const lee=p.forwardRef(({className:e,children:r,style:s,onMouseEnter:a,onMouseLeave:n,...i},o)=>t.jsxs(zI,{ref:o,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),style:{backgroundColor:"transparent",color:"#d1d5db",...s},onMouseEnter:l=>{console.log("Mouse enter - setting background to #374151"),l.currentTarget.style.cssText="background-color: #374151 !important; background: #374151 !important; color: #10b981 !important;",a==null||a(l)},onMouseLeave:l=>{l.currentTarget.style.setProperty("background-color","transparent","important"),l.currentTarget.style.setProperty("background","transparent","important"),l.currentTarget.style.setProperty("color","#d1d5db","important"),n==null||n(l)},...i,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(FI,{children:t.jsx(XM,{className:"h-2 w-2 fill-current"})})}),r]}));lee.displayName=zI.displayName;const VI=p.forwardRef(({className:e,inset:r,...s},a)=>t.jsx(DI,{ref:a,className:Re("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...s}));VI.displayName=DI.displayName;const ZS=p.forwardRef(({className:e,...r},s)=>t.jsx(UI,{ref:s,className:Re("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",e),...r}));ZS.displayName=UI.displayName;function cee(){return gS.useSyncExternalStore(dee,()=>!0,()=>!1)}function dee(){return()=>{}}var e2="Avatar",[uee,z1e]=Vs(e2),[mee,qI]=uee(e2),HI=p.forwardRef((e,r)=>{const{__scopeAvatar:s,...a}=e,[n,i]=p.useState("idle");return t.jsx(mee,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:t.jsx(He.span,{...a,ref:r})})});HI.displayName=e2;var KI="AvatarImage",GI=p.forwardRef((e,r)=>{const{__scopeAvatar:s,src:a,onLoadingStatusChange:n=()=>{},...i}=e,o=qI(KI,s),l=hee(a,i),d=Zr(m=>{n(m),o.onImageLoadingStatusChange(m)});return os(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?t.jsx(He.img,{...i,ref:r,src:a}):null});GI.displayName=KI;var YI="AvatarFallback",JI=p.forwardRef((e,r)=>{const{__scopeAvatar:s,delayMs:a,...n}=e,i=qI(YI,s),[o,l]=p.useState(a===void 0);return p.useEffect(()=>{if(a!==void 0){const d=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(d)}},[a]),o&&i.imageLoadingStatus!=="loaded"?t.jsx(He.span,{...n,ref:r}):null});JI.displayName=YI;function DA(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function hee(e,{referrerPolicy:r,crossOrigin:s}){const a=cee(),n=p.useRef(null),i=a?(n.current||(n.current=new window.Image),n.current):null,[o,l]=p.useState(()=>DA(i,e));return os(()=>{l(DA(i,e))},[i,e]),os(()=>{const d=f=>()=>{l(f)};if(!i)return;const m=d("loaded"),h=d("error");return i.addEventListener("load",m),i.addEventListener("error",h),r&&(i.referrerPolicy=r),typeof s=="string"&&(i.crossOrigin=s),()=>{i.removeEventListener("load",m),i.removeEventListener("error",h)}},[i,s,r]),o}var XI=HI,QI=GI,ZI=JI;const od=p.forwardRef(({className:e,...r},s)=>t.jsx(XI,{ref:s,className:Re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));od.displayName=XI.displayName;const Uu=p.forwardRef(({className:e,...r},s)=>t.jsx(QI,{ref:s,className:Re("aspect-square h-full w-full",e),...r}));Uu.displayName=QI.displayName;const ld=p.forwardRef(({className:e,...r},s)=>t.jsx(ZI,{ref:s,className:Re("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));ld.displayName=ZI.displayName;const fee=Ef("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function je({className:e,variant:r,...s}){return t.jsx("div",{className:Re(fee({variant:r}),e),...s})}const G=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Re("rounded-xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",e),...r}));G.displayName="Card";const fe=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Re("flex flex-col space-y-1.5 p-6",e),...r}));fe.displayName="CardHeader";const ge=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Re("font-semibold leading-none tracking-tight",e),...r}));ge.displayName="CardTitle";const Rt=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Re("text-sm text-zinc-500 dark:text-zinc-400",e),...r}));Rt.displayName="CardDescription";const X=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Re("p-6 pt-0",e),...r}));X.displayName="CardContent";const pee=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Re("flex items-center p-6 pt-0",e),...r}));pee.displayName="CardFooter";const gee="https://api.vapi.ai";class xee{constructor(){mi(this,"baseURL",gee);mi(this,"apiKey",null);mi(this,"organizationId",null);console.log(" VAPI Service initialized - requires organization credentials to make API calls")}async initializeWithOrganization(r){var s;try{this.organizationId=r;const a=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),n=await fetch(`${window.location.origin}/api/vapi-credentials`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:a?`Bearer ${a}`:""}});if(!n.ok)return console.warn(" Failed to fetch VAPI credentials for organization"),!1;const i=await n.json();return i.hasApiKey&&((s=i.credentials)!=null&&s.vapi_api_key)?(this.apiKey=i.credentials.vapi_api_key,console.log(" VAPI service initialized with organization credentials"),!0):i.hasApiKey?(console.warn(" VAPI API key exists but user lacks permission to view it"),!1):(console.warn(" No VAPI API key configured for this organization"),!1)}catch(a){return console.error(" Error initializing VAPI service with organization:",a),!1}}isInitialized(){return!!(this.apiKey&&this.organizationId)}getOrganizationId(){return this.organizationId}async request(r,s={}){if(!this.isInitialized())throw new Error("VAPI Service not initialized. Call initializeWithOrganization() first.");const a=`${this.baseURL}${r}`,n={Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json",...s.headers};try{const i=await fetch(a,{...s,headers:n});if(!i.ok){const o=await i.json().catch(()=>({}));throw new Error(`VAPI API Error: ${i.status} - ${o.message||"Unknown error"}`)}return await i.json()}catch(i){throw console.error("VAPI Service Error:",i),i}}async getAssistants(){return this.request("/assistant")}async getAssistant(r){return this.request(`/assistant/${r}`)}async createAssistant(r){return this.request("/assistant",{method:"POST",body:JSON.stringify(r)})}async updateAssistant(r,s){return this.request(`/assistant/${r}`,{method:"PATCH",body:JSON.stringify(s)})}async deleteAssistant(r){await this.request(`/assistant/${r}`,{method:"DELETE"})}async getCalls(r){const s=new URLSearchParams;r&&Object.entries(r).forEach(([n,i])=>{i&&s.append(n,i.toString())});const a=s.toString();return this.request(`/call${a?`?${a}`:""}`)}async getCall(r){return this.request(`/call/${r}`)}async createCall(r){return this.request("/call",{method:"POST",body:JSON.stringify(r)})}async getPhoneNumbers(){return this.request("/phone-number")}async getPhoneNumber(r){return this.request(`/phone-number/${r}`)}async getCallAnalytics(r){const s=await this.getCalls(r);return this.aggregateCallData(s)}aggregateCallData(r){const s=r.length,a=r.filter(m=>m.status==="ended"&&m.duration&&m.duration>30).length,n=r.reduce((m,h)=>m+(h.duration||0),0),i=r.reduce((m,h)=>m+(h.cost||0),0),o=r.reduce((m,h)=>{var g;const f=((g=h.analysis)==null?void 0:g.sentiment)||"neutral";return m[f]++,m},{positive:0,negative:0,neutral:0}),l=r.reduce((m,h)=>{var g;const f=((g=h.analysis)==null?void 0:g.outcome)||"unknown";return m[f]=(m[f]||0)+1,m},{}),d=Array.from({length:24},(m,h)=>({hour:h,count:r.filter(f=>f.startedAt?new Date(f.startedAt).getHours()===h:!1).length}));return{totalCalls:s,successfulCalls:a,averageDuration:n/(s||1),totalCost:i,sentimentBreakdown:o,outcomeBreakdown:l,callsByHour:d,conversionRate:a/(s||1)*100}}async verifyWebhook(r,s,a){try{const i=(await fn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])).createHmac("sha256",a).update(s).digest("hex");return r===i}catch{return!1}}async subscribeToCallUpdates(r,s){const a=setInterval(async()=>{try{const n=await this.getCall(r);s({type:"status-update",call:n,timestamp:new Date().toISOString()})}catch(n){console.error("Error polling call updates:",n)}},2e3);return()=>clearInterval(a)}scoreLeadFromCall(r){var n,i,o,l;let s=50;const a=[];if(r.duration&&(r.duration>300?(s+=20,a.push({factor:"Long Call Duration",impact:20,description:"Engaged in lengthy conversation"})):r.duration>120?(s+=10,a.push({factor:"Good Call Duration",impact:10,description:"Reasonable conversation length"})):r.duration<30&&(s-=15,a.push({factor:"Short Call Duration",impact:-15,description:"Very brief interaction"}))),((n=r.analysis)==null?void 0:n.sentiment)==="positive"?(s+=15,a.push({factor:"Positive Sentiment",impact:15,description:"Showed positive attitude during call"})):((i=r.analysis)==null?void 0:i.sentiment)==="negative"&&(s-=10,a.push({factor:"Negative Sentiment",impact:-10,description:"Expressed negative sentiment"})),(o=r.analysis)!=null&&o.followUpRequired&&(s+=10,a.push({factor:"Follow-up Interest",impact:10,description:"Expressed interest in follow-up"})),(l=r.analysis)!=null&&l.intent){const d=r.analysis.intent.toLowerCase();d.includes("purchase")||d.includes("buy")?(s+=25,a.push({factor:"Purchase Intent",impact:25,description:"Showed buying intent"})):(d.includes("interested")||d.includes("learn"))&&(s+=15,a.push({factor:"Learning Intent",impact:15,description:"Interested in learning more"}))}return{score:Math.max(0,Math.min(100,s)),factors:a}}async launchCampaign(r){const s=r.leads.length;return{success:!0,campaignId:`campaign_${Date.now()}`,scheduledCalls:s}}async launchProductionCampaign(r){if(!r.leads||r.leads.length===0)throw new Error("No leads provided for campaign");if(!this.apiKey)throw new Error("VAPI API key not configured");return this.launchCampaign(r)}}const YN=new xee,LA=e=>{let r;const s=new Set,a=(m,h)=>{const f=typeof m=="function"?m(r):m;if(!Object.is(f,r)){const g=r;r=h??(typeof f!="object"||f===null)?f:Object.assign({},r,f),s.forEach(y=>y(r,g))}},n=()=>r,l={setState:a,getState:n,getInitialState:()=>d,subscribe:m=>(s.add(m),()=>s.delete(m))},d=r=e(a,n,l);return l},yee=e=>e?LA(e):LA,vee=e=>e;function bee(e,r=vee){const s=oe.useSyncExternalStore(e.subscribe,oe.useCallback(()=>r(e.getState()),[e,r]),oe.useCallback(()=>r(e.getInitialState()),[e,r]));return oe.useDebugValue(s),s}const wee=e=>{const r=yee(e),s=a=>bee(r,a);return Object.assign(s,r),s},jee=e=>wee;function eD(e,r){let s;try{s=e()}catch{return}return{getItem:n=>{var i;const o=d=>d===null?null:JSON.parse(d,r==null?void 0:r.reviver),l=(i=s.getItem(n))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,i)=>s.setItem(n,JSON.stringify(i,r==null?void 0:r.replacer)),removeItem:n=>s.removeItem(n)}}const JN=e=>r=>{try{const s=e(r);return s instanceof Promise?s:{then(a){return JN(a)(s)},catch(a){return this}}}catch(s){return{then(a){return this},catch(a){return JN(a)(s)}}}},Nee=(e,r)=>(s,a,n)=>{let i={storage:eD(()=>localStorage),partialize:v=>v,version:0,merge:(v,b)=>({...b,...v}),...r},o=!1;const l=new Set,d=new Set;let m=i.storage;if(!m)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...v)},a,n);const h=()=>{const v=i.partialize({...a()});return m.setItem(i.name,{state:v,version:i.version})},f=n.setState;n.setState=(v,b)=>{f(v,b),h()};const g=e((...v)=>{s(...v),h()},a,n);n.getInitialState=()=>g;let y;const w=()=>{var v,b;if(!m)return;o=!1,l.forEach(C=>{var S;return C((S=a())!=null?S:g)});const N=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(v=a())!=null?v:g))||void 0;return JN(m.getItem.bind(m))(i.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==i.version){if(i.migrate){const S=i.migrate(C.state,C.version);return S instanceof Promise?S.then(_=>[!0,_]):[!0,S]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var S;const[_,A]=C;if(y=i.merge(A,(S=a())!=null?S:g),s(y,!0),_)return h()}).then(()=>{N==null||N(y,void 0),y=a(),o=!0,d.forEach(C=>C(y))}).catch(C=>{N==null||N(void 0,C)})};return n.persist={setOptions:v=>{i={...i,...v},v.storage&&(m=v.storage)},clearStorage:()=>{m==null||m.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(d.add(v),()=>{d.delete(v)})},i.skipHydration||w(),y||g},See=Nee,$A={categories:[],types:[],priorities:[],sources:[],unreadOnly:!1},Cee={categories:{calls:!0,performance:!0,system:!0,billing:!0,campaigns:!0,security:!0},emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,quietHours:{enabled:!1,start:"22:00",end:"08:00"}},lm=jee()(See((e,r)=>({notifications:[],filters:$A,maxNotifications:25,preferences:Cee,addNotification:s=>{const a=`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n={...s,id:a,timestamp:new Date,read:!1,priority:s.priority||"medium",category:s.category||"system",source:s.source||"unknown"};return e(i=>{const o=[n,...i.notifications];return o.length>i.maxNotifications&&o.splice(i.maxNotifications),{notifications:o}}),s.autoHide&&s.hideAfter&&setTimeout(()=>{r().removeNotification(a)},s.hideAfter),a},removeNotification:s=>{e(a=>({notifications:a.notifications.filter(n=>n.id!==s)}))},markAsRead:s=>{e(a=>({notifications:a.notifications.map(n=>n.id===s?{...n,read:!0}:n)}))},markAsUnread:s=>{e(a=>({notifications:a.notifications.map(n=>n.id===s?{...n,read:!1}:n)}))},markAllAsRead:()=>{e(s=>({notifications:s.notifications.map(a=>({...a,read:!0}))}))},clearAll:()=>{e({notifications:[]})},clearByCategory:s=>{e(a=>({notifications:a.notifications.filter(n=>n.category!==s)}))},clearByType:s=>{e(a=>({notifications:a.notifications.filter(n=>n.type!==s)}))},clearOld:s=>{const a=new Date;a.setDate(a.getDate()-s),e(n=>({notifications:n.notifications.filter(i=>(i.timestamp instanceof Date?i.timestamp:new Date(i.timestamp))>a||i.persistent)}))},setFilters:s=>{e(a=>({filters:{...a.filters,...s}}))},resetFilters:()=>{e({filters:$A})},getFilteredNotifications:()=>{const{notifications:s,filters:a}=r();return s.filter(n=>{if(a.categories.length>0&&!a.categories.includes(n.category)||a.types.length>0&&!a.types.includes(n.type)||a.priorities.length>0&&!a.priorities.includes(n.priority)||a.sources.length>0&&!a.sources.includes(n.source)||a.unreadOnly&&n.read)return!1;if(a.dateRange){const i=n.timestamp;if(i<a.dateRange.start||i>a.dateRange.end)return!1}return!0})},getStats:()=>{const{notifications:s}=r(),a=new Date,n=new Date(a.getFullYear(),a.getMonth(),a.getDate()),i=new Date(n);i.setDate(i.getDate()-7);const o=new Date(a.getFullYear(),a.getMonth(),1),l={total:s.length,unread:s.filter(d=>!d.read).length,byCategory:{system:0,calls:0,campaigns:0,performance:0,billing:0,security:0},byType:{success:0,error:0,warning:0,info:0,system:0,campaign:0,billing:0},byPriority:{low:0,medium:0,high:0,urgent:0},recentActivity:{today:s.filter(d=>(d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp))>=n).length,thisWeek:s.filter(d=>(d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp))>=i).length,thisMonth:s.filter(d=>(d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp))>=o).length}};return s.forEach(d=>{l.byCategory[d.category]++,l.byType[d.type]++,l.byPriority[d.priority]++}),l},getUnreadCount:()=>r().notifications.filter(s=>!s.read).length,getNotificationsByCategory:s=>r().notifications.filter(a=>a.category===s),getNotificationsByType:s=>r().notifications.filter(a=>a.type===s),getNotificationsByPriority:s=>r().notifications.filter(a=>a.priority===s),getRecentNotifications:s=>r().notifications.slice(0,s),setMaxNotifications:s=>{e(a=>{const n=a.notifications.slice(0,s);return{maxNotifications:s,notifications:n}})},updatePreferences:s=>{e(a=>({preferences:{...a.preferences,...s}}))}}),{name:"apex-notifications",storage:eD(()=>localStorage,{reviver:(e,r)=>e==="timestamp"&&typeof r=="string"?new Date(r):r,replacer:(e,r)=>r}),partialize:e=>({notifications:e.notifications.slice(0,25),maxNotifications:e.maxNotifications})})),Tc={success:(e,r,s)=>({type:"success",title:e,message:r,priority:"medium",category:"system",source:"app",autoHide:!0,hideAfter:5e3,...s}),error:(e,r,s)=>({type:"error",title:e,message:r,priority:"high",category:"system",source:"app",persistent:!0,...s}),warning:(e,r,s)=>({type:"warning",title:e,message:r,priority:"medium",category:"system",source:"app",autoHide:!0,hideAfter:8e3,...s}),info:(e,r,s)=>({type:"info",title:e,message:r,priority:"low",category:"system",source:"app",autoHide:!0,hideAfter:4e3,...s}),system:(e,r,s)=>({type:"system",title:e,message:r,priority:"medium",category:"system",source:"system",...s}),campaign:(e,r,s)=>({type:"campaign",title:e,message:r,priority:"medium",category:"campaigns",source:"campaign-manager",...s}),billing:(e,r,s)=>({type:"billing",title:e,message:r,priority:"medium",category:"billing",source:"billing",...s})},kee=()=>{const e=lm(r=>r.addNotification);return{success:(r,s,a)=>e(Tc.success(r,s,a)),error:(r,s,a)=>e(Tc.error(r,s,a)),warning:(r,s,a)=>e(Tc.warning(r,s,a)),info:(r,s,a)=>e(Tc.info(r,s,a)),system:(r,s,a)=>e(Tc.system(r,s,a)),campaign:(r,s,a)=>e(Tc.campaign(r,s,a)),billing:(r,s,a)=>e(Tc.billing(r,s,a))}};function _ee(){var v,b,N;const e=br(),{signOut:r}=ja(),{user:s}=tm(),{userContext:a}=no(),{addNotification:n}=lm(),[i,o]=p.useState(!1),[l,d]=p.useState({credits:0,totalCalls:0,monthlySpend:0,lastSync:new Date,status:"disconnected",accounts:[]}),[m,h]=p.useState(!1),f=async()=>{h(!0);try{const C=await YN.getCalls({limit:100}),S=await YN.getCallAnalytics();d({credits:0,totalCalls:S.totalCalls||0,monthlySpend:S.totalCost||0,lastSync:new Date,status:"connected",accounts:[]})}catch(C){console.error("Failed to sync VAPI data:",C),d(S=>({...S,status:"error"}))}finally{h(!1)}};p.useEffect(()=>{},[]);const g=async()=>{try{await r(),localStorage.clear(),sessionStorage.clear(),window.location.href="/login"}catch(C){console.error("Sign out error:",C),localStorage.clear(),sessionStorage.clear(),window.location.href="/login"}},y=()=>{switch(l.status){case"connected":return t.jsx(yt,{className:"h-3 w-3 text-gray-400"});case"syncing":return t.jsx(ea,{className:"h-3 w-3 animate-spin text-blue-400"});case"error":return t.jsx(Kt,{className:"h-3 w-3 text-red-400"});default:return t.jsx(Kt,{className:"h-3 w-3 text-gray-400"})}},w=()=>{const C=new Date().getHours(),S=(a==null?void 0:a.firstName)||(s==null?void 0:s.firstName)||"User";return C<12?`Good morning, ${S}!`:C<17?`Good afternoon, ${S}!`:`Good evening, ${S}!`};return t.jsxs(ki,{open:i,onOpenChange:o,children:[t.jsx(_i,{asChild:!0,children:t.jsx(q,{variant:"ghost",className:Re("relative h-10 rounded-lg px-3 transition-all duration-200","hover:bg-gray-800 focus:bg-gray-800 focus:ring-2 focus:ring-gray-500/20",i&&"bg-gray-800"),children:t.jsxs("div",{className:"flex items-center space-x-2 max-w-[200px]",children:[t.jsxs(od,{className:"h-8 w-8 ring-2 ring-gray-700 transition-all hover:ring-gray-500/50 flex-shrink-0",children:[t.jsx(Uu,{src:s==null?void 0:s.imageUrl,alt:(s==null?void 0:s.fullName)||""}),t.jsx(ld,{className:"bg-gray-600 font-medium text-white",children:((v=s==null?void 0:s.firstName)==null?void 0:v[0])||"U"})]}),t.jsxs("div",{className:"hidden flex-col items-start lg:flex min-w-0 flex-1",children:[t.jsx("span",{className:"text-sm font-medium text-white truncate max-w-[100px]",children:(s==null?void 0:s.firstName)||"User"}),t.jsx("span",{className:"text-xs text-gray-400 truncate max-w-[100px]",children:(a==null?void 0:a.role)||"User"})]}),t.jsx(as,{className:Re("h-4 w-4 text-gray-400 transition-transform duration-200 flex-shrink-0",i&&"rotate-180")})]})})}),t.jsxs(Kn,{className:"w-80 border-gray-700 bg-gray-900/95 p-0 shadow-xl",align:"end",children:[t.jsx("div",{className:"border-b border-gray-700 bg-gradient-to-r from-gray-600/10 to-gray-700/10 p-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(od,{className:"h-12 w-12 ring-2 ring-gray-500/30",children:[t.jsx(Uu,{src:s==null?void 0:s.imageUrl,alt:(s==null?void 0:s.fullName)||""}),t.jsx(ld,{className:"bg-gray-600 text-lg font-bold text-white",children:((b=s==null?void 0:s.firstName)==null?void 0:b[0])||"U"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-base font-medium text-white",children:w()}),t.jsx("p",{className:"text-sm text-gray-300",children:s==null?void 0:s.fullName}),t.jsx("p",{className:"text-xs text-gray-400",children:(N=s==null?void 0:s.primaryEmailAddress)==null?void 0:N.emailAddress}),t.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[t.jsx(je,{variant:"outline",className:"border-gray-500/30 text-xs text-gray-400",children:(a==null?void 0:a.role)||"User"}),(a==null?void 0:a.organizationName)&&t.jsxs(je,{variant:"outline",className:"border-blue-500/30 text-xs text-blue-400",children:[t.jsx(tr,{className:"mr-1 h-3 w-3"}),a.organizationName]})]})]})]})}),t.jsxs("div",{className:"border-b border-gray-700 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h4",{className:"text-sm font-medium text-white",children:"Account Overview"}),t.jsxs(q,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-gray-400 hover:text-white",onClick:f,disabled:m,children:[m?t.jsx(ea,{className:"h-3 w-3 animate-spin"}):t.jsx(ea,{className:"h-3 w-3"}),"Sync"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Total Credits"}),t.jsx("p",{className:"text-lg font-bold text-gray-400",children:l.credits>0?l.credits.toLocaleString():"N/A"})]}),t.jsx(Ur,{className:"h-5 w-5 text-gray-400"})]})})}),t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-lg font-bold text-blue-400",children:l.totalCalls>0?l.totalCalls.toLocaleString():"N/A"})]}),t.jsx(pt,{className:"h-5 w-5 text-blue-400"})]})})})]}),t.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[y(),t.jsxs("span",{className:"text-gray-400",children:["VAPI Status:"," ",l.status==="connected"?"Connected":l.status==="syncing"?"Syncing...":l.status==="error"?"Connection Error":"Disconnected"]})]}),t.jsxs("span",{className:"text-gray-500",children:["Last sync: ",l.lastSync.toLocaleTimeString()]})]}),l.accounts.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"mb-2 text-xs text-gray-400",children:"Connected Accounts"}),t.jsx("div",{className:"space-y-1",children:l.accounts.map(C=>t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-gray-300",children:C.name}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-gray-400",children:C.credits.toLocaleString()}),t.jsx("span",{className:"text-gray-500",children:""}),t.jsx("span",{className:"text-blue-400",children:C.calls})]})]},C.id))})]})]}),t.jsxs("div",{className:"p-2",children:[t.jsxs(aee,{children:[t.jsxs(Qt,{className:"cursor-pointer hover:bg-gray-800/100 focus:bg-gray-800/100",onClick:()=>{e("/api-keys"),o(!1)},children:[t.jsx(sd,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:"API Keys"})]}),t.jsxs(Qt,{className:"cursor-pointer hover:bg-gray-800/100 focus:bg-gray-800/100",onClick:()=>{e("/billing"),o(!1)},children:[t.jsx(qn,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:"Billing & Credits"})]}),(a==null?void 0:a.role)==="platform_owner"&&t.jsxs(t.Fragment,{children:[t.jsxs(Qt,{className:"cursor-pointer hover:bg-gray-800 focus:bg-gray-800",onClick:()=>{e("/platform"),o(!1)},children:[t.jsx(_f,{className:"mr-3 h-4 w-4 text-yellow-400"}),t.jsx("span",{className:"text-gray-200",children:"Platform Admin"})]}),t.jsxs(Qt,{className:"cursor-pointer hover:bg-gray-800 focus:bg-gray-800",onClick:()=>{e("/system-health"),o(!1)},children:[t.jsx(Ps,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:"Security & Health"})]})]}),t.jsxs(Qt,{className:"cursor-pointer hover:bg-gray-800/100 focus:bg-gray-800/100",onClick:()=>{e("/settings"),o(!1)},children:[t.jsx(is,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:"Settings"})]})]}),t.jsx(ZS,{className:"my-2 bg-gray-700"}),t.jsxs(Qt,{className:"cursor-pointer text-red-400 hover:bg-red-900/20 focus:bg-red-900/20",onClick:g,children:[t.jsx(iY,{className:"mr-3 h-4 w-4"}),t.jsx("span",{children:"Sign Out"})]})]}),t.jsx("div",{className:"border-t border-gray-700 bg-gray-800/50 p-3",children:t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[t.jsx("span",{children:"Apex Platform"}),t.jsxs(q,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:text-white",onClick:()=>window.open("https://docs.apex.ai","_blank"),children:[t.jsx(ji,{className:"mr-1 h-3 w-3"}),"Docs"]})]})})]})]})}const tD=6048e5,Pee=864e5,Tg=43200,zA=1440,FA=Symbol.for("constructDateFrom");function Uo(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&FA in e?e[FA](r):e instanceof Date?new e.constructor(r):new Date(r)}function Ws(e,r){return Uo(r||e,e)}let Aee={};function zf(){return Aee}function Xh(e,r){var l,d,m,h;const s=zf(),a=(r==null?void 0:r.weekStartsOn)??((d=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??s.weekStartsOn??((h=(m=s.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,n=Ws(e,r==null?void 0:r.in),i=n.getDay(),o=(i<a?7:0)+i-a;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function N0(e,r){return Xh(e,{...r,weekStartsOn:1})}function rD(e,r){const s=Ws(e,r==null?void 0:r.in),a=s.getFullYear(),n=Uo(s,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);const i=N0(n),o=Uo(s,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const l=N0(o);return s.getTime()>=i.getTime()?a+1:s.getTime()>=l.getTime()?a:a-1}function S0(e){const r=Ws(e),s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),+e-+s}function Kx(e,...r){const s=Uo.bind(null,e||r.find(a=>typeof a=="object"));return r.map(s)}function UA(e,r){const s=Ws(e,r==null?void 0:r.in);return s.setHours(0,0,0,0),s}function Eee(e,r,s){const[a,n]=Kx(s==null?void 0:s.in,e,r),i=UA(a),o=UA(n),l=+i-S0(i),d=+o-S0(o);return Math.round((l-d)/Pee)}function Tee(e,r){const s=rD(e,r),a=Uo(e,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),N0(a)}function e0(e,r){const s=+Ws(e)-+Ws(r);return s<0?-1:s>0?1:s}function Oee(e){return Uo(e,Date.now())}function Mee(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ree(e){return!(!Mee(e)&&typeof e!="number"||isNaN(+Ws(e)))}function Iee(e,r,s){const[a,n]=Kx(s==null?void 0:s.in,e,r),i=a.getFullYear()-n.getFullYear(),o=a.getMonth()-n.getMonth();return i*12+o}function Dee(e){return r=>{const a=(e?Math[e]:Math.trunc)(r);return a===0?0:a}}function Lee(e,r){return+Ws(e)-+Ws(r)}function $ee(e,r){const s=Ws(e,r==null?void 0:r.in);return s.setHours(23,59,59,999),s}function zee(e,r){const s=Ws(e,r==null?void 0:r.in),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function Fee(e,r){const s=Ws(e,r==null?void 0:r.in);return+$ee(s,r)==+zee(s,r)}function Uee(e,r,s){const[a,n,i]=Kx(s==null?void 0:s.in,e,e,r),o=e0(n,i),l=Math.abs(Iee(n,i));if(l<1)return 0;n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*l);let d=e0(n,i)===-o;Fee(a)&&l===1&&e0(a,i)===1&&(d=!1);const m=o*(l-+d);return m===0?0:m}function Bee(e,r,s){const a=Lee(e,r)/1e3;return Dee(s==null?void 0:s.roundingMethod)(a)}function Wee(e,r){const s=Ws(e,r==null?void 0:r.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const Vee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qee=(e,r,s)=>{let a;const n=Vee[e];return typeof n=="string"?a=n:r===1?a=n.one:a=n.other.replace("{{count}}",r.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function gw(e){return(r={})=>{const s=r.width?String(r.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const Hee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yee={date:gw({formats:Hee,defaultWidth:"full"}),time:gw({formats:Kee,defaultWidth:"full"}),dateTime:gw({formats:Gee,defaultWidth:"full"})},Jee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xee=(e,r,s,a)=>Jee[e];function uh(e){return(r,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let n;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):o;n=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;n=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return n[i]}}const Qee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ete={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ste={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ate=(e,r)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},nte={ordinalNumber:ate,era:uh({values:Qee,defaultWidth:"wide"}),quarter:uh({values:Zee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:uh({values:ete,defaultWidth:"wide"}),day:uh({values:tte,defaultWidth:"wide"}),dayPeriod:uh({values:rte,defaultWidth:"wide",formattingValues:ste,defaultFormattingWidth:"wide"})};function mh(e){return(r,s={})=>{const a=s.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=r.match(n);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?ote(l,f=>f.test(o)):ite(l,f=>f.test(o));let m;m=e.valueCallback?e.valueCallback(d):d,m=s.valueCallback?s.valueCallback(m):m;const h=r.slice(o.length);return{value:m,rest:h}}}function ite(e,r){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&r(e[s]))return s}function ote(e,r){for(let s=0;s<e.length;s++)if(r(e[s]))return s}function lte(e){return(r,s={})=>{const a=r.match(e.matchPattern);if(!a)return null;const n=a[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=r.slice(n.length);return{value:o,rest:l}}}const cte=/^(\d+)(th|st|nd|rd)?/i,dte=/\d+/i,ute={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mte={any:[/^b/i,/^(a|c)/i]},hte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fte={any:[/1/i,/2/i,/3/i,/4/i]},pte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wte={ordinalNumber:lte({matchPattern:cte,parsePattern:dte,valueCallback:e=>parseInt(e,10)}),era:mh({matchPatterns:ute,defaultMatchWidth:"wide",parsePatterns:mte,defaultParseWidth:"any"}),quarter:mh({matchPatterns:hte,defaultMatchWidth:"wide",parsePatterns:fte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:mh({matchPatterns:pte,defaultMatchWidth:"wide",parsePatterns:gte,defaultParseWidth:"any"}),day:mh({matchPatterns:xte,defaultMatchWidth:"wide",parsePatterns:yte,defaultParseWidth:"any"}),dayPeriod:mh({matchPatterns:vte,defaultMatchWidth:"any",parsePatterns:bte,defaultParseWidth:"any"})},sD={code:"en-US",formatDistance:qee,formatLong:Yee,formatRelative:Xee,localize:nte,match:wte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jte(e,r){const s=Ws(e,r==null?void 0:r.in);return Eee(s,Wee(s))+1}function Nte(e,r){const s=Ws(e,r==null?void 0:r.in),a=+N0(s)-+Tee(s);return Math.round(a/tD)+1}function aD(e,r){var h,f,g,y;const s=Ws(e,r==null?void 0:r.in),a=s.getFullYear(),n=zf(),i=(r==null?void 0:r.firstWeekContainsDate)??((f=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=Uo((r==null?void 0:r.in)||e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=Xh(o,r),d=Uo((r==null?void 0:r.in)||e,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const m=Xh(d,r);return+s>=+l?a+1:+s>=+m?a:a-1}function Ste(e,r){var l,d,m,h;const s=zf(),a=(r==null?void 0:r.firstWeekContainsDate)??((d=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(m=s.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,n=aD(e,r),i=Uo((r==null?void 0:r.in)||e,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),Xh(i,r)}function Cte(e,r){const s=Ws(e,r==null?void 0:r.in),a=+Xh(s,r)-+Ste(s,r);return Math.round(a/tD)+1}function gr(e,r){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return s+a}const Sl={y(e,r){const s=e.getFullYear(),a=s>0?s:1-s;return gr(r==="yy"?a%100:a,r.length)},M(e,r){const s=e.getMonth();return r==="M"?String(s+1):gr(s+1,2)},d(e,r){return gr(e.getDate(),r.length)},a(e,r){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,r){return gr(e.getHours()%12||12,r.length)},H(e,r){return gr(e.getHours(),r.length)},m(e,r){return gr(e.getMinutes(),r.length)},s(e,r){return gr(e.getSeconds(),r.length)},S(e,r){const s=r.length,a=e.getMilliseconds(),n=Math.trunc(a*Math.pow(10,s-3));return gr(n,r.length)}},yu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},BA={G:function(e,r,s){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,r,s){if(r==="yo"){const a=e.getFullYear(),n=a>0?a:1-a;return s.ordinalNumber(n,{unit:"year"})}return Sl.y(e,r)},Y:function(e,r,s,a){const n=aD(e,a),i=n>0?n:1-n;if(r==="YY"){const o=i%100;return gr(o,2)}return r==="Yo"?s.ordinalNumber(i,{unit:"year"}):gr(i,r.length)},R:function(e,r){const s=rD(e);return gr(s,r.length)},u:function(e,r){const s=e.getFullYear();return gr(s,r.length)},Q:function(e,r,s){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return gr(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,s){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return gr(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,s){const a=e.getMonth();switch(r){case"M":case"MM":return Sl.M(e,r);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,s){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return gr(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,s,a){const n=Cte(e,a);return r==="wo"?s.ordinalNumber(n,{unit:"week"}):gr(n,r.length)},I:function(e,r,s){const a=Nte(e);return r==="Io"?s.ordinalNumber(a,{unit:"week"}):gr(a,r.length)},d:function(e,r,s){return r==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Sl.d(e,r)},D:function(e,r,s){const a=jte(e);return r==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):gr(a,r.length)},E:function(e,r,s){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return gr(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})}},c:function(e,r,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return gr(i,r.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})}},i:function(e,r,s){const a=e.getDay(),n=a===0?7:a;switch(r){case"i":return String(n);case"ii":return gr(n,r.length);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,s){const n=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,r,s){const a=e.getHours();let n;switch(a===12?n=yu.noon:a===0?n=yu.midnight:n=a/12>=1?"pm":"am",r){case"b":case"bb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,r,s){const a=e.getHours();let n;switch(a>=17?n=yu.evening:a>=12?n=yu.afternoon:a>=4?n=yu.morning:n=yu.night,r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,r,s){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return Sl.h(e,r)},H:function(e,r,s){return r==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Sl.H(e,r)},K:function(e,r,s){const a=e.getHours()%12;return r==="Ko"?s.ordinalNumber(a,{unit:"hour"}):gr(a,r.length)},k:function(e,r,s){let a=e.getHours();return a===0&&(a=24),r==="ko"?s.ordinalNumber(a,{unit:"hour"}):gr(a,r.length)},m:function(e,r,s){return r==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Sl.m(e,r)},s:function(e,r,s){return r==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Sl.s(e,r)},S:function(e,r){return Sl.S(e,r)},X:function(e,r,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return VA(a);case"XXXX":case"XX":return Dc(a);case"XXXXX":case"XXX":default:return Dc(a,":")}},x:function(e,r,s){const a=e.getTimezoneOffset();switch(r){case"x":return VA(a);case"xxxx":case"xx":return Dc(a);case"xxxxx":case"xxx":default:return Dc(a,":")}},O:function(e,r,s){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+WA(a,":");case"OOOO":default:return"GMT"+Dc(a,":")}},z:function(e,r,s){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+WA(a,":");case"zzzz":default:return"GMT"+Dc(a,":")}},t:function(e,r,s){const a=Math.trunc(+e/1e3);return gr(a,r.length)},T:function(e,r,s){return gr(+e,r.length)}};function WA(e,r=""){const s=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),i=a%60;return i===0?s+String(n):s+String(n)+r+gr(i,2)}function VA(e,r){return e%60===0?(e>0?"-":"+")+gr(Math.abs(e)/60,2):Dc(e,r)}function Dc(e,r=""){const s=e>0?"-":"+",a=Math.abs(e),n=gr(Math.trunc(a/60),2),i=gr(a%60,2);return s+n+r+i}const qA=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},nD=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},kte=(e,r)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],n=s[2];if(!n)return qA(e,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",qA(a,r)).replace("{{time}}",nD(n,r))},_te={p:nD,P:kte},Pte=/^D+$/,Ate=/^Y+$/,Ete=["D","DD","YY","YYYY"];function Tte(e){return Pte.test(e)}function Ote(e){return Ate.test(e)}function Mte(e,r,s){const a=Rte(e,r,s);if(console.warn(a),Ete.includes(e))throw new RangeError(a)}function Rte(e,r,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ite=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lte=/^'([^]*?)'?$/,$te=/''/g,zte=/[a-zA-Z]/;function xw(e,r,s){var h,f,g,y;const a=zf(),n=a.locale??sD,i=a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=a.weekStartsOn??((y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,l=Ws(e,s==null?void 0:s.in);if(!Ree(l))throw new RangeError("Invalid time value");let d=r.match(Dte).map(w=>{const v=w[0];if(v==="p"||v==="P"){const b=_te[v];return b(w,n.formatLong)}return w}).join("").match(Ite).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const v=w[0];if(v==="'")return{isToken:!1,value:Fte(w)};if(BA[v])return{isToken:!0,value:w};if(v.match(zte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:w}});n.localize.preprocessor&&(d=n.localize.preprocessor(l,d));const m={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return d.map(w=>{if(!w.isToken)return w.value;const v=w.value;(Ote(v)||Tte(v))&&Mte(v,r,String(e));const b=BA[v[0]];return b(l,v,n.localize,m)}).join("")}function Fte(e){const r=e.match(Lte);return r?r[1].replace($te,"'"):e}function Ute(e,r,s){const a=zf(),n=(s==null?void 0:s.locale)??a.locale??sD,i=2520,o=e0(e,r);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o}),[d,m]=Kx(s==null?void 0:s.in,...o>0?[r,e]:[e,r]),h=Bee(m,d),f=(S0(m)-S0(d))/1e3,g=Math.round((h-f)/60);let y;if(g<2)return s!=null&&s.includeSeconds?h<5?n.formatDistance("lessThanXSeconds",5,l):h<10?n.formatDistance("lessThanXSeconds",10,l):h<20?n.formatDistance("lessThanXSeconds",20,l):h<40?n.formatDistance("halfAMinute",0,l):h<60?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",1,l):g===0?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",g,l);if(g<45)return n.formatDistance("xMinutes",g,l);if(g<90)return n.formatDistance("aboutXHours",1,l);if(g<zA){const w=Math.round(g/60);return n.formatDistance("aboutXHours",w,l)}else{if(g<i)return n.formatDistance("xDays",1,l);if(g<Tg){const w=Math.round(g/zA);return n.formatDistance("xDays",w,l)}else if(g<Tg*2)return y=Math.round(g/Tg),n.formatDistance("aboutXMonths",y,l)}if(y=Uee(m,d),y<12){const w=Math.round(g/Tg);return n.formatDistance("xMonths",w,l)}else{const w=y%12,v=Math.trunc(y/12);return w<3?n.formatDistance("aboutXYears",v,l):w<9?n.formatDistance("overXYears",v,l):n.formatDistance("almostXYears",v+1,l)}}function C0(e,r){return Ute(e,Oee(e),r)}function Qh(e,[r,s]){return Math.min(s,Math.max(r,e))}function Bte(e,r){return p.useReducer((s,a)=>r[s][a]??s,e)}var t2="ScrollArea",[iD,F1e]=Vs(t2),[Wte,Jn]=iD(t2),oD=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,type:a="hover",dir:n,scrollHideDelay:i=600,...o}=e,[l,d]=p.useState(null),[m,h]=p.useState(null),[f,g]=p.useState(null),[y,w]=p.useState(null),[v,b]=p.useState(null),[N,C]=p.useState(0),[S,_]=p.useState(0),[A,T]=p.useState(!1),[E,R]=p.useState(!1),$=ht(r,M=>d(M)),K=bd(n);return t.jsx(Wte,{scope:s,type:a,dir:K,scrollHideDelay:i,scrollArea:l,viewport:m,onViewportChange:h,content:f,onContentChange:g,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:A,onScrollbarXEnabledChange:T,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:E,onScrollbarYEnabledChange:R,onCornerWidthChange:C,onCornerHeightChange:_,children:t.jsx(He.div,{dir:K,...o,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});oD.displayName=t2;var lD="ScrollAreaViewport",cD=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,children:a,nonce:n,...i}=e,o=Jn(lD,s),l=p.useRef(null),d=ht(r,l,o.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),t.jsx(He.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});cD.displayName=lD;var lo="ScrollAreaScrollbar",r2=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=Jn(lo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=n,l=e.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),n.type==="hover"?t.jsx(Vte,{...a,ref:r,forceMount:s}):n.type==="scroll"?t.jsx(qte,{...a,ref:r,forceMount:s}):n.type==="auto"?t.jsx(dD,{...a,ref:r,forceMount:s}):n.type==="always"?t.jsx(s2,{...a,ref:r}):null});r2.displayName=lo;var Vte=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=Jn(lo,e.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const l=n.scrollArea;let d=0;if(l){const m=()=>{window.clearTimeout(d),o(!0)},h=()=>{d=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",m),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",m),l.removeEventListener("pointerleave",h)}}},[n.scrollArea,n.scrollHideDelay]),t.jsx(Na,{present:s||i,children:t.jsx(dD,{"data-state":i?"visible":"hidden",...a,ref:r})})}),qte=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=Jn(lo,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Yx(()=>d("SCROLL_END"),100),[l,d]=Bte("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const m=window.setTimeout(()=>d("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(m)}},[l,n.scrollHideDelay,d]),p.useEffect(()=>{const m=n.viewport,h=i?"scrollLeft":"scrollTop";if(m){let f=m[h];const g=()=>{const y=m[h];f!==y&&(d("SCROLL"),o()),f=y};return m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[n.viewport,i,d,o]),t.jsx(Na,{present:s||l!=="hidden",children:t.jsx(s2,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:r,onPointerEnter:$e(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:$e(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),dD=p.forwardRef((e,r)=>{const s=Jn(lo,e.__scopeScrollArea),{forceMount:a,...n}=e,[i,o]=p.useState(!1),l=e.orientation==="horizontal",d=Yx(()=>{if(s.viewport){const m=s.viewport.offsetWidth<s.viewport.scrollWidth,h=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?m:h)}},10);return Bu(s.viewport,d),Bu(s.content,d),t.jsx(Na,{present:a||i,children:t.jsx(s2,{"data-state":i?"visible":"hidden",...n,ref:r})})}),s2=p.forwardRef((e,r)=>{const{orientation:s="vertical",...a}=e,n=Jn(lo,e.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[l,d]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=pD(l.viewport,l.content),h={...a,sizes:l,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function f(g,y){return Xte(g,o.current,l,y)}return s==="horizontal"?t.jsx(Hte,{...h,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollLeft,y=HA(g,l,n.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollLeft=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollLeft=f(g,n.dir))}}):s==="vertical"?t.jsx(Kte,{...h,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollTop,y=HA(g,l);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollTop=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollTop=f(g))}}):null}),Hte=p.forwardRef((e,r)=>{const{sizes:s,onSizesChange:a,...n}=e,i=Jn(lo,e.__scopeScrollArea),[o,l]=p.useState(),d=p.useRef(null),m=ht(r,d,i.onScrollbarXChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),t.jsx(mD,{"data-orientation":"horizontal",...n,ref:m,sizes:s,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Gx(s)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const g=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),xD(g,f)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:_0(o.paddingLeft),paddingEnd:_0(o.paddingRight)}})}})}),Kte=p.forwardRef((e,r)=>{const{sizes:s,onSizesChange:a,...n}=e,i=Jn(lo,e.__scopeScrollArea),[o,l]=p.useState(),d=p.useRef(null),m=ht(r,d,i.onScrollbarYChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),t.jsx(mD,{"data-orientation":"vertical",...n,ref:m,sizes:s,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Gx(s)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const g=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),xD(g,f)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:_0(o.paddingTop),paddingEnd:_0(o.paddingBottom)}})}})}),[Gte,uD]=iD(lo),mD=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,sizes:a,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:h,onResize:f,...g}=e,y=Jn(lo,s),[w,v]=p.useState(null),b=ht(r,$=>v($)),N=p.useRef(null),C=p.useRef(""),S=y.viewport,_=a.content-a.viewport,A=Zr(h),T=Zr(d),E=Yx(f,10);function R($){if(N.current){const K=$.clientX-N.current.left,M=$.clientY-N.current.top;m({x:K,y:M})}}return p.useEffect(()=>{const $=K=>{const M=K.target;(w==null?void 0:w.contains(M))&&A(K,_)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[S,w,_,A]),p.useEffect(T,[a,T]),Bu(w,E),Bu(y.content,E),t.jsx(Gte,{scope:s,scrollbar:w,hasThumb:n,onThumbChange:Zr(i),onThumbPointerUp:Zr(o),onThumbPositionChange:T,onThumbPointerDown:Zr(l),children:t.jsx(He.div,{...g,ref:b,style:{position:"absolute",...g.style},onPointerDown:$e(e.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),N.current=w.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),R($))}),onPointerMove:$e(e.onPointerMove,R),onPointerUp:$e(e.onPointerUp,$=>{const K=$.target;K.hasPointerCapture($.pointerId)&&K.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=C.current,y.viewport&&(y.viewport.style.scrollBehavior=""),N.current=null})})})}),k0="ScrollAreaThumb",hD=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=uD(k0,e.__scopeScrollArea);return t.jsx(Na,{present:s||n.hasThumb,children:t.jsx(Yte,{ref:r,...a})})}),Yte=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,style:a,...n}=e,i=Jn(k0,s),o=uD(k0,s),{onThumbPositionChange:l}=o,d=ht(r,f=>o.onThumbChange(f)),m=p.useRef(void 0),h=Yx(()=>{m.current&&(m.current(),m.current=void 0)},100);return p.useEffect(()=>{const f=i.viewport;if(f){const g=()=>{if(h(),!m.current){const y=Qte(f,l);m.current=y,l()}};return l(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[i.viewport,h,l]),t.jsx(He.div,{"data-state":o.hasThumb?"visible":"hidden",...n,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:$e(e.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),w=f.clientX-y.left,v=f.clientY-y.top;o.onThumbPointerDown({x:w,y:v})}),onPointerUp:$e(e.onPointerUp,o.onThumbPointerUp)})});hD.displayName=k0;var a2="ScrollAreaCorner",fD=p.forwardRef((e,r)=>{const s=Jn(a2,e.__scopeScrollArea),a=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&a?t.jsx(Jte,{...e,ref:r}):null});fD.displayName=a2;var Jte=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,...a}=e,n=Jn(a2,s),[i,o]=p.useState(0),[l,d]=p.useState(0),m=!!(i&&l);return Bu(n.scrollbarX,()=>{var f;const h=((f=n.scrollbarX)==null?void 0:f.offsetHeight)||0;n.onCornerHeightChange(h),d(h)}),Bu(n.scrollbarY,()=>{var f;const h=((f=n.scrollbarY)==null?void 0:f.offsetWidth)||0;n.onCornerWidthChange(h),o(h)}),m?t.jsx(He.div,{...a,ref:r,style:{width:i,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function _0(e){return e?parseInt(e,10):0}function pD(e,r){const s=e/r;return isNaN(s)?0:s}function Gx(e){const r=pD(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-s)*r;return Math.max(a,18)}function Xte(e,r,s,a="ltr"){const n=Gx(s),i=n/2,o=r||i,l=n-o,d=s.scrollbar.paddingStart+o,m=s.scrollbar.size-s.scrollbar.paddingEnd-l,h=s.content-s.viewport,f=a==="ltr"?[0,h]:[h*-1,0];return gD([d,m],f)(e)}function HA(e,r,s="ltr"){const a=Gx(r),n=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-n,o=r.content-r.viewport,l=i-a,d=s==="ltr"?[0,o]:[o*-1,0],m=Qh(e,d);return gD([0,o],[0,l])(m)}function gD(e,r){return s=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(s-e[0])}}function xD(e,r){return e>0&&e<r}var Qte=(e,r=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},a=0;return function n(){const i={left:e.scrollLeft,top:e.scrollTop},o=s.left!==i.left,l=s.top!==i.top;(o||l)&&r(),s=i,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function Yx(e,r){const s=Zr(e),a=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),p.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(s,r)},[s,r])}function Bu(e,r){const s=Zr(r);os(()=>{let a=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(s)});return n.observe(e),()=>{window.cancelAnimationFrame(a),n.unobserve(e)}}},[e,s])}var yD=oD,Zte=cD,ere=fD;const P0=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(yD,{ref:a,className:Re("relative overflow-hidden",e),...s,children:[t.jsx(Zte,{className:"h-full w-full rounded-[inherit]",children:r}),t.jsx(vD,{}),t.jsx(ere,{})]}));P0.displayName=yD.displayName;const vD=p.forwardRef(({className:e,orientation:r="vertical",...s},a)=>t.jsx(r2,{ref:a,orientation:r,className:Re("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:t.jsx(hD,{className:"relative flex-1 rounded-full bg-zinc-200 dark:bg-zinc-800"})}));vD.displayName=r2.displayName;const Se=p.forwardRef(({className:e,type:r,...s},a)=>t.jsx("input",{type:r,className:Re("flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300 md:text-sm",e),ref:a,...s}));Se.displayName="Input";const tre={success:yt,error:Kt,warning:va,info:Yt,system:Kr,campaign:dr,billing:Ur,calls:pt,performance:_s,security:Ps,message:Xi,update:ea},KA={system:{bg:"bg-purple-500/10",text:"text-purple-400",border:"border-purple-500/20",icon:"text-purple-500"},calls:{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/20",icon:"text-blue-500"},campaigns:{bg:"bg-emerald-500/10",text:"text-emerald-400",border:"border-emerald-500/20",icon:"text-emerald-500"},performance:{bg:"bg-orange-500/10",text:"text-orange-400",border:"border-orange-500/20",icon:"text-orange-500"},billing:{bg:"bg-yellow-500/10",text:"text-yellow-400",border:"border-yellow-500/20",icon:"text-yellow-500"},security:{bg:"bg-red-500/10",text:"text-red-400",border:"border-red-500/20",icon:"text-red-500"}},rre={low:{color:"bg-gray-400",pulse:!1},medium:{color:"bg-blue-500",pulse:!1},high:{color:"bg-orange-500",pulse:!0},urgent:{color:"bg-red-500",pulse:!0}},sre=oe.memo(function({notification:r,onMarkAsRead:s,onRemove:a,onAction:n}){var g;const[i,o]=p.useState(!1),l=tre[r.type]||Yt,d=KA[r.category]||KA.system,m=rre[r.priority],h=C0(r.timestamp,{addSuffix:!0}),f=()=>{r.action&&(n==null||n(r.action),r.action.href&&window.open(r.action.href,"_blank"),r.action.callback&&r.action.callback())};return t.jsxs("div",{className:Re("group relative cursor-pointer rounded-lg border p-3 transition-all duration-200","hover:border-gray-600/50 hover:bg-gray-800/30",!r.read&&"border-gray-700/30 bg-gray-800/20",r.read&&"border-gray-800/30 bg-transparent"),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:()=>!r.read&&s(r.id),children:[t.jsx("div",{className:Re("absolute left-2 top-2 h-2 w-2 rounded-full",m.color,m.pulse&&"animate-pulse")}),!r.read&&t.jsx("div",{className:"absolute right-2 top-2 h-1.5 w-1.5 rounded-full bg-emerald-500"}),t.jsxs("div",{className:"ml-4 flex items-start gap-3",children:[t.jsx("div",{className:Re("flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg transition-all duration-200",d.bg,d.border,"border"),children:t.jsx(l,{className:Re("h-4 w-4",d.icon)})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:Re("text-sm font-semibold leading-tight transition-colors duration-200",r.read?"text-gray-300":"text-white",i&&"text-emerald-400"),children:r.title}),t.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[t.jsx(je,{variant:"outline",className:Re("border-0 px-2 py-0.5 text-xs font-medium",d.bg,d.text),children:r.category}),t.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-500",children:[t.jsx(It,{className:"h-3 w-3"}),h]})]})]}),t.jsxs("div",{className:Re("flex items-center gap-1 opacity-0 transition-opacity duration-200",i&&"opacity-100"),children:[r.action&&t.jsxs(q,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs text-emerald-400 hover:bg-emerald-500/10 hover:text-emerald-300",onClick:y=>{y.stopPropagation(),f()},children:[r.action.label,t.jsx(ji,{className:"ml-1 h-3 w-3"})]}),t.jsxs(ki,{children:[t.jsx(_i,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-gray-400 hover:bg-white/10 hover:text-white",onClick:y=>y.stopPropagation(),children:t.jsx(sm,{className:"h-3 w-3"})})}),t.jsxs(Kn,{align:"end",className:"border-gray-700 bg-gray-900/95 backdrop-blur-xl",children:[t.jsx(Qt,{onClick:y=>{y.stopPropagation(),r.read,s(r.id)},className:"text-gray-300 hover:bg-white/10 hover:text-white",children:r.read?t.jsxs(t.Fragment,{children:[t.jsx(ha,{className:"mr-2 h-4 w-4"}),"Mark as Unread"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ir,{className:"mr-2 h-4 w-4"}),"Mark as Read"]})}),t.jsxs(Qt,{onClick:y=>{y.stopPropagation(),a(r.id)},className:"text-red-400 hover:bg-red-500/10 hover:text-red-300",children:[t.jsx(Bs,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})]}),t.jsx("p",{className:"mb-3 line-clamp-2 text-sm leading-relaxed text-gray-400",children:r.message}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-medium text-gray-500",children:r.source}),((g=r.metadata)==null?void 0:g.tags)&&t.jsx("div",{className:"flex items-center gap-1",children:r.metadata.tags.slice(0,2).map((y,w)=>t.jsx(je,{variant:"outline",className:"border-gray-700 px-1.5 py-0 text-xs text-gray-400",children:y},w))})]})]})]})]})});function are(){const e=br(),[r,s]=p.useState(!1),[a,n]=p.useState(""),[i,o]=p.useState("all"),{notifications:l,markAsRead:d,markAllAsRead:m,removeNotification:h,clearAll:f,getUnreadCount:g,getFilteredNotifications:y}=lm(),w=g(),v=oe.useMemo(()=>[...l.filter(A=>{const T=a===""||A.title.toLowerCase().includes(a.toLowerCase())||A.message.toLowerCase().includes(a.toLowerCase())||A.source.toLowerCase().includes(a.toLowerCase()),E=i==="all"||i==="unread"&&!A.read||i==="read"&&A.read;return T&&E})].sort((A,T)=>{if(A.read!==T.read)return A.read?1:-1;const E=A.timestamp instanceof Date?A.timestamp:new Date(A.timestamp);return(T.timestamp instanceof Date?T.timestamp:new Date(T.timestamp)).getTime()-E.getTime()}).slice(0,50),[l,a,i]),b=oe.useCallback(S=>{d(S)},[d]),N=oe.useCallback(S=>{h(S)},[h]),C=S=>{S!=null&&S.href&&window.open(S.href,"_blank"),S!=null&&S.callback&&S.callback()};return t.jsxs(ki,{open:r,onOpenChange:s,children:[t.jsx(_i,{asChild:!0,children:t.jsxs("div",{className:"relative h-10 w-10 cursor-pointer inline-flex items-center justify-center bg-transparent border-none outline-none focus:outline-none",children:[t.jsx(To,{className:Re("h-5 w-5 transition-colors duration-200",r?"text-emerald-400":"text-gray-300 hover:text-white")}),w>0&&t.jsx("div",{className:"absolute -right-1 -top-1 h-3 w-3 animate-pulse rounded-full bg-emerald-500 shadow-lg"})]})}),t.jsxs(Kn,{className:"w-96 border-gray-700/50 bg-gray-900/95 p-0 shadow-2xl backdrop-blur-sm",align:"end",sideOffset:8,children:[t.jsx("div",{className:"relative border-b border-gray-800/30 p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[t.jsx($o,{className:"h-4 w-4 text-gray-400"}),"Notifications"]}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:w>0?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"h-2 w-2 animate-pulse rounded-full bg-emerald-500"}),w===1?`${w} new notification`:`${w} new notifications`]}):"All caught up!"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[w>0&&t.jsxs(q,{variant:"ghost",size:"sm",onClick:m,className:"h-7 px-2 text-xs text-gray-300 transition-all duration-200 hover:bg-gray-800/50 hover:text-white",children:[t.jsx(zN,{className:"mr-1 h-3 w-3"}),"Mark All Read"]}),t.jsxs(ki,{children:[t.jsx(_i,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 transition-all duration-200 hover:bg-white/10 hover:text-white",children:t.jsx(is,{className:"h-4 w-4"})})}),t.jsxs(Kn,{align:"end",className:"border-gray-700 bg-gray-900/95 backdrop-blur-xl",children:[t.jsxs(Qt,{onClick:f,className:"text-gray-300 hover:bg-white/10 hover:text-white",children:[t.jsx(Bs,{className:"mr-2 h-4 w-4"}),"Clear All"]}),t.jsxs(Qt,{className:"text-gray-300 hover:bg-white/10 hover:text-white",children:[t.jsx(is,{className:"mr-2 h-4 w-4"}),"Notification Settings"]})]})]})]})]})}),t.jsxs("div",{className:"space-y-2 border-b border-gray-800/30 p-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-3 w-3 -translate-y-1/2 transform text-gray-500"}),t.jsx(Se,{placeholder:"Search notifications...",value:a,onChange:S=>n(S.target.value),className:"h-8 border-gray-700/50 bg-gray-800/50 pl-8 text-xs text-white transition-all duration-200 placeholder:text-gray-500 focus:border-gray-600 focus:ring-0"})]}),t.jsx("div",{className:"flex items-center gap-1",children:["all","unread","read"].map(S=>t.jsxs(q,{variant:i===S?"default":"ghost",size:"sm",onClick:()=>o(S),className:Re("h-6 px-2 text-xs capitalize transition-all duration-200",i===S?"bg-gray-700 text-white hover:bg-gray-600":"text-gray-400 hover:bg-gray-800/50 hover:text-white"),children:[S==="all"?"All":S==="unread"?"Unread":"Read",S==="unread"&&w>0&&t.jsx(je,{className:"ml-1 border-0 bg-emerald-500 px-1 py-0 text-xs text-white",children:w})]},S))})]}),t.jsx(P0,{className:"h-80",children:t.jsx("div",{className:"p-1",children:v.length>0?t.jsx("div",{className:"space-y-1 p-2",children:v.map(S=>t.jsx(sre,{notification:S,onMarkAsRead:b,onRemove:N,onAction:C},S.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[t.jsxs("div",{className:"relative",children:[t.jsx(To,{className:"mx-auto mb-4 h-16 w-16 opacity-30"}),t.jsx($o,{className:"absolute -right-1 -top-1 h-6 w-6 animate-pulse text-emerald-400"})]}),t.jsx("p",{className:"mb-2 text-lg font-medium",children:a?"No matching notifications":"All clear!"}),t.jsx("p",{className:"max-w-xs text-center text-sm text-gray-600",children:a?"Try adjusting your search or filters.":"No new notifications right now."})]})})}),t.jsxs("div",{className:"border-t border-gray-800/30 p-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(xs,{className:"h-3 w-3"}),t.jsxs("span",{children:["Last updated: ",new Date().toLocaleTimeString()]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("span",{children:[v.length," shown"]}),t.jsx("span",{children:""}),t.jsxs("span",{children:[l.length," total"]})]})]}),t.jsx(q,{variant:"ghost",className:"mt-3 w-full h-9 text-sm text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10",onClick:()=>{s(!1),e("/notifications")},children:"View All Notifications"})]})]})]})}const nre=[{title:"Platform Overview",titleKey:"platform_overview",url:"/platform",icon:Ix,isActive:e=>e==="/platform"||e==="/platform-owner"},{title:"Organizations",titleKey:"organizations",url:"/organizations",icon:tr,isActive:e=>e==="/organizations"||e.startsWith("/organization")},{title:"User Management",titleKey:"user_management",url:"/user-management",icon:ad,isActive:e=>e==="/user-management"},{title:"Platform Analytics",titleKey:"platform_analytics",url:"/platform-analytics",icon:ba,isActive:e=>e==="/platform-analytics"},{title:"Support Tickets",titleKey:"support_tickets",url:"/support-tickets",icon:Hh,isActive:e=>e==="/support-tickets"},{title:"System Health",titleKey:"system_health",url:"/system-health",icon:xs,isActive:e=>e==="/system-health"},{title:"Security & Audit",titleKey:"security_audit",url:"/audit-logs",icon:Ps,isActive:e=>e==="/audit-logs"}],ire=[{title:"Agency Dashboard",titleKey:"agency_dashboard",url:"/agency",icon:Ix,isActive:e=>e==="/agency"},{title:"Client Management",titleKey:"client_management",url:"/clients",icon:tr,isActive:e=>e==="/clients"||e.startsWith("/client/")},{title:"Campaigns",titleKey:"campaigns",url:"/campaigns",icon:dr,isActive:e=>e==="/campaigns"||e.startsWith("/campaigns/")},{title:"Analytics",titleKey:"analytics",url:"/analytics",icon:ba,isActive:e=>e==="/analytics"},{title:"Team",titleKey:"team",url:"/team-management",icon:Nt,isActive:e=>e==="/team-management"},{title:"Billing",titleKey:"billing",url:"/billing",icon:qn,isActive:e=>e==="/billing"},{title:"Settings",titleKey:"settings",url:"/settings",icon:is,isActive:e=>e==="/settings"||e.startsWith("/settings/")}],ore=[{title:"Dashboard",titleKey:"dashboard",url:"/dashboard",icon:Ix,isActive:e=>e==="/dashboard"},{title:"Campaigns",titleKey:"campaigns",url:"/campaigns",icon:dr,isActive:e=>e==="/campaigns"||e.startsWith("/campaigns/")},{title:"CRM",titleKey:"crm",url:"/crm",icon:Pf,isActive:e=>e==="/crm"},{title:"Appointments",titleKey:"appointments",url:"/appointments",icon:ps,isActive:e=>e==="/appointments"},{title:"All Calls",titleKey:"all_calls",url:"/all-calls",icon:f0,isActive:e=>e==="/all-calls"},{title:"Live Monitor",titleKey:"live_monitor",url:"/live-calls",icon:dY,isActive:e=>e==="/live-calls"},{title:"Analytics",titleKey:"analytics",url:"/analytics",icon:ba,isActive:e=>e==="/analytics"},{title:"Cost Analytics",titleKey:"cost_analytics",url:"/cost-analytics",icon:Ur,isActive:e=>e==="/cost-analytics"},{title:"Team",titleKey:"team_management",url:"/team-management",icon:Nt,isActive:e=>e==="/team-management"},{title:"Organization",titleKey:"organization",url:"/organization-settings",icon:tr,isActive:e=>e==="/organization-settings",adminOnly:!0},{title:"Settings",titleKey:"settings",url:"/settings",icon:is,isActive:e=>e==="/settings"||e.startsWith("/settings/")}],lre=()=>{var m,h,f;const e=Zl(),r=br(),{userContext:s}=no(),{addNotification:a,notifications:n}=lm(),[i,o]=p.useState(!1),{user:l}=bS();p.useEffect(()=>{var v;const g=(v=l==null?void 0:l.primaryEmailAddress)==null?void 0:v.emailAddress,w=["/dashboard","/campaigns","/crm","/all-calls","/live-calls"].some(b=>e.pathname.startsWith(b));g==="sean@artificialmedia.co.uk"&&w&&(console.log(" Redirecting platform owner away from client path to /platform"),r("/platform",{replace:!0}))},[l,e.pathname,r]),p.useEffect(()=>{n.length===0&&(console.log(" Layout: Initializing demo notifications"),a({type:"success",title:"Campaign Performance Alert",message:"Summer Sale campaign exceeded target conversion rate by 15%! Great job on the optimization.",category:"campaigns",priority:"medium",source:"Campaign Engine",read:!1,action:{label:"View Campaign",href:"/campaigns"}}),a({type:"warning",title:"Low Credit Balance",message:"VAPI credits running low. Current balance: 150 credits. Consider topping up.",category:"billing",priority:"high",source:"Billing System",read:!1,action:{label:"Add Credits",href:"/billing"}}),a({type:"info",title:"System Update Complete",message:"Platform has been updated to v2.1.3 with improved call quality and new analytics features.",category:"system",priority:"low",source:"System",read:!0}))},[n.length,a]);const d=p.useMemo(()=>{var y;const g=(y=s==null?void 0:s.role)==null?void 0:y.toLowerCase();switch(console.log(" Layout: Determining menu for role:",g),g){case"platform_owner":return nre;case"agency_owner":case"agency_admin":case"agency_user":return ire;case"client_admin":case"client_user":default:return ore}},[s==null?void 0:s.role]);return t.jsxs("div",{className:"flex h-screen w-full bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>o(!1)}),t.jsxs("div",{className:`group relative transition-all duration-300 ease-in-out z-50 ${i?"fixed inset-y-0 left-0 w-[280px] md:relative md:w-16 md:hover:w-[280px]":"hidden md:block md:w-16 md:hover:w-[280px]"}`,children:[t.jsx("div",{className:"absolute inset-0 bg-black/95 backdrop-blur-xl border-r border-cyan-400/10"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-cyan-400/5 to-transparent pointer-events-none"}),t.jsxs("div",{className:"relative h-full flex flex-col",children:[t.jsx("div",{className:"p-4 border-b border-cyan-400/10",children:t.jsxs("div",{className:"flex items-center cursor-pointer transition-all duration-300",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-cyan-400 to-blue-500 shadow-lg shadow-cyan-400/20 flex-shrink-0",children:t.jsx(Kr,{className:"h-6 w-6 text-black font-bold"})}),t.jsxs("div",{className:`ml-3 transition-opacity duration-300 whitespace-nowrap overflow-hidden ${i?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:[t.jsx("h1",{className:"text-xl font-bold text-cyan-400 uppercase tracking-wider",children:"Apex AI"}),t.jsx("p",{className:"text-xs text-white/60",children:"Voice AI Platform"})]})]})}),t.jsx("div",{className:"flex-1 py-5",children:t.jsx("nav",{className:"space-y-1",children:d.map(g=>{if(g.adminOnly&&(s==null?void 0:s.role)!=="client_admin"&&(s==null?void 0:s.role)!=="platform_owner")return null;const y=g.isActive(e.pathname);return t.jsxs(UW,{to:g.url,onClick:()=>o(!1),className:`
                      nav-item flex items-center px-4 py-3.5 text-sm font-medium transition-all duration-300 
                      border-l-3 relative mx-2 rounded-lg
                      ${y?"bg-cyan-400/10 text-cyan-400 border-l-cyan-400":"text-white/70 border-l-transparent hover:bg-cyan-400/5 hover:text-cyan-400 hover:border-l-cyan-400/30"}
                    `,children:[y&&t.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-0.5 bg-gradient-to-b from-transparent via-cyan-400 to-transparent"}),t.jsx(g.icon,{className:`
                      h-5 w-5 flex-shrink-0 transition-all duration-300
                      ${y?"text-cyan-400":"text-white/60 group-hover:text-cyan-400"}
                    `}),t.jsx("span",{className:`ml-3 tracking-wide whitespace-nowrap overflow-hidden transition-opacity duration-300 ${i?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:g.title}),g.badge&&t.jsx("span",{className:"ml-auto px-2 py-0.5 text-xs font-semibold bg-red-500 text-white rounded-full animate-pulse opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:g.badge})]},g.title)})})}),t.jsx("div",{className:"p-4 border-t border-cyan-400/10",children:t.jsxs("div",{className:"flex items-center cursor-pointer transition-all duration-300",children:[t.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-400 to-blue-500 flex items-center justify-center font-semibold text-black text-sm flex-shrink-0",children:[((m=s==null?void 0:s.firstName)==null?void 0:m[0])||"U",((h=s==null?void 0:s.lastName)==null?void 0:h[0])||"U"]}),t.jsxs("div",{className:"ml-3 flex-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap overflow-hidden",children:[t.jsxs("div",{className:"text-sm font-semibold text-white",children:[(s==null?void 0:s.firstName)||"User"," ",(s==null?void 0:s.lastName)||""]}),t.jsx("div",{className:"text-xs text-white/60",children:((f=s==null?void 0:s.role)==null?void 0:f.replace(/_/g," ").replace(/\b\w/g,g=>g.toUpperCase()))||"User"})]})]})})]})]}),t.jsxs("div",{className:"flex-1 flex flex-col bg-gradient-to-br from-gray-900/50 via-black to-gray-900/50",children:[t.jsxs("header",{className:"h-[70px] bg-black/95 backdrop-blur-xl border-b border-cyan-400/10 flex items-center justify-between px-4 sm:px-6 lg:px-8 relative z-50",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{className:"md:hidden p-2 text-white hover:bg-gray-800 rounded-lg transition-colors",onClick:()=>o(!i),children:t.jsx(lY,{className:"h-5 w-5"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white tracking-wide",children:(()=>{const g=d.find(y=>y.isActive(e.pathname));return g?g.title:"Dashboard"})()})]}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-5",children:[t.jsx(are,{}),t.jsx(_ee,{})]})]}),t.jsx("main",{className:"flex-1 overflow-auto bg-black",children:t.jsx(PW,{})})]})]})},cre=1,dre=1e6;let yw=0;function ure(){return yw=(yw+1)%Number.MAX_SAFE_INTEGER,yw.toString()}const vw=new Map,GA=e=>{if(vw.has(e))return;const r=setTimeout(()=>{vw.delete(e),zh({type:"REMOVE_TOAST",toastId:e})},dre);vw.set(e,r)},mre=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,cre)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===r.toast.id?{...s,...r.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=r;return s?GA(s):e.toasts.forEach(a=>{GA(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==r.toastId)}}},t0=[];let r0={toasts:[]};function zh(e){r0=mre(r0,e),t0.forEach(r=>{r(r0)})}function bD({...e}){const r=ure(),s=n=>zh({type:"UPDATE_TOAST",toast:{...n,id:r}}),a=()=>zh({type:"DISMISS_TOAST",toastId:r});return zh({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:n=>{n||a()}}}),{id:r,dismiss:a,update:s}}function ts(){const[e,r]=p.useState(r0);return p.useEffect(()=>(t0.push(r),()=>{const s=t0.indexOf(r);s>-1&&t0.splice(s,1)}),[e]),{...e,toast:bD,dismiss:s=>zh({type:"DISMISS_TOAST",toastId:s})}}var wD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hre="VisuallyHidden",n2=p.forwardRef((e,r)=>t.jsx(He.span,{...e,ref:r,style:{...wD,...e.style}}));n2.displayName=hre;var i2="ToastProvider",[o2,fre,pre]=Tf("Toast"),[jD,U1e]=Vs("Toast",[pre]),[gre,Jx]=jD(i2),ND=e=>{const{__scopeToast:r,label:s="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:o}=e,[l,d]=p.useState(null),[m,h]=p.useState(0),f=p.useRef(!1),g=p.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${i2}\`. Expected non-empty \`string\`.`),t.jsx(o2.Provider,{scope:r,children:t.jsx(gre,{scope:r,label:s,duration:a,swipeDirection:n,swipeThreshold:i,toastCount:m,viewport:l,onViewportChange:d,onToastAdd:p.useCallback(()=>h(y=>y+1),[]),onToastRemove:p.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:o})})};ND.displayName=i2;var SD="ToastViewport",xre=["F8"],XN="toast.viewportPause",QN="toast.viewportResume",CD=p.forwardRef((e,r)=>{const{__scopeToast:s,hotkey:a=xre,label:n="Notifications ({hotkey})",...i}=e,o=Jx(SD,s),l=fre(s),d=p.useRef(null),m=p.useRef(null),h=p.useRef(null),f=p.useRef(null),g=ht(r,f,o.onViewportChange),y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;p.useEffect(()=>{const b=N=>{var S;a.length!==0&&a.every(_=>N[_]||N.code===_)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[a]),p.useEffect(()=>{const b=d.current,N=f.current;if(w&&b&&N){const C=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(XN);N.dispatchEvent(T),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(QN);N.dispatchEvent(T),o.isClosePausedRef.current=!1}},_=T=>{!b.contains(T.relatedTarget)&&S()},A=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",C),b.addEventListener("focusout",_),b.addEventListener("pointermove",C),b.addEventListener("pointerleave",A),window.addEventListener("blur",C),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",C),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",C),b.removeEventListener("pointerleave",A),window.removeEventListener("blur",C),window.removeEventListener("focus",S)}}},[w,o.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:b})=>{const C=l().map(S=>{const _=S.ref.current,A=[_,...Ere(_)];return b==="forwards"?A:A.reverse()});return(b==="forwards"?C.reverse():C).flat()},[l]);return p.useEffect(()=>{const b=f.current;if(b){const N=C=>{var A,T,E;const S=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!S){const R=document.activeElement,$=C.shiftKey;if(C.target===b&&$){(A=m.current)==null||A.focus();return}const I=v({tabbingDirection:$?"backwards":"forwards"}),W=I.findIndex(V=>V===R);bw(I.slice(W+1))?C.preventDefault():$?(T=m.current)==null||T.focus():(E=h.current)==null||E.focus()}};return b.addEventListener("keydown",N),()=>b.removeEventListener("keydown",N)}},[l,v]),t.jsxs(jJ,{ref:d,role:"region","aria-label":n.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&t.jsx(ZN,{ref:m,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});bw(b)}}),t.jsx(o2.Slot,{scope:s,children:t.jsx(He.ol,{tabIndex:-1,...i,ref:g})}),w&&t.jsx(ZN,{ref:h,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});bw(b)}})]})});CD.displayName=SD;var kD="ToastFocusProxy",ZN=p.forwardRef((e,r)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...n}=e,i=Jx(kD,s);return t.jsx(n2,{"aria-hidden":!0,tabIndex:0,...n,ref:r,style:{position:"fixed"},onFocus:o=>{var m;const l=o.relatedTarget;!((m=i.viewport)!=null&&m.contains(l))&&a()}})});ZN.displayName=kD;var Ff="Toast",yre="toast.swipeStart",vre="toast.swipeMove",bre="toast.swipeCancel",wre="toast.swipeEnd",_D=p.forwardRef((e,r)=>{const{forceMount:s,open:a,defaultOpen:n,onOpenChange:i,...o}=e,[l,d]=Ni({prop:a,defaultProp:n??!0,onChange:i,caller:Ff});return t.jsx(Na,{present:s||l,children:t.jsx(Sre,{open:l,...o,ref:r,onClose:()=>d(!1),onPause:Zr(e.onPause),onResume:Zr(e.onResume),onSwipeStart:$e(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$e(e.onSwipeMove,m=>{const{x:h,y:f}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:$e(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$e(e.onSwipeEnd,m=>{const{x:h,y:f}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),d(!1)})})})});_D.displayName=Ff;var[jre,Nre]=jD(Ff,{onClose(){}}),Sre=p.forwardRef((e,r)=>{const{__scopeToast:s,type:a="foreground",duration:n,open:i,onClose:o,onEscapeKeyDown:l,onPause:d,onResume:m,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:y,...w}=e,v=Jx(Ff,s),[b,N]=p.useState(null),C=ht(r,V=>N(V)),S=p.useRef(null),_=p.useRef(null),A=n||v.duration,T=p.useRef(0),E=p.useRef(A),R=p.useRef(0),{onToastAdd:$,onToastRemove:K}=v,M=Zr(()=>{var U;(b==null?void 0:b.contains(document.activeElement))&&((U=v.viewport)==null||U.focus()),o()}),I=p.useCallback(V=>{!V||V===1/0||(window.clearTimeout(R.current),T.current=new Date().getTime(),R.current=window.setTimeout(M,V))},[M]);p.useEffect(()=>{const V=v.viewport;if(V){const U=()=>{I(E.current),m==null||m()},L=()=>{const O=new Date().getTime()-T.current;E.current=E.current-O,window.clearTimeout(R.current),d==null||d()};return V.addEventListener(XN,L),V.addEventListener(QN,U),()=>{V.removeEventListener(XN,L),V.removeEventListener(QN,U)}}},[v.viewport,A,d,m,I]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&I(A)},[i,A,v.isClosePausedRef,I]),p.useEffect(()=>($(),()=>K()),[$,K]);const W=p.useMemo(()=>b?RD(b):null,[b]);return v.viewport?t.jsxs(t.Fragment,{children:[W&&t.jsx(Cre,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),t.jsx(jre,{scope:s,onClose:M,children:Xl.createPortal(t.jsx(o2.ItemSlot,{scope:s,children:t.jsx(wJ,{asChild:!0,onEscapeKeyDown:$e(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(He.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:$e(e.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:$e(e.onPointerDown,V=>{V.button===0&&(S.current={x:V.clientX,y:V.clientY})}),onPointerMove:$e(e.onPointerMove,V=>{if(!S.current)return;const U=V.clientX-S.current.x,L=V.clientY-S.current.y,O=!!_.current,F=["left","right"].includes(v.swipeDirection),z=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Y=F?z(0,U):0,B=F?0:z(0,L),ee=V.pointerType==="touch"?10:2,ke={x:Y,y:B},H={originalEvent:V,delta:ke};O?(_.current=ke,Og(vre,f,H,{discrete:!1})):YA(ke,v.swipeDirection,ee)?(_.current=ke,Og(yre,h,H,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(U)>ee||Math.abs(L)>ee)&&(S.current=null)}),onPointerUp:$e(e.onPointerUp,V=>{const U=_.current,L=V.target;if(L.hasPointerCapture(V.pointerId)&&L.releasePointerCapture(V.pointerId),_.current=null,S.current=null,U){const O=V.currentTarget,F={originalEvent:V,delta:U};YA(U,v.swipeDirection,v.swipeThreshold)?Og(wre,y,F,{discrete:!0}):Og(bre,g,F,{discrete:!0}),O.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Cre=e=>{const{__scopeToast:r,children:s,...a}=e,n=Jx(Ff,r),[i,o]=p.useState(!1),[l,d]=p.useState(!1);return Pre(()=>o(!0)),p.useEffect(()=>{const m=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(m)},[]),l?null:t.jsx(If,{asChild:!0,children:t.jsx(n2,{...a,children:i&&t.jsxs(t.Fragment,{children:[n.label," ",s]})})})},kre="ToastTitle",PD=p.forwardRef((e,r)=>{const{__scopeToast:s,...a}=e;return t.jsx(He.div,{...a,ref:r})});PD.displayName=kre;var _re="ToastDescription",AD=p.forwardRef((e,r)=>{const{__scopeToast:s,...a}=e;return t.jsx(He.div,{...a,ref:r})});AD.displayName=_re;var ED="ToastAction",TD=p.forwardRef((e,r)=>{const{altText:s,...a}=e;return s.trim()?t.jsx(MD,{altText:s,asChild:!0,children:t.jsx(l2,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${ED}\`. Expected non-empty \`string\`.`),null)});TD.displayName=ED;var OD="ToastClose",l2=p.forwardRef((e,r)=>{const{__scopeToast:s,...a}=e,n=Nre(OD,s);return t.jsx(MD,{asChild:!0,children:t.jsx(He.button,{type:"button",...a,ref:r,onClick:$e(e.onClick,n.onClose)})})});l2.displayName=OD;var MD=p.forwardRef((e,r)=>{const{__scopeToast:s,altText:a,...n}=e;return t.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:r})});function RD(e){const r=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),Are(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...RD(a))}}),r}function Og(e,r,s,{discrete:a}){const n=s.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});r&&n.addEventListener(e,r,{once:!0}),a?OS(n,i):n.dispatchEvent(i)}var YA=(e,r,s=0)=>{const a=Math.abs(e.x),n=Math.abs(e.y),i=a>n;return r==="left"||r==="right"?i&&a>s:!i&&n>s};function Pre(e=()=>{}){const r=Zr(e);os(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[r])}function Are(e){return e.nodeType===e.ELEMENT_NODE}function Ere(e){const r=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function bw(e){const r=document.activeElement;return e.some(s=>s===r?!0:(s.focus(),document.activeElement!==r))}var Tre=ND,ID=CD,DD=_D,LD=PD,$D=AD,zD=TD,FD=l2;const Ore=Tre,UD=p.forwardRef(({className:e,...r},s)=>t.jsx(ID,{ref:s,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));UD.displayName=ID.displayName;const Mre=Ef("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border border-zinc-200 p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-zinc-800",{variants:{variant:{default:"border bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"destructive group border-red-500 bg-red-500 text-zinc-50 dark:border-red-900 dark:bg-red-900 dark:text-zinc-50"}},defaultVariants:{variant:"default"}}),BD=p.forwardRef(({className:e,variant:r,...s},a)=>t.jsx(DD,{ref:a,className:Re(Mre({variant:r}),e),...s}));BD.displayName=DD.displayName;const Rre=p.forwardRef(({className:e,...r},s)=>t.jsx(zD,{ref:s,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-zinc-200 bg-transparent px-3 text-sm font-medium transition-colors hover:bg-zinc-100 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-zinc-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-zinc-50 group-[.destructive]:focus:ring-red-500 dark:border-zinc-800 dark:hover:bg-zinc-800 dark:focus:ring-zinc-300 dark:group-[.destructive]:border-zinc-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-zinc-50 dark:group-[.destructive]:focus:ring-red-900",e),...r}));Rre.displayName=zD.displayName;const WD=p.forwardRef(({className:e,...r},s)=>t.jsx(FD,{ref:s,className:Re("absolute right-1 top-1 rounded-md p-1 text-zinc-950/50 opacity-0 transition-opacity hover:text-zinc-950 focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-zinc-50/50 dark:hover:text-zinc-50",e),"toast-close":"",...r,children:t.jsx(jt,{className:"h-4 w-4"})}));WD.displayName=FD.displayName;const VD=p.forwardRef(({className:e,...r},s)=>t.jsx(LD,{ref:s,className:Re("text-sm font-semibold [&+div]:text-xs",e),...r}));VD.displayName=LD.displayName;const qD=p.forwardRef(({className:e,...r},s)=>t.jsx($D,{ref:s,className:Re("text-sm opacity-90",e),...r}));qD.displayName=$D.displayName;function Ire(){const{toasts:e}=ts();return t.jsxs(Ore,{children:[e.map(function({id:r,title:s,description:a,action:n,...i}){return t.jsxs(BD,{...i,children:[t.jsxs("div",{className:"grid gap-1",children:[s&&t.jsx(VD,{children:s}),a&&t.jsx(qD,{children:a})]}),n,t.jsx(WD,{})]},r)}),t.jsx(UD,{})]})}var ww={},jw={},JA;function Dre(){return JA||(JA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==="__proto__"}e.isUnsafeProperty=r}(jw)),jw}var Nw={},XA;function HD(){return XA||(XA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){switch(typeof s){case"number":case"symbol":return!1;case"string":return s.includes(".")||s.includes("[")||s.includes("]")}}e.isDeepKey=r}(Nw)),Nw}var Sw={},QA;function KD(){return QA||(QA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){var a;return typeof s=="string"||typeof s=="symbol"?s:Object.is((a=s==null?void 0:s.valueOf)==null?void 0:a.call(s),-0)?"-0":String(s)}e.toKey=r}(Sw)),Sw}var Cw={},ZA;function c2(){return ZA||(ZA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){const a=[],n=s.length;if(n===0)return a;let i=0,o="",l="",d=!1;for(s.charCodeAt(0)===46&&(a.push(""),i++);i<n;){const m=s[i];l?m==="\\"&&i+1<n?(i++,o+=s[i]):m===l?l="":o+=m:d?m==='"'||m==="'"?l=m:m==="]"?(d=!1,a.push(o),o=""):o+=m:m==="["?(d=!0,o&&(a.push(o),o="")):m==="."?o&&(a.push(o),o=""):o+=m,i++}return o&&a.push(o),a}e.toPath=r}(Cw)),Cw}var eE;function d2(){return eE||(eE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Dre(),s=HD(),a=KD(),n=c2();function i(l,d,m){if(l==null)return m;switch(typeof d){case"string":{if(r.isUnsafeProperty(d))return m;const h=l[d];return h===void 0?s.isDeepKey(d)?i(l,n.toPath(d),m):m:h}case"number":case"symbol":{typeof d=="number"&&(d=a.toKey(d));const h=l[d];return h===void 0?m:h}default:{if(Array.isArray(d))return o(l,d,m);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),r.isUnsafeProperty(d))return m;const h=l[d];return h===void 0?m:h}}}function o(l,d,m){if(d.length===0)return m;let h=l;for(let f=0;f<d.length;f++){if(h==null||r.isUnsafeProperty(d[f]))return m;h=h[d[f]]}return h===void 0?m:h}e.get=i}(ww)),ww}var kw,tE;function Lre(){return tE||(tE=1,kw=d2().get),kw}var $re=Lre();const Yl=vn($re);var _w={exports:{}},fr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function zre(){if(rE)return fr;rE=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function v(b){if(typeof b=="object"&&b!==null){var N=b.$$typeof;switch(N){case e:switch(b=b.type,b){case s:case n:case a:case m:case h:return b;default:switch(b=b&&b.$$typeof,b){case l:case o:case d:case g:case f:case i:return b;default:return N}}case r:return N}}}return fr.ContextConsumer=o,fr.ContextProvider=i,fr.Element=e,fr.ForwardRef=d,fr.Fragment=s,fr.Lazy=g,fr.Memo=f,fr.Portal=r,fr.Profiler=n,fr.StrictMode=a,fr.Suspense=m,fr.SuspenseList=h,fr.isAsyncMode=function(){return!1},fr.isConcurrentMode=function(){return!1},fr.isContextConsumer=function(b){return v(b)===o},fr.isContextProvider=function(b){return v(b)===i},fr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},fr.isForwardRef=function(b){return v(b)===d},fr.isFragment=function(b){return v(b)===s},fr.isLazy=function(b){return v(b)===g},fr.isMemo=function(b){return v(b)===f},fr.isPortal=function(b){return v(b)===r},fr.isProfiler=function(b){return v(b)===n},fr.isStrictMode=function(b){return v(b)===a},fr.isSuspense=function(b){return v(b)===m},fr.isSuspenseList=function(b){return v(b)===h},fr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===s||b===n||b===a||b===m||b===h||b===y||typeof b=="object"&&b!==null&&(b.$$typeof===g||b.$$typeof===f||b.$$typeof===i||b.$$typeof===o||b.$$typeof===d||b.$$typeof===w||b.getModuleId!==void 0)},fr.typeOf=v,fr}var sE;function Fre(){return sE||(sE=1,_w.exports=zre()),_w.exports}var Ure=Fre(),Us=e=>e===0?0:e>0?1:-1,Xa=e=>typeof e=="number"&&e!=+e,Uc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ve=e=>(typeof e=="number"||e instanceof Number)&&!Xa(e),Zi=e=>Ve(e)||typeof e=="string",Bre=0,Zh=e=>{var r=++Bre;return"".concat(e||"").concat(r)},Ta=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(r)&&typeof r!="string")return a;var i;if(Uc(r)){if(s==null)return a;var o=r.indexOf("%");i=s*parseFloat(r.slice(0,o))/100}else i=+r;return Xa(i)&&(i=a),n&&s!=null&&i>s&&(i=s),i},GD=e=>{if(!Array.isArray(e))return!1;for(var r=e.length,s={},a=0;a<r;a++)if(!s[e[a]])s[e[a]]=!0;else return!0;return!1},aE=(e,r)=>Ve(e)&&Ve(r)?s=>e+s*(r-e):()=>r;function Zs(e,r,s){return Ve(e)&&Ve(r)?e+s*(r-e):r}function YD(e,r,s){if(!(!e||!e.length))return e.find(a=>a&&(typeof r=="function"?r(a):Yl(a,r))===s)}var Er=e=>e===null||typeof e>"u",Uf=e=>Er(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Wre=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function u2(e){if(typeof e!="string")return!1;var r=Wre;return r.includes(e)}var Vre=["viewBox","children"],nE=["points","pathLength"],Pw={svg:Vre,polygon:nE,polyline:nE},m2=(e,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(p.isValidElement(e)&&(s=e.props),typeof s!="object"&&typeof s!="function")return null;var a={};return Object.keys(s).forEach(n=>{u2(n)&&(a[n]=i=>s[n](s,i))}),a},qre=(e,r,s)=>a=>(e(r,s,a),null),Xx=(e,r,s)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];u2(n)&&typeof i=="function"&&(a||(a={}),a[n]=qre(i,r,s))}),a},Hre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function JD(e){if(typeof e!="string")return!1;var r=Hre;return r.includes(e)}function Pi(e){var r=Object.entries(e).filter(s=>{var[a]=s;return JD(a)});return Object.fromEntries(r)}var iE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",oE=null,Aw=null,XD=e=>{if(e===oE&&Array.isArray(Aw))return Aw;var r=[];return p.Children.forEach(e,s=>{Er(s)||(Ure.isFragment(s)?r=r.concat(XD(s.props.children)):r.push(s))}),Aw=r,oE=e,r};function Bf(e,r){var s=[],a=[];return Array.isArray(r)?a=r.map(n=>iE(n)):a=[iE(r)],XD(e).forEach(n=>{var i=Yl(n,"type.displayName")||Yl(n,"type.name");a.indexOf(i)!==-1&&s.push(n)}),s}var Qx=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Kre=(e,r,s,a)=>{var n;if(typeof r=="symbol"||typeof r=="number")return!0;var i=(n=a&&(Pw==null?void 0:Pw[a]))!==null&&n!==void 0?n:[],o=r.startsWith("data-"),l=typeof e!="function"&&(!!a&&i.includes(r)||JD(r)),d=!!s&&u2(r);return o||l||d},Ar=(e,r,s)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(p.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var n={};return Object.keys(a).forEach(i=>{var o;Kre((o=a)===null||o===void 0?void 0:o[i],i,r,s)&&(n[i]=a[i])}),n},Gre=["children","width","height","viewBox","className","style","title","desc"];function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},e1.apply(null,arguments)}function Yre(e,r){if(e==null)return{};var s,a,n=Jre(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jre(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var QD=p.forwardRef((e,r)=>{var{children:s,width:a,height:n,viewBox:i,className:o,style:l,title:d,desc:m}=e,h=Yre(e,Gre),f=i||{width:a,height:n,x:0,y:0},g=Zt("recharts-surface",o);return p.createElement("svg",e1({},Ar(h,!0,"svg"),{className:g,width:a,height:n,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:r}),p.createElement("title",null,d),p.createElement("desc",null,m),s)}),Xre=["children","className"];function t1(){return t1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},t1.apply(null,arguments)}function Qre(e,r){if(e==null)return{};var s,a,n=Zre(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Zre(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var ls=p.forwardRef((e,r)=>{var{children:s,className:a}=e,n=Qre(e,Xre),i=Zt("recharts-layer",a);return p.createElement("g",t1({className:i},Ar(n,!0),{ref:r}),s)}),ese=p.createContext(null);function Pr(e){return function(){return e}}const ZD=Math.cos,A0=Math.sin,Ai=Math.sqrt,E0=Math.PI,Zx=2*E0,r1=Math.PI,s1=2*r1,Lc=1e-6,tse=s1-Lc;function eL(e){this._+=e[0];for(let r=1,s=e.length;r<s;++r)this._+=arguments[r]+e[r]}function rse(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return eL;const s=10**r;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*s)/s+a[n]}}class sse{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?eL:rse(r)}moveTo(r,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,s){this._append`L${this._x1=+r},${this._y1=+s}`}quadraticCurveTo(r,s,a,n){this._append`Q${+r},${+s},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(r,s,a,n,i,o){this._append`C${+r},${+s},${+a},${+n},${this._x1=+i},${this._y1=+o}`}arcTo(r,s,a,n,i){if(r=+r,s=+s,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,d=a-r,m=n-s,h=o-r,f=l-s,g=h*h+f*f;if(this._x1===null)this._append`M${this._x1=r},${this._y1=s}`;else if(g>Lc)if(!(Math.abs(f*d-m*h)>Lc)||!i)this._append`L${this._x1=r},${this._y1=s}`;else{let y=a-o,w=n-l,v=d*d+m*m,b=y*y+w*w,N=Math.sqrt(v),C=Math.sqrt(g),S=i*Math.tan((r1-Math.acos((v+g-b)/(2*N*C)))/2),_=S/C,A=S/N;Math.abs(_-1)>Lc&&this._append`L${r+_*h},${s+_*f}`,this._append`A${i},${i},0,0,${+(f*y>h*w)},${this._x1=r+A*d},${this._y1=s+A*m}`}}arc(r,s,a,n,i,o){if(r=+r,s=+s,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(n),d=a*Math.sin(n),m=r+l,h=s+d,f=1^o,g=o?n-i:i-n;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Lc||Math.abs(this._y1-h)>Lc)&&this._append`L${m},${h}`,a&&(g<0&&(g=g%s1+s1),g>tse?this._append`A${a},${a},0,1,${f},${r-l},${s-d}A${a},${a},0,1,${f},${this._x1=m},${this._y1=h}`:g>Lc&&this._append`A${a},${a},0,${+(g>=r1)},${f},${this._x1=r+a*Math.cos(i)},${this._y1=s+a*Math.sin(i)}`)}rect(r,s,a,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function h2(e){let r=3;return e.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);r=a}return e},()=>new sse(r)}function f2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tL(e){this._context=e}tL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function ey(e){return new tL(e)}function rL(e){return e[0]}function sL(e){return e[1]}function aL(e,r){var s=Pr(!0),a=null,n=ey,i=null,o=h2(l);e=typeof e=="function"?e:e===void 0?rL:Pr(e),r=typeof r=="function"?r:r===void 0?sL:Pr(r);function l(d){var m,h=(d=f2(d)).length,f,g=!1,y;for(a==null&&(i=n(y=o())),m=0;m<=h;++m)!(m<h&&s(f=d[m],m,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(f,m,d),+r(f,m,d));if(y)return i=null,y+""||null}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:Pr(+d),l):e},l.y=function(d){return arguments.length?(r=typeof d=="function"?d:Pr(+d),l):r},l.defined=function(d){return arguments.length?(s=typeof d=="function"?d:Pr(!!d),l):s},l.curve=function(d){return arguments.length?(n=d,a!=null&&(i=n(a)),l):n},l.context=function(d){return arguments.length?(d==null?a=i=null:i=n(a=d),l):a},l}function Mg(e,r,s){var a=null,n=Pr(!0),i=null,o=ey,l=null,d=h2(m);e=typeof e=="function"?e:e===void 0?rL:Pr(+e),r=typeof r=="function"?r:Pr(r===void 0?0:+r),s=typeof s=="function"?s:s===void 0?sL:Pr(+s);function m(f){var g,y,w,v=(f=f2(f)).length,b,N=!1,C,S=new Array(v),_=new Array(v);for(i==null&&(l=o(C=d())),g=0;g<=v;++g){if(!(g<v&&n(b=f[g],g,f))===N)if(N=!N)y=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=g-1;w>=y;--w)l.point(S[w],_[w]);l.lineEnd(),l.areaEnd()}N&&(S[g]=+e(b,g,f),_[g]=+r(b,g,f),l.point(a?+a(b,g,f):S[g],s?+s(b,g,f):_[g]))}if(C)return l=null,C+""||null}function h(){return aL().defined(n).curve(o).context(i)}return m.x=function(f){return arguments.length?(e=typeof f=="function"?f:Pr(+f),a=null,m):e},m.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Pr(+f),m):e},m.x1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:Pr(+f),m):a},m.y=function(f){return arguments.length?(r=typeof f=="function"?f:Pr(+f),s=null,m):r},m.y0=function(f){return arguments.length?(r=typeof f=="function"?f:Pr(+f),m):r},m.y1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Pr(+f),m):s},m.lineX0=m.lineY0=function(){return h().x(e).y(r)},m.lineY1=function(){return h().x(e).y(s)},m.lineX1=function(){return h().x(a).y(r)},m.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Pr(!!f),m):n},m.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),m):o},m.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),m):i},m}class nL{constructor(r,s){this._context=r,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,s){switch(r=+r,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,s,r,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,r,this._y0,r,s);break}}this._x0=r,this._y0=s}}function ase(e){return new nL(e,!0)}function nse(e){return new nL(e,!1)}const p2={draw(e,r){const s=Ai(r/E0);e.moveTo(s,0),e.arc(0,0,s,0,Zx)}},ise={draw(e,r){const s=Ai(r/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},iL=Ai(1/3),ose=iL*2,lse={draw(e,r){const s=Ai(r/ose),a=s*iL;e.moveTo(0,-s),e.lineTo(a,0),e.lineTo(0,s),e.lineTo(-a,0),e.closePath()}},cse={draw(e,r){const s=Ai(r),a=-s/2;e.rect(a,a,s,s)}},dse=.8908130915292852,oL=A0(E0/10)/A0(7*E0/10),use=A0(Zx/10)*oL,mse=-ZD(Zx/10)*oL,hse={draw(e,r){const s=Ai(r*dse),a=use*s,n=mse*s;e.moveTo(0,-s),e.lineTo(a,n);for(let i=1;i<5;++i){const o=Zx*i/5,l=ZD(o),d=A0(o);e.lineTo(d*s,-l*s),e.lineTo(l*a-d*n,d*a+l*n)}e.closePath()}},Ew=Ai(3),fse={draw(e,r){const s=-Ai(r/(Ew*3));e.moveTo(0,s*2),e.lineTo(-Ew*s,-s),e.lineTo(Ew*s,-s),e.closePath()}},En=-.5,Tn=Ai(3)/2,a1=1/Ai(12),pse=(a1/2+1)*3,gse={draw(e,r){const s=Ai(r/pse),a=s/2,n=s*a1,i=a,o=s*a1+s,l=-i,d=o;e.moveTo(a,n),e.lineTo(i,o),e.lineTo(l,d),e.lineTo(En*a-Tn*n,Tn*a+En*n),e.lineTo(En*i-Tn*o,Tn*i+En*o),e.lineTo(En*l-Tn*d,Tn*l+En*d),e.lineTo(En*a+Tn*n,En*n-Tn*a),e.lineTo(En*i+Tn*o,En*o-Tn*i),e.lineTo(En*l+Tn*d,En*d-Tn*l),e.closePath()}};function xse(e,r){let s=null,a=h2(n);e=typeof e=="function"?e:Pr(e||p2),r=typeof r=="function"?r:Pr(r===void 0?64:+r);function n(){let i;if(s||(s=i=a()),e.apply(this,arguments).draw(s,+r.apply(this,arguments)),i)return s=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:Pr(i),n):e},n.size=function(i){return arguments.length?(r=typeof i=="function"?i:Pr(+i),n):r},n.context=function(i){return arguments.length?(s=i??null,n):s},n}function T0(){}function O0(e,r,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+s)/6)}function lL(e){this._context=e}lL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:O0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:O0(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function yse(e){return new lL(e)}function cL(e){this._context=e}cL.prototype={areaStart:T0,areaEnd:T0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:O0(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function vse(e){return new cL(e)}function dL(e){this._context=e}dL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:O0(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function bse(e){return new dL(e)}function uL(e){this._context=e}uL.prototype={areaStart:T0,areaEnd:T0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function wse(e){return new uL(e)}function lE(e){return e<0?-1:1}function cE(e,r,s){var a=e._x1-e._x0,n=r-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),o=(s-e._y1)/(n||a<0&&-0),l=(i*n+o*a)/(a+n);return(lE(i)+lE(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function dE(e,r){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-r)/2:r}function Tw(e,r,s){var a=e._x0,n=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,n+l*r,i-l,o-l*s,i,o)}function M0(e){this._context=e}M0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tw(this,this._t0,dE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var s=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,Tw(this,dE(this,s=cE(this,e,r)),s);break;default:Tw(this,this._t0,s=cE(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=s}}};function mL(e){this._context=new hL(e)}(mL.prototype=Object.create(M0.prototype)).point=function(e,r){M0.prototype.point.call(this,r,e)};function hL(e){this._context=e}hL.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,s,a,n,i){this._context.bezierCurveTo(r,e,a,s,i,n)}};function jse(e){return new M0(e)}function Nse(e){return new mL(e)}function fL(e){this._context=e}fL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),s===2)this._context.lineTo(e[1],r[1]);else for(var a=uE(e),n=uE(r),i=0,o=1;o<s;++i,++o)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[o],r[o]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function uE(e){var r,s=e.length-1,a,n=new Array(s),i=new Array(s),o=new Array(s);for(n[0]=0,i[0]=2,o[0]=e[0]+2*e[1],r=1;r<s-1;++r)n[r]=1,i[r]=4,o[r]=4*e[r]+2*e[r+1];for(n[s-1]=2,i[s-1]=7,o[s-1]=8*e[s-1]+e[s],r=1;r<s;++r)a=n[r]/i[r-1],i[r]-=a,o[r]-=a*o[r-1];for(n[s-1]=o[s-1]/i[s-1],r=s-2;r>=0;--r)n[r]=(o[r]-n[r+1])/i[r];for(i[s-1]=(e[s]+n[s-1])/2,r=0;r<s-1;++r)i[r]=2*e[r+1]-n[r+1];return[n,i]}function Sse(e){return new fL(e)}function ty(e,r){this._context=e,this._t=r}ty.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,r)}break}}this._x=e,this._y=r}};function Cse(e){return new ty(e,.5)}function kse(e){return new ty(e,0)}function _se(e){return new ty(e,1)}function Wu(e,r){if((o=e.length)>1)for(var s=1,a,n,i=e[r[0]],o,l=i.length;s<o;++s)for(n=i,i=e[r[s]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function n1(e){for(var r=e.length,s=new Array(r);--r>=0;)s[r]=r;return s}function Pse(e,r){return e[r]}function Ase(e){const r=[];return r.key=e,r}function Ese(){var e=Pr([]),r=n1,s=Wu,a=Pse;function n(i){var o=Array.from(e.apply(this,arguments),Ase),l,d=o.length,m=-1,h;for(const f of i)for(l=0,++m;l<d;++l)(o[l][m]=[0,+a(f,o[l].key,m,i)]).data=f;for(l=0,h=f2(r(o));l<d;++l)o[h[l]].index=l;return s(o,h),o}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Pr(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:Pr(+i),n):a},n.order=function(i){return arguments.length?(r=i==null?n1:typeof i=="function"?i:Pr(Array.from(i)),n):r},n.offset=function(i){return arguments.length?(s=i??Wu,n):s},n}function Tse(e,r){if((a=e.length)>0){for(var s,a,n=0,i=e[0].length,o;n<i;++n){for(o=s=0;s<a;++s)o+=e[s][n][1]||0;if(o)for(s=0;s<a;++s)e[s][n][1]/=o}Wu(e,r)}}function Ose(e,r){if((n=e.length)>0){for(var s=0,a=e[r[0]],n,i=a.length;s<i;++s){for(var o=0,l=0;o<n;++o)l+=e[o][s][1]||0;a[s][1]+=a[s][0]=-l/2}Wu(e,r)}}function Mse(e,r){if(!(!((o=e.length)>0)||!((i=(n=e[r[0]]).length)>0))){for(var s=0,a=1,n,i,o;a<i;++a){for(var l=0,d=0,m=0;l<o;++l){for(var h=e[r[l]],f=h[a][1]||0,g=h[a-1][1]||0,y=(f-g)/2,w=0;w<l;++w){var v=e[r[w]],b=v[a][1]||0,N=v[a-1][1]||0;y+=b-N}d+=f,m+=y*f}n[a-1][1]+=n[a-1][0]=s,d&&(s-=m/d)}n[a-1][1]+=n[a-1][0]=s,Wu(e,r)}}var Rse=["type","size","sizeType"];function i1(){return i1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},i1.apply(null,arguments)}function mE(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function hE(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?mE(Object(s),!0).forEach(function(a){Ise(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mE(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ise(e,r,s){return(r=Dse(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Dse(e){var r=Lse(e,"string");return typeof r=="symbol"?r:r+""}function Lse(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function $se(e,r){if(e==null)return{};var s,a,n=zse(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function zse(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var pL={symbolCircle:p2,symbolCross:ise,symbolDiamond:lse,symbolSquare:cse,symbolStar:hse,symbolTriangle:fse,symbolWye:gse},Fse=Math.PI/180,Use=e=>{var r="symbol".concat(Uf(e));return pL[r]||p2},Bse=(e,r,s)=>{if(r==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Fse;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Wse=(e,r)=>{pL["symbol".concat(Uf(e))]=r},gL=e=>{var{type:r="circle",size:s=64,sizeType:a="area"}=e,n=$se(e,Rse),i=hE(hE({},n),{},{type:r,size:s,sizeType:a}),o=()=>{var f=Use(r),g=xse().type(f).size(Bse(s,a,r));return g()},{className:l,cx:d,cy:m}=i,h=Ar(i,!0);return d===+d&&m===+m&&s===+s?p.createElement("path",i1({},h,{className:Zt("recharts-symbols",l),transform:"translate(".concat(d,", ").concat(m,")"),d:o()})):null};gL.registerSymbol=Wse;var Ow={},Mw={},fE;function Vse(){return fE||(fE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a){const n=new Map;for(let i=0;i<s.length;i++){const o=s[i],l=a(o);n.has(l)||n.set(l,o)}return Array.from(n.values())}e.uniqBy=r}(Mw)),Mw}var Rw={},pE;function xL(){return pE||(pE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s}e.identity=r}(Rw)),Rw}var Iw={},Dw={},Lw={},gE;function qse(){return gE||(gE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Number.isSafeInteger(s)&&s>=0}e.isLength=r}(Lw)),Lw}var xE;function g2(){return xE||(xE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=qse();function s(a){return a!=null&&typeof a!="function"&&r.isLength(a.length)}e.isArrayLike=s}(Dw)),Dw}var $w={},yE;function Hse(){return yE||(yE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="object"&&s!==null}e.isObjectLike=r}($w)),$w}var vE;function Kse(){return vE||(vE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=g2(),s=Hse();function a(n){return s.isObjectLike(n)&&r.isArrayLike(n)}e.isArrayLikeObject=a}(Iw)),Iw}var zw={},Fw={},bE;function Gse(){return bE||(bE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=d2();function s(a){return function(n){return r.get(n,a)}}e.property=s}(Fw)),Fw}var Uw={},Bw={},Ww={},Vw={},wE;function yL(){return wE||(wE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s!==null&&(typeof s=="object"||typeof s=="function")}e.isObject=r}(Vw)),Vw}var qw={},jE;function vL(){return jE||(jE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==null||typeof s!="object"&&typeof s!="function"}e.isPrimitive=r}(qw)),qw}var Hw={},NE;function x2(){return NE||(NE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a){return s===a||Number.isNaN(s)&&Number.isNaN(a)}e.eq=r}(Hw)),Hw}var SE;function Yse(){return SE||(SE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=y2(),s=yL(),a=vL(),n=x2();function i(f,g,y){return typeof y!="function"?r.isMatch(f,g):o(f,g,function w(v,b,N,C,S,_){const A=y(v,b,N,C,S,_);return A!==void 0?!!A:o(v,b,w,_)},new Map)}function o(f,g,y,w){if(g===f)return!0;switch(typeof g){case"object":return l(f,g,y,w);case"function":return Object.keys(g).length>0?o(f,{...g},y,w):n.eq(f,g);default:return s.isObject(f)?typeof g=="string"?g==="":!0:n.eq(f,g)}}function l(f,g,y,w){if(g==null)return!0;if(Array.isArray(g))return m(f,g,y,w);if(g instanceof Map)return d(f,g,y,w);if(g instanceof Set)return h(f,g,y,w);const v=Object.keys(g);if(f==null)return v.length===0;if(v.length===0)return!0;if(w&&w.has(g))return w.get(g)===f;w&&w.set(g,f);try{for(let b=0;b<v.length;b++){const N=v[b];if(!a.isPrimitive(f)&&!(N in f)||g[N]===void 0&&f[N]!==void 0||g[N]===null&&f[N]!==null||!y(f[N],g[N],N,f,g,w))return!1}return!0}finally{w&&w.delete(g)}}function d(f,g,y,w){if(g.size===0)return!0;if(!(f instanceof Map))return!1;for(const[v,b]of g.entries()){const N=f.get(v);if(y(N,b,v,f,g,w)===!1)return!1}return!0}function m(f,g,y,w){if(g.length===0)return!0;if(!Array.isArray(f))return!1;const v=new Set;for(let b=0;b<g.length;b++){const N=g[b];let C=!1;for(let S=0;S<f.length;S++){if(v.has(S))continue;const _=f[S];let A=!1;if(y(_,N,b,f,g,w)&&(A=!0),A){v.add(S),C=!0;break}}if(!C)return!1}return!0}function h(f,g,y,w){return g.size===0?!0:f instanceof Set?m([...f],[...g],y,w):!1}e.isMatchWith=i,e.isSetMatch=h}(Ww)),Ww}var CE;function y2(){return CE||(CE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Yse();function s(a,n){return r.isMatchWith(a,n,()=>{})}e.isMatch=s}(Bw)),Bw}var Kw={},Gw={},Yw={},kE;function bL(){return kE||(kE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Object.getOwnPropertySymbols(s).filter(a=>Object.prototype.propertyIsEnumerable.call(s,a))}e.getSymbols=r}(Yw)),Yw}var Jw={},_E;function v2(){return _E||(_E=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}e.getTag=r}(Jw)),Jw}var Xw={},PE;function b2(){return PE||(PE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r="[object RegExp]",s="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",d="[object Map]",m="[object Set]",h="[object Array]",f="[object Function]",g="[object ArrayBuffer]",y="[object Object]",w="[object Error]",v="[object DataView]",b="[object Uint8Array]",N="[object Uint8ClampedArray]",C="[object Uint16Array]",S="[object Uint32Array]",_="[object BigUint64Array]",A="[object Int8Array]",T="[object Int16Array]",E="[object Int32Array]",R="[object BigInt64Array]",$="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=R,e.bigUint64ArrayTag=_,e.booleanTag=n,e.dataViewTag=v,e.dateTag=l,e.errorTag=w,e.float32ArrayTag=$,e.float64ArrayTag=K,e.functionTag=f,e.int16ArrayTag=T,e.int32ArrayTag=E,e.int8ArrayTag=A,e.mapTag=d,e.numberTag=a,e.objectTag=y,e.regexpTag=r,e.setTag=m,e.stringTag=s,e.symbolTag=o,e.uint16ArrayTag=C,e.uint32ArrayTag=S,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=N}(Xw)),Xw}var Qw={},AE;function Jse(){return AE||(AE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}e.isTypedArray=r}(Qw)),Qw}var EE;function wL(){return EE||(EE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=bL(),s=v2(),a=b2(),n=vL(),i=Jse();function o(h,f){return l(h,void 0,h,new Map,f)}function l(h,f,g,y=new Map,w=void 0){const v=w==null?void 0:w(h,f,g,y);if(v!==void 0)return v;if(n.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const b=new Array(h.length);y.set(h,b);for(let N=0;N<h.length;N++)b[N]=l(h[N],N,g,y,w);return Object.hasOwn(h,"index")&&(b.index=h.index),Object.hasOwn(h,"input")&&(b.input=h.input),b}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const b=new RegExp(h.source,h.flags);return b.lastIndex=h.lastIndex,b}if(h instanceof Map){const b=new Map;y.set(h,b);for(const[N,C]of h)b.set(N,l(C,N,g,y,w));return b}if(h instanceof Set){const b=new Set;y.set(h,b);for(const N of h)b.add(l(N,void 0,g,y,w));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const b=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,b);for(let N=0;N<h.length;N++)b[N]=l(h[N],N,g,y,w);return b}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const b=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,b),d(b,h,g,y,w),b}if(typeof File<"u"&&h instanceof File){const b=new File([h],h.name,{type:h.type});return y.set(h,b),d(b,h,g,y,w),b}if(h instanceof Blob){const b=new Blob([h],{type:h.type});return y.set(h,b),d(b,h,g,y,w),b}if(h instanceof Error){const b=new h.constructor;return y.set(h,b),b.message=h.message,b.name=h.name,b.stack=h.stack,b.cause=h.cause,d(b,h,g,y,w),b}if(typeof h=="object"&&m(h)){const b=Object.create(Object.getPrototypeOf(h));return y.set(h,b),d(b,h,g,y,w),b}return h}function d(h,f,g=h,y,w){const v=[...Object.keys(f),...r.getSymbols(f)];for(let b=0;b<v.length;b++){const N=v[b],C=Object.getOwnPropertyDescriptor(h,N);(C==null||C.writable)&&(h[N]=l(f[N],N,g,y,w))}}function m(h){switch(s.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=d}(Gw)),Gw}var TE;function Xse(){return TE||(TE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=wL();function s(a){return r.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=s}(Kw)),Kw}var OE;function Qse(){return OE||(OE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=y2(),s=Xse();function a(n){return n=s.cloneDeep(n),i=>r.isMatch(i,n)}e.matches=a}(Uw)),Uw}var Zw={},ej={},tj={},ME;function Zse(){return ME||(ME=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=wL(),s=b2();function a(n,i){return r.cloneDeepWith(n,(o,l,d,m)=>{const h=i==null?void 0:i(o,l,d,m);if(h!==void 0)return h;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case s.numberTag:case s.stringTag:case s.booleanTag:{const f=new n.constructor(n==null?void 0:n.valueOf());return r.copyProperties(f,n),f}case s.argumentsTag:{const f={};return r.copyProperties(f,n),f.length=n.length,f[Symbol.iterator]=n[Symbol.iterator],f}default:return}})}e.cloneDeepWith=a}(tj)),tj}var RE;function eae(){return RE||(RE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Zse();function s(a){return r.cloneDeepWith(a)}e.cloneDeep=s}(ej)),ej}var rj={},sj={},IE;function jL(){return IE||(IE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;function s(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return r.test(a)}}e.isIndex=s}(sj)),sj}var aj={},DE;function tae(){return DE||(DE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=v2();function s(a){return a!==null&&typeof a=="object"&&r.getTag(a)==="[object Arguments]"}e.isArguments=s}(aj)),aj}var LE;function rae(){return LE||(LE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=HD(),s=jL(),a=tae(),n=c2();function i(o,l){let d;if(Array.isArray(l)?d=l:typeof l=="string"&&r.isDeepKey(l)&&(o==null?void 0:o[l])==null?d=n.toPath(l):d=[l],d.length===0)return!1;let m=o;for(let h=0;h<d.length;h++){const f=d[h];if((m==null||!Object.hasOwn(m,f))&&!((Array.isArray(m)||a.isArguments(m))&&s.isIndex(f)&&f<m.length))return!1;m=m[f]}return!0}e.has=i}(rj)),rj}var $E;function sae(){return $E||($E=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=y2(),s=KD(),a=eae(),n=d2(),i=rae();function o(l,d){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=s.toKey(l);break}}return d=a.cloneDeep(d),function(m){const h=n.get(m,l);return h===void 0?i.has(m,l):d===void 0?h===void 0:r.isMatch(h,d)}}e.matchesProperty=o}(Zw)),Zw}var zE;function aae(){return zE||(zE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=xL(),s=Gse(),a=Qse(),n=sae();function i(o){if(o==null)return r.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?n.matchesProperty(o[0],o[1]):a.matches(o);case"string":case"symbol":case"number":return s.property(o)}}e.iteratee=i}(zw)),zw}var FE;function nae(){return FE||(FE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Vse(),s=xL(),a=Kse(),n=aae();function i(o,l=s.identity){return a.isArrayLikeObject(o)?r.uniqBy(Array.from(o),n.iteratee(l)):[]}e.uniqBy=i}(Ow)),Ow}var nj,UE;function iae(){return UE||(UE=1,nj=nae().uniqBy),nj}var oae=iae();const BE=vn(oae);function lae(e,r,s){return r===!0?BE(e,s):typeof r=="function"?BE(e,r):e}var ij={exports:{}},oj={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function cae(){if(WE)return oj;WE=1;var e=Xu(),r=BO();function s(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var a=typeof Object.is=="function"?Object.is:s,n=r.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,d=e.useDebugValue;return oj.useSyncExternalStoreWithSelector=function(m,h,f,g,y){var w=i(null);if(w.current===null){var v={hasValue:!1,value:null};w.current=v}else v=w.current;w=l(function(){function N(T){if(!C){if(C=!0,S=T,T=g(T),y!==void 0&&v.hasValue){var E=v.value;if(y(E,T))return _=E}return _=T}if(E=_,a(S,T))return E;var R=g(T);return y!==void 0&&y(E,R)?(S=T,E):(S=T,_=R)}var C=!1,S,_,A=f===void 0?null:f;return[function(){return N(h())},A===null?void 0:function(){return N(A())}]},[h,f,g,y]);var b=n(m,w[0],w[1]);return o(function(){v.hasValue=!0,v.value=b},[b]),d(b),b},oj}var VE;function dae(){return VE||(VE=1,ij.exports=cae()),ij.exports}var uae=dae(),w2=p.createContext(null),mae=e=>e,cs=()=>{var e=p.useContext(w2);return e?e.store.dispatch:mae},s0=()=>{},hae=()=>s0,fae=(e,r)=>e===r;function st(e){var r=p.useContext(w2);return uae.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:hae,r?r.store.getState:s0,r?r.store.getState:s0,r?e:s0,fae)}function pae(e,r=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(r)}function gae(e,r=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(r)}function xae(e,r="expected all items to be functions, instead received the following types: "){if(!e.every(s=>typeof s=="function")){const s=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${r}[${s}]`)}}var qE=e=>Array.isArray(e)?e:[e];function yae(e){const r=Array.isArray(e[0])?e[0]:e;return xae(r,"createSelector expects all input-selectors to be functions, but received the following types: "),r}function vae(e,r){const s=[],{length:a}=e;for(let n=0;n<a;n++)s.push(e[n].apply(null,r));return s}var bae=class{constructor(e){this.value=e}deref(){return this.value}},wae=typeof WeakRef<"u"?WeakRef:bae,jae=0,HE=1;function Rg(){return{s:jae,v:void 0,o:null,p:null}}function NL(e,r={}){let s=Rg();const{resultEqualityCheck:a}=r;let n,i=0;function o(){var f;let l=s;const{length:d}=arguments;for(let g=0,y=d;g<y;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const b=v.get(w);b===void 0?(l=Rg(),v.set(w,l)):l=b}else{let v=l.p;v===null&&(l.p=v=new Map);const b=v.get(w);b===void 0?(l=Rg(),v.set(w,l)):l=b}}const m=l;let h;if(l.s===HE)h=l.v;else if(h=e.apply(null,arguments),i++,a){const g=((f=n==null?void 0:n.deref)==null?void 0:f.call(n))??n;g!=null&&a(g,h)&&(h=g,i!==0&&i--),n=typeof h=="object"&&h!==null||typeof h=="function"?new wae(h):h}return m.s=HE,m.v=h,h}return o.clearCache=()=>{s=Rg(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function Nae(e,...r){const s=typeof e=="function"?{memoize:e,memoizeOptions:r}:e,a=(...n)=>{let i=0,o=0,l,d={},m=n.pop();typeof m=="object"&&(d=m,m=n.pop()),pae(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...s,...d},{memoize:f,memoizeOptions:g=[],argsMemoize:y=NL,argsMemoizeOptions:w=[]}=h,v=qE(g),b=qE(w),N=yae(n),C=f(function(){return i++,m.apply(null,arguments)},...v),S=y(function(){o++;const A=vae(N,arguments);return l=C.apply(null,A),l},...b);return Object.assign(S,{resultFunc:m,memoizedResultFunc:C,dependencies:N,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:y})};return Object.assign(a,{withTypes:()=>a}),a}var me=Nae(NL),Sae=Object.assign((e,r=me)=>{gae(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const s=Object.keys(e),a=s.map(i=>e[i]);return r(a,(...i)=>i.reduce((o,l,d)=>(o[s[d]]=l,o),{}))},{withTypes:()=>Sae}),lj={},cj={},dj={},KE;function Cae(){return KE||(KE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const s=(a,n,i)=>{if(a!==n){const o=r(a),l=r(n);if(o===l&&o===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=s}(dj)),dj}var uj={},mj={},GE;function SL(){return GE||(GE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="symbol"||s instanceof Symbol}e.isSymbol=r}(mj)),mj}var YE;function kae(){return YE||(YE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=SL(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||r.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!s.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=n}(uj)),uj}var JE;function _ae(){return JE||(JE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Cae(),s=kae(),a=c2();function n(i,o,l,d){if(i==null)return[];l=d?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const m=(y,w)=>{let v=y;for(let b=0;b<w.length&&v!=null;++b)v=v[w[b]];return v},h=(y,w)=>w==null||y==null?w:typeof y=="object"&&"key"in y?Object.hasOwn(w,y.key)?w[y.key]:m(w,y.path):typeof y=="function"?y(w):Array.isArray(y)?m(w,y):typeof w=="object"?w[y]:w,f=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||s.isKey(y)?y:{key:y,path:a.toPath(y)}));return i.map(y=>({original:y,criteria:f.map(w=>h(w,y))})).slice().sort((y,w)=>{for(let v=0;v<f.length;v++){const b=r.compareValues(y.criteria[v],w.criteria[v],l[v]);if(b!==0)return b}return 0}).map(y=>y.original)}e.orderBy=n}(cj)),cj}var hj={},XE;function Pae(){return XE||(XE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a=1){const n=[],i=Math.floor(a),o=(l,d)=>{for(let m=0;m<l.length;m++){const h=l[m];Array.isArray(h)&&d<i?o(h,d+1):n.push(h)}};return o(s,0),n}e.flatten=r}(hj)),hj}var fj={},QE;function CL(){return QE||(QE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=jL(),s=g2(),a=yL(),n=x2();function i(o,l,d){return a.isObject(d)&&(typeof l=="number"&&s.isArrayLike(d)&&r.isIndex(l)&&l<d.length||typeof l=="string"&&l in d)?n.eq(d[l],o):!1}e.isIterateeCall=i}(fj)),fj}var ZE;function Aae(){return ZE||(ZE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=_ae(),s=Pae(),a=CL();function n(i,...o){const l=o.length;return l>1&&a.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&a.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),r.orderBy(i,s.flatten(o),["asc"])}e.sortBy=n}(lj)),lj}var pj,eT;function Eae(){return eT||(eT=1,pj=Aae().sortBy),pj}var Tae=Eae();const ry=vn(Tae);var kL=e=>e.legend.settings,Oae=e=>e.legend.size,Mae=e=>e.legend.payload;me([Mae,kL],(e,r)=>{var{itemSorter:s}=r,a=e.flat(1);return s?ry(a,s):a});var Ig=1;function Rae(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[r,s]=p.useState({height:0,left:0,top:0,width:0}),a=p.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-r.height)>Ig||Math.abs(o.left-r.left)>Ig||Math.abs(o.top-r.top)>Ig||Math.abs(o.width-r.width)>Ig)&&s({height:o.height,left:o.left,top:o.top,width:o.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,a]}function Js(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Iae=typeof Symbol=="function"&&Symbol.observable||"@@observable",tT=Iae,gj=()=>Math.random().toString(36).substring(7).split("").join("."),Dae={INIT:`@@redux/INIT${gj()}`,REPLACE:`@@redux/REPLACE${gj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gj()}`},R0=Dae;function j2(e){if(typeof e!="object"||e===null)return!1;let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r||Object.getPrototypeOf(e)===null}function _L(e,r,s){if(typeof e!="function")throw new Error(Js(2));if(typeof r=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(Js(0));if(typeof r=="function"&&typeof s>"u"&&(s=r,r=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(Js(1));return s(_L)(e,r)}let a=e,n=r,i=new Map,o=i,l=0,d=!1;function m(){o===i&&(o=new Map,i.forEach((b,N)=>{o.set(N,b)}))}function h(){if(d)throw new Error(Js(3));return n}function f(b){if(typeof b!="function")throw new Error(Js(4));if(d)throw new Error(Js(5));let N=!0;m();const C=l++;return o.set(C,b),function(){if(N){if(d)throw new Error(Js(6));N=!1,m(),o.delete(C),i=null}}}function g(b){if(!j2(b))throw new Error(Js(7));if(typeof b.type>"u")throw new Error(Js(8));if(typeof b.type!="string")throw new Error(Js(17));if(d)throw new Error(Js(9));try{d=!0,n=a(n,b)}finally{d=!1}return(i=o).forEach(C=>{C()}),b}function y(b){if(typeof b!="function")throw new Error(Js(10));a=b,g({type:R0.REPLACE})}function w(){const b=f;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Js(11));function C(){const _=N;_.next&&_.next(h())}return C(),{unsubscribe:b(C)}},[tT](){return this}}}return g({type:R0.INIT}),{dispatch:g,subscribe:f,getState:h,replaceReducer:y,[tT]:w}}function Lae(e){Object.keys(e).forEach(r=>{const s=e[r];if(typeof s(void 0,{type:R0.INIT})>"u")throw new Error(Js(12));if(typeof s(void 0,{type:R0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Js(13))})}function PL(e){const r=Object.keys(e),s={};for(let i=0;i<r.length;i++){const o=r[i];typeof e[o]=="function"&&(s[o]=e[o])}const a=Object.keys(s);let n;try{Lae(s)}catch(i){n=i}return function(o={},l){if(n)throw n;let d=!1;const m={};for(let h=0;h<a.length;h++){const f=a[h],g=s[f],y=o[f],w=g(y,l);if(typeof w>"u")throw l&&l.type,new Error(Js(14));m[f]=w,d=d||w!==y}return d=d||a.length!==Object.keys(o).length,d?m:o}}function I0(...e){return e.length===0?r=>r:e.length===1?e[0]:e.reduce((r,s)=>(...a)=>r(s(...a)))}function $ae(...e){return r=>(s,a)=>{const n=r(s,a);let i=()=>{throw new Error(Js(15))};const o={getState:n.getState,dispatch:(d,...m)=>i(d,...m)},l=e.map(d=>d(o));return i=I0(...l)(n.dispatch),{...n,dispatch:i}}}function AL(e){return j2(e)&&"type"in e&&typeof e.type=="string"}var EL=Symbol.for("immer-nothing"),rT=Symbol.for("immer-draftable"),xn=Symbol.for("immer-state");function yi(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vu=Object.getPrototypeOf;function cd(e){return!!e&&!!e[xn]}function Bo(e){var r;return e?TL(e)||Array.isArray(e)||!!e[rT]||!!((r=e.constructor)!=null&&r[rT])||ay(e)||ny(e):!1}var zae=Object.prototype.constructor.toString();function TL(e){if(!e||typeof e!="object")return!1;const r=Vu(e);if(r===null)return!0;const s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object?!0:typeof s=="function"&&Function.toString.call(s)===zae}function D0(e,r){sy(e)===0?Reflect.ownKeys(e).forEach(s=>{r(s,e[s],e)}):e.forEach((s,a)=>r(a,s,e))}function sy(e){const r=e[xn];return r?r.type_:Array.isArray(e)?1:ay(e)?2:ny(e)?3:0}function o1(e,r){return sy(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function OL(e,r,s){const a=sy(e);a===2?e.set(r,s):a===3?e.add(s):e[r]=s}function Fae(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function ay(e){return e instanceof Map}function ny(e){return e instanceof Set}function $c(e){return e.copy_||e.base_}function l1(e,r){if(ay(e))return new Map(e);if(ny(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=TL(e);if(r===!0||r==="class_only"&&!s){const a=Object.getOwnPropertyDescriptors(e);delete a[xn];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const o=n[i],l=a[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(a[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Vu(e),a)}else{const a=Vu(e);if(a!==null&&s)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function N2(e,r=!1){return iy(e)||cd(e)||!Bo(e)||(sy(e)>1&&(e.set=e.add=e.clear=e.delete=Uae),Object.freeze(e),r&&Object.entries(e).forEach(([s,a])=>N2(a,!0))),e}function Uae(){yi(2)}function iy(e){return Object.isFrozen(e)}var Bae={};function dd(e){const r=Bae[e];return r||yi(0,e),r}var ef;function ML(){return ef}function Wae(e,r){return{drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sT(e,r){r&&(dd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function c1(e){d1(e),e.drafts_.forEach(Vae),e.drafts_=null}function d1(e){e===ef&&(ef=e.parent_)}function aT(e){return ef=Wae(ef,e)}function Vae(e){const r=e[xn];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function nT(e,r){r.unfinalizedDrafts_=r.drafts_.length;const s=r.drafts_[0];return e!==void 0&&e!==s?(s[xn].modified_&&(c1(r),yi(4)),Bo(e)&&(e=L0(r,e),r.parent_||$0(r,e)),r.patches_&&dd("Patches").generateReplacementPatches_(s[xn].base_,e,r.patches_,r.inversePatches_)):e=L0(r,s,[]),c1(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==EL?e:void 0}function L0(e,r,s){if(iy(r))return r;const a=r[xn];if(!a)return D0(r,(n,i)=>iT(e,a,r,n,i,s)),r;if(a.scope_!==e)return r;if(!a.modified_)return $0(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const n=a.copy_;let i=n,o=!1;a.type_===3&&(i=new Set(n),n.clear(),o=!0),D0(i,(l,d)=>iT(e,a,n,l,d,s,o)),$0(e,n,!1),s&&e.patches_&&dd("Patches").generatePatches_(a,s,e.patches_,e.inversePatches_)}return a.copy_}function iT(e,r,s,a,n,i,o){if(cd(n)){const l=i&&r&&r.type_!==3&&!o1(r.assigned_,a)?i.concat(a):void 0,d=L0(e,n,l);if(OL(s,a,d),cd(d))e.canAutoFreeze_=!1;else return}else o&&s.add(n);if(Bo(n)&&!iy(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;L0(e,n),(!r||!r.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(s,a)&&$0(e,n)}}function $0(e,r,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&N2(r,s)}function qae(e,r){const s=Array.isArray(e),a={type_:s?1:0,scope_:r?r.scope_:ML(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=S2;s&&(n=[a],i=tf);const{revoke:o,proxy:l}=Proxy.revocable(n,i);return a.draft_=l,a.revoke_=o,l}var S2={get(e,r){if(r===xn)return e;const s=$c(e);if(!o1(s,r))return Hae(e,s,r);const a=s[r];return e.finalized_||!Bo(a)?a:a===xj(e.base_,r)?(yj(e),e.copy_[r]=m1(a,e)):a},has(e,r){return r in $c(e)},ownKeys(e){return Reflect.ownKeys($c(e))},set(e,r,s){const a=RL($c(e),r);if(a!=null&&a.set)return a.set.call(e.draft_,s),!0;if(!e.modified_){const n=xj($c(e),r),i=n==null?void 0:n[xn];if(i&&i.base_===s)return e.copy_[r]=s,e.assigned_[r]=!1,!0;if(Fae(s,n)&&(s!==void 0||o1(e.base_,r)))return!0;yj(e),u1(e)}return e.copy_[r]===s&&(s!==void 0||r in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=s,e.assigned_[r]=!0),!0},deleteProperty(e,r){return xj(e.base_,r)!==void 0||r in e.base_?(e.assigned_[r]=!1,yj(e),u1(e)):delete e.assigned_[r],e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const s=$c(e),a=Reflect.getOwnPropertyDescriptor(s,r);return a&&{writable:!0,configurable:e.type_!==1||r!=="length",enumerable:a.enumerable,value:s[r]}},defineProperty(){yi(11)},getPrototypeOf(e){return Vu(e.base_)},setPrototypeOf(){yi(12)}},tf={};D0(S2,(e,r)=>{tf[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});tf.deleteProperty=function(e,r){return tf.set.call(this,e,r,void 0)};tf.set=function(e,r,s){return S2.set.call(this,e[0],r,s,e[0])};function xj(e,r){const s=e[xn];return(s?$c(s):e)[r]}function Hae(e,r,s){var n;const a=RL(r,s);return a?"value"in a?a.value:(n=a.get)==null?void 0:n.call(e.draft_):void 0}function RL(e,r){if(!(r in e))return;let s=Vu(e);for(;s;){const a=Object.getOwnPropertyDescriptor(s,r);if(a)return a;s=Vu(s)}}function u1(e){e.modified_||(e.modified_=!0,e.parent_&&u1(e.parent_))}function yj(e){e.copy_||(e.copy_=l1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Kae=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,s,a)=>{if(typeof r=="function"&&typeof s!="function"){const i=s;s=r;const o=this;return function(d=i,...m){return o.produce(d,h=>s.call(this,h,...m))}}typeof s!="function"&&yi(6),a!==void 0&&typeof a!="function"&&yi(7);let n;if(Bo(r)){const i=aT(this),o=m1(r,void 0);let l=!0;try{n=s(o),l=!1}finally{l?c1(i):d1(i)}return sT(i,a),nT(n,i)}else if(!r||typeof r!="object"){if(n=s(r),n===void 0&&(n=r),n===EL&&(n=void 0),this.autoFreeze_&&N2(n,!0),a){const i=[],o=[];dd("Patches").generateReplacementPatches_(r,n,i,o),a(i,o)}return n}else yi(1,r)},this.produceWithPatches=(r,s)=>{if(typeof r=="function")return(o,...l)=>this.produceWithPatches(o,d=>r(d,...l));let a,n;return[this.produce(r,s,(o,l)=>{a=o,n=l}),a,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Bo(e)||yi(8),cd(e)&&(e=Mo(e));const r=aT(this),s=m1(e,void 0);return s[xn].isManual_=!0,d1(r),s}finishDraft(e,r){const s=e&&e[xn];(!s||!s.isManual_)&&yi(9);const{scope_:a}=s;return sT(a,r),nT(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,r){let s;for(s=r.length-1;s>=0;s--){const n=r[s];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}s>-1&&(r=r.slice(s+1));const a=dd("Patches").applyPatches_;return cd(e)?a(e,r):this.produce(e,n=>a(n,r))}};function m1(e,r){const s=ay(e)?dd("MapSet").proxyMap_(e,r):ny(e)?dd("MapSet").proxySet_(e,r):qae(e,r);return(r?r.scope_:ML()).drafts_.push(s),s}function Mo(e){return cd(e)||yi(10,e),IL(e)}function IL(e){if(!Bo(e)||iy(e))return e;const r=e[xn];let s;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,s=l1(e,r.scope_.immer_.useStrictShallowCopy_)}else s=l1(e,!0);return D0(s,(a,n)=>{OL(s,a,IL(n))}),r&&(r.finalized_=!1),s}var yn=new Kae,DL=yn.produce;yn.produceWithPatches.bind(yn);yn.setAutoFreeze.bind(yn);yn.setUseStrictShallowCopy.bind(yn);yn.applyPatches.bind(yn);yn.createDraft.bind(yn);yn.finishDraft.bind(yn);function LL(e){return({dispatch:s,getState:a})=>n=>i=>typeof i=="function"?i(s,a,e):n(i)}var Gae=LL(),Yae=LL,Jae=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?I0:I0.apply(null,arguments)};function Gn(e,r){function s(...a){if(r){let n=r(...a);if(!n)throw new Error(gn(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=a=>AL(a)&&a.type===e,s}var $L=class Eh extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,Eh.prototype)}static get[Symbol.species](){return Eh}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new Eh(...r[0].concat(this)):new Eh(...r.concat(this))}};function oT(e){return Bo(e)?DL(e,()=>{}):e}function Dg(e,r,s){return e.has(r)?e.get(r):e.set(r,s(r)).get(r)}function Xae(e){return typeof e=="boolean"}var Qae=()=>function(r){const{thunk:s=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=r??{};let o=new $L;return s&&(Xae(s)?o.push(Gae):o.push(Yae(s.extraArgument))),o},Zae="RTK_autoBatch",lT=e=>r=>{setTimeout(r,e)},ene=(e={type:"raf"})=>r=>(...s)=>{const a=r(...s);let n=!0,i=!1,o=!1;const l=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lT(10):e.type==="callback"?e.queueNotification:lT(e.timeout),m=()=>{o=!1,i&&(i=!1,l.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const f=()=>n&&h(),g=a.subscribe(f);return l.add(h),()=>{g(),l.delete(h)}},dispatch(h){var f;try{return n=!((f=h==null?void 0:h.meta)!=null&&f[Zae]),i=!n,i&&(o||(o=!0,d(m))),a.dispatch(h)}finally{n=!0}}})},tne=e=>function(s){const{autoBatch:a=!0}=s??{};let n=new $L(e);return a&&n.push(ene(typeof a=="object"?a:void 0)),n};function rne(e){const r=Qae(),{reducer:s=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof s=="function")l=s;else if(j2(s))l=PL(s);else throw new Error(gn(1));let d;typeof a=="function"?d=a(r):d=r();let m=I0;n&&(m=Jae({trace:!1,...typeof n=="object"&&n}));const h=$ae(...d),f=tne(h);let g=typeof o=="function"?o(f):f();const y=m(...g);return _L(l,i,y)}function zL(e){const r={},s=[];let a;const n={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(gn(28));if(l in r)throw new Error(gn(29));return r[l]=o,n},addMatcher(i,o){return s.push({matcher:i,reducer:o}),n},addDefaultCase(i){return a=i,n}};return e(n),[r,s,a]}function sne(e){return typeof e=="function"}function ane(e,r){let[s,a,n]=zL(r),i;if(sne(e))i=()=>oT(e());else{const l=oT(e);i=()=>l}function o(l=i(),d){let m=[s[d.type],...a.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[n]),m.reduce((h,f)=>{if(f)if(cd(h)){const y=f(h,d);return y===void 0?h:y}else{if(Bo(h))return DL(h,g=>f(g,d));{const g=f(h,d);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},l)}return o.getInitialState=i,o}var nne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ine=(e=21)=>{let r="",s=e;for(;s--;)r+=nne[Math.random()*64|0];return r},one=Symbol.for("rtk-slice-createasyncthunk");function lne(e,r){return`${e}/${r}`}function cne({creators:e}={}){var s;const r=(s=e==null?void 0:e.asyncThunk)==null?void 0:s[one];return function(n){const{name:i,reducerPath:o=i}=n;if(!i)throw new Error(gn(11));const l=(typeof n.reducers=="function"?n.reducers(une()):n.reducers)||{},d=Object.keys(l),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(_,A){const T=typeof _=="string"?_:_.type;if(!T)throw new Error(gn(12));if(T in m.sliceCaseReducersByType)throw new Error(gn(13));return m.sliceCaseReducersByType[T]=A,h},addMatcher(_,A){return m.sliceMatchers.push({matcher:_,reducer:A}),h},exposeAction(_,A){return m.actionCreators[_]=A,h},exposeCaseReducer(_,A){return m.sliceCaseReducersByName[_]=A,h}};d.forEach(_=>{const A=l[_],T={reducerName:_,type:lne(i,_),createNotation:typeof n.reducers=="function"};hne(A)?pne(T,A,h,r):mne(T,A,h)});function f(){const[_={},A=[],T=void 0]=typeof n.extraReducers=="function"?zL(n.extraReducers):[n.extraReducers],E={..._,...m.sliceCaseReducersByType};return ane(n.initialState,R=>{for(let $ in E)R.addCase($,E[$]);for(let $ of m.sliceMatchers)R.addMatcher($.matcher,$.reducer);for(let $ of A)R.addMatcher($.matcher,$.reducer);T&&R.addDefaultCase(T)})}const g=_=>_,y=new Map,w=new WeakMap;let v;function b(_,A){return v||(v=f()),v(_,A)}function N(){return v||(v=f()),v.getInitialState()}function C(_,A=!1){function T(R){let $=R[_];return typeof $>"u"&&A&&($=Dg(w,T,N)),$}function E(R=g){const $=Dg(y,A,()=>new WeakMap);return Dg($,R,()=>{const K={};for(const[M,I]of Object.entries(n.selectors??{}))K[M]=dne(I,R,()=>Dg(w,R,N),A);return K})}return{reducerPath:_,getSelectors:E,get selectors(){return E(T)},selectSlice:T}}const S={name:i,reducer:b,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:N,...C(o),injectInto(_,{reducerPath:A,...T}={}){const E=A??o;return _.inject({reducerPath:E,reducer:b},T),{...S,...C(E,!0)}}};return S}}function dne(e,r,s,a){function n(i,...o){let l=r(i);return typeof l>"u"&&a&&(l=s()),e(l,...o)}return n.unwrapped=e,n}var wn=cne();function une(){function e(r,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...s}}return e.withTypes=()=>e,{reducer(r){return Object.assign({[r.name](...s){return r(...s)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:s}},asyncThunk:e}}function mne({type:e,reducerName:r,createNotation:s},a,n){let i,o;if("reducer"in a){if(s&&!fne(a))throw new Error(gn(17));i=a.reducer,o=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(r,i).exposeAction(r,o?Gn(e,o):Gn(e))}function hne(e){return e._reducerDefinitionType==="asyncThunk"}function fne(e){return e._reducerDefinitionType==="reducerWithPrepare"}function pne({type:e,reducerName:r},s,a,n){if(!n)throw new Error(gn(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:d,settled:m,options:h}=s,f=n(e,i,h);a.exposeAction(r,f),o&&a.addCase(f.fulfilled,o),l&&a.addCase(f.pending,l),d&&a.addCase(f.rejected,d),m&&a.addMatcher(f.settled,m),a.exposeCaseReducer(r,{fulfilled:o||Lg,pending:l||Lg,rejected:d||Lg,settled:m||Lg})}function Lg(){}var gne="task",FL="listener",UL="completed",C2="cancelled",xne=`task-${C2}`,yne=`task-${UL}`,h1=`${FL}-${C2}`,vne=`${FL}-${UL}`,oy=class{constructor(e){mi(this,"name","TaskAbortError");mi(this,"message");this.code=e,this.message=`${gne} ${C2} (reason: ${e})`}},k2=(e,r)=>{if(typeof e!="function")throw new TypeError(gn(32))},z0=()=>{},BL=(e,r=z0)=>(e.catch(r),e),WL=(e,r)=>(e.addEventListener("abort",r,{once:!0}),()=>e.removeEventListener("abort",r)),Yc=(e,r)=>{const s=e.signal;s.aborted||("reason"in s||Object.defineProperty(s,"reason",{enumerable:!0,value:r,configurable:!0,writable:!0}),e.abort(r))},Jc=e=>{if(e.aborted){const{reason:r}=e;throw new oy(r)}};function VL(e,r){let s=z0;return new Promise((a,n)=>{const i=()=>n(new oy(e.reason));if(e.aborted){i();return}s=WL(e,i),r.finally(()=>s()).then(a,n)}).finally(()=>{s=z0})}var bne=async(e,r)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(s){return{status:s instanceof oy?"cancelled":"rejected",error:s}}finally{r==null||r()}},F0=e=>r=>BL(VL(e,r).then(s=>(Jc(e),s))),qL=e=>{const r=F0(e);return s=>r(new Promise(a=>setTimeout(a,s)))},{assign:Mu}=Object,cT={},ly="listenerMiddleware",wne=(e,r)=>{const s=a=>WL(e,()=>Yc(a,e.reason));return(a,n)=>{k2(a);const i=new AbortController;s(i);const o=bne(async()=>{Jc(e),Jc(i.signal);const l=await a({pause:F0(i.signal),delay:qL(i.signal),signal:i.signal});return Jc(i.signal),l},()=>Yc(i,yne));return n!=null&&n.autoJoin&&r.push(o.catch(z0)),{result:F0(e)(o),cancel(){Yc(i,xne)}}}},jne=(e,r)=>{const s=async(a,n)=>{Jc(r);let i=()=>{};const l=[new Promise((d,m)=>{let h=e({predicate:a,effect:(f,g)=>{g.unsubscribe(),d([f,g.getState(),g.getOriginalState()])}});i=()=>{h(),m()}})];n!=null&&l.push(new Promise(d=>setTimeout(d,n,null)));try{const d=await VL(r,Promise.race(l));return Jc(r),d}finally{i()}};return(a,n)=>BL(s(a,n))},HL=e=>{let{type:r,actionCreator:s,matcher:a,predicate:n,effect:i}=e;if(r)n=Gn(r).match;else if(s)r=s.type,n=s.match;else if(a)n=a;else if(!n)throw new Error(gn(21));return k2(i),{predicate:n,type:r,effect:i}},KL=Mu(e=>{const{type:r,predicate:s,effect:a}=HL(e);return{id:ine(),effect:a,type:r,predicate:s,pending:new Set,unsubscribe:()=>{throw new Error(gn(22))}}},{withTypes:()=>KL}),dT=(e,r)=>{const{type:s,effect:a,predicate:n}=HL(r);return Array.from(e.values()).find(i=>(typeof s=="string"?i.type===s:i.predicate===n)&&i.effect===a)},f1=e=>{e.pending.forEach(r=>{Yc(r,h1)})},Nne=e=>()=>{e.forEach(f1),e.clear()},uT=(e,r,s)=>{try{e(r,s)}catch(a){setTimeout(()=>{throw a},0)}},GL=Mu(Gn(`${ly}/add`),{withTypes:()=>GL}),Sne=Gn(`${ly}/removeAll`),YL=Mu(Gn(`${ly}/remove`),{withTypes:()=>YL}),Cne=(...e)=>{console.error(`${ly}/error`,...e)},Wf=(e={})=>{const r=new Map,{extra:s,onError:a=Cne}=e;k2(a);const n=h=>(h.unsubscribe=()=>r.delete(h.id),r.set(h.id,h),f=>{h.unsubscribe(),f!=null&&f.cancelActive&&f1(h)}),i=h=>{const f=dT(r,h)??KL(h);return n(f)};Mu(i,{withTypes:()=>i});const o=h=>{const f=dT(r,h);return f&&(f.unsubscribe(),h.cancelActive&&f1(f)),!!f};Mu(o,{withTypes:()=>o});const l=async(h,f,g,y)=>{const w=new AbortController,v=jne(i,w.signal),b=[];try{h.pending.add(w),await Promise.resolve(h.effect(f,Mu({},g,{getOriginalState:y,condition:(N,C)=>v(N,C).then(Boolean),take:v,delay:qL(w.signal),pause:F0(w.signal),extra:s,signal:w.signal,fork:wne(w.signal,b),unsubscribe:h.unsubscribe,subscribe:()=>{r.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((N,C,S)=>{N!==w&&(Yc(N,h1),S.delete(N))})},cancel:()=>{Yc(w,h1),h.pending.delete(w)},throwIfCancelled:()=>{Jc(w.signal)}})))}catch(N){N instanceof oy||uT(a,N,{raisedBy:"effect"})}finally{await Promise.all(b),Yc(w,vne),h.pending.delete(w)}},d=Nne(r);return{middleware:h=>f=>g=>{if(!AL(g))return f(g);if(GL.match(g))return i(g.payload);if(Sne.match(g)){d();return}if(YL.match(g))return o(g.payload);let y=h.getState();const w=()=>{if(y===cT)throw new Error(gn(23));return y};let v;try{if(v=f(g),r.size>0){const b=h.getState(),N=Array.from(r.values());for(const C of N){let S=!1;try{S=C.predicate(g,b,y)}catch(_){S=!1,uT(a,_,{raisedBy:"predicate"})}S&&l(C,g,h,w)}}}finally{y=cT}return v},startListening:i,stopListening:o,clearListeners:d}};function gn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},JL=wn({name:"chartLayout",initialState:kne,reducers:{setLayout(e,r){e.layoutType=r.payload},setChartSize(e,r){e.width=r.payload.width,e.height=r.payload.height},setMargin(e,r){e.margin.top=r.payload.top,e.margin.right=r.payload.right,e.margin.bottom=r.payload.bottom,e.margin.left=r.payload.left},setScale(e,r){e.scale=r.payload}}}),{setMargin:_ne,setLayout:Pne,setChartSize:Ane,setScale:Ene}=JL.actions,Tne=JL.reducer;function mT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function hT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?mT(Object(s),!0).forEach(function(a){One(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function One(e,r,s){return(r=Mne(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Mne(e){var r=Rne(e,"string");return typeof r=="symbol"?r:r+""}function Rne(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var U0=Math.PI/180,Ine=e=>e*180/Math.PI,gs=(e,r,s,a)=>({x:e+Math.cos(-U0*a)*s,y:r+Math.sin(-U0*a)*s}),XL=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(s-(a.top||0)-(a.bottom||0)))/2},Dne=(e,r)=>{var{x:s,y:a}=e,{x:n,y:i}=r;return Math.sqrt((s-n)**2+(a-i)**2)},Lne=(e,r)=>{var{x:s,y:a}=e,{cx:n,cy:i}=r,o=Dne({x:s,y:a},{x:n,y:i});if(o<=0)return{radius:o,angle:0};var l=(s-n)/o,d=Math.acos(l);return a>i&&(d=2*Math.PI-d),{radius:o,angle:Ine(d),angleInRadian:d}},$ne=e=>{var{startAngle:r,endAngle:s}=e,a=Math.floor(r/360),n=Math.floor(s/360),i=Math.min(a,n);return{startAngle:r-i*360,endAngle:s-i*360}},zne=(e,r)=>{var{startAngle:s,endAngle:a}=r,n=Math.floor(s/360),i=Math.floor(a/360),o=Math.min(n,i);return e+o*360},Fne=(e,r)=>{var{x:s,y:a}=e,{radius:n,angle:i}=Lne({x:s,y:a},r),{innerRadius:o,outerRadius:l}=r;if(n<o||n>l||n===0)return null;var{startAngle:d,endAngle:m}=$ne(r),h=i,f;if(d<=m){for(;h>m;)h-=360;for(;h<d;)h+=360;f=h>=d&&h<=m}else{for(;h>d;)h-=360;for(;h<m;)h+=360;f=h>=m&&h<=d}return f?hT(hT({},r),{},{radius:n,angle:zne(h,r)}):null};function QL(e,r,s){return Array.isArray(e)&&e&&r+s!==0?e.slice(r,s+1):e}function fT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function In(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?fT(Object(s),!0).forEach(function(a){Une(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Une(e,r,s){return(r=Bne(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Bne(e){var r=Wne(e,"string");return typeof r=="symbol"?r:r+""}function Wne(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function yr(e,r,s){return Er(e)||Er(r)?s:Zi(r)?Yl(e,r,s):typeof r=="function"?r(e):s}var Vne=(e,r,s,a,n)=>{var i,o=-1,l=(i=r==null?void 0:r.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var d=0;d<l;d++){var m=d>0?s[d-1].coordinate:s[l-1].coordinate,h=s[d].coordinate,f=d>=l-1?s[0].coordinate:s[d+1].coordinate,g=void 0;if(Us(h-m)!==Us(f-h)){var y=[];if(Us(f-h)===Us(n[1]-n[0])){g=f;var w=h+n[1]-n[0];y[0]=Math.min(w,(w+m)/2),y[1]=Math.max(w,(w+m)/2)}else{g=m;var v=f+n[1]-n[0];y[0]=Math.min(h,(v+h)/2),y[1]=Math.max(h,(v+h)/2)}var b=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){({index:o}=s[d]);break}}else{var N=Math.min(m,f),C=Math.max(m,f);if(e>(N+h)/2&&e<=(C+h)/2){({index:o}=s[d]);break}}}else if(r){for(var S=0;S<l;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<l-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===l-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){({index:o}=r[S]);break}}return o},qne=(e,r,s)=>{if(r&&s){var{width:a,height:n}=s,{align:i,verticalAlign:o,layout:l}=r;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&Ve(e[i]))return In(In({},e),{},{[i]:e[i]+(a||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&Ve(e[o]))return In(In({},e),{},{[o]:e[o]+(n||0)})}return e},co=(e,r)=>e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis",ZL=(e,r,s,a)=>{if(a)return e.map(l=>l.coordinate);var n,i,o=e.map(l=>(l.coordinate===r&&(n=!0),l.coordinate===s&&(i=!0),l.coordinate));return n||o.push(r),i||o.push(s),o},e8=(e,r,s)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:o,realScaleType:l,isCategorical:d,categoricalDomain:m,tickCount:h,ticks:f,niceTicks:g,axisType:y}=e;if(!o)return null;var w=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=n==="category"&&o.bandwidth?o.bandwidth()/w:0;if(v=y==="angleAxis"&&i&&i.length>=2?Us(i[0]-i[1])*2*v:v,f||g){var b=(f||g||[]).map((N,C)=>{var S=a?a.indexOf(N):N;return{coordinate:o(S)+v,value:N,offset:v,index:C}});return b.filter(N=>!Xa(N.coordinate))}return d&&m?m.map((N,C)=>({coordinate:o(N)+v,value:N,index:C,offset:v})):o.ticks&&h!=null?o.ticks(h).map((N,C)=>({coordinate:o(N)+v,value:N,offset:v,index:C})):o.domain().map((N,C)=>({coordinate:o(N)+v,value:a?a[N]:N,index:C,offset:v}))},pT=1e-4,Hne=e=>{var r=e.domain();if(!(!r||r.length<=2)){var s=r.length,a=e.range(),n=Math.min(a[0],a[1])-pT,i=Math.max(a[0],a[1])+pT,o=e(r[0]),l=e(r[s-1]);(o<n||o>i||l<n||l>i)&&e.domain([r[0],r[s-1]])}},Kne=(e,r)=>{if(!r||r.length!==2||!Ve(r[0])||!Ve(r[1]))return e;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),n=[e[0],e[1]];return(!Ve(e[0])||e[0]<s)&&(n[0]=s),(!Ve(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<s&&(n[1]=s),n},Gne=e=>{var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0,o=0;o<r;++o){var l=Xa(e[o][s][1])?e[o][s][0]:e[o][s][1];l>=0?(e[o][s][0]=n,e[o][s][1]=n+l,n=e[o][s][1]):(e[o][s][0]=i,e[o][s][1]=i+l,i=e[o][s][1])}},Yne=e=>{var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0;i<r;++i){var o=Xa(e[i][s][1])?e[i][s][0]:e[i][s][1];o>=0?(e[i][s][0]=n,e[i][s][1]=n+o,n=e[i][s][1]):(e[i][s][0]=0,e[i][s][1]=0)}},Jne={sign:Gne,expand:Tse,none:Wu,silhouette:Ose,wiggle:Mse,positive:Yne},Xne=(e,r,s)=>{var a=Jne[s],n=Ese().keys(r).value((i,o)=>+yr(i,o,0)).order(n1).offset(a);return n(e)};function t8(e){return e==null?void 0:String(e)}function B0(e){var{axis:r,ticks:s,bandSize:a,entry:n,index:i,dataKey:o}=e;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Er(n[r.dataKey])){var l=YD(s,"value",n[r.dataKey]);if(l)return l.coordinate+a/2}return s[i]?s[i].coordinate+a/2:null}var d=yr(n,Er(o)?r.dataKey:o);return Er(d)?null:r.scale(d)}var gT=e=>{var{axis:r,ticks:s,offset:a,bandSize:n,entry:i,index:o}=e;if(r.type==="category")return s[o]?s[o].coordinate+a:null;var l=yr(i,r.dataKey,r.scale.domain()[o]);return Er(l)?null:r.scale(l)-n/2+a},Qne=e=>{var{numericAxis:r}=e,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),n=Math.max(s[0],s[1]);return a<=0&&n>=0?0:n<0?n:a}return s[0]},Zne=e=>{var r=e.flat(2).filter(Ve);return[Math.min(...r),Math.max(...r)]},eie=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],tie=(e,r,s)=>{if(e!=null)return eie(Object.keys(e).reduce((a,n)=>{var i=e[n],{stackedData:o}=i,l=o.reduce((d,m)=>{var h=QL(m,r,s),f=Zne(h);return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]))},xT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ud=(e,r,s)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!s||a>0)return a}if(e&&r&&r.length>=2){for(var n=ry(r,h=>h.coordinate),i=1/0,o=1,l=n.length;o<l;o++){var d=n[o],m=n[o-1];i=Math.min((d.coordinate||0)-(m.coordinate||0),i)}return i===1/0?0:i}return s?void 0:0};function vT(e){var{tooltipEntrySettings:r,dataKey:s,payload:a,value:n,name:i}=e;return In(In({},r),{},{dataKey:s,payload:a,value:n,name:i})}function rc(e,r){if(e)return String(e);if(typeof r=="string")return r}function rie(e,r,s,a,n){if(s==="horizontal"||s==="vertical"){var i=e>=n.left&&e<=n.left+n.width&&r>=n.top&&r<=n.top+n.height;return i?{x:e,y:r}:null}return a?Fne({x:e,y:r},a):null}var sie=(e,r,s,a)=>{var n=r.find(m=>m&&m.index===s);if(n){if(e==="horizontal")return{x:n.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:n.coordinate};if(e==="centric"){var i=n.coordinate,{radius:o}=a;return In(In(In({},a),gs(a.cx,a.cy,o,i)),{},{angle:i,radius:o})}var l=n.coordinate,{angle:d}=a;return In(In(In({},a),gs(a.cx,a.cy,l,d)),{},{angle:d,radius:l})}return{x:0,y:0}},aie=(e,r)=>r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius,Ko=e=>e.layout.width,Go=e=>e.layout.height,nie=e=>e.layout.scale,r8=e=>e.layout.margin,_2=me(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),P2=me(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),s8="data-recharts-item-index",a8="data-recharts-item-data-key",cy=60;function bT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Cl(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?bT(Object(s),!0).forEach(function(a){iie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):bT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function iie(e,r,s){return(r=oie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function oie(e){var r=lie(e,"string");return typeof r=="symbol"?r:r+""}function lie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var cie=e=>e.brush.height,As=me([Ko,Go,r8,cie,_2,P2,kL,Oae],(e,r,s,a,n,i,o,l)=>{var d=i.reduce((w,v)=>{var{orientation:b}=v;if(!v.mirror&&!v.hide){var N=typeof v.width=="number"?v.width:cy;return Cl(Cl({},w),{},{[b]:w[b]+N})}return w},{left:s.left||0,right:s.right||0}),m=n.reduce((w,v)=>{var{orientation:b}=v;return!v.mirror&&!v.hide?Cl(Cl({},w),{},{[b]:Yl(w,"".concat(b))+v.height}):w},{top:s.top||0,bottom:s.bottom||0}),h=Cl(Cl({},m),d),f=h.bottom;h.bottom+=a,h=qne(h,o,l);var g=e-h.left-h.right,y=r-h.top-h.bottom;return Cl(Cl({brushBottom:f},h),{},{width:Math.max(g,0),height:Math.max(y,0)})}),die=me(As,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),n8=me(Ko,Go,(e,r)=>({x:0,y:0,width:e,height:r})),uie=p.createContext(null),Sa=()=>p.useContext(uie)!=null,dy=e=>e.brush,uy=me([dy,As,r8],(e,r,s)=>({height:e.height,x:Ve(e.x)?e.x:r.left,y:Ve(e.y)?e.y:r.top+r.height+r.brushBottom-((s==null?void 0:s.bottom)||0),width:Ve(e.width)?e.width:r.width})),A2=()=>{var e,r=Sa(),s=st(die),a=st(uy),n=(e=st(dy))===null||e===void 0?void 0:e.padding;return!r||!a||!n?s:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},mie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},i8=()=>{var e;return(e=st(As))!==null&&e!==void 0?e:mie},o8=()=>st(Ko),l8=()=>st(Go),Gt=e=>e.layout.layoutType,Vf=()=>st(Gt),hie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},c8=wn({name:"legend",initialState:hie,reducers:{setLegendSize(e,r){e.size.width=r.payload.width,e.size.height=r.payload.height},setLegendSettings(e,r){e.settings.align=r.payload.align,e.settings.layout=r.payload.layout,e.settings.verticalAlign=r.payload.verticalAlign,e.settings.itemSorter=r.payload.itemSorter},addLegendPayload(e,r){e.payload.push(r.payload)},removeLegendPayload(e,r){var s=Mo(e).payload.indexOf(r.payload);s>-1&&e.payload.splice(s,1)}}}),{setLegendSize:B1e,setLegendSettings:W1e,addLegendPayload:d8,removeLegendPayload:u8}=c8.actions,fie=c8.reducer;function p1(){return p1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},p1.apply(null,arguments)}function wT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function vj(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?wT(Object(s),!0).forEach(function(a){pie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):wT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function pie(e,r,s){return(r=gie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function gie(e){var r=xie(e,"string");return typeof r=="symbol"?r:r+""}function xie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function yie(e){return Array.isArray(e)&&Zi(e[0])&&Zi(e[1])?e.join(" ~ "):e}var vie=e=>{var{separator:r=" : ",contentStyle:s={},itemStyle:a={},labelStyle:n={},payload:i,formatter:o,itemSorter:l,wrapperClassName:d,labelClassName:m,label:h,labelFormatter:f,accessibilityLayer:g=!1}=e,y=()=>{if(i&&i.length){var A={padding:0,margin:0},T=(l?ry(i,l):i).map((E,R)=>{if(E.type==="none")return null;var $=E.formatter||o||yie,{value:K,name:M}=E,I=K,W=M;if($){var V=$(K,M,E,R,i);if(Array.isArray(V))[I,W]=V;else if(V!=null)I=V;else return null}var U=vj({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},a);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:U},Zi(W)?p.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Zi(W)?p.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,p.createElement("span",{className:"recharts-tooltip-item-value"},I),p.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:A},T)}return null},w=vj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),v=vj({margin:0},n),b=!Er(h),N=b?h:"",C=Zt("recharts-default-tooltip",d),S=Zt("recharts-tooltip-label",m);b&&f&&i!==void 0&&i!==null&&(N=f(h,i));var _=g?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",p1({className:C,style:w},_),p.createElement("p",{className:S,style:v},p.isValidElement(N)?N:"".concat(N)),y())},hh="recharts-tooltip-wrapper",bie={visibility:"hidden"};function wie(e){var{coordinate:r,translateX:s,translateY:a}=e;return Zt(hh,{["".concat(hh,"-right")]:Ve(s)&&r&&Ve(r.x)&&s>=r.x,["".concat(hh,"-left")]:Ve(s)&&r&&Ve(r.x)&&s<r.x,["".concat(hh,"-bottom")]:Ve(a)&&r&&Ve(r.y)&&a>=r.y,["".concat(hh,"-top")]:Ve(a)&&r&&Ve(r.y)&&a<r.y})}function jT(e){var{allowEscapeViewBox:r,coordinate:s,key:a,offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l,viewBox:d,viewBoxDimension:m}=e;if(i&&Ve(i[a]))return i[a];var h=s[a]-l-(n>0?n:0),f=s[a]+n;if(r[a])return o[a]?h:f;var g=d[a];if(g==null)return 0;if(o[a]){var y=h,w=g;return y<w?Math.max(f,g):Math.max(h,g)}if(m==null)return 0;var v=f+l,b=g+m;return v>b?Math.max(h,g):Math.max(f,g)}function jie(e){var{translateX:r,translateY:s,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(r,"px, ").concat(s,"px, 0)"):"translate(".concat(r,"px, ").concat(s,"px)")}}function Nie(e){var{allowEscapeViewBox:r,coordinate:s,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:d}=e,m,h,f;return o.height>0&&o.width>0&&s?(h=jT({allowEscapeViewBox:r,coordinate:s,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),f=jT({allowEscapeViewBox:r,coordinate:s,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),m=jie({translateX:h,translateY:f,useTranslate3d:l})):m=bie,{cssProperties:m,cssClasses:wie({translateX:h,translateY:f,coordinate:s})}}function NT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function $g(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?NT(Object(s),!0).forEach(function(a){g1(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):NT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function g1(e,r,s){return(r=Sie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Sie(e){var r=Cie(e,"string");return typeof r=="symbol"?r:r+""}function Cie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class kie extends p.PureComponent{constructor(){super(...arguments),g1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),g1(this,"handleKeyDown",r=>{if(r.key==="Escape"){var s,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&s!==void 0?s:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var r,s;this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:n,children:i,coordinate:o,hasPayload:l,isAnimationActive:d,offset:m,position:h,reverseDirection:f,useTranslate3d:g,viewBox:y,wrapperStyle:w,lastBoundingBox:v,innerRef:b,hasPortalFromProps:N}=this.props,{cssClasses:C,cssProperties:S}=Nie({allowEscapeViewBox:s,coordinate:o,offsetTopLeft:m,position:h,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:g,viewBox:y}),_=N?{}:$g($g({transition:d&&r?"transform ".concat(a,"ms ").concat(n):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&l?"visible":"hidden",position:"absolute",top:0,left:0}),A=$g($g({},_),{},{visibility:!this.state.dismissed&&r&&l?"visible":"hidden"},w);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:A,ref:b},i)}}var _ie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sc={isSsr:_ie()},m8=()=>st(e=>e.rootProps.accessibilityLayer);function ta(e){return Number.isFinite(e)}function qu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},x1.apply(null,arguments)}function ST(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function CT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ST(Object(s),!0).forEach(function(a){Pie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ST(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Pie(e,r,s){return(r=Aie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Aie(e){var r=Eie(e,"string");return typeof r=="symbol"?r:r+""}function Eie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var kT={curveBasisClosed:vse,curveBasisOpen:bse,curveBasis:yse,curveBumpX:ase,curveBumpY:nse,curveLinearClosed:wse,curveLinear:ey,curveMonotoneX:jse,curveMonotoneY:Nse,curveNatural:Sse,curveStep:Cse,curveStepAfter:_se,curveStepBefore:kse},zg=e=>ta(e.x)&&ta(e.y),fh=e=>e.x,ph=e=>e.y,Tie=(e,r)=>{if(typeof e=="function")return e;var s="curve".concat(Uf(e));return(s==="curveMonotone"||s==="curveBump")&&r?kT["".concat(s).concat(r==="vertical"?"Y":"X")]:kT[s]||ey},Oie=e=>{var{type:r="linear",points:s=[],baseLine:a,layout:n,connectNulls:i=!1}=e,o=Tie(r,n),l=i?s.filter(zg):s,d;if(Array.isArray(a)){var m=i?a.filter(f=>zg(f)):a,h=l.map((f,g)=>CT(CT({},f),{},{base:m[g]}));return n==="vertical"?d=Mg().y(ph).x1(fh).x0(f=>f.base.x):d=Mg().x(fh).y1(ph).y0(f=>f.base.y),d.defined(zg).curve(o),d(h)}return n==="vertical"&&Ve(a)?d=Mg().y(ph).x1(fh).x0(a):Ve(a)?d=Mg().x(fh).y1(ph).y0(a):d=aL().x(fh).y(ph),d.defined(zg).curve(o),d(l)},Ru=e=>{var{className:r,points:s,path:a,pathRef:n}=e;if((!s||!s.length)&&!a)return null;var i=s&&s.length?Oie(e):a;return p.createElement("path",x1({},Pi(e),m2(e),{className:Zt("recharts-curve",r),d:i===null?void 0:i,ref:n}))},Mie=["x","y","top","left","width","height","className"];function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},y1.apply(null,arguments)}function _T(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Rie(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?_T(Object(s),!0).forEach(function(a){Iie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_T(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Iie(e,r,s){return(r=Die(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Die(e){var r=Lie(e,"string");return typeof r=="symbol"?r:r+""}function Lie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function $ie(e,r){if(e==null)return{};var s,a,n=zie(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function zie(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Fie=(e,r,s,a,n,i)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(s),Uie=e=>{var{x:r=0,y:s=0,top:a=0,left:n=0,width:i=0,height:o=0,className:l}=e,d=$ie(e,Mie),m=Rie({x:r,y:s,top:a,left:n,width:i,height:o},d);return!Ve(r)||!Ve(s)||!Ve(i)||!Ve(o)||!Ve(a)||!Ve(n)?null:p.createElement("path",y1({},Ar(m,!0),{className:Zt("recharts-cross",l),d:Fie(r,s,i,o,a,n)}))};function Bie(e,r,s,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-n:s.left+.5,y:e==="horizontal"?s.top+.5:r.y-n,width:e==="horizontal"?a:s.width-1,height:e==="horizontal"?s.height-1:a}}function PT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Wie(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?PT(Object(s),!0).forEach(function(a){Vie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):PT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Vie(e,r,s){return(r=qie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function qie(e){var r=Hie(e,"string");return typeof r=="symbol"?r:r+""}function Hie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ra(e,r){var s=Wie({},e),a=r,n=Object.keys(r),i=n.reduce((o,l)=>(o[l]===void 0&&a[l]!==void 0&&(o[l]=a[l]),o),s);return i}var bj={},wj={},jj={},AT;function Kie(){return AT||(AT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){if(!s||typeof s!="object")return!1;const a=Object.getPrototypeOf(s);return a===null||a===Object.prototype||Object.getPrototypeOf(a)===null?Object.prototype.toString.call(s)==="[object Object]":!1}e.isPlainObject=r}(jj)),jj}var ET;function Gie(){return ET||(ET=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Kie(),s=bL(),a=v2(),n=b2(),i=x2();function o(m,h,f){return l(m,h,void 0,void 0,void 0,void 0,f)}function l(m,h,f,g,y,w,v){const b=v(m,h,f,g,y,w);if(b!==void 0)return b;if(typeof m==typeof h)switch(typeof m){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return m===h;case"number":return m===h||Object.is(m,h);case"function":return m===h;case"object":return d(m,h,w,v)}return d(m,h,w,v)}function d(m,h,f,g){if(Object.is(m,h))return!0;let y=a.getTag(m),w=a.getTag(h);if(y===n.argumentsTag&&(y=n.objectTag),w===n.argumentsTag&&(w=n.objectTag),y!==w)return!1;switch(y){case n.stringTag:return m.toString()===h.toString();case n.numberTag:{const N=m.valueOf(),C=h.valueOf();return i.eq(N,C)}case n.booleanTag:case n.dateTag:case n.symbolTag:return Object.is(m.valueOf(),h.valueOf());case n.regexpTag:return m.source===h.source&&m.flags===h.flags;case n.functionTag:return m===h}f=f??new Map;const v=f.get(m),b=f.get(h);if(v!=null&&b!=null)return v===h;f.set(m,h),f.set(h,m);try{switch(y){case n.mapTag:{if(m.size!==h.size)return!1;for(const[N,C]of m.entries())if(!h.has(N)||!l(C,h.get(N),N,m,h,f,g))return!1;return!0}case n.setTag:{if(m.size!==h.size)return!1;const N=Array.from(m.values()),C=Array.from(h.values());for(let S=0;S<N.length;S++){const _=N[S],A=C.findIndex(T=>l(_,T,void 0,m,h,f,g));if(A===-1)return!1;C.splice(A,1)}return!0}case n.arrayTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:case n.bigUint64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.bigInt64ArrayTag:case n.float32ArrayTag:case n.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(m)!==Buffer.isBuffer(h)||m.length!==h.length)return!1;for(let N=0;N<m.length;N++)if(!l(m[N],h[N],N,m,h,f,g))return!1;return!0}case n.arrayBufferTag:return m.byteLength!==h.byteLength?!1:d(new Uint8Array(m),new Uint8Array(h),f,g);case n.dataViewTag:return m.byteLength!==h.byteLength||m.byteOffset!==h.byteOffset?!1:d(new Uint8Array(m),new Uint8Array(h),f,g);case n.errorTag:return m.name===h.name&&m.message===h.message;case n.objectTag:{if(!(d(m.constructor,h.constructor,f,g)||r.isPlainObject(m)&&r.isPlainObject(h)))return!1;const C=[...Object.keys(m),...s.getSymbols(m)],S=[...Object.keys(h),...s.getSymbols(h)];if(C.length!==S.length)return!1;for(let _=0;_<C.length;_++){const A=C[_],T=m[A];if(!Object.hasOwn(h,A))return!1;const E=h[A];if(!l(T,E,A,m,h,f,g))return!1}return!0}default:return!1}}finally{f.delete(m),f.delete(h)}}e.isEqualWith=o}(wj)),wj}var Nj={},TT;function Yie(){return TT||(TT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(){}e.noop=r}(Nj)),Nj}var OT;function Jie(){return OT||(OT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Gie(),s=Yie();function a(n,i){return r.isEqualWith(n,i,s.noop)}e.isEqual=a}(bj)),bj}var Sj,MT;function Xie(){return MT||(MT=1,Sj=Jie().isEqual),Sj}var Qie=Xie();const Zie=vn(Qie);var W0=1e-4,h8=(e,r)=>[0,3*e,3*r-6*e,3*e-3*r+1],f8=(e,r)=>e.map((s,a)=>s*r**a).reduce((s,a)=>s+a),RT=(e,r)=>s=>{var a=h8(e,r);return f8(a,s)},eoe=(e,r)=>s=>{var a=h8(e,r),n=[...a.map((i,o)=>i*o).slice(1),0];return f8(n,s)},IT=function(){for(var r,s,a,n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[r,a,s,n]=[0,0,1,1];break;case"ease":[r,a,s,n]=[.25,.1,.25,1];break;case"ease-in":[r,a,s,n]=[.42,0,1,1];break;case"ease-out":[r,a,s,n]=[.42,0,.58,1];break;case"ease-in-out":[r,a,s,n]=[0,0,.58,1];break;default:{var d=o[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([r,a,s,n]=d[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else o.length===4&&([r,a,s,n]=o);var m=RT(r,s),h=RT(a,n),f=eoe(r,s),g=w=>w>1?1:w<0?0:w,y=w=>{for(var v=w>1?1:w,b=v,N=0;N<8;++N){var C=m(b)-v,S=f(b);if(Math.abs(C-v)<W0||S<W0)return h(b);b=g(b-C/S)}return h(b)};return y.isStepper=!1,y},toe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:s=100,damping:a=8,dt:n=17}=r,i=(o,l,d)=>{var m=-(o-l)*s,h=d*a,f=d+(m-h)*n/1e3,g=d*n/1e3+o;return Math.abs(g-l)<W0&&Math.abs(f)<W0?[l,0]:[g,f]};return i.isStepper=!0,i.dt=n,i},p8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return IT(e);case"spring":return toe();default:if(e.split("(")[0]==="cubic-bezier")return IT(e)}return typeof e=="function"?e:null};function DT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function LT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?DT(Object(s),!0).forEach(function(a){roe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):DT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function roe(e,r,s){return(r=soe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function soe(e){var r=aoe(e,"string");return typeof r=="symbol"?r:r+""}function aoe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var noe=e=>e.replace(/([A-Z])/g,r=>"-".concat(r.toLowerCase())),ioe=(e,r,s)=>e.map(a=>"".concat(noe(a)," ").concat(r,"ms ").concat(s)).join(","),ooe=(e,r)=>[Object.keys(e),Object.keys(r)].reduce((s,a)=>s.filter(n=>a.includes(n))),rf=(e,r)=>Object.keys(r).reduce((s,a)=>LT(LT({},s),{},{[a]:e(a,r[a])}),{});function $T(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Xs(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?$T(Object(s),!0).forEach(function(a){loe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$T(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function loe(e,r,s){return(r=coe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function coe(e){var r=doe(e,"string");return typeof r=="symbol"?r:r+""}function doe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var V0=(e,r,s)=>e+(r-e)*s,v1=e=>{var{from:r,to:s}=e;return r!==s},g8=(e,r,s)=>{var a=rf((n,i)=>{if(v1(i)){var[o,l]=e(i.from,i.to,i.velocity);return Xs(Xs({},i),{},{from:o,velocity:l})}return i},r);return s<1?rf((n,i)=>v1(i)?Xs(Xs({},i),{},{velocity:V0(i.velocity,a[n].velocity,s),from:V0(i.from,a[n].from,s)}):i,r):g8(e,a,s-1)};function uoe(e,r,s,a,n,i){var o,l=a.reduce((g,y)=>Xs(Xs({},g),{},{[y]:{from:e[y],velocity:0,to:r[y]}}),{}),d=()=>rf((g,y)=>y.from,l),m=()=>!Object.values(l).filter(v1).length,h=null,f=g=>{o||(o=g);var y=g-o,w=y/s.dt;l=g8(s,l,w),n(Xs(Xs(Xs({},e),r),d())),o=g,m()||(h=i.setTimeout(f))};return()=>(h=i.setTimeout(f),()=>{h()})}function moe(e,r,s,a,n,i,o){var l=null,d=n.reduce((f,g)=>Xs(Xs({},f),{},{[g]:[e[g],r[g]]}),{}),m,h=f=>{m||(m=f);var g=(f-m)/a,y=rf((v,b)=>V0(...b,s(g)),d);if(i(Xs(Xs(Xs({},e),r),y)),g<1)l=o.setTimeout(h);else{var w=rf((v,b)=>V0(...b,s(1)),d);i(Xs(Xs(Xs({},e),r),w))}};return()=>(l=o.setTimeout(h),()=>{l()})}const x8=(e,r,s,a,n,i)=>{var o=ooe(e,r);return s.isStepper===!0?uoe(e,r,s,o,n,i):moe(e,r,s,a,o,n,i)};function hoe(e){var r,s=()=>null,a=!1,n=null,i=o=>{if(!a){if(Array.isArray(o)){if(!o.length)return;var l=o,[d,...m]=l;if(typeof d=="number"){n=e.setTimeout(i.bind(null,m),d);return}i(d),n=e.setTimeout(i.bind(null,m));return}typeof o=="string"&&(r=o,s(r)),typeof o=="object"&&(r=o,s(r)),typeof o=="function"&&o()}};return{stop:()=>{a=!0},start:o=>{a=!1,n&&(n(),n=null),i(o)},subscribe:o=>(s=o,()=>{s=()=>null}),getTimeoutController:()=>e}}class foe{setTimeout(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=o=>{o-a>=s?r(o):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function poe(){return hoe(new foe)}var goe=p.createContext(poe);function y8(e,r){var s=p.useContext(goe);return p.useMemo(()=>r??s(e),[e,r,s])}var xoe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},b1.apply(null,arguments)}function yoe(e,r){if(e==null)return{};var s,a,n=voe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function voe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function zT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function kl(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?zT(Object(s),!0).forEach(function(a){Bc(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):zT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Bc(e,r,s){return(r=boe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function boe(e){var r=woe(e,"string");return typeof r=="symbol"?r:r+""}function woe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class E2 extends p.PureComponent{constructor(r,s){super(r,s),Bc(this,"mounted",!1),Bc(this,"manager",void 0),Bc(this,"stopJSAnimation",null),Bc(this,"unSubscribe",null);var{isActive:a,attributeName:n,from:i,to:o,children:l,duration:d,animationManager:m}=this.props;if(this.manager=m,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!a||d<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:o});return}if(i){if(typeof l=="function"){this.state={style:i};return}this.state={style:n?{[n]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:r,canBegin:s}=this.props;this.mounted=!0,!(!r||!s)&&this.runAnimation(this.props)}componentDidUpdate(r){var{isActive:s,canBegin:a,attributeName:n,shouldReAnimate:i,to:o,from:l}=this.props,{style:d}=this.state;if(a){if(!s){var m={style:n?{[n]:o}:o};this.state&&d&&(n&&d[n]!==o||!n&&d!==o)&&this.setState(m);return}if(!(Zie(r.to,o)&&r.canBegin&&r.isActive)){var h=!r.canBegin||!r.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=h||i?l:r.to;if(this.state&&d){var g={style:n?{[n]:f}:f};(n&&d[n]!==f||!n&&d!==f)&&this.setState(g)}this.runAnimation(kl(kl({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:r}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),r&&r()}handleStyleChange(r){this.changeStyle(r)}changeStyle(r){this.mounted&&this.setState({style:r})}runJSAnimation(r){var{from:s,to:a,duration:n,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:d}=r,m=x8(s,a,p8(i),n,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=m()};this.manager.start([d,o,h,n,l])}runAnimation(r){var{begin:s,duration:a,attributeName:n,to:i,easing:o,onAnimationStart:l,onAnimationEnd:d,children:m}=r;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof m=="function"||o==="spring"){this.runJSAnimation(r);return}var h=n?{[n]:i}:i,f=ioe(Object.keys(h),a,o);this.manager.start([l,s,kl(kl({},h),{},{transition:f}),a,d])}render(){var r=this.props,{children:s,begin:a,duration:n,attributeName:i,easing:o,isActive:l,from:d,to:m,canBegin:h,onAnimationEnd:f,shouldReAnimate:g,onAnimationReStart:y,animationManager:w}=r,v=yoe(r,xoe),b=p.Children.count(s),N=this.state.style;if(typeof s=="function")return s(N);if(!l||b===0||n<=0)return s;var C=S=>{var{style:_={},className:A}=S.props,T=p.cloneElement(S,kl(kl({},v),{},{style:kl(kl({},_),N),className:A}));return T};return b===1?C(p.Children.only(s)):p.createElement("div",null,p.Children.map(s,S=>C(S)))}}Bc(E2,"displayName","Animate");Bc(E2,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function q0(e){var r,s=y8((r=e.attributeName)!==null&&r!==void 0?r:Object.keys(e.to).join(","),e.animationManager);return p.createElement(E2,b1({},e,{animationManager:s}))}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},H0.apply(null,arguments)}var FT=(e,r,s,a,n)=>{var i=Math.min(Math.abs(s)/2,Math.abs(a)/2),o=a>=0?1:-1,l=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,m;if(i>0&&n instanceof Array){for(var h=[0,0,0,0],f=0,g=4;f<g;f++)h[f]=n[f]>i?i:n[f];m="M".concat(e,",").concat(r+o*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+l*h[0],",").concat(r)),m+="L ".concat(e+s-l*h[1],",").concat(r),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+s,",").concat(r+o*h[1])),m+="L ".concat(e+s,",").concat(r+a-o*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+s-l*h[2],",").concat(r+a)),m+="L ".concat(e+l*h[3],",").concat(r+a),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+a-o*h[3])),m+="Z"}else if(i>0&&n===+n&&n>0){var y=Math.min(i,n);m="M ".concat(e,",").concat(r+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+l*y,",").concat(r,`
            L `).concat(e+s-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+s,",").concat(r+o*y,`
            L `).concat(e+s,",").concat(r+a-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+s-l*y,",").concat(r+a,`
            L `).concat(e+l*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(r+a-o*y," Z")}else m="M ".concat(e,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return m},joe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},v8=e=>{var r=Ra(e,joe),s=p.useRef(null),[a,n]=p.useState(-1);p.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var N=s.current.getTotalLength();N&&n(N)}catch{}},[]);var{x:i,y:o,width:l,height:d,radius:m,className:h}=r,{animationEasing:f,animationDuration:g,animationBegin:y,isAnimationActive:w,isUpdateAnimationActive:v}=r;if(i!==+i||o!==+o||l!==+l||d!==+d||l===0||d===0)return null;var b=Zt("recharts-rectangle",h);return v?p.createElement(q0,{canBegin:a>0,from:{width:l,height:d,x:i,y:o},to:{width:l,height:d,x:i,y:o},duration:g,animationEasing:f,isActive:v},N=>{var{width:C,height:S,x:_,y:A}=N;return p.createElement(q0,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:w,easing:f},p.createElement("path",H0({},Ar(r,!0),{className:b,d:FT(_,A,C,S,m),ref:s})))}):p.createElement("path",H0({},Ar(r,!0),{className:b,d:FT(i,o,l,d,m)}))};function b8(e){var{cx:r,cy:s,radius:a,startAngle:n,endAngle:i}=e,o=gs(r,s,a,n),l=gs(r,s,a,i);return{points:[o,l],cx:r,cy:s,radius:a,startAngle:n,endAngle:i}}function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},w1.apply(null,arguments)}var Noe=(e,r)=>{var s=Us(r-e),a=Math.min(Math.abs(r-e),359.999);return s*a},Fg=e=>{var{cx:r,cy:s,radius:a,angle:n,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:d}=e,m=l*(o?1:-1)+a,h=Math.asin(l/m)/U0,f=d?n:n+i*h,g=gs(r,s,m,f),y=gs(r,s,a,f),w=d?n-i*h:n,v=gs(r,s,m*Math.cos(h*U0),w);return{center:g,circleTangency:y,lineTangency:v,theta:h}},w8=e=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:i,endAngle:o}=e,l=Noe(i,o),d=i+l,m=gs(r,s,n,i),h=gs(r,s,n,d),f="M ".concat(m.x,",").concat(m.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var g=gs(r,s,a,i),y=gs(r,s,a,d);f+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else f+="L ".concat(r,",").concat(s," Z");return f},Soe=e=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:d,endAngle:m}=e,h=Us(m-d),{circleTangency:f,lineTangency:g,theta:y}=Fg({cx:r,cy:s,radius:n,angle:d,sign:h,cornerRadius:i,cornerIsExternal:l}),{circleTangency:w,lineTangency:v,theta:b}=Fg({cx:r,cy:s,radius:n,angle:m,sign:-h,cornerRadius:i,cornerIsExternal:l}),N=l?Math.abs(d-m):Math.abs(d-m)-y-b;if(N<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):w8({cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:d,endAngle:m});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var{circleTangency:S,lineTangency:_,theta:A}=Fg({cx:r,cy:s,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:T,lineTangency:E,theta:R}=Fg({cx:r,cy:s,radius:a,angle:m,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),$=l?Math.abs(d-m):Math.abs(d-m)-A-R;if($<0&&i===0)return"".concat(C,"L").concat(r,",").concat(s,"Z");C+="L".concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(h>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,"Z")}else C+="L".concat(r,",").concat(s,"Z");return C},Coe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},j8=e=>{var r=Ra(e,Coe),{cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:d,startAngle:m,endAngle:h,className:f}=r;if(i<n||m===h)return null;var g=Zt("recharts-sector",f),y=i-n,w=Ta(o,y,0,!0),v;return w>0&&Math.abs(m-h)<360?v=Soe({cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(w,y/2),forceCornerRadius:l,cornerIsExternal:d,startAngle:m,endAngle:h}):v=w8({cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:m,endAngle:h}),p.createElement("path",w1({},Ar(r,!0),{className:g,d:v}))};function koe(e,r,s){var a,n,i,o;if(e==="horizontal")a=r.x,i=a,n=s.top,o=s.top+s.height;else if(e==="vertical")n=r.y,o=n,a=s.left,i=s.left+s.width;else if(r.cx!=null&&r.cy!=null)if(e==="centric"){var{cx:l,cy:d,innerRadius:m,outerRadius:h,angle:f}=r,g=gs(l,d,m,f),y=gs(l,d,h,f);a=g.x,n=g.y,i=y.x,o=y.y}else return b8(r);return[{x:a,y:n},{x:i,y:o}]}var Cj={},kj={},_j={},UT;function _oe(){return UT||(UT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=SL();function s(a){return r.isSymbol(a)?NaN:Number(a)}e.toNumber=s}(_j)),_j}var BT;function Poe(){return BT||(BT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=_oe();function s(a){return a?(a=r.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=s}(kj)),kj}var WT;function Aoe(){return WT||(WT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=CL(),s=Poe();function a(n,i,o){o&&typeof o!="number"&&r.isIterateeCall(n,i,o)&&(i=o=void 0),n=s.toFinite(n),i===void 0?(i=n,n=0):i=s.toFinite(i),o=o===void 0?n<i?1:-1:s.toFinite(o);const l=Math.max(Math.ceil((i-n)/(o||1)),0),d=new Array(l);for(let m=0;m<l;m++)d[m]=n,n+=o;return d}e.range=a}(Cj)),Cj}var Pj,VT;function Eoe(){return VT||(VT=1,Pj=Aoe().range),Pj}var Toe=Eoe();const N8=vn(Toe);function Ul(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function Ooe(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function T2(e){let r,s,a;e.length!==2?(r=Ul,s=(l,d)=>Ul(e(l),d),a=(l,d)=>e(l)-d):(r=e===Ul||e===Ooe?e:Moe,s=e,a=e);function n(l,d,m=0,h=l.length){if(m<h){if(r(d,d)!==0)return h;do{const f=m+h>>>1;s(l[f],d)<0?m=f+1:h=f}while(m<h)}return m}function i(l,d,m=0,h=l.length){if(m<h){if(r(d,d)!==0)return h;do{const f=m+h>>>1;s(l[f],d)<=0?m=f+1:h=f}while(m<h)}return m}function o(l,d,m=0,h=l.length){const f=n(l,d,m,h-1);return f>m&&a(l[f-1],d)>-a(l[f],d)?f-1:f}return{left:n,center:o,right:i}}function Moe(){return 0}function S8(e){return e===null?NaN:+e}function*Roe(e,r){for(let s of e)s!=null&&(s=+s)>=s&&(yield s)}const Ioe=T2(Ul),qf=Ioe.right;T2(S8).center;class qT extends Map{constructor(r,s=$oe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),r!=null)for(const[a,n]of r)this.set(a,n)}get(r){return super.get(HT(this,r))}has(r){return super.has(HT(this,r))}set(r,s){return super.set(Doe(this,r),s)}delete(r){return super.delete(Loe(this,r))}}function HT({_intern:e,_key:r},s){const a=r(s);return e.has(a)?e.get(a):s}function Doe({_intern:e,_key:r},s){const a=r(s);return e.has(a)?e.get(a):(e.set(a,s),s)}function Loe({_intern:e,_key:r},s){const a=r(s);return e.has(a)&&(s=e.get(a),e.delete(a)),s}function $oe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zoe(e=Ul){if(e===Ul)return C8;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,s)=>{const a=e(r,s);return a||a===0?a:(e(s,s)===0)-(e(r,r)===0)}}function C8(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const Foe=Math.sqrt(50),Uoe=Math.sqrt(10),Boe=Math.sqrt(2);function K0(e,r,s){const a=(r-e)/Math.max(0,s),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),o=i>=Foe?10:i>=Uoe?5:i>=Boe?2:1;let l,d,m;return n<0?(m=Math.pow(10,-n)/o,l=Math.round(e*m),d=Math.round(r*m),l/m<e&&++l,d/m>r&&--d,m=-m):(m=Math.pow(10,n)*o,l=Math.round(e/m),d=Math.round(r/m),l*m<e&&++l,d*m>r&&--d),d<l&&.5<=s&&s<2?K0(e,r,s*2):[l,d,m]}function j1(e,r,s){if(r=+r,e=+e,s=+s,!(s>0))return[];if(e===r)return[e];const a=r<e,[n,i,o]=a?K0(r,e,s):K0(e,r,s);if(!(i>=n))return[];const l=i-n+1,d=new Array(l);if(a)if(o<0)for(let m=0;m<l;++m)d[m]=(i-m)/-o;else for(let m=0;m<l;++m)d[m]=(i-m)*o;else if(o<0)for(let m=0;m<l;++m)d[m]=(n+m)/-o;else for(let m=0;m<l;++m)d[m]=(n+m)*o;return d}function N1(e,r,s){return r=+r,e=+e,s=+s,K0(e,r,s)[2]}function S1(e,r,s){r=+r,e=+e,s=+s;const a=r<e,n=a?N1(r,e,s):N1(e,r,s);return(a?-1:1)*(n<0?1/-n:n)}function KT(e,r){let s;for(const a of e)a!=null&&(s<a||s===void 0&&a>=a)&&(s=a);return s}function GT(e,r){let s;for(const a of e)a!=null&&(s>a||s===void 0&&a>=a)&&(s=a);return s}function k8(e,r,s=0,a=1/0,n){if(r=Math.floor(r),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(e.length-1,a)),!(s<=r&&r<=a))return e;for(n=n===void 0?C8:zoe(n);a>s;){if(a-s>600){const d=a-s+1,m=r-s+1,h=Math.log(d),f=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*f*(d-f)/d)*(m-d/2<0?-1:1),y=Math.max(s,Math.floor(r-m*f/d+g)),w=Math.min(a,Math.floor(r+(d-m)*f/d+g));k8(e,r,y,w,n)}const i=e[r];let o=s,l=a;for(gh(e,s,r),n(e[a],i)>0&&gh(e,s,a);o<l;){for(gh(e,o,l),++o,--l;n(e[o],i)<0;)++o;for(;n(e[l],i)>0;)--l}n(e[s],i)===0?gh(e,s,l):(++l,gh(e,l,a)),l<=r&&(s=l+1),r<=l&&(a=l-1)}return e}function gh(e,r,s){const a=e[r];e[r]=e[s],e[s]=a}function Woe(e,r,s){if(e=Float64Array.from(Roe(e)),!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return GT(e);if(r>=1)return KT(e);var a,n=(a-1)*r,i=Math.floor(n),o=KT(k8(e,i).subarray(0,i+1)),l=GT(e.subarray(i+1));return o+(l-o)*(n-i)}}function Voe(e,r,s=S8){if(!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return+s(e[0],0,e);if(r>=1)return+s(e[a-1],a-1,e);var a,n=(a-1)*r,i=Math.floor(n),o=+s(e[i],i,e),l=+s(e[i+1],i+1,e);return o+(l-o)*(n-i)}}function qoe(e,r,s){e=+e,r=+r,s=(n=arguments.length)<2?(r=e,e=0,1):n<3?1:+s;for(var a=-1,n=Math.max(0,Math.ceil((r-e)/s))|0,i=new Array(n);++a<n;)i[a]=e+a*s;return i}function Xn(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function Yo(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const C1=Symbol("implicit");function O2(){var e=new qT,r=[],s=[],a=C1;function n(i){let o=e.get(i);if(o===void 0){if(a!==C1)return a;e.set(i,o=r.push(i)-1)}return s[o%s.length]}return n.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new qT;for(const o of i)e.has(o)||e.set(o,r.push(o)-1);return n},n.range=function(i){return arguments.length?(s=Array.from(i),n):s.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return O2(r,s).unknown(a)},Xn.apply(n,arguments),n}function M2(){var e=O2().unknown(void 0),r=e.domain,s=e.range,a=0,n=1,i,o,l=!1,d=0,m=0,h=.5;delete e.unknown;function f(){var g=r().length,y=n<a,w=y?n:a,v=y?a:n;i=(v-w)/Math.max(1,g-d+m*2),l&&(i=Math.floor(i)),w+=(v-w-i*(g-d))*h,o=i*(1-d),l&&(w=Math.round(w),o=Math.round(o));var b=qoe(g).map(function(N){return w+i*N});return s(y?b.reverse():b)}return e.domain=function(g){return arguments.length?(r(g),f()):r()},e.range=function(g){return arguments.length?([a,n]=g,a=+a,n=+n,f()):[a,n]},e.rangeRound=function(g){return[a,n]=g,a=+a,n=+n,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(g){return arguments.length?(l=!!g,f()):l},e.padding=function(g){return arguments.length?(d=Math.min(1,m=+g),f()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),f()):d},e.paddingOuter=function(g){return arguments.length?(m=+g,f()):m},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),f()):h},e.copy=function(){return M2(r(),[a,n]).round(l).paddingInner(d).paddingOuter(m).align(h)},Xn.apply(f(),arguments)}function _8(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _8(r())},e}function Hoe(){return _8(M2.apply(null,arguments).paddingInner(1))}function R2(e,r,s){e.prototype=r.prototype=s,s.constructor=e}function P8(e,r){var s=Object.create(e.prototype);for(var a in r)s[a]=r[a];return s}function Hf(){}var sf=.7,G0=1/sf,Iu="\\s*([+-]?\\d+)\\s*",af="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Koe=/^#([0-9a-f]{3,8})$/,Goe=new RegExp(`^rgb\\(${Iu},${Iu},${Iu}\\)$`),Yoe=new RegExp(`^rgb\\(${Gi},${Gi},${Gi}\\)$`),Joe=new RegExp(`^rgba\\(${Iu},${Iu},${Iu},${af}\\)$`),Xoe=new RegExp(`^rgba\\(${Gi},${Gi},${Gi},${af}\\)$`),Qoe=new RegExp(`^hsl\\(${af},${Gi},${Gi}\\)$`),Zoe=new RegExp(`^hsla\\(${af},${Gi},${Gi},${af}\\)$`),YT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};R2(Hf,nf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:JT,formatHex:JT,formatHex8:ele,formatHsl:tle,formatRgb:XT,toString:XT});function JT(){return this.rgb().formatHex()}function ele(){return this.rgb().formatHex8()}function tle(){return A8(this).formatHsl()}function XT(){return this.rgb().formatRgb()}function nf(e){var r,s;return e=(e+"").trim().toLowerCase(),(r=Koe.exec(e))?(s=r[1].length,r=parseInt(r[1],16),s===6?QT(r):s===3?new Ka(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):s===8?Ug(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):s===4?Ug(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Goe.exec(e))?new Ka(r[1],r[2],r[3],1):(r=Yoe.exec(e))?new Ka(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Joe.exec(e))?Ug(r[1],r[2],r[3],r[4]):(r=Xoe.exec(e))?Ug(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Qoe.exec(e))?t5(r[1],r[2]/100,r[3]/100,1):(r=Zoe.exec(e))?t5(r[1],r[2]/100,r[3]/100,r[4]):YT.hasOwnProperty(e)?QT(YT[e]):e==="transparent"?new Ka(NaN,NaN,NaN,0):null}function QT(e){return new Ka(e>>16&255,e>>8&255,e&255,1)}function Ug(e,r,s,a){return a<=0&&(e=r=s=NaN),new Ka(e,r,s,a)}function rle(e){return e instanceof Hf||(e=nf(e)),e?(e=e.rgb(),new Ka(e.r,e.g,e.b,e.opacity)):new Ka}function k1(e,r,s,a){return arguments.length===1?rle(e):new Ka(e,r,s,a??1)}function Ka(e,r,s,a){this.r=+e,this.g=+r,this.b=+s,this.opacity=+a}R2(Ka,k1,P8(Hf,{brighter(e){return e=e==null?G0:Math.pow(G0,e),new Ka(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sf:Math.pow(sf,e),new Ka(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ka(Xc(this.r),Xc(this.g),Xc(this.b),Y0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZT,formatHex:ZT,formatHex8:sle,formatRgb:e5,toString:e5}));function ZT(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}`}function sle(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}${Wc((isNaN(this.opacity)?1:this.opacity)*255)}`}function e5(){const e=Y0(this.opacity);return`${e===1?"rgb(":"rgba("}${Xc(this.r)}, ${Xc(this.g)}, ${Xc(this.b)}${e===1?")":`, ${e})`}`}function Y0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wc(e){return e=Xc(e),(e<16?"0":"")+e.toString(16)}function t5(e,r,s,a){return a<=0?e=r=s=NaN:s<=0||s>=1?e=r=NaN:r<=0&&(e=NaN),new vi(e,r,s,a)}function A8(e){if(e instanceof vi)return new vi(e.h,e.s,e.l,e.opacity);if(e instanceof Hf||(e=nf(e)),!e)return new vi;if(e instanceof vi)return e;e=e.rgb();var r=e.r/255,s=e.g/255,a=e.b/255,n=Math.min(r,s,a),i=Math.max(r,s,a),o=NaN,l=i-n,d=(i+n)/2;return l?(r===i?o=(s-a)/l+(s<a)*6:s===i?o=(a-r)/l+2:o=(r-s)/l+4,l/=d<.5?i+n:2-i-n,o*=60):l=d>0&&d<1?0:o,new vi(o,l,d,e.opacity)}function ale(e,r,s,a){return arguments.length===1?A8(e):new vi(e,r,s,a??1)}function vi(e,r,s,a){this.h=+e,this.s=+r,this.l=+s,this.opacity=+a}R2(vi,ale,P8(Hf,{brighter(e){return e=e==null?G0:Math.pow(G0,e),new vi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sf:Math.pow(sf,e),new vi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*r,n=2*s-a;return new Ka(Aj(e>=240?e-240:e+120,n,a),Aj(e,n,a),Aj(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new vi(r5(this.h),Bg(this.s),Bg(this.l),Y0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Y0(this.opacity);return`${e===1?"hsl(":"hsla("}${r5(this.h)}, ${Bg(this.s)*100}%, ${Bg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function r5(e){return e=(e||0)%360,e<0?e+360:e}function Bg(e){return Math.max(0,Math.min(1,e||0))}function Aj(e,r,s){return(e<60?r+(s-r)*e/60:e<180?s:e<240?r+(s-r)*(240-e)/60:r)*255}const I2=e=>()=>e;function nle(e,r){return function(s){return e+s*r}}function ile(e,r,s){return e=Math.pow(e,s),r=Math.pow(r,s)-e,s=1/s,function(a){return Math.pow(e+a*r,s)}}function ole(e){return(e=+e)==1?E8:function(r,s){return s-r?ile(r,s,e):I2(isNaN(r)?s:r)}}function E8(e,r){var s=r-e;return s?nle(e,s):I2(isNaN(e)?r:e)}const s5=function e(r){var s=ole(r);function a(n,i){var o=s((n=k1(n)).r,(i=k1(i)).r),l=s(n.g,i.g),d=s(n.b,i.b),m=E8(n.opacity,i.opacity);return function(h){return n.r=o(h),n.g=l(h),n.b=d(h),n.opacity=m(h),n+""}}return a.gamma=e,a}(1);function lle(e,r){r||(r=[]);var s=e?Math.min(r.length,e.length):0,a=r.slice(),n;return function(i){for(n=0;n<s;++n)a[n]=e[n]*(1-i)+r[n]*i;return a}}function cle(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dle(e,r){var s=r?r.length:0,a=e?Math.min(s,e.length):0,n=new Array(a),i=new Array(s),o;for(o=0;o<a;++o)n[o]=cm(e[o],r[o]);for(;o<s;++o)i[o]=r[o];return function(l){for(o=0;o<a;++o)i[o]=n[o](l);return i}}function ule(e,r){var s=new Date;return e=+e,r=+r,function(a){return s.setTime(e*(1-a)+r*a),s}}function J0(e,r){return e=+e,r=+r,function(s){return e*(1-s)+r*s}}function mle(e,r){var s={},a={},n;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in e?s[n]=cm(e[n],r[n]):a[n]=r[n];return function(i){for(n in s)a[n]=s[n](i);return a}}var _1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ej=new RegExp(_1.source,"g");function hle(e){return function(){return e}}function fle(e){return function(r){return e(r)+""}}function ple(e,r){var s=_1.lastIndex=Ej.lastIndex=0,a,n,i,o=-1,l=[],d=[];for(e=e+"",r=r+"";(a=_1.exec(e))&&(n=Ej.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(n=n[0])?l[o]?l[o]+=n:l[++o]=n:(l[++o]=null,d.push({i:o,x:J0(a,n)})),s=Ej.lastIndex;return s<r.length&&(i=r.slice(s),l[o]?l[o]+=i:l[++o]=i),l.length<2?d[0]?fle(d[0].x):hle(r):(r=d.length,function(m){for(var h=0,f;h<r;++h)l[(f=d[h]).i]=f.x(m);return l.join("")})}function cm(e,r){var s=typeof r,a;return r==null||s==="boolean"?I2(r):(s==="number"?J0:s==="string"?(a=nf(r))?(r=a,s5):ple:r instanceof nf?s5:r instanceof Date?ule:cle(r)?lle:Array.isArray(r)?dle:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?mle:J0)(e,r)}function D2(e,r){return e=+e,r=+r,function(s){return Math.round(e*(1-s)+r*s)}}function gle(e,r){r===void 0&&(r=e,e=cm);for(var s=0,a=r.length-1,n=r[0],i=new Array(a<0?0:a);s<a;)i[s]=e(n,n=r[++s]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function xle(e){return function(){return e}}function X0(e){return+e}var a5=[0,1];function Ea(e){return e}function P1(e,r){return(r-=e=+e)?function(s){return(s-e)/r}:xle(isNaN(r)?NaN:.5)}function yle(e,r){var s;return e>r&&(s=e,e=r,r=s),function(a){return Math.max(e,Math.min(r,a))}}function vle(e,r,s){var a=e[0],n=e[1],i=r[0],o=r[1];return n<a?(a=P1(n,a),i=s(o,i)):(a=P1(a,n),i=s(i,o)),function(l){return i(a(l))}}function ble(e,r,s){var a=Math.min(e.length,r.length)-1,n=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<a;)n[o]=P1(e[o],e[o+1]),i[o]=s(r[o],r[o+1]);return function(l){var d=qf(e,l,1,a)-1;return i[d](n[d](l))}}function Kf(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function my(){var e=a5,r=a5,s=cm,a,n,i,o=Ea,l,d,m;function h(){var g=Math.min(e.length,r.length);return o!==Ea&&(o=yle(e[0],e[g-1])),l=g>2?ble:vle,d=m=null,f}function f(g){return g==null||isNaN(g=+g)?i:(d||(d=l(e.map(a),r,s)))(a(o(g)))}return f.invert=function(g){return o(n((m||(m=l(r,e.map(a),J0)))(g)))},f.domain=function(g){return arguments.length?(e=Array.from(g,X0),h()):e.slice()},f.range=function(g){return arguments.length?(r=Array.from(g),h()):r.slice()},f.rangeRound=function(g){return r=Array.from(g),s=D2,h()},f.clamp=function(g){return arguments.length?(o=g?!0:Ea,h()):o!==Ea},f.interpolate=function(g){return arguments.length?(s=g,h()):s},f.unknown=function(g){return arguments.length?(i=g,f):i},function(g,y){return a=g,n=y,h()}}function L2(){return my()(Ea,Ea)}function wle(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Q0(e,r){if((s=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var s,a=e.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+e.slice(s+1)]}function Hu(e){return e=Q0(Math.abs(e)),e?e[1]:NaN}function jle(e,r){return function(s,a){for(var n=s.length,i=[],o=0,l=e[0],d=0;n>0&&l>0&&(d+l+1>a&&(l=Math.max(1,a-d)),i.push(s.substring(n-=l,n+l)),!((d+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(r)}}function Nle(e){return function(r){return r.replace(/[0-9]/g,function(s){return e[+s]})}}var Sle=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function of(e){if(!(r=Sle.exec(e)))throw new Error("invalid format: "+e);var r;return new $2({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}of.prototype=$2.prototype;function $2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cle(e){e:for(var r=e.length,s=1,a=-1,n;s<r;++s)switch(e[s]){case".":a=n=s;break;case"0":a===0&&(a=s),n=s;break;default:if(!+e[s])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var T8;function kle(e,r){var s=Q0(e,r);if(!s)return e+"";var a=s[0],n=s[1],i=n-(T8=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Q0(e,Math.max(0,r+i-1))[0]}function n5(e,r){var s=Q0(e,r);if(!s)return e+"";var a=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const i5={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wle,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>n5(e*100,r),r:n5,s:kle,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function o5(e){return e}var l5=Array.prototype.map,c5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _le(e){var r=e.grouping===void 0||e.thousands===void 0?o5:jle(l5.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?o5:Nle(l5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function m(f){f=of(f);var g=f.fill,y=f.align,w=f.sign,v=f.symbol,b=f.zero,N=f.width,C=f.comma,S=f.precision,_=f.trim,A=f.type;A==="n"?(C=!0,A="g"):i5[A]||(S===void 0&&(S=12),_=!0,A="g"),(b||g==="0"&&y==="=")&&(b=!0,g="0",y="=");var T=v==="$"?s:v==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",E=v==="$"?a:/[%p]/.test(A)?o:"",R=i5[A],$=/[defgprs%]/.test(A);S=S===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function K(M){var I=T,W=E,V,U,L;if(A==="c")W=R(M)+W,M="";else{M=+M;var O=M<0||1/M<0;if(M=isNaN(M)?d:R(Math.abs(M),S),_&&(M=Cle(M)),O&&+M==0&&w!=="+"&&(O=!1),I=(O?w==="("?w:l:w==="-"||w==="("?"":w)+I,W=(A==="s"?c5[8+T8/3]:"")+W+(O&&w==="("?")":""),$){for(V=-1,U=M.length;++V<U;)if(L=M.charCodeAt(V),48>L||L>57){W=(L===46?n+M.slice(V+1):M.slice(V))+W,M=M.slice(0,V);break}}}C&&!b&&(M=r(M,1/0));var F=I.length+M.length+W.length,z=F<N?new Array(N-F+1).join(g):"";switch(C&&b&&(M=r(z+M,z.length?N-W.length:1/0),z=""),y){case"<":M=I+M+W+z;break;case"=":M=I+z+M+W;break;case"^":M=z.slice(0,F=z.length>>1)+I+M+W+z.slice(F);break;default:M=z+I+M+W;break}return i(M)}return K.toString=function(){return f+""},K}function h(f,g){var y=m((f=of(f),f.type="f",f)),w=Math.max(-8,Math.min(8,Math.floor(Hu(g)/3)))*3,v=Math.pow(10,-w),b=c5[8+w/3];return function(N){return y(v*N)+b}}return{format:m,formatPrefix:h}}var Wg,z2,O8;Ple({thousands:",",grouping:[3],currency:["$",""]});function Ple(e){return Wg=_le(e),z2=Wg.format,O8=Wg.formatPrefix,Wg}function Ale(e){return Math.max(0,-Hu(Math.abs(e)))}function Ele(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hu(r)/3)))*3-Hu(Math.abs(e)))}function Tle(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,Hu(r)-Hu(e))+1}function M8(e,r,s,a){var n=S1(e,r,s),i;switch(a=of(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return a.precision==null&&!isNaN(i=Ele(n,o))&&(a.precision=i),O8(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Tle(n,Math.max(Math.abs(e),Math.abs(r))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=Ale(n))&&(a.precision=i-(a.type==="%")*2);break}}return z2(a)}function ac(e){var r=e.domain;return e.ticks=function(s){var a=r();return j1(a[0],a[a.length-1],s??10)},e.tickFormat=function(s,a){var n=r();return M8(n[0],n[n.length-1],s??10,a)},e.nice=function(s){s==null&&(s=10);var a=r(),n=0,i=a.length-1,o=a[n],l=a[i],d,m,h=10;for(l<o&&(m=o,o=l,l=m,m=n,n=i,i=m);h-- >0;){if(m=N1(o,l,s),m===d)return a[n]=o,a[i]=l,r(a);if(m>0)o=Math.floor(o/m)*m,l=Math.ceil(l/m)*m;else if(m<0)o=Math.ceil(o*m)/m,l=Math.floor(l*m)/m;else break;d=m}return e},e}function R8(){var e=L2();return e.copy=function(){return Kf(e,R8())},Xn.apply(e,arguments),ac(e)}function I8(e){var r;function s(a){return a==null||isNaN(a=+a)?r:a}return s.invert=s,s.domain=s.range=function(a){return arguments.length?(e=Array.from(a,X0),s):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return I8(e).unknown(r)},e=arguments.length?Array.from(e,X0):[0,1],ac(s)}function D8(e,r){e=e.slice();var s=0,a=e.length-1,n=e[s],i=e[a],o;return i<n&&(o=s,s=a,a=o,o=n,n=i,i=o),e[s]=r.floor(n),e[a]=r.ceil(i),e}function d5(e){return Math.log(e)}function u5(e){return Math.exp(e)}function Ole(e){return-Math.log(-e)}function Mle(e){return-Math.exp(-e)}function Rle(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ile(e){return e===10?Rle:e===Math.E?Math.exp:r=>Math.pow(e,r)}function Dle(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function m5(e){return(r,s)=>-e(-r,s)}function F2(e){const r=e(d5,u5),s=r.domain;let a=10,n,i;function o(){return n=Dle(a),i=Ile(a),s()[0]<0?(n=m5(n),i=m5(i),e(Ole,Mle)):e(d5,u5),r}return r.base=function(l){return arguments.length?(a=+l,o()):a},r.domain=function(l){return arguments.length?(s(l),o()):s()},r.ticks=l=>{const d=s();let m=d[0],h=d[d.length-1];const f=h<m;f&&([m,h]=[h,m]);let g=n(m),y=n(h),w,v;const b=l==null?10:+l;let N=[];if(!(a%1)&&y-g<b){if(g=Math.floor(g),y=Math.ceil(y),m>0){for(;g<=y;++g)for(w=1;w<a;++w)if(v=g<0?w/i(-g):w*i(g),!(v<m)){if(v>h)break;N.push(v)}}else for(;g<=y;++g)for(w=a-1;w>=1;--w)if(v=g>0?w/i(-g):w*i(g),!(v<m)){if(v>h)break;N.push(v)}N.length*2<b&&(N=j1(m,h,b))}else N=j1(g,y,Math.min(y-g,b)).map(i);return f?N.reverse():N},r.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=of(d)).precision==null&&(d.trim=!0),d=z2(d)),l===1/0)return d;const m=Math.max(1,a*l/r.ticks().length);return h=>{let f=h/i(Math.round(n(h)));return f*a<a-.5&&(f*=a),f<=m?d(h):""}},r.nice=()=>s(D8(s(),{floor:l=>i(Math.floor(n(l))),ceil:l=>i(Math.ceil(n(l)))})),r}function L8(){const e=F2(my()).domain([1,10]);return e.copy=()=>Kf(e,L8()).base(e.base()),Xn.apply(e,arguments),e}function h5(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function f5(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function U2(e){var r=1,s=e(h5(r),f5(r));return s.constant=function(a){return arguments.length?e(h5(r=+a),f5(r)):r},ac(s)}function $8(){var e=U2(my());return e.copy=function(){return Kf(e,$8()).constant(e.constant())},Xn.apply(e,arguments)}function p5(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function Lle(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $le(e){return e<0?-e*e:e*e}function B2(e){var r=e(Ea,Ea),s=1;function a(){return s===1?e(Ea,Ea):s===.5?e(Lle,$le):e(p5(s),p5(1/s))}return r.exponent=function(n){return arguments.length?(s=+n,a()):s},ac(r)}function W2(){var e=B2(my());return e.copy=function(){return Kf(e,W2()).exponent(e.exponent())},Xn.apply(e,arguments),e}function zle(){return W2.apply(null,arguments).exponent(.5)}function g5(e){return Math.sign(e)*e*e}function Fle(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function z8(){var e=L2(),r=[0,1],s=!1,a;function n(i){var o=Fle(e(i));return isNaN(o)?a:s?Math.round(o):o}return n.invert=function(i){return e.invert(g5(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((r=Array.from(i,X0)).map(g5)),n):r.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(s=!!i,n):s},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return z8(e.domain(),r).round(s).clamp(e.clamp()).unknown(a)},Xn.apply(n,arguments),ac(n)}function F8(){var e=[],r=[],s=[],a;function n(){var o=0,l=Math.max(1,r.length);for(s=new Array(l-1);++o<l;)s[o-1]=Voe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:r[qf(s,o)]}return i.invertExtent=function(o){var l=r.indexOf(o);return l<0?[NaN,NaN]:[l>0?s[l-1]:e[0],l<s.length?s[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ul),n()},i.range=function(o){return arguments.length?(r=Array.from(o),n()):r.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return s.slice()},i.copy=function(){return F8().domain(e).range(r).unknown(a)},Xn.apply(i,arguments)}function U8(){var e=0,r=1,s=1,a=[.5],n=[0,1],i;function o(d){return d!=null&&d<=d?n[qf(a,d,0,s)]:i}function l(){var d=-1;for(a=new Array(s);++d<s;)a[d]=((d+1)*r-(d-s)*e)/(s+1);return o}return o.domain=function(d){return arguments.length?([e,r]=d,e=+e,r=+r,l()):[e,r]},o.range=function(d){return arguments.length?(s=(n=Array.from(d)).length-1,l()):n.slice()},o.invertExtent=function(d){var m=n.indexOf(d);return m<0?[NaN,NaN]:m<1?[e,a[0]]:m>=s?[a[s-1],r]:[a[m-1],a[m]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return a.slice()},o.copy=function(){return U8().domain([e,r]).range(n).unknown(i)},Xn.apply(ac(o),arguments)}function B8(){var e=[.5],r=[0,1],s,a=1;function n(i){return i!=null&&i<=i?r[qf(e,i,0,a)]:s}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,r.length-1),n):e.slice()},n.range=function(i){return arguments.length?(r=Array.from(i),a=Math.min(e.length,r.length-1),n):r.slice()},n.invertExtent=function(i){var o=r.indexOf(i);return[e[o-1],e[o]]},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return B8().domain(e).range(r).unknown(s)},Xn.apply(n,arguments)}const Tj=new Date,Oj=new Date;function Es(e,r,s,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),n.round=i=>{const o=n(i),l=n.ceil(i);return i-o<l-i?o:l},n.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),n.range=(i,o,l)=>{const d=[];if(i=n.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return d;let m;do d.push(m=new Date(+i)),r(i,l),e(i);while(m<i&&i<o);return d},n.filter=i=>Es(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;r(o,-1),!i(o););else for(;--l>=0;)for(;r(o,1),!i(o););}),s&&(n.count=(i,o)=>(Tj.setTime(+i),Oj.setTime(+o),e(Tj),e(Oj),Math.floor(s(Tj,Oj))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?o=>a(o)%i===0:o=>n.count(0,o)%i===0):n)),n}const Z0=Es(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);Z0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Es(r=>{r.setTime(Math.floor(r/e)*e)},(r,s)=>{r.setTime(+r+s*e)},(r,s)=>(s-r)/e):Z0);Z0.range;const Ao=1e3,zn=Ao*60,Eo=zn*60,Wo=Eo*24,V2=Wo*7,x5=Wo*30,Mj=Wo*365,Vc=Es(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*Ao)},(e,r)=>(r-e)/Ao,e=>e.getUTCSeconds());Vc.range;const q2=Es(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ao)},(e,r)=>{e.setTime(+e+r*zn)},(e,r)=>(r-e)/zn,e=>e.getMinutes());q2.range;const H2=Es(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*zn)},(e,r)=>(r-e)/zn,e=>e.getUTCMinutes());H2.range;const K2=Es(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ao-e.getMinutes()*zn)},(e,r)=>{e.setTime(+e+r*Eo)},(e,r)=>(r-e)/Eo,e=>e.getHours());K2.range;const G2=Es(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*Eo)},(e,r)=>(r-e)/Eo,e=>e.getUTCHours());G2.range;const Gf=Es(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*zn)/Wo,e=>e.getDate()-1);Gf.range;const hy=Es(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Wo,e=>e.getUTCDate()-1);hy.range;const W8=Es(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Wo,e=>Math.floor(e/Wo));W8.range;function Nd(e){return Es(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,s)=>{r.setDate(r.getDate()+s*7)},(r,s)=>(s-r-(s.getTimezoneOffset()-r.getTimezoneOffset())*zn)/V2)}const fy=Nd(0),ex=Nd(1),Ule=Nd(2),Ble=Nd(3),Ku=Nd(4),Wle=Nd(5),Vle=Nd(6);fy.range;ex.range;Ule.range;Ble.range;Ku.range;Wle.range;Vle.range;function Sd(e){return Es(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCDate(r.getUTCDate()+s*7)},(r,s)=>(s-r)/V2)}const py=Sd(0),tx=Sd(1),qle=Sd(2),Hle=Sd(3),Gu=Sd(4),Kle=Sd(5),Gle=Sd(6);py.range;tx.range;qle.range;Hle.range;Gu.range;Kle.range;Gle.range;const Y2=Es(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Y2.range;const J2=Es(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());J2.range;const Vo=Es(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Es(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,s)=>{r.setFullYear(r.getFullYear()+s*e)});Vo.range;const qo=Es(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());qo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Es(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCFullYear(r.getUTCFullYear()+s*e)});qo.range;function V8(e,r,s,a,n,i){const o=[[Vc,1,Ao],[Vc,5,5*Ao],[Vc,15,15*Ao],[Vc,30,30*Ao],[i,1,zn],[i,5,5*zn],[i,15,15*zn],[i,30,30*zn],[n,1,Eo],[n,3,3*Eo],[n,6,6*Eo],[n,12,12*Eo],[a,1,Wo],[a,2,2*Wo],[s,1,V2],[r,1,x5],[r,3,3*x5],[e,1,Mj]];function l(m,h,f){const g=h<m;g&&([m,h]=[h,m]);const y=f&&typeof f.range=="function"?f:d(m,h,f),w=y?y.range(m,+h+1):[];return g?w.reverse():w}function d(m,h,f){const g=Math.abs(h-m)/f,y=T2(([,,b])=>b).right(o,g);if(y===o.length)return e.every(S1(m/Mj,h/Mj,f));if(y===0)return Z0.every(Math.max(S1(m,h,f),1));const[w,v]=o[g/o[y-1][2]<o[y][2]/g?y-1:y];return w.every(v)}return[l,d]}const[Yle,Jle]=V8(qo,J2,py,W8,G2,H2),[Xle,Qle]=V8(Vo,Y2,fy,Gf,K2,q2);function Rj(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ij(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xh(e,r,s){return{y:e,m:r,d:s,H:0,M:0,S:0,L:0}}function Zle(e){var r=e.dateTime,s=e.date,a=e.time,n=e.periods,i=e.days,o=e.shortDays,l=e.months,d=e.shortMonths,m=yh(n),h=vh(n),f=yh(i),g=vh(i),y=yh(o),w=vh(o),v=yh(l),b=vh(l),N=yh(d),C=vh(d),S={a:O,A:F,b:z,B:Y,c:null,d:N5,e:N5,f:jce,g:Oce,G:Rce,H:vce,I:bce,j:wce,L:q8,m:Nce,M:Sce,p:B,q:ee,Q:k5,s:_5,S:Cce,u:kce,U:_ce,V:Pce,w:Ace,W:Ece,x:null,X:null,y:Tce,Y:Mce,Z:Ice,"%":C5},_={a:ke,A:H,b:he,B:Ie,c:null,d:S5,e:S5,f:zce,g:Yce,G:Xce,H:Dce,I:Lce,j:$ce,L:K8,m:Fce,M:Uce,p:Pe,q:De,Q:k5,s:_5,S:Bce,u:Wce,U:Vce,V:qce,w:Hce,W:Kce,x:null,X:null,y:Gce,Y:Jce,Z:Qce,"%":C5},A={a:K,A:M,b:I,B:W,c:V,d:w5,e:w5,f:pce,g:b5,G:v5,H:j5,I:j5,j:uce,L:fce,m:dce,M:mce,p:$,q:cce,Q:xce,s:yce,S:hce,u:ace,U:nce,V:ice,w:sce,W:oce,x:U,X:L,y:b5,Y:v5,Z:lce,"%":gce};S.x=T(s,S),S.X=T(a,S),S.c=T(r,S),_.x=T(s,_),_.X=T(a,_),_.c=T(r,_);function T(ce,Ce){return function(Ee){var te=[],be=-1,Te=0,Ue=ce.length,ie,Ge,Ct;for(Ee instanceof Date||(Ee=new Date(+Ee));++be<Ue;)ce.charCodeAt(be)===37&&(te.push(ce.slice(Te,be)),(Ge=y5[ie=ce.charAt(++be)])!=null?ie=ce.charAt(++be):Ge=ie==="e"?" ":"0",(Ct=Ce[ie])&&(ie=Ct(Ee,Ge)),te.push(ie),Te=be+1);return te.push(ce.slice(Te,be)),te.join("")}}function E(ce,Ce){return function(Ee){var te=xh(1900,void 0,1),be=R(te,ce,Ee+="",0),Te,Ue;if(be!=Ee.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(Ce&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Te=Ij(xh(te.y,0,1)),Ue=Te.getUTCDay(),Te=Ue>4||Ue===0?tx.ceil(Te):tx(Te),Te=hy.offset(Te,(te.V-1)*7),te.y=Te.getUTCFullYear(),te.m=Te.getUTCMonth(),te.d=Te.getUTCDate()+(te.w+6)%7):(Te=Rj(xh(te.y,0,1)),Ue=Te.getDay(),Te=Ue>4||Ue===0?ex.ceil(Te):ex(Te),Te=Gf.offset(Te,(te.V-1)*7),te.y=Te.getFullYear(),te.m=Te.getMonth(),te.d=Te.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Ue="Z"in te?Ij(xh(te.y,0,1)).getUTCDay():Rj(xh(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Ue+5)%7:te.w+te.U*7-(Ue+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,Ij(te)):Rj(te)}}function R(ce,Ce,Ee,te){for(var be=0,Te=Ce.length,Ue=Ee.length,ie,Ge;be<Te;){if(te>=Ue)return-1;if(ie=Ce.charCodeAt(be++),ie===37){if(ie=Ce.charAt(be++),Ge=A[ie in y5?Ce.charAt(be++):ie],!Ge||(te=Ge(ce,Ee,te))<0)return-1}else if(ie!=Ee.charCodeAt(te++))return-1}return te}function $(ce,Ce,Ee){var te=m.exec(Ce.slice(Ee));return te?(ce.p=h.get(te[0].toLowerCase()),Ee+te[0].length):-1}function K(ce,Ce,Ee){var te=y.exec(Ce.slice(Ee));return te?(ce.w=w.get(te[0].toLowerCase()),Ee+te[0].length):-1}function M(ce,Ce,Ee){var te=f.exec(Ce.slice(Ee));return te?(ce.w=g.get(te[0].toLowerCase()),Ee+te[0].length):-1}function I(ce,Ce,Ee){var te=N.exec(Ce.slice(Ee));return te?(ce.m=C.get(te[0].toLowerCase()),Ee+te[0].length):-1}function W(ce,Ce,Ee){var te=v.exec(Ce.slice(Ee));return te?(ce.m=b.get(te[0].toLowerCase()),Ee+te[0].length):-1}function V(ce,Ce,Ee){return R(ce,r,Ce,Ee)}function U(ce,Ce,Ee){return R(ce,s,Ce,Ee)}function L(ce,Ce,Ee){return R(ce,a,Ce,Ee)}function O(ce){return o[ce.getDay()]}function F(ce){return i[ce.getDay()]}function z(ce){return d[ce.getMonth()]}function Y(ce){return l[ce.getMonth()]}function B(ce){return n[+(ce.getHours()>=12)]}function ee(ce){return 1+~~(ce.getMonth()/3)}function ke(ce){return o[ce.getUTCDay()]}function H(ce){return i[ce.getUTCDay()]}function he(ce){return d[ce.getUTCMonth()]}function Ie(ce){return l[ce.getUTCMonth()]}function Pe(ce){return n[+(ce.getUTCHours()>=12)]}function De(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Ce=T(ce+="",S);return Ce.toString=function(){return ce},Ce},parse:function(ce){var Ce=E(ce+="",!1);return Ce.toString=function(){return ce},Ce},utcFormat:function(ce){var Ce=T(ce+="",_);return Ce.toString=function(){return ce},Ce},utcParse:function(ce){var Ce=E(ce+="",!0);return Ce.toString=function(){return ce},Ce}}}var y5={"-":"",_:" ",0:"0"},qs=/^\s*\d+/,ece=/^%/,tce=/[\\^$*+?|[\]().{}]/g;function ur(e,r,s){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<s?new Array(s-i+1).join(r)+n:n)}function rce(e){return e.replace(tce,"\\$&")}function yh(e){return new RegExp("^(?:"+e.map(rce).join("|")+")","i")}function vh(e){return new Map(e.map((r,s)=>[r.toLowerCase(),s]))}function sce(e,r,s){var a=qs.exec(r.slice(s,s+1));return a?(e.w=+a[0],s+a[0].length):-1}function ace(e,r,s){var a=qs.exec(r.slice(s,s+1));return a?(e.u=+a[0],s+a[0].length):-1}function nce(e,r,s){var a=qs.exec(r.slice(s,s+2));return a?(e.U=+a[0],s+a[0].length):-1}function ice(e,r,s){var a=qs.exec(r.slice(s,s+2));return a?(e.V=+a[0],s+a[0].length):-1}function oce(e,r,s){var a=qs.exec(r.slice(s,s+2));return a?(e.W=+a[0],s+a[0].length):-1}function v5(e,r,s){var a=qs.exec(r.slice(s,s+4));return a?(e.y=+a[0],s+a[0].length):-1}function b5(e,r,s){var a=qs.exec(r.slice(s,s+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),s+a[0].length):-1}function lce(e,r,s){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(s,s+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),s+a[0].length):-1}function cce(e,r,s){var a=qs.exec(r.slice(s,s+1));return a?(e.q=a[0]*3-3,s+a[0].length):-1}function dce(e,r,s){var a=qs.exec(r.slice(s,s+2));return a?(e.m=a[0]-1,s+a[0].length):-1}function w5(e,r,s){var a=qs.exec(r.slice(s,s+2));return a?(e.d=+a[0],s+a[0].length):-1}function uce(e,r,s){var a=qs.exec(r.slice(s,s+3));return a?(e.m=0,e.d=+a[0],s+a[0].length):-1}function j5(e,r,s){var a=qs.exec(r.slice(s,s+2));return a?(e.H=+a[0],s+a[0].length):-1}function mce(e,r,s){var a=qs.exec(r.slice(s,s+2));return a?(e.M=+a[0],s+a[0].length):-1}function hce(e,r,s){var a=qs.exec(r.slice(s,s+2));return a?(e.S=+a[0],s+a[0].length):-1}function fce(e,r,s){var a=qs.exec(r.slice(s,s+3));return a?(e.L=+a[0],s+a[0].length):-1}function pce(e,r,s){var a=qs.exec(r.slice(s,s+6));return a?(e.L=Math.floor(a[0]/1e3),s+a[0].length):-1}function gce(e,r,s){var a=ece.exec(r.slice(s,s+1));return a?s+a[0].length:-1}function xce(e,r,s){var a=qs.exec(r.slice(s));return a?(e.Q=+a[0],s+a[0].length):-1}function yce(e,r,s){var a=qs.exec(r.slice(s));return a?(e.s=+a[0],s+a[0].length):-1}function N5(e,r){return ur(e.getDate(),r,2)}function vce(e,r){return ur(e.getHours(),r,2)}function bce(e,r){return ur(e.getHours()%12||12,r,2)}function wce(e,r){return ur(1+Gf.count(Vo(e),e),r,3)}function q8(e,r){return ur(e.getMilliseconds(),r,3)}function jce(e,r){return q8(e,r)+"000"}function Nce(e,r){return ur(e.getMonth()+1,r,2)}function Sce(e,r){return ur(e.getMinutes(),r,2)}function Cce(e,r){return ur(e.getSeconds(),r,2)}function kce(e){var r=e.getDay();return r===0?7:r}function _ce(e,r){return ur(fy.count(Vo(e)-1,e),r,2)}function H8(e){var r=e.getDay();return r>=4||r===0?Ku(e):Ku.ceil(e)}function Pce(e,r){return e=H8(e),ur(Ku.count(Vo(e),e)+(Vo(e).getDay()===4),r,2)}function Ace(e){return e.getDay()}function Ece(e,r){return ur(ex.count(Vo(e)-1,e),r,2)}function Tce(e,r){return ur(e.getFullYear()%100,r,2)}function Oce(e,r){return e=H8(e),ur(e.getFullYear()%100,r,2)}function Mce(e,r){return ur(e.getFullYear()%1e4,r,4)}function Rce(e,r){var s=e.getDay();return e=s>=4||s===0?Ku(e):Ku.ceil(e),ur(e.getFullYear()%1e4,r,4)}function Ice(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+ur(r/60|0,"0",2)+ur(r%60,"0",2)}function S5(e,r){return ur(e.getUTCDate(),r,2)}function Dce(e,r){return ur(e.getUTCHours(),r,2)}function Lce(e,r){return ur(e.getUTCHours()%12||12,r,2)}function $ce(e,r){return ur(1+hy.count(qo(e),e),r,3)}function K8(e,r){return ur(e.getUTCMilliseconds(),r,3)}function zce(e,r){return K8(e,r)+"000"}function Fce(e,r){return ur(e.getUTCMonth()+1,r,2)}function Uce(e,r){return ur(e.getUTCMinutes(),r,2)}function Bce(e,r){return ur(e.getUTCSeconds(),r,2)}function Wce(e){var r=e.getUTCDay();return r===0?7:r}function Vce(e,r){return ur(py.count(qo(e)-1,e),r,2)}function G8(e){var r=e.getUTCDay();return r>=4||r===0?Gu(e):Gu.ceil(e)}function qce(e,r){return e=G8(e),ur(Gu.count(qo(e),e)+(qo(e).getUTCDay()===4),r,2)}function Hce(e){return e.getUTCDay()}function Kce(e,r){return ur(tx.count(qo(e)-1,e),r,2)}function Gce(e,r){return ur(e.getUTCFullYear()%100,r,2)}function Yce(e,r){return e=G8(e),ur(e.getUTCFullYear()%100,r,2)}function Jce(e,r){return ur(e.getUTCFullYear()%1e4,r,4)}function Xce(e,r){var s=e.getUTCDay();return e=s>=4||s===0?Gu(e):Gu.ceil(e),ur(e.getUTCFullYear()%1e4,r,4)}function Qce(){return"+0000"}function C5(){return"%"}function k5(e){return+e}function _5(e){return Math.floor(+e/1e3)}var vu,Y8,J8;Zce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zce(e){return vu=Zle(e),Y8=vu.format,vu.parse,J8=vu.utcFormat,vu.utcParse,vu}function ede(e){return new Date(e)}function tde(e){return e instanceof Date?+e:+new Date(+e)}function X2(e,r,s,a,n,i,o,l,d,m){var h=L2(),f=h.invert,g=h.domain,y=m(".%L"),w=m(":%S"),v=m("%I:%M"),b=m("%I %p"),N=m("%a %d"),C=m("%b %d"),S=m("%B"),_=m("%Y");function A(T){return(d(T)<T?y:l(T)<T?w:o(T)<T?v:i(T)<T?b:a(T)<T?n(T)<T?N:C:s(T)<T?S:_)(T)}return h.invert=function(T){return new Date(f(T))},h.domain=function(T){return arguments.length?g(Array.from(T,tde)):g().map(ede)},h.ticks=function(T){var E=g();return e(E[0],E[E.length-1],T??10)},h.tickFormat=function(T,E){return E==null?A:m(E)},h.nice=function(T){var E=g();return(!T||typeof T.range!="function")&&(T=r(E[0],E[E.length-1],T??10)),T?g(D8(E,T)):h},h.copy=function(){return Kf(h,X2(e,r,s,a,n,i,o,l,d,m))},h}function rde(){return Xn.apply(X2(Xle,Qle,Vo,Y2,fy,Gf,K2,q2,Vc,Y8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sde(){return Xn.apply(X2(Yle,Jle,qo,J2,py,hy,G2,H2,Vc,J8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gy(){var e=0,r=1,s,a,n,i,o=Ea,l=!1,d;function m(f){return f==null||isNaN(f=+f)?d:o(n===0?.5:(f=(i(f)-s)*n,l?Math.max(0,Math.min(1,f)):f))}m.domain=function(f){return arguments.length?([e,r]=f,s=i(e=+e),a=i(r=+r),n=s===a?0:1/(a-s),m):[e,r]},m.clamp=function(f){return arguments.length?(l=!!f,m):l},m.interpolator=function(f){return arguments.length?(o=f,m):o};function h(f){return function(g){var y,w;return arguments.length?([y,w]=g,o=f(y,w),m):[o(0),o(1)]}}return m.range=h(cm),m.rangeRound=h(D2),m.unknown=function(f){return arguments.length?(d=f,m):d},function(f){return i=f,s=f(e),a=f(r),n=s===a?0:1/(a-s),m}}function nc(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function X8(){var e=ac(gy()(Ea));return e.copy=function(){return nc(e,X8())},Yo.apply(e,arguments)}function Q8(){var e=F2(gy()).domain([1,10]);return e.copy=function(){return nc(e,Q8()).base(e.base())},Yo.apply(e,arguments)}function Z8(){var e=U2(gy());return e.copy=function(){return nc(e,Z8()).constant(e.constant())},Yo.apply(e,arguments)}function Q2(){var e=B2(gy());return e.copy=function(){return nc(e,Q2()).exponent(e.exponent())},Yo.apply(e,arguments)}function ade(){return Q2.apply(null,arguments).exponent(.5)}function e6(){var e=[],r=Ea;function s(a){if(a!=null&&!isNaN(a=+a))return r((qf(e,a,1)-1)/(e.length-1))}return s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(Ul),s},s.interpolator=function(a){return arguments.length?(r=a,s):r},s.range=function(){return e.map((a,n)=>r(n/(e.length-1)))},s.quantiles=function(a){return Array.from({length:a+1},(n,i)=>Woe(e,i/a))},s.copy=function(){return e6(r).domain(e)},Yo.apply(s,arguments)}function xy(){var e=0,r=.5,s=1,a=1,n,i,o,l,d,m=Ea,h,f=!1,g;function y(v){return isNaN(v=+v)?g:(v=.5+((v=+h(v))-i)*(a*v<a*i?l:d),m(f?Math.max(0,Math.min(1,v)):v))}y.domain=function(v){return arguments.length?([e,r,s]=v,n=h(e=+e),i=h(r=+r),o=h(s=+s),l=n===i?0:.5/(i-n),d=i===o?0:.5/(o-i),a=i<n?-1:1,y):[e,r,s]},y.clamp=function(v){return arguments.length?(f=!!v,y):f},y.interpolator=function(v){return arguments.length?(m=v,y):m};function w(v){return function(b){var N,C,S;return arguments.length?([N,C,S]=b,m=gle(v,[N,C,S]),y):[m(0),m(.5),m(1)]}}return y.range=w(cm),y.rangeRound=w(D2),y.unknown=function(v){return arguments.length?(g=v,y):g},function(v){return h=v,n=v(e),i=v(r),o=v(s),l=n===i?0:.5/(i-n),d=i===o?0:.5/(o-i),a=i<n?-1:1,y}}function t6(){var e=ac(xy()(Ea));return e.copy=function(){return nc(e,t6())},Yo.apply(e,arguments)}function r6(){var e=F2(xy()).domain([.1,1,10]);return e.copy=function(){return nc(e,r6()).base(e.base())},Yo.apply(e,arguments)}function s6(){var e=U2(xy());return e.copy=function(){return nc(e,s6()).constant(e.constant())},Yo.apply(e,arguments)}function Z2(){var e=B2(xy());return e.copy=function(){return nc(e,Z2()).exponent(e.exponent())},Yo.apply(e,arguments)}function nde(){return Z2.apply(null,arguments).exponent(.5)}const Th=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:M2,scaleDiverging:t6,scaleDivergingLog:r6,scaleDivergingPow:Z2,scaleDivergingSqrt:nde,scaleDivergingSymlog:s6,scaleIdentity:I8,scaleImplicit:C1,scaleLinear:R8,scaleLog:L8,scaleOrdinal:O2,scalePoint:Hoe,scalePow:W2,scaleQuantile:F8,scaleQuantize:U8,scaleRadial:z8,scaleSequential:X8,scaleSequentialLog:Q8,scaleSequentialPow:Q2,scaleSequentialQuantile:e6,scaleSequentialSqrt:ade,scaleSequentialSymlog:Z8,scaleSqrt:zle,scaleSymlog:$8,scaleThreshold:B8,scaleTime:rde,scaleUtc:sde,tickFormat:M8},Symbol.toStringTag,{value:"Module"}));var ic=e=>e.chartData,eC=me([ic],e=>{var r=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:r,dataStartIndex:0}}),Yf=(e,r,s,a)=>a?eC(e):ic(e);function Yu(e){if(Array.isArray(e)&&e.length===2){var[r,s]=e;if(ta(r)&&ta(s))return!0}return!1}function P5(e,r,s){return s?e:[Math.min(e[0],r[0]),Math.max(e[1],r[1])]}function ide(e,r){if(r&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[s,a]=e,n,i;if(ta(s))n=s;else if(typeof s=="function")return;if(ta(a))i=a;else if(typeof a=="function")return;var o=[n,i];if(Yu(o))return o}}function ode(e,r,s){if(!(!s&&r==null)){if(typeof e=="function"&&r!=null)try{var a=e(r,s);if(Yu(a))return P5(a,r,s)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,o,l;if(n==="auto")r!=null&&(o=Math.min(...r));else if(Ve(n))o=n;else if(typeof n=="function")try{r!=null&&(o=n(r==null?void 0:r[0]))}catch{}else if(typeof n=="string"&&xT.test(n)){var d=xT.exec(n);if(d==null||r==null)o=void 0;else{var m=+d[1];o=r[0]-m}}else o=r==null?void 0:r[0];if(i==="auto")r!=null&&(l=Math.max(...r));else if(Ve(i))l=i;else if(typeof i=="function")try{r!=null&&(l=i(r==null?void 0:r[1]))}catch{}else if(typeof i=="string"&&yT.test(i)){var h=yT.exec(i);if(h==null||r==null)l=void 0;else{var f=+h[1];l=r[1]+f}}else l=r==null?void 0:r[1];var g=[o,l];if(Yu(g))return r==null?g:P5(g,r,s)}}}var dm=1e9,lde={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rC,Fr=!0,Yn="[DecimalError] ",Qc=Yn+"Invalid argument: ",tC=Yn+"Exponent out of range: ",um=Math.floor,zc=Math.pow,cde=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hn,Fs=1e7,Dr=7,a6=9007199254740991,rx=um(a6/Dr),Je={};Je.absoluteValue=Je.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Je.comparedTo=Je.cmp=function(e){var r,s,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,r=0,s=a<n?a:n;r<s;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};Je.decimalPlaces=Je.dp=function(){var e=this,r=e.d.length-1,s=(r-e.e)*Dr;if(r=e.d[r],r)for(;r%10==0;r/=10)s--;return s<0?0:s};Je.dividedBy=Je.div=function(e){return Ro(this,new this.constructor(e))};Je.dividedToIntegerBy=Je.idiv=function(e){var r=this,s=r.constructor;return Sr(Ro(r,new s(e),0,1),s.precision)};Je.equals=Je.eq=function(e){return!this.cmp(e)};Je.exponent=function(){return ys(this)};Je.greaterThan=Je.gt=function(e){return this.cmp(e)>0};Je.greaterThanOrEqualTo=Je.gte=function(e){return this.cmp(e)>=0};Je.isInteger=Je.isint=function(){return this.e>this.d.length-2};Je.isNegative=Je.isneg=function(){return this.s<0};Je.isPositive=Je.ispos=function(){return this.s>0};Je.isZero=function(){return this.s===0};Je.lessThan=Je.lt=function(e){return this.cmp(e)<0};Je.lessThanOrEqualTo=Je.lte=function(e){return this.cmp(e)<1};Je.logarithm=Je.log=function(e){var r,s=this,a=s.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(hn))throw Error(Yn+"NaN");if(s.s<1)throw Error(Yn+(s.s?"NaN":"-Infinity"));return s.eq(hn)?new a(0):(Fr=!1,r=Ro(lf(s,i),lf(e,i),i),Fr=!0,Sr(r,n))};Je.minus=Je.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?o6(r,e):n6(r,(e.s=-e.s,e))};Je.modulo=Je.mod=function(e){var r,s=this,a=s.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(Yn+"NaN");return s.s?(Fr=!1,r=Ro(s,e,0,1).times(e),Fr=!0,s.minus(r)):Sr(new a(s),n)};Je.naturalExponential=Je.exp=function(){return i6(this)};Je.naturalLogarithm=Je.ln=function(){return lf(this)};Je.negated=Je.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Je.plus=Je.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?n6(r,e):o6(r,(e.s=-e.s,e))};Je.precision=Je.sd=function(e){var r,s,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Qc+e);if(r=ys(n)+1,a=n.d.length-1,s=a*Dr+1,a=n.d[a],a){for(;a%10==0;a/=10)s--;for(a=n.d[0];a>=10;a/=10)s++}return e&&r>s?r:s};Je.squareRoot=Je.sqrt=function(){var e,r,s,a,n,i,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(Yn+"NaN")}for(e=ys(l),Fr=!1,n=Math.sqrt(+l),n==0||n==1/0?(r=Wi(l.d),(r.length+e)%2==0&&(r+="0"),n=Math.sqrt(r),e=um((e+1)/2)-(e<0||e%2),n==1/0?r="5e"+e:(r=n.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),a=new d(r)):a=new d(n.toString()),s=d.precision,n=o=s+3;;)if(i=a,a=i.plus(Ro(l,i,o+2)).times(.5),Wi(i.d).slice(0,o)===(r=Wi(a.d)).slice(0,o)){if(r=r.slice(o-3,o+1),n==o&&r=="4999"){if(Sr(i,s+1,0),i.times(i).eq(l)){a=i;break}}else if(r!="9999")break;o+=4}return Fr=!0,Sr(a,s)};Je.times=Je.mul=function(e){var r,s,a,n,i,o,l,d,m,h=this,f=h.constructor,g=h.d,y=(e=new f(e)).d;if(!h.s||!e.s)return new f(0);for(e.s*=h.s,s=h.e+e.e,d=g.length,m=y.length,d<m&&(i=g,g=y,y=i,o=d,d=m,m=o),i=[],o=d+m,a=o;a--;)i.push(0);for(a=m;--a>=0;){for(r=0,n=d+a;n>a;)l=i[n]+y[a]*g[n-a-1]+r,i[n--]=l%Fs|0,r=l/Fs|0;i[n]=(i[n]+r)%Fs|0}for(;!i[--o];)i.pop();return r?++s:i.shift(),e.d=i,e.e=s,Fr?Sr(e,f.precision):e};Je.toDecimalPlaces=Je.todp=function(e,r){var s=this,a=s.constructor;return s=new a(s),e===void 0?s:(eo(e,0,dm),r===void 0?r=a.rounding:eo(r,0,8),Sr(s,e+ys(s)+1,r))};Je.toExponential=function(e,r){var s,a=this,n=a.constructor;return e===void 0?s=md(a,!0):(eo(e,0,dm),r===void 0?r=n.rounding:eo(r,0,8),a=Sr(new n(a),e+1,r),s=md(a,!0,e+1)),s};Je.toFixed=function(e,r){var s,a,n=this,i=n.constructor;return e===void 0?md(n):(eo(e,0,dm),r===void 0?r=i.rounding:eo(r,0,8),a=Sr(new i(n),e+ys(n)+1,r),s=md(a.abs(),!1,e+ys(a)+1),n.isneg()&&!n.isZero()?"-"+s:s)};Je.toInteger=Je.toint=function(){var e=this,r=e.constructor;return Sr(new r(e),ys(e)+1,r.rounding)};Je.toNumber=function(){return+this};Je.toPower=Je.pow=function(e){var r,s,a,n,i,o,l=this,d=l.constructor,m=12,h=+(e=new d(e));if(!e.s)return new d(hn);if(l=new d(l),!l.s){if(e.s<1)throw Error(Yn+"Infinity");return l}if(l.eq(hn))return l;if(a=d.precision,e.eq(hn))return Sr(l,a);if(r=e.e,s=e.d.length-1,o=r>=s,i=l.s,o){if((s=h<0?-h:h)<=a6){for(n=new d(hn),r=Math.ceil(a/Dr+4),Fr=!1;s%2&&(n=n.times(l),E5(n.d,r)),s=um(s/2),s!==0;)l=l.times(l),E5(l.d,r);return Fr=!0,e.s<0?new d(hn).div(n):Sr(n,a)}}else if(i<0)throw Error(Yn+"NaN");return i=i<0&&e.d[Math.max(r,s)]&1?-1:1,l.s=1,Fr=!1,n=e.times(lf(l,a+m)),Fr=!0,n=i6(n),n.s=i,n};Je.toPrecision=function(e,r){var s,a,n=this,i=n.constructor;return e===void 0?(s=ys(n),a=md(n,s<=i.toExpNeg||s>=i.toExpPos)):(eo(e,1,dm),r===void 0?r=i.rounding:eo(r,0,8),n=Sr(new i(n),e,r),s=ys(n),a=md(n,e<=s||s<=i.toExpNeg,e)),a};Je.toSignificantDigits=Je.tosd=function(e,r){var s=this,a=s.constructor;return e===void 0?(e=a.precision,r=a.rounding):(eo(e,1,dm),r===void 0?r=a.rounding:eo(r,0,8)),Sr(new a(s),e,r)};Je.toString=Je.valueOf=Je.val=Je.toJSON=Je[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=ys(e),s=e.constructor;return md(e,r<=s.toExpNeg||r>=s.toExpPos)};function n6(e,r){var s,a,n,i,o,l,d,m,h=e.constructor,f=h.precision;if(!e.s||!r.s)return r.s||(r=new h(e)),Fr?Sr(r,f):r;if(d=e.d,m=r.d,o=e.e,n=r.e,d=d.slice(),i=o-n,i){for(i<0?(a=d,i=-i,l=m.length):(a=m,n=o,l=d.length),o=Math.ceil(f/Dr),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=d.length,i=m.length,l-i<0&&(i=l,a=m,m=d,d=a),s=0;i;)s=(d[--i]=d[i]+m[i]+s)/Fs|0,d[i]%=Fs;for(s&&(d.unshift(s),++n),l=d.length;d[--l]==0;)d.pop();return r.d=d,r.e=n,Fr?Sr(r,f):r}function eo(e,r,s){if(e!==~~e||e<r||e>s)throw Error(Qc+e)}function Wi(e){var r,s,a,n=e.length-1,i="",o=e[0];if(n>0){for(i+=o,r=1;r<n;r++)a=e[r]+"",s=Dr-a.length,s&&(i+=Ml(s)),i+=a;o=e[r],a=o+"",s=Dr-a.length,s&&(i+=Ml(s))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ro=function(){function e(a,n){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*n+o,a[l]=i%Fs|0,o=i/Fs|0;return o&&a.unshift(o),a}function r(a,n,i,o){var l,d;if(i!=o)d=i>o?1:-1;else for(l=d=0;l<i;l++)if(a[l]!=n[l]){d=a[l]>n[l]?1:-1;break}return d}function s(a,n,i){for(var o=0;i--;)a[i]-=o,o=a[i]<n[i]?1:0,a[i]=o*Fs+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,o){var l,d,m,h,f,g,y,w,v,b,N,C,S,_,A,T,E,R,$=a.constructor,K=a.s==n.s?1:-1,M=a.d,I=n.d;if(!a.s)return new $(a);if(!n.s)throw Error(Yn+"Division by zero");for(d=a.e-n.e,E=I.length,A=M.length,y=new $(K),w=y.d=[],m=0;I[m]==(M[m]||0);)++m;if(I[m]>(M[m]||0)&&--d,i==null?C=i=$.precision:o?C=i+(ys(a)-ys(n))+1:C=i,C<0)return new $(0);if(C=C/Dr+2|0,m=0,E==1)for(h=0,I=I[0],C++;(m<A||h)&&C--;m++)S=h*Fs+(M[m]||0),w[m]=S/I|0,h=S%I|0;else{for(h=Fs/(I[0]+1)|0,h>1&&(I=e(I,h),M=e(M,h),E=I.length,A=M.length),_=E,v=M.slice(0,E),b=v.length;b<E;)v[b++]=0;R=I.slice(),R.unshift(0),T=I[0],I[1]>=Fs/2&&++T;do h=0,l=r(I,v,E,b),l<0?(N=v[0],E!=b&&(N=N*Fs+(v[1]||0)),h=N/T|0,h>1?(h>=Fs&&(h=Fs-1),f=e(I,h),g=f.length,b=v.length,l=r(f,v,g,b),l==1&&(h--,s(f,E<g?R:I,g))):(h==0&&(l=h=1),f=I.slice()),g=f.length,g<b&&f.unshift(0),s(v,f,b),l==-1&&(b=v.length,l=r(I,v,E,b),l<1&&(h++,s(v,E<b?R:I,b))),b=v.length):l===0&&(h++,v=[0]),w[m++]=h,l&&v[0]?v[b++]=M[_]||0:(v=[M[_]],b=1);while((_++<A||v[0]!==void 0)&&C--)}return w[0]||w.shift(),y.e=d,Sr(y,o?i+ys(y)+1:i)}}();function i6(e,r){var s,a,n,i,o,l,d=0,m=0,h=e.constructor,f=h.precision;if(ys(e)>16)throw Error(tC+ys(e));if(!e.s)return new h(hn);for(Fr=!1,l=f,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),m+=5;for(a=Math.log(zc(2,m))/Math.LN10*2+5|0,l+=a,s=n=i=new h(hn),h.precision=l;;){if(n=Sr(n.times(e),l),s=s.times(++d),o=i.plus(Ro(n,s,l)),Wi(o.d).slice(0,l)===Wi(i.d).slice(0,l)){for(;m--;)i=Sr(i.times(i),l);return h.precision=f,r==null?(Fr=!0,Sr(i,f)):i}i=o}}function ys(e){for(var r=e.e*Dr,s=e.d[0];s>=10;s/=10)r++;return r}function Dj(e,r,s){if(r>e.LN10.sd())throw Fr=!0,s&&(e.precision=s),Error(Yn+"LN10 precision limit exceeded");return Sr(new e(e.LN10),r)}function Ml(e){for(var r="";e--;)r+="0";return r}function lf(e,r){var s,a,n,i,o,l,d,m,h,f=1,g=10,y=e,w=y.d,v=y.constructor,b=v.precision;if(y.s<1)throw Error(Yn+(y.s?"NaN":"-Infinity"));if(y.eq(hn))return new v(0);if(r==null?(Fr=!1,m=b):m=r,y.eq(10))return r==null&&(Fr=!0),Dj(v,m);if(m+=g,v.precision=m,s=Wi(w),a=s.charAt(0),i=ys(y),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&s.charAt(1)>3;)y=y.times(e),s=Wi(y.d),a=s.charAt(0),f++;i=ys(y),a>1?(y=new v("0."+s),i++):y=new v(a+"."+s.slice(1))}else return d=Dj(v,m+2,b).times(i+""),y=lf(new v(a+"."+s.slice(1)),m-g).plus(d),v.precision=b,r==null?(Fr=!0,Sr(y,b)):y;for(l=o=y=Ro(y.minus(hn),y.plus(hn),m),h=Sr(y.times(y),m),n=3;;){if(o=Sr(o.times(h),m),d=l.plus(Ro(o,new v(n),m)),Wi(d.d).slice(0,m)===Wi(l.d).slice(0,m))return l=l.times(2),i!==0&&(l=l.plus(Dj(v,m+2,b).times(i+""))),l=Ro(l,new v(f),m),v.precision=b,r==null?(Fr=!0,Sr(l,b)):l;l=d,n+=2}}function A5(e,r){var s,a,n;for((s=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(s<0&&(s=a),s+=+r.slice(a+1),r=r.substring(0,a)):s<0&&(s=r.length),a=0;r.charCodeAt(a)===48;)++a;for(n=r.length;r.charCodeAt(n-1)===48;)--n;if(r=r.slice(a,n),r){if(n-=a,s=s-a-1,e.e=um(s/Dr),e.d=[],a=(s+1)%Dr,s<0&&(a+=Dr),a<n){for(a&&e.d.push(+r.slice(0,a)),n-=Dr;a<n;)e.d.push(+r.slice(a,a+=Dr));r=r.slice(a),a=Dr-r.length}else a-=n;for(;a--;)r+="0";if(e.d.push(+r),Fr&&(e.e>rx||e.e<-rx))throw Error(tC+s)}else e.s=0,e.e=0,e.d=[0];return e}function Sr(e,r,s){var a,n,i,o,l,d,m,h,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(a=r-o,a<0)a+=Dr,n=r,m=f[h=0];else{if(h=Math.ceil((a+1)/Dr),i=f.length,h>=i)return e;for(m=i=f[h],o=1;i>=10;i/=10)o++;a%=Dr,n=a-Dr+o}if(s!==void 0&&(i=zc(10,o-n-1),l=m/i%10|0,d=r<0||f[h+1]!==void 0||m%i,d=s<4?(l||d)&&(s==0||s==(e.s<0?3:2)):l>5||l==5&&(s==4||d||s==6&&(a>0?n>0?m/zc(10,o-n):0:f[h-1])%10&1||s==(e.s<0?8:7))),r<1||!f[0])return d?(i=ys(e),f.length=1,r=r-i-1,f[0]=zc(10,(Dr-r%Dr)%Dr),e.e=um(-r/Dr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(a==0?(f.length=h,i=1,h--):(f.length=h+1,i=zc(10,Dr-a),f[h]=n>0?(m/zc(10,o-n)%zc(10,n)|0)*i:0),d)for(;;)if(h==0){(f[0]+=i)==Fs&&(f[0]=1,++e.e);break}else{if(f[h]+=i,f[h]!=Fs)break;f[h--]=0,i=1}for(a=f.length;f[--a]===0;)f.pop();if(Fr&&(e.e>rx||e.e<-rx))throw Error(tC+ys(e));return e}function o6(e,r){var s,a,n,i,o,l,d,m,h,f,g=e.constructor,y=g.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new g(e),Fr?Sr(r,y):r;if(d=e.d,f=r.d,a=r.e,m=e.e,d=d.slice(),o=m-a,o){for(h=o<0,h?(s=d,o=-o,l=f.length):(s=f,a=m,l=d.length),n=Math.max(Math.ceil(y/Dr),l)+2,o>n&&(o=n,s.length=1),s.reverse(),n=o;n--;)s.push(0);s.reverse()}else{for(n=d.length,l=f.length,h=n<l,h&&(l=n),n=0;n<l;n++)if(d[n]!=f[n]){h=d[n]<f[n];break}o=0}for(h&&(s=d,d=f,f=s,r.s=-r.s),l=d.length,n=f.length-l;n>0;--n)d[l++]=0;for(n=f.length;n>o;){if(d[--n]<f[n]){for(i=n;i&&d[--i]===0;)d[i]=Fs-1;--d[i],d[n]+=Fs}d[n]-=f[n]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(r.d=d,r.e=a,Fr?Sr(r,y):r):new g(0)}function md(e,r,s){var a,n=ys(e),i=Wi(e.d),o=i.length;return r?(s&&(a=s-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ml(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+Ml(-n-1)+i,s&&(a=s-o)>0&&(i+=Ml(a))):n>=o?(i+=Ml(n+1-o),s&&(a=s-n-1)>0&&(i=i+"."+Ml(a))):((a=n+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),s&&(a=s-o)>0&&(n+1===o&&(i+="."),i+=Ml(a))),e.s<0?"-"+i:i}function E5(e,r){if(e.length>r)return e.length=r,!0}function l6(e){var r,s,a;function n(i){var o=this;if(!(o instanceof n))return new n(i);if(o.constructor=n,i instanceof n){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Qc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return A5(o,i.toString())}else if(typeof i!="string")throw Error(Qc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,cde.test(i))A5(o,i);else throw Error(Qc+i)}if(n.prototype=Je,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=l6,n.config=n.set=dde,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)e.hasOwnProperty(s=a[r++])||(e[s]=this[s]);return n.config(e),n}function dde(e){if(!e||typeof e!="object")throw Error(Yn+"Object expected");var r,s,a,n=["precision",1,dm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<n.length;r+=3)if((a=e[s=n[r]])!==void 0)if(um(a)===a&&a>=n[r+1]&&a<=n[r+2])this[s]=a;else throw Error(Qc+s+": "+a);if((a=e[s="LN10"])!==void 0)if(a==Math.LN10)this[s]=new this(a);else throw Error(Qc+s+": "+a);return this}var rC=l6(lde);hn=new rC(1);const xr=rC;var ude=e=>e,c6={},d6=e=>e===c6,T5=e=>function r(){return arguments.length===0||arguments.length===1&&d6(arguments.length<=0?void 0:arguments[0])?r:e(...arguments)},u6=(e,r)=>e===1?r:T5(function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];var i=a.filter(o=>o!==c6).length;return i>=e?r(...a):u6(e-i,T5(function(){for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];var m=a.map(h=>d6(h)?l.shift():h);return r(...m,...l)}))}),yy=e=>u6(e.length,e),A1=(e,r)=>{for(var s=[],a=e;a<r;++a)s[a-e]=a;return s},mde=yy((e,r)=>Array.isArray(r)?r.map(e):Object.keys(r).map(s=>r[s]).map(e)),hde=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];if(!s.length)return ude;var n=s.reverse(),i=n[0],o=n.slice(1);return function(){return o.reduce((l,d)=>d(l),i(...arguments))}},E1=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),m6=e=>{var r=null,s=null;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r&&n.every((o,l)=>{var d;return o===((d=r)===null||d===void 0?void 0:d[l])})||(r=n,s=e(...n)),s}};function h6(e){var r;return e===0?r=1:r=Math.floor(new xr(e).abs().log(10).toNumber())+1,r}function f6(e,r,s){for(var a=new xr(e),n=0,i=[];a.lt(r)&&n<1e5;)i.push(a.toNumber()),a=a.add(s),n++;return i}yy((e,r,s)=>{var a=+e,n=+r;return a+s*(n-a)});yy((e,r,s)=>{var a=r-+e;return a=a||1/0,(s-e)/a});yy((e,r,s)=>{var a=r-+e;return a=a||1/0,Math.max(0,Math.min(1,(s-e)/a))});var p6=e=>{var[r,s]=e,[a,n]=[r,s];return r>s&&([a,n]=[s,r]),[a,n]},g6=(e,r,s)=>{if(e.lte(0))return new xr(0);var a=h6(e.toNumber()),n=new xr(10).pow(a),i=e.div(n),o=a!==1?.05:.1,l=new xr(Math.ceil(i.div(o).toNumber())).add(s).mul(o),d=l.mul(n);return r?new xr(d.toNumber()):new xr(Math.ceil(d.toNumber()))},fde=(e,r,s)=>{var a=new xr(1),n=new xr(e);if(!n.isint()&&s){var i=Math.abs(e);i<1?(a=new xr(10).pow(h6(e)-1),n=new xr(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new xr(Math.floor(e)))}else e===0?n=new xr(Math.floor((r-1)/2)):s||(n=new xr(Math.floor(e)));var o=Math.floor((r-1)/2),l=hde(mde(d=>n.add(new xr(d-o).mul(a)).toNumber()),A1);return l(0,r)},x6=function(r,s,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((s-r)/(a-1)))return{step:new xr(0),tickMin:new xr(0),tickMax:new xr(0)};var o=g6(new xr(s).sub(r).div(a-1),n,i),l;r<=0&&s>=0?l=new xr(0):(l=new xr(r).add(s).div(2),l=l.sub(new xr(l).mod(o)));var d=Math.ceil(l.sub(r).div(o).toNumber()),m=Math.ceil(new xr(s).sub(l).div(o).toNumber()),h=d+m+1;return h>a?x6(r,s,a,n,i+1):(h<a&&(m=s>0?m+(a-h):m,d=s>0?d:d+(a-h)),{step:o,tickMin:l.sub(new xr(d).mul(o)),tickMax:l.add(new xr(m).mul(o))})};function pde(e){var[r,s]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[o,l]=p6([r,s]);if(o===-1/0||l===1/0){var d=l===1/0?[o,...A1(0,a-1).map(()=>1/0)]:[...A1(0,a-1).map(()=>-1/0),l];return r>s?E1(d):d}if(o===l)return fde(o,a,n);var{step:m,tickMin:h,tickMax:f}=x6(o,l,i,n,0),g=f6(h,f.add(new xr(.1).mul(m)),m);return r>s?E1(g):g}function gde(e,r){var[s,a]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=p6([s,a]);if(i===-1/0||o===1/0)return[s,a];if(i===o)return[i];var l=Math.max(r,2),d=g6(new xr(o).sub(i).div(l-1),n,0),m=[...f6(new xr(i),new xr(o),d),o];return n===!1&&(m=m.map(h=>Math.round(h))),s>a?E1(m):m}var xde=m6(pde),yde=m6(gde),y6=e=>e.rootProps.maxBarSize,vde=e=>e.rootProps.barGap,v6=e=>e.rootProps.barCategoryGap,bde=e=>e.rootProps.barSize,Jf=e=>e.rootProps.stackOffset,sC=e=>e.options.chartName,aC=e=>e.rootProps.syncId,b6=e=>e.rootProps.syncMethod,nC=e=>e.options.eventEmitter,ko={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},cn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},vy=(e,r)=>{if(!(!e||!r))return e!=null&&e.reversed?[r[1],r[0]]:r},wde={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ko.angleAxisId,includeHidden:!1,name:void 0,reversed:ko.reversed,scale:ko.scale,tick:ko.tick,tickCount:void 0,ticks:void 0,type:ko.type,unit:void 0},jde={allowDataOverflow:cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cn.scale,tick:cn.tick,tickCount:cn.tickCount,ticks:void 0,type:cn.type,unit:void 0},Nde={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ko.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ko.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ko.scale,tick:ko.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Sde={allowDataOverflow:cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cn.scale,tick:cn.tick,tickCount:cn.tickCount,ticks:void 0,type:"category",unit:void 0},iC=(e,r)=>e.polarAxis.angleAxis[r]!=null?e.polarAxis.angleAxis[r]:e.layout.layoutType==="radial"?Nde:wde,oC=(e,r)=>e.polarAxis.radiusAxis[r]!=null?e.polarAxis.radiusAxis[r]:e.layout.layoutType==="radial"?Sde:jde,by=e=>e.polarOptions,lC=me([Ko,Go,As],XL),w6=me([by,lC],(e,r)=>{if(e!=null)return Ta(e.innerRadius,r,0)}),j6=me([by,lC],(e,r)=>{if(e!=null)return Ta(e.outerRadius,r,r*.8)}),Cde=e=>{if(e==null)return[0,0];var{startAngle:r,endAngle:s}=e;return[r,s]},N6=me([by],Cde);me([iC,N6],vy);var S6=me([lC,w6,j6],(e,r,s)=>{if(!(e==null||r==null||s==null))return[r,s]});me([oC,S6],vy);var C6=me([Gt,by,w6,j6,Ko,Go],(e,r,s,a,n,i)=>{if(!(e!=="centric"&&e!=="radial"||r==null||s==null||a==null)){var{cx:o,cy:l,startAngle:d,endAngle:m}=r;return{cx:Ta(o,n,n/2),cy:Ta(l,i,i/2),innerRadius:s,outerRadius:a,startAngle:d,endAngle:m,clockWise:!1}}}),Wr=(e,r)=>r,Xf=(e,r,s)=>s;function wy(e){return e==null?void 0:e.id}var Ts=e=>{var r=Gt(e);return r==="horizontal"?"xAxis":r==="vertical"?"yAxis":r==="centric"?"angleAxis":"radiusAxis"},mm=e=>e.tooltip.settings.axisId,Os=e=>{var r=Ts(e),s=mm(e);return Qf(e,r,s)};function k6(e,r,s){var{chartData:a=[]}=r,n=s==null?void 0:s.dataKey,i=new Map;return e.forEach(o=>{var l,d=(l=o.data)!==null&&l!==void 0?l:a;if(!(d==null||d.length===0)){var m=wy(o);d.forEach((h,f)=>{var g=n==null?f:String(yr(h,n,null)),y=yr(h,o.dataKey,0),w;i.has(g)?w=i.get(g):w={},Object.assign(w,{[m]:y}),i.set(g,w)})}}),Array.from(i.values())}function jy(e){return e.stackId!=null&&e.dataKey!=null}function O5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function sx(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?O5(Object(s),!0).forEach(function(a){kde(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function kde(e,r,s){return(r=_de(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function _de(e){var r=Pde(e,"string");return typeof r=="symbol"?r:r+""}function Pde(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var T1=[0,"auto"],on={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Jo=(e,r)=>{var s=e.cartesianAxis.xAxis[r];return s??on},ln={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:T1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:cy},oc=(e,r)=>{var s=e.cartesianAxis.yAxis[r];return s??ln},Ade={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},cC=(e,r)=>{var s=e.cartesianAxis.zAxis[r];return s??Ade},ds=(e,r,s)=>{switch(r){case"xAxis":return Jo(e,s);case"yAxis":return oc(e,s);case"zAxis":return cC(e,s);case"angleAxis":return iC(e,s);case"radiusAxis":return oC(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},Ede=(e,r,s)=>{switch(r){case"xAxis":return Jo(e,s);case"yAxis":return oc(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},Qf=(e,r,s)=>{switch(r){case"xAxis":return Jo(e,s);case"yAxis":return oc(e,s);case"angleAxis":return iC(e,s);case"radiusAxis":return oC(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},_6=e=>e.graphicalItems.cartesianItems.some(r=>r.type==="bar")||e.graphicalItems.polarItems.some(r=>r.type==="radialBar");function dC(e,r){return s=>{switch(e){case"xAxis":return"xAxisId"in s&&s.xAxisId===r;case"yAxis":return"yAxisId"in s&&s.yAxisId===r;case"zAxis":return"zAxisId"in s&&s.zAxisId===r;case"angleAxis":return"angleAxisId"in s&&s.angleAxisId===r;case"radiusAxis":return"radiusAxisId"in s&&s.radiusAxisId===r;default:return!1}}}var Zf=e=>e.graphicalItems.cartesianItems,Tde=me([Wr,Xf],dC),uC=(e,r,s)=>e.filter(s).filter(a=>(r==null?void 0:r.includeHidden)===!0?!0:!a.hide),ep=me([Zf,ds,Tde],uC),P6=me([ep],e=>e.filter(r=>r.type==="area"||r.type==="bar").filter(jy)),A6=e=>e.filter(r=>!("stackId"in r)||r.stackId===void 0),E6=me([ep],A6),mC=e=>e.map(r=>r.data).filter(Boolean).flat(1),Ode=me([ep],mC),hC=(e,r)=>{var{chartData:s=[],dataStartIndex:a,dataEndIndex:n}=r;return e.length>0?e:s.slice(a,n+1)},fC=me([Ode,Yf],hC),pC=(e,r,s)=>(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:yr(a,r.dataKey)})):s.length>0?s.map(a=>a.dataKey).flatMap(a=>e.map(n=>({value:yr(n,a)}))):e.map(a=>({value:a})),Ny=me([fC,ds,ep],pC);function T6(e,r){switch(e){case"xAxis":return r.direction==="x";case"yAxis":return r.direction==="y";default:return!1}}function Cd(e){return e.filter(r=>Zi(r)||r instanceof Date).map(Number).filter(r=>Xa(r)===!1)}function Mde(e,r,s){return!s||typeof r!="number"||Xa(r)?[]:s.length?Cd(s.flatMap(a=>{var n=yr(e,a.dataKey),i,o;if(Array.isArray(n)?[i,o]=n:i=o=n,!(!ta(i)||!ta(o)))return[r-i,r+o]})):[]}var Rde=me([P6,Yf,Os],k6),O6=(e,r,s)=>{var a={},n=r.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),a);return Object.fromEntries(Object.entries(n).map(i=>{var[o,l]=i,d=l.map(wy);return[o,{stackedData:Xne(e,d,s),graphicalItems:l}]}))},cf=me([Rde,P6,Jf],O6),M6=(e,r,s)=>{var{dataStartIndex:a,dataEndIndex:n}=r;if(s!=="zAxis"){var i=tie(e,a,n);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Ide=me([cf,ic,Wr],M6),R6=(e,r,s,a,n)=>s.length>0?e.flatMap(i=>s.flatMap(o=>{var l,d,m=(l=a[o.id])===null||l===void 0?void 0:l.filter(f=>T6(n,f)),h=yr(i,(d=r.dataKey)!==null&&d!==void 0?d:o.dataKey);return{value:h,errorDomain:Mde(i,h,m)}})).filter(Boolean):(r==null?void 0:r.dataKey)!=null?e.map(i=>({value:yr(i,r.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Sy=e=>e.errorBars,I6=(e,r,s)=>e.flatMap(a=>r[a.id]).filter(Boolean).filter(a=>T6(s,a));me([E6,Sy,Wr],I6);var Dde=me([fC,ds,E6,Sy,Wr],R6);function Lde(e){var{value:r}=e;if(Zi(r)||r instanceof Date)return r}var M5=e=>{var r=e.flatMap(a=>[a.value,a.errorDomain]).flat(1),s=Cd(r);if(s.length!==0)return[Math.min(...s),Math.max(...s)]},$de=(e,r,s)=>{var a=e.map(Lde).filter(n=>n!=null);return s&&(r.dataKey==null||r.allowDuplicatedCategory&&GD(a))?N8(0,e.length):r.allowDuplicatedCategory?a:Array.from(new Set(a))},gC=e=>{var r;if(e==null||!("domain"in e))return T1;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var s=Cd(e.ticks);return[Math.min(...s),Math.max(...s)]}if(e.type==="category")return e.ticks.map(String)}return(r=e==null?void 0:e.domain)!==null&&r!==void 0?r:T1},ax=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var n=s.filter(Boolean);if(n.length!==0){var i=n.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},D6=e=>e.referenceElements.dots,hm=(e,r,s)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>r==="xAxis"?a.xAxisId===s:a.yAxisId===s),zde=me([D6,Wr,Xf],hm),L6=e=>e.referenceElements.areas,Fde=me([L6,Wr,Xf],hm),$6=e=>e.referenceElements.lines,Ude=me([$6,Wr,Xf],hm),z6=(e,r)=>{var s=Cd(e.map(a=>r==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Bde=me(zde,Wr,z6),F6=(e,r)=>{var s=Cd(e.flatMap(a=>[r==="xAxis"?a.x1:a.y1,r==="xAxis"?a.x2:a.y2]));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Wde=me([Fde,Wr],F6),U6=(e,r)=>{var s=Cd(e.map(a=>r==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Vde=me(Ude,Wr,U6),qde=me(Bde,Vde,Wde,(e,r,s)=>ax(e,s,r)),B6=me([ds],gC),xC=(e,r,s,a,n,i,o)=>{var l=ide(r,e.allowDataOverflow);if(l!=null)return l;var d=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",m=d?ax(s,n,M5(a)):ax(n,M5(a));return ode(r,m,e.allowDataOverflow)},Hde=me([ds,B6,Ide,Dde,qde,Gt,Wr],xC),Kde=[0,1],yC=(e,r,s,a,n,i,o)=>{if(!((e==null||s==null||s.length===0)&&o===void 0)){var{dataKey:l,type:d}=e,m=co(r,i);return m&&l==null?N8(0,s.length):d==="category"?$de(a,e,m):n==="expand"?Kde:o}},vC=me([ds,Gt,fC,Ny,Jf,Wr,Hde],yC),W6=(e,r,s,a,n)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return r==="radial"&&n==="radiusAxis"?"band":r==="radial"&&n==="angleAxis"?"linear":o==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!s)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Uf(i));return l in Th?l:"point"}}},fm=me([ds,Gt,_6,sC,Wr],W6);function Gde(e){if(e!=null){if(e in Th)return Th[e]();var r="scale".concat(Uf(e));if(r in Th)return Th[r]()}}function bC(e,r,s,a){if(!(s==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(s).range(a);var n=Gde(r);if(n!=null){var i=n.domain(s).range(a);return Hne(i),i}}}var wC=(e,r,s)=>{var a=gC(r);if(!(s!=="auto"&&s!=="linear")){if(r!=null&&r.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Yu(e))return xde(e,r.tickCount,r.allowDecimals);if(r!=null&&r.tickCount&&r.type==="number"&&Yu(e))return yde(e,r.tickCount,r.allowDecimals)}},jC=me([vC,Qf,fm],wC),NC=(e,r,s,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Yu(r)&&Array.isArray(s)&&s.length>0){var n=r[0],i=s[0],o=r[1],l=s[s.length-1];return[Math.min(n,i),Math.max(o,l)]}return r},Yde=me([ds,vC,jC,Wr],NC),Jde=me(Ny,ds,(e,r)=>{if(!(!r||r.type!=="number")){var s=1/0,a=Array.from(Cd(e.map(l=>l.value))).sort((l,d)=>l-d);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(n===0)return 1/0;for(var i=0;i<a.length-1;i++){var o=a[i+1]-a[i];s=Math.min(s,o)}return s/n}}),V6=me(Jde,Gt,v6,As,(e,r,s,a)=>a,(e,r,s,a,n)=>{if(!ta(e))return 0;var i=r==="vertical"?a.height:a.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var o=Ta(s,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),Xde=(e,r)=>{var s=Jo(e,r);return s==null||typeof s.padding!="string"?0:V6(e,"xAxis",r,s.padding)},Qde=(e,r)=>{var s=oc(e,r);return s==null||typeof s.padding!="string"?0:V6(e,"yAxis",r,s.padding)},Zde=me(Jo,Xde,(e,r)=>{var s,a;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:r,right:r}:{left:((s=n.left)!==null&&s!==void 0?s:0)+r,right:((a=n.right)!==null&&a!==void 0?a:0)+r}}),eue=me(oc,Qde,(e,r)=>{var s,a;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:r,bottom:r}:{top:((s=n.top)!==null&&s!==void 0?s:0)+r,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+r}}),tue=me([As,Zde,uy,dy,(e,r,s)=>s],(e,r,s,a,n)=>{var{padding:i}=a;return n?[i.left,s.width-i.right]:[e.left+r.left,e.left+e.width-r.right]}),rue=me([As,Gt,eue,uy,dy,(e,r,s)=>s],(e,r,s,a,n,i)=>{var{padding:o}=n;return i?[a.height-o.bottom,o.top]:r==="horizontal"?[e.top+e.height-s.bottom,e.top+s.top]:[e.top+s.top,e.top+e.height-s.bottom]}),tp=(e,r,s,a)=>{var n;switch(r){case"xAxis":return tue(e,s,a);case"yAxis":return rue(e,s,a);case"zAxis":return(n=cC(e,s))===null||n===void 0?void 0:n.range;case"angleAxis":return N6(e);case"radiusAxis":return S6(e,s);default:return}},q6=me([ds,tp],vy),pm=me([ds,fm,Yde,q6],bC);me([ep,Sy,Wr],I6);function H6(e,r){return e.id<r.id?-1:e.id>r.id?1:0}var Cy=(e,r)=>r,ky=(e,r,s)=>s,sue=me(_2,Cy,ky,(e,r,s)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(H6)),aue=me(P2,Cy,ky,(e,r,s)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(H6)),K6=(e,r)=>({width:e.width,height:r.height}),nue=(e,r)=>{var s=typeof r.width=="number"?r.width:cy;return{width:s,height:e.height}},G6=me(As,Jo,K6),iue=(e,r,s)=>{switch(r){case"top":return e.top;case"bottom":return s-e.bottom;default:return 0}},oue=(e,r,s)=>{switch(r){case"left":return e.left;case"right":return s-e.right;default:return 0}},lue=me(Go,As,sue,Cy,ky,(e,r,s,a,n)=>{var i={},o;return s.forEach(l=>{var d=K6(r,l);o==null&&(o=iue(r,a,e));var m=a==="top"&&!n||a==="bottom"&&n;i[l.id]=o-Number(m)*d.height,o+=(m?-1:1)*d.height}),i}),cue=me(Ko,As,aue,Cy,ky,(e,r,s,a,n)=>{var i={},o;return s.forEach(l=>{var d=nue(r,l);o==null&&(o=oue(r,a,e));var m=a==="left"&&!n||a==="right"&&n;i[l.id]=o-Number(m)*d.width,o+=(m?-1:1)*d.width}),i}),due=(e,r)=>{var s=As(e),a=Jo(e,r);if(a!=null){var n=lue(e,a.orientation,a.mirror),i=n[r];return i==null?{x:s.left,y:0}:{x:s.left,y:i}}},uue=(e,r)=>{var s=As(e),a=oc(e,r);if(a!=null){var n=cue(e,a.orientation,a.mirror),i=n[r];return i==null?{x:0,y:s.top}:{x:i,y:s.top}}},Y6=me(As,oc,(e,r)=>{var s=typeof r.width=="number"?r.width:cy;return{width:s,height:e.height}}),R5=(e,r,s)=>{switch(r){case"xAxis":return G6(e,s).width;case"yAxis":return Y6(e,s).height;default:return}},J6=(e,r,s,a)=>{if(s!=null){var{allowDuplicatedCategory:n,type:i,dataKey:o}=s,l=co(e,a),d=r.map(m=>m.value);if(o&&l&&i==="category"&&n&&GD(d))return d}},SC=me([Gt,Ny,ds,Wr],J6),X6=(e,r,s,a)=>{if(!(s==null||s.dataKey==null)){var{type:n,scale:i}=s,o=co(e,a);if(o&&(n==="number"||i!=="auto"))return r.map(l=>l.value)}},CC=me([Gt,Ny,Qf,Wr],X6),I5=me([Gt,Ede,fm,pm,SC,CC,tp,jC,Wr],(e,r,s,a,n,i,o,l,d)=>{if(r==null)return null;var m=co(e,d);return{angle:r.angle,interval:r.interval,minTickGap:r.minTickGap,orientation:r.orientation,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit,axisType:d,categoricalDomain:i,duplicateDomain:n,isCategorical:m,niceTicks:l,range:o,realScaleType:s,scale:a}}),mue=(e,r,s,a,n,i,o,l,d)=>{if(!(r==null||a==null)){var m=co(e,d),{type:h,ticks:f,tickCount:g}=r,y=s==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,w=h==="category"&&a.bandwidth?a.bandwidth()/y:0;w=d==="angleAxis"&&i!=null&&i.length>=2?Us(i[0]-i[1])*2*w:w;var v=f||n;if(v){var b=v.map((N,C)=>{var S=o?o.indexOf(N):N;return{index:C,coordinate:a(S)+w,value:N,offset:w}});return b.filter(N=>!Xa(N.coordinate))}return m&&l?l.map((N,C)=>({coordinate:a(N)+w,value:N,index:C,offset:w})):a.ticks?a.ticks(g).map(N=>({coordinate:a(N)+w,value:N,offset:w})):a.domain().map((N,C)=>({coordinate:a(N)+w,value:o?o[N]:N,index:C,offset:w}))}},Q6=me([Gt,Qf,fm,pm,jC,tp,SC,CC,Wr],mue),hue=(e,r,s,a,n,i,o)=>{if(!(r==null||s==null||a==null||a[0]===a[1])){var l=co(e,o),{tickCount:d}=r,m=0;return m=o==="angleAxis"&&(a==null?void 0:a.length)>=2?Us(a[0]-a[1])*2*m:m,l&&i?i.map((h,f)=>({coordinate:s(h)+m,value:h,index:f,offset:m})):s.ticks?s.ticks(d).map(h=>({coordinate:s(h)+m,value:h,offset:m})):s.domain().map((h,f)=>({coordinate:s(h)+m,value:n?n[h]:h,index:f,offset:m}))}},to=me([Gt,Qf,pm,tp,SC,CC,Wr],hue),ro=me(ds,pm,(e,r)=>{if(!(e==null||r==null))return sx(sx({},e),{},{scale:r})}),fue=me([ds,fm,vC,q6],bC);me((e,r,s)=>cC(e,s),fue,(e,r)=>{if(!(e==null||r==null))return sx(sx({},e),{},{scale:r})});var pue=me([Gt,_2,P2],(e,r,s)=>{switch(e){case"horizontal":return r.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return s.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Z6=e=>e.options.defaultTooltipEventType,e$=e=>e.options.validateTooltipEventTypes;function t$(e,r,s){if(e==null)return r;var a=e?"axis":"item";return s==null?r:s.includes(a)?a:r}function kC(e,r){var s=Z6(e),a=e$(e);return t$(r,s,a)}function gue(e){return st(r=>kC(r,e))}var r$=(e,r)=>{var s,a=Number(r);if(!(Xa(a)||r==null))return a>=0?e==null||(s=e[a])===null||s===void 0?void 0:s.value:void 0},xue=e=>e.tooltip.settings,Il={active:!1,index:null,dataKey:void 0,coordinate:void 0},yue={itemInteraction:{click:Il,hover:Il},axisInteraction:{click:Il,hover:Il},keyboardInteraction:Il,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},s$=wn({name:"tooltip",initialState:yue,reducers:{addTooltipEntrySettings(e,r){e.tooltipItemPayloads.push(r.payload)},removeTooltipEntrySettings(e,r){var s=Mo(e).tooltipItemPayloads.indexOf(r.payload);s>-1&&e.tooltipItemPayloads.splice(s,1)},setTooltipSettingsState(e,r){e.settings=r.payload},setActiveMouseOverItemIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=r.payload.activeIndex,e.itemInteraction.hover.dataKey=r.payload.activeDataKey,e.itemInteraction.hover.coordinate=r.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,r){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=r.payload.activeIndex,e.itemInteraction.click.dataKey=r.payload.activeDataKey,e.itemInteraction.click.coordinate=r.payload.activeCoordinate},setMouseOverAxisIndex(e,r){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=r.payload.activeIndex,e.axisInteraction.hover.dataKey=r.payload.activeDataKey,e.axisInteraction.hover.coordinate=r.payload.activeCoordinate},setMouseClickAxisIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=r.payload.activeIndex,e.axisInteraction.click.dataKey=r.payload.activeDataKey,e.axisInteraction.click.coordinate=r.payload.activeCoordinate},setSyncInteraction(e,r){e.syncInteraction=r.payload},setKeyboardInteraction(e,r){e.keyboardInteraction.active=r.payload.active,e.keyboardInteraction.index=r.payload.activeIndex,e.keyboardInteraction.coordinate=r.payload.activeCoordinate,e.keyboardInteraction.dataKey=r.payload.activeDataKey}}}),{addTooltipEntrySettings:vue,removeTooltipEntrySettings:bue,setTooltipSettingsState:wue,setActiveMouseOverItemIndex:a$,mouseLeaveItem:jue,mouseLeaveChart:n$,setActiveClickItemIndex:Nue,setMouseOverAxisIndex:i$,setMouseClickAxisIndex:Sue,setSyncInteraction:O1,setKeyboardInteraction:M1}=s$.actions,Cue=s$.reducer;function D5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Vg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?D5(Object(s),!0).forEach(function(a){kue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function kue(e,r,s){return(r=_ue(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function _ue(e){var r=Pue(e,"string");return typeof r=="symbol"?r:r+""}function Pue(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Aue(e,r,s){return r==="axis"?s==="click"?e.axisInteraction.click:e.axisInteraction.hover:s==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Eue(e){return e.index!=null}var o$=(e,r,s,a)=>{if(r==null)return Il;var n=Aue(e,r,s);if(n==null)return Il;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Eue(n)){if(i)return Vg(Vg({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return Vg(Vg({},Il),{},{coordinate:n.coordinate})},_C=(e,r)=>{var s=e==null?void 0:e.index;if(s==null)return null;var a=Number(s);if(!ta(a))return s;var n=0,i=1/0;return r.length>0&&(i=r.length-1),String(Math.max(n,Math.min(a,i)))},l$=(e,r,s,a,n,i,o,l)=>{if(!(i==null||l==null)){var d=o[0],m=d==null?void 0:l(d.positions,i);if(m!=null)return m;var h=n==null?void 0:n[Number(i)];if(h)switch(s){case"horizontal":return{x:h.coordinate,y:(a.top+r)/2};default:return{x:(a.left+e)/2,y:h.coordinate}}}},c$=(e,r,s,a)=>{if(r==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return s==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===n})},rp=e=>e.options.tooltipPayloadSearcher,gm=e=>e.tooltip;function L5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function $5(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?L5(Object(s),!0).forEach(function(a){Tue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):L5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Tue(e,r,s){return(r=Oue(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Oue(e){var r=Mue(e,"string");return typeof r=="symbol"?r:r+""}function Mue(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Rue(e,r){return e??r}var d$=(e,r,s,a,n,i,o)=>{if(!(r==null||i==null)){var{chartData:l,computedData:d,dataStartIndex:m,dataEndIndex:h}=s,f=[];return e.reduce((g,y)=>{var w,{dataDefinedOnItem:v,settings:b}=y,N=Rue(v,l),C=Array.isArray(N)?QL(N,m,h):N,S=(w=b==null?void 0:b.dataKey)!==null&&w!==void 0?w:a==null?void 0:a.dataKey,_=b==null?void 0:b.nameKey,A;if(a!=null&&a.dataKey&&Array.isArray(C)&&!Array.isArray(C[0])&&o==="axis"?A=YD(C,a.dataKey,n):A=i(C,r,d,_),Array.isArray(A))A.forEach(E=>{var R=$5($5({},b),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});g.push(vT({tooltipEntrySettings:R,dataKey:E.dataKey,payload:E.payload,value:yr(E.payload,E.dataKey),name:E.name}))});else{var T;g.push(vT({tooltipEntrySettings:b,dataKey:S,payload:A,value:yr(A,S),name:(T=yr(A,_))!==null&&T!==void 0?T:b==null?void 0:b.name}))}return g},f)}},PC=me([Os,Gt,_6,sC,Ts],W6),Iue=me([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,r)=>[...e,...r]),Due=me([Ts,mm],dC),sp=me([Iue,Os,Due],uC),Lue=me([sp],e=>e.filter(jy)),$ue=me([sp],mC),xm=me([$ue,ic],hC),zue=me([Lue,ic,Os],k6),AC=me([xm,Os,sp],pC),Fue=me([Os],gC),Uue=me([sp],e=>e.filter(jy)),Bue=me([zue,Uue,Jf],O6),Wue=me([Bue,ic,Ts],M6),Vue=me([sp],A6),que=me([xm,Os,Vue,Sy,Ts],R6),Hue=me([D6,Ts,mm],hm),Kue=me([Hue,Ts],z6),Gue=me([L6,Ts,mm],hm),Yue=me([Gue,Ts],F6),Jue=me([$6,Ts,mm],hm),Xue=me([Jue,Ts],U6),Que=me([Kue,Xue,Yue],ax),Zue=me([Os,Fue,Wue,que,Que,Gt,Ts],xC),u$=me([Os,Gt,xm,AC,Jf,Ts,Zue],yC),eme=me([u$,Os,PC],wC),tme=me([Os,u$,eme,Ts],NC),m$=e=>{var r=Ts(e),s=mm(e),a=!1;return tp(e,r,s,a)},h$=me([Os,m$],vy),f$=me([Os,PC,tme,h$],bC),rme=me([Gt,AC,Os,Ts],J6),sme=me([Gt,AC,Os,Ts],X6),ame=(e,r,s,a,n,i,o,l)=>{if(r){var{type:d}=r,m=co(e,l);if(a){var h=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,f=d==="category"&&a.bandwidth?a.bandwidth()/h:0;return f=l==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?Us(n[0]-n[1])*2*f:f,m&&o?o.map((g,y)=>({coordinate:a(g)+f,value:g,index:y,offset:f})):a.domain().map((g,y)=>({coordinate:a(g)+f,value:i?i[g]:g,index:y,offset:f}))}}},Xo=me([Gt,Os,PC,f$,m$,rme,sme,Ts],ame),EC=me([Z6,e$,xue],(e,r,s)=>t$(s.shared,e,r)),p$=e=>e.tooltip.settings.trigger,TC=e=>e.tooltip.settings.defaultIndex,_y=me([gm,EC,p$,TC],o$),Jl=me([_y,xm],_C),g$=me([Xo,Jl],r$),x$=me([_y],e=>{if(e)return e.dataKey}),y$=me([gm,EC,p$,TC],c$),nme=me([Ko,Go,Gt,As,Xo,TC,y$,rp],l$),ime=me([_y,nme],(e,r)=>e!=null&&e.coordinate?e.coordinate:r),ome=me([_y],e=>e.active),lme=me([y$,Jl,ic,Os,g$,rp,EC],d$),cme=me([lme],e=>{if(e!=null){var r=e.map(s=>s.payload).filter(s=>s!=null);return Array.from(new Set(r))}});function z5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function F5(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?z5(Object(s),!0).forEach(function(a){dme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):z5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function dme(e,r,s){return(r=ume(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ume(e){var r=mme(e,"string");return typeof r=="symbol"?r:r+""}function mme(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var hme=()=>st(Os),fme=()=>{var e=hme(),r=st(Xo),s=st(f$);return ud(F5(F5({},e),{},{scale:s}),r)},v$=()=>st(sC),OC=(e,r)=>r,b$=(e,r,s)=>s,MC=(e,r,s,a)=>a,pme=me(Xo,e=>ry(e,r=>r.coordinate)),RC=me([gm,OC,b$,MC],o$),w$=me([RC,xm],_C),gme=(e,r,s)=>{if(r!=null){var a=gm(e);return r==="axis"?s==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:s==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},j$=me([gm,OC,b$,MC],c$),nx=me([Ko,Go,Gt,As,Xo,MC,j$,rp],l$),xme=me([RC,nx],(e,r)=>{var s;return(s=e.coordinate)!==null&&s!==void 0?s:r}),N$=me(Xo,w$,r$),yme=me([j$,w$,ic,Os,N$,rp,OC],d$),vme=me([RC],e=>({isActive:e.active,activeIndex:e.index})),bme=(e,r,s,a,n,i,o,l)=>{if(!(!e||!r||!a||!n||!i)){var d=rie(e.chartX,e.chartY,r,s,l);if(d){var m=aie(d,r),h=Vne(m,o,i,a,n),f=sie(r,i,h,d);return{activeIndex:String(h),activeCoordinate:f}}}};function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},R1.apply(null,arguments)}function U5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function qg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?U5(Object(s),!0).forEach(function(a){wme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):U5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function wme(e,r,s){return(r=jme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function jme(e){var r=Nme(e,"string");return typeof r=="symbol"?r:r+""}function Nme(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Sme(e){var{coordinate:r,payload:s,index:a,offset:n,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:d,chartName:m}=e,h=r,f=s,g=a;if(!l||!h||m!=="ScatterChart"&&d!=="axis")return null;var y,w;if(m==="ScatterChart")y=h,w=Uie;else if(m==="BarChart")y=Bie(o,h,n,i),w=v8;else if(o==="radial"){var{cx:v,cy:b,radius:N,startAngle:C,endAngle:S}=b8(h);y={cx:v,cy:b,startAngle:C,endAngle:S,innerRadius:N,outerRadius:N},w=j8}else y={points:koe(o,h,n)},w=Ru;var _=typeof l=="object"&&"className"in l?l.className:void 0,A=qg(qg(qg(qg({stroke:"#ccc",pointerEvents:"none"},n),y),Ar(l,!1)),{},{payload:f,payloadIndex:g,className:Zt("recharts-tooltip-cursor",_)});return p.isValidElement(l)?p.cloneElement(l,A):p.createElement(w,A)}function Cme(e){var r=fme(),s=i8(),a=Vf(),n=v$();return p.createElement(Sme,R1({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:s,layout:a,tooltipAxisBandSize:r,chartName:n}))}var S$=p.createContext(null),kme=()=>p.useContext(S$),Lj={exports:{}},B5;function _me(){return B5||(B5=1,function(e){var r=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function n(d,m,h){this.fn=d,this.context=m,this.once=h||!1}function i(d,m,h,f,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new n(h,f||d,g),w=s?s+m:m;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],y]:d._events[w].push(y):(d._events[w]=y,d._eventsCount++),d}function o(d,m){--d._eventsCount===0?d._events=new a:delete d._events[m]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var m=[],h,f;if(this._eventsCount===0)return m;for(f in h=this._events)r.call(h,f)&&m.push(s?f.slice(1):f);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},l.prototype.listeners=function(m){var h=s?s+m:m,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,y=f.length,w=new Array(y);g<y;g++)w[g]=f[g].fn;return w},l.prototype.listenerCount=function(m){var h=s?s+m:m,f=this._events[h];return f?f.fn?1:f.length:0},l.prototype.emit=function(m,h,f,g,y,w){var v=s?s+m:m;if(!this._events[v])return!1;var b=this._events[v],N=arguments.length,C,S;if(b.fn){switch(b.once&&this.removeListener(m,b.fn,void 0,!0),N){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,f),!0;case 4:return b.fn.call(b.context,h,f,g),!0;case 5:return b.fn.call(b.context,h,f,g,y),!0;case 6:return b.fn.call(b.context,h,f,g,y,w),!0}for(S=1,C=new Array(N-1);S<N;S++)C[S-1]=arguments[S];b.fn.apply(b.context,C)}else{var _=b.length,A;for(S=0;S<_;S++)switch(b[S].once&&this.removeListener(m,b[S].fn,void 0,!0),N){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,h);break;case 3:b[S].fn.call(b[S].context,h,f);break;case 4:b[S].fn.call(b[S].context,h,f,g);break;default:if(!C)for(A=1,C=new Array(N-1);A<N;A++)C[A-1]=arguments[A];b[S].fn.apply(b[S].context,C)}}return!0},l.prototype.on=function(m,h,f){return i(this,m,h,f,!1)},l.prototype.once=function(m,h,f){return i(this,m,h,f,!0)},l.prototype.removeListener=function(m,h,f,g){var y=s?s+m:m;if(!this._events[y])return this;if(!h)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===h&&(!g||w.once)&&(!f||w.context===f)&&o(this,y);else{for(var v=0,b=[],N=w.length;v<N;v++)(w[v].fn!==h||g&&!w[v].once||f&&w[v].context!==f)&&b.push(w[v]);b.length?this._events[y]=b.length===1?b[0]:b:o(this,y)}return this},l.prototype.removeAllListeners=function(m){var h;return m?(h=s?s+m:m,this._events[h]&&o(this,h)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,e.exports=l}(Lj)),Lj.exports}var Pme=_me();const Ame=vn(Pme);var df=new Ame,I1="recharts.syncEvent.tooltip",W5="recharts.syncEvent.brush";function Py(e,r){if(r){var s=Number.parseInt(r,10);if(!Xa(s))return e==null?void 0:e[s]}}var Eme={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},C$=wn({name:"options",initialState:Eme,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Tme=C$.reducer,{createEventEmitter:Ome}=C$.actions;function Mme(e){return e.tooltip.syncInteraction}var Rme={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},k$=wn({name:"chartData",initialState:Rme,reducers:{setChartData(e,r){if(e.chartData=r.payload,r.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}r.payload.length>0&&e.dataEndIndex!==r.payload.length-1&&(e.dataEndIndex=r.payload.length-1)},setComputedData(e,r){e.computedData=r.payload},setDataStartEndIndexes(e,r){var{startIndex:s,endIndex:a}=r.payload;s!=null&&(e.dataStartIndex=s),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:V5,setDataStartEndIndexes:Ime,setComputedData:V1e}=k$.actions,Dme=k$.reducer,_$=()=>{};function Lme(){var e=st(aC),r=st(nC),s=cs(),a=st(b6),n=st(Xo),i=Vf(),o=A2(),l=st(d=>d.rootProps.className);p.useEffect(()=>{if(e==null)return _$;var d=(m,h,f)=>{if(r!==f&&e===m){if(a==="index"){s(h);return}if(n!=null){var g;if(typeof a=="function"){var y={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},w=a(n,y);g=n[w]}else a==="value"&&(g=n.find(T=>String(T.value)===h.payload.label));var{coordinate:v}=h.payload;if(g==null||h.payload.active===!1||v==null||o==null){s(O1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y:N}=v,C=Math.min(b,o.x+o.width),S=Math.min(N,o.y+o.height),_={x:i==="horizontal"?g.coordinate:C,y:i==="horizontal"?S:g.coordinate},A=O1({active:h.payload.active,coordinate:_,dataKey:h.payload.dataKey,index:String(g.index),label:h.payload.label});s(A)}}};return df.on(I1,d),()=>{df.off(I1,d)}},[l,s,r,e,a,n,i,o])}function $me(){var e=st(aC),r=st(nC),s=cs();p.useEffect(()=>{if(e==null)return _$;var a=(n,i,o)=>{r!==o&&e===n&&s(Ime(i))};return df.on(W5,a),()=>{df.off(W5,a)}},[s,r,e])}function zme(){var e=cs();p.useEffect(()=>{e(Ome())},[e]),Lme(),$me()}function Fme(e,r,s,a,n,i){var o=st(g=>gme(g,e,r)),l=st(nC),d=st(aC),m=st(b6),h=st(Mme),f=h==null?void 0:h.active;p.useEffect(()=>{if(!f&&d!=null&&l!=null){var g=O1({active:i,coordinate:s,dataKey:o,index:n,label:typeof a=="number"?String(a):a});df.emit(I1,d,g,l)}},[f,s,o,n,a,l,d,m,i])}function q5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function H5(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?q5(Object(s),!0).forEach(function(a){Ume(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):q5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ume(e,r,s){return(r=Bme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Bme(e){var r=Wme(e,"string");return typeof r=="symbol"?r:r+""}function Wme(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Vme(e){return e.dataKey}function qme(e,r){return p.isValidElement(e)?p.cloneElement(e,r):typeof e=="function"?p.createElement(e,r):p.createElement(vie,r)}var K5=[],Hme={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!sc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Fn(e){var r=Ra(e,Hme),{active:s,allowEscapeViewBox:a,animationDuration:n,animationEasing:i,content:o,filterNull:l,isAnimationActive:d,offset:m,payloadUniqBy:h,position:f,reverseDirection:g,useTranslate3d:y,wrapperStyle:w,cursor:v,shared:b,trigger:N,defaultIndex:C,portal:S,axisId:_}=r,A=cs(),T=typeof C=="number"?String(C):C;p.useEffect(()=>{A(wue({shared:b,trigger:N,axisId:_,active:s,defaultIndex:T}))},[A,b,N,_,s,T]);var E=A2(),R=m8(),$=gue(b),{activeIndex:K,isActive:M}=st(he=>vme(he,$,N,T)),I=st(he=>yme(he,$,N,T)),W=st(he=>N$(he,$,N,T)),V=st(he=>xme(he,$,N,T)),U=I,L=kme(),O=s??M,[F,z]=Rae([U,O]),Y=$==="axis"?W:void 0;Fme($,N,V,Y,K,O);var B=S??L;if(B==null)return null;var ee=U??K5;O||(ee=K5),l&&ee.length&&(ee=lae(U.filter(he=>he.value!=null&&(he.hide!==!0||r.includeHidden)),h,Vme));var ke=ee.length>0,H=p.createElement(kie,{allowEscapeViewBox:a,animationDuration:n,animationEasing:i,isAnimationActive:d,active:O,coordinate:V,hasPayload:ke,offset:m,position:f,reverseDirection:g,useTranslate3d:y,viewBox:E,wrapperStyle:w,lastBoundingBox:F,innerRef:z,hasPortalFromProps:!!S},qme(o,H5(H5({},r),{},{payload:ee,label:Y,active:O,coordinate:V,accessibilityLayer:R})));return p.createElement(p.Fragment,null,Xl.createPortal(H,B),O&&p.createElement(Cme,{cursor:v,tooltipEventType:$,coordinate:V,payload:U,index:K}))}var $j={},zj={},Fj={},G5;function Kme(){return G5||(G5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a,{signal:n,edges:i}={}){let o,l=null;const d=i!=null&&i.includes("leading"),m=i==null||i.includes("trailing"),h=()=>{l!==null&&(s.apply(o,l),o=void 0,l=null)},f=()=>{m&&h(),v()};let g=null;const y=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,f()},a)},w=()=>{g!==null&&(clearTimeout(g),g=null)},v=()=>{w(),o=void 0,l=null},b=()=>{h()},N=function(...C){if(n!=null&&n.aborted)return;o=this,l=C;const S=g==null;y(),d&&S&&h()};return N.schedule=y,N.cancel=v,N.flush=b,n==null||n.addEventListener("abort",v,{once:!0}),N}e.debounce=r}(Fj)),Fj}var Y5;function Gme(){return Y5||(Y5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Kme();function s(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:d}=i,m=Array(2);o&&(m[0]="leading"),l&&(m[1]="trailing");let h,f=null;const g=r.debounce(function(...v){h=a.apply(this,v),f=null},n,{edges:m}),y=function(...v){return d!=null&&(f===null&&(f=Date.now()),Date.now()-f>=d)?(h=a.apply(this,v),f=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,v),h)},w=()=>(g.flush(),h);return y.cancel=g.cancel,y.flush=w,y}e.debounce=s}(zj)),zj}var J5;function Yme(){return J5||(J5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Gme();function s(a,n=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return r.debounce(a,n,{leading:o,maxWait:n,trailing:l})}e.throttle=s}($j)),$j}var Uj,X5;function Jme(){return X5||(X5=1,Uj=Yme().throttle),Uj}var Xme=Jme();const Qme=vn(Xme);var Fh=function(r,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]};function Q5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Bj(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Q5(Object(s),!0).forEach(function(a){Zme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Q5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Zme(e,r,s){return(r=ehe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ehe(e){var r=the(e,"string");return typeof r=="symbol"?r:r+""}function the(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Un=p.forwardRef((e,r)=>{var{aspect:s,initialDimension:a={width:-1,height:-1},width:n="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:d,children:m,debounce:h=0,id:f,className:g,onResize:y,style:w={}}=e,v=p.useRef(null),b=p.useRef();b.current=y,p.useImperativeHandle(r,()=>v.current);var[N,C]=p.useState({containerWidth:a.width,containerHeight:a.height}),S=p.useCallback((A,T)=>{C(E=>{var R=Math.round(A),$=Math.round(T);return E.containerWidth===R&&E.containerHeight===$?E:{containerWidth:R,containerHeight:$}})},[]);p.useEffect(()=>{var A=$=>{var K,{width:M,height:I}=$[0].contentRect;S(M,I),(K=b.current)===null||K===void 0||K.call(b,M,I)};h>0&&(A=Qme(A,h,{trailing:!0,leading:!1}));var T=new ResizeObserver(A),{width:E,height:R}=v.current.getBoundingClientRect();return S(E,R),T.observe(v.current),()=>{T.disconnect()}},[S,h]);var _=p.useMemo(()=>{var{containerWidth:A,containerHeight:T}=N;if(A<0||T<0)return null;Fh(Uc(n)||Uc(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,n,i),Fh(!s||s>0,"The aspect(%s) must be greater than zero.",s);var E=Uc(n)?A:n,R=Uc(i)?T:i;return s&&s>0&&(E?R=E/s:R&&(E=R*s),d&&R>d&&(R=d)),Fh(E>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,R,n,i,o,l,s),p.Children.map(m,$=>p.cloneElement($,{width:E,height:R,style:Bj({width:E,height:R},$.props.style)}))},[s,m,i,d,l,o,N,n]);return p.createElement("div",{id:f?"".concat(f):void 0,className:Zt("recharts-responsive-container",g),style:Bj(Bj({},w),{},{width:n,height:i,minWidth:o,minHeight:l,maxHeight:d}),ref:v},p.createElement("div",{style:{width:0,height:0,overflow:"visible"}},_))}),kd=e=>null;kd.displayName="Cell";function rhe(e,r,s){return(r=she(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function she(e){var r=ahe(e,"string");return typeof r=="symbol"?r:r+""}function ahe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class nhe{constructor(r){rhe(this,"cache",new Map),this.maxSize=r}get(r){var s=this.cache.get(r);return s!==void 0&&(this.cache.delete(r),this.cache.set(r,s)),s}set(r,s){if(this.cache.has(r))this.cache.delete(r);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(r,s)}clear(){this.cache.clear()}size(){return this.cache.size}}function Z5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ihe(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Z5(Object(s),!0).forEach(function(a){ohe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Z5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ohe(e,r,s){return(r=lhe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function lhe(e){var r=che(e,"string");return typeof r=="symbol"?r:r+""}function che(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var dhe={cacheSize:2e3,enableCache:!0},P$=ihe({},dhe),e3=new nhe(P$.cacheSize),uhe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},t3="recharts_measurement_span";function mhe(e,r){var s=r.fontSize||"",a=r.fontFamily||"",n=r.fontWeight||"",i=r.fontStyle||"",o=r.letterSpacing||"",l=r.textTransform||"";return"".concat(e,"|").concat(s,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(o,"|").concat(l)}var r3=(e,r)=>{try{var s=document.getElementById(t3);s||(s=document.createElement("span"),s.setAttribute("id",t3),s.setAttribute("aria-hidden","true"),document.body.appendChild(s)),Object.assign(s.style,uhe,r),s.textContent="".concat(e);var a=s.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Uh=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||sc.isSsr)return{width:0,height:0};if(!P$.enableCache)return r3(r,s);var a=mhe(r,s),n=e3.get(a);if(n)return n;var i=r3(r,s);return e3.set(a,i),i},s3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,a3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hhe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fhe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,A$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},phe=Object.keys(A$),_u="NaN";function ghe(e,r){return e*A$[r]}class Va{static parse(r){var s,[,a,n]=(s=fhe.exec(r))!==null&&s!==void 0?s:[];return new Va(parseFloat(a),n??"")}constructor(r,s){this.num=r,this.unit=s,this.num=r,this.unit=s,Xa(r)&&(this.unit=""),s!==""&&!hhe.test(s)&&(this.num=NaN,this.unit=""),phe.includes(s)&&(this.num=ghe(r,s),this.unit="px")}add(r){return this.unit!==r.unit?new Va(NaN,""):new Va(this.num+r.num,this.unit)}subtract(r){return this.unit!==r.unit?new Va(NaN,""):new Va(this.num-r.num,this.unit)}multiply(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new Va(NaN,""):new Va(this.num*r.num,this.unit||r.unit)}divide(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new Va(NaN,""):new Va(this.num/r.num,this.unit||r.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Xa(this.num)}}function E$(e){if(e.includes(_u))return _u;for(var r=e;r.includes("*")||r.includes("/");){var s,[,a,n,i]=(s=s3.exec(r))!==null&&s!==void 0?s:[],o=Va.parse(a??""),l=Va.parse(i??""),d=n==="*"?o.multiply(l):o.divide(l);if(d.isNaN())return _u;r=r.replace(s3,d.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var m,[,h,f,g]=(m=a3.exec(r))!==null&&m!==void 0?m:[],y=Va.parse(h??""),w=Va.parse(g??""),v=f==="+"?y.add(w):y.subtract(w);if(v.isNaN())return _u;r=r.replace(a3,v.toString())}return r}var n3=/\(([^()]*)\)/;function xhe(e){for(var r=e,s;(s=n3.exec(r))!=null;){var[,a]=s;r=r.replace(n3,E$(a))}return r}function yhe(e){var r=e.replace(/\s+/g,"");return r=xhe(r),r=E$(r),r}function vhe(e){try{return yhe(e)}catch{return _u}}function Wj(e){var r=vhe(e.slice(5,-1));return r===_u?"":r}var bhe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],whe=["dx","dy","angle","className","breakAll"];function D1(){return D1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},D1.apply(null,arguments)}function i3(e,r){if(e==null)return{};var s,a,n=jhe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function jhe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var T$=/[ \f\n\r\t\v\u2028\u2029]+/,O$=e=>{var{children:r,breakAll:s,style:a}=e;try{var n=[];Er(r)||(s?n=r.toString().split(""):n=r.toString().split(T$));var i=n.map(l=>({word:l,width:Uh(l,a).width})),o=s?0:Uh("",a).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},Nhe=(e,r,s,a,n)=>{var{maxLines:i,children:o,style:l,breakAll:d}=e,m=Ve(i),h=o,f=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((I,W)=>{var{word:V,width:U}=W,L=I[I.length-1];if(L&&(a==null||n||L.width+U+s<Number(a)))L.words.push(V),L.width+=U+s;else{var O={words:[V],width:U};I.push(O)}return I},[])},g=f(r),y=K=>K.reduce((M,I)=>M.width>I.width?M:I);if(!m||n)return g;var w=g.length>i||y(g).width>Number(a);if(!w)return g;for(var v="",b=K=>{var M=h.slice(0,K),I=O$({breakAll:d,style:l,children:M+v}).wordsWithComputedWidth,W=f(I),V=W.length>i||y(W).width>Number(a);return[V,W]},N=0,C=h.length-1,S=0,_;N<=C&&S<=h.length-1;){var A=Math.floor((N+C)/2),T=A-1,[E,R]=b(T),[$]=b(A);if(!E&&!$&&(N=A+1),E&&$&&(C=A-1),!E&&$){_=R;break}S++}return _||g},o3=e=>{var r=Er(e)?[]:e.toString().split(T$);return[{words:r}]},She=e=>{var{width:r,scaleToFit:s,children:a,style:n,breakAll:i,maxLines:o}=e;if((r||s)&&!sc.isSsr){var l,d,m=O$({breakAll:i,children:a,style:n});if(m){var{wordsWithComputedWidth:h,spaceWidth:f}=m;l=h,d=f}else return o3(a);return Nhe({breakAll:i,children:a,maxLines:o,style:n},l,d,r,s)}return o3(a)},l3="#808080",Ay=p.forwardRef((e,r)=>{var{x:s=0,y:a=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:d="end",fill:m=l3}=e,h=i3(e,bhe),f=p.useMemo(()=>She({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:o,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,o,h.style,h.width]),{dx:g,dy:y,angle:w,className:v,breakAll:b}=h,N=i3(h,whe);if(!Zi(s)||!Zi(a))return null;var C=s+(Ve(g)?g:0),S=a+(Ve(y)?y:0),_;switch(d){case"start":_=Wj("calc(".concat(i,")"));break;case"middle":_=Wj("calc(".concat((f.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:_=Wj("calc(".concat(f.length-1," * -").concat(n,")"));break}var A=[];if(o){var T=f[0].width,{width:E}=h;A.push("scale(".concat(Ve(E)?E/T:1,")"))}return w&&A.push("rotate(".concat(w,", ").concat(C,", ").concat(S,")")),A.length&&(N.transform=A.join(" ")),p.createElement("text",D1({},Ar(N,!0),{ref:r,x:C,y:S,className:Zt("recharts-text",v),textAnchor:l,fill:m.includes("url")?l3:m}),f.map((R,$)=>{var K=R.words.join(b?"":" ");return p.createElement("tspan",{x:C,dy:$===0?_:n,key:"".concat(K,"-").concat($)},K)}))});Ay.displayName="Text";var Che=["offset"],khe=["labelRef"];function c3(e,r){if(e==null)return{};var s,a,n=_he(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function _he(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function d3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Xr(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?d3(Object(s),!0).forEach(function(a){Phe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Phe(e,r,s){return(r=Ahe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Ahe(e){var r=Ehe(e,"string");return typeof r=="symbol"?r:r+""}function Ehe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_o.apply(null,arguments)}var The=e=>{var{value:r,formatter:s}=e,a=Er(e.children)?r:e.children;return typeof s=="function"?s(a):a},IC=e=>e!=null&&typeof e=="function",Ohe=(e,r)=>{var s=Us(r-e),a=Math.min(Math.abs(r-e),360);return s*a},Mhe=(e,r,s,a)=>{var{position:n,offset:i,className:o}=e,{cx:l,cy:d,innerRadius:m,outerRadius:h,startAngle:f,endAngle:g,clockWise:y}=a,w=(m+h)/2,v=Ohe(f,g),b=v>=0?1:-1,N,C;n==="insideStart"?(N=f+b*i,C=y):n==="insideEnd"?(N=g-b*i,C=!y):n==="end"&&(N=g+b*i,C=y),C=v<=0?C:!C;var S=gs(l,d,w,N),_=gs(l,d,w,N+(C?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(C?0:1,`,
    `).concat(_.x,",").concat(_.y),T=Er(e.id)?Zh("recharts-radial-line-"):e.id;return p.createElement("text",_o({},s,{dominantBaseline:"central",className:Zt("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:T,d:A})),p.createElement("textPath",{xlinkHref:"#".concat(T)},r))},Rhe=(e,r,s)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:o,startAngle:l,endAngle:d}=e,m=(l+d)/2;if(s==="outside"){var{x:h,y:f}=gs(a,n,o+r,m);return{x:h,y:f,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var g=(i+o)/2,{x:y,y:w}=gs(a,n,g,m);return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Ihe=(e,r)=>{var{parentViewBox:s,offset:a,position:n}=e,{x:i,y:o,width:l,height:d}=r,m=d>=0?1:-1,h=m*a,f=m>0?"end":"start",g=m>0?"start":"end",y=l>=0?1:-1,w=y*a,v=y>0?"end":"start",b=y>0?"start":"end";if(n==="top"){var N={x:i+l/2,y:o-m*a,textAnchor:"middle",verticalAnchor:f};return Xr(Xr({},N),s?{height:Math.max(o-s.y,0),width:l}:{})}if(n==="bottom"){var C={x:i+l/2,y:o+d+h,textAnchor:"middle",verticalAnchor:g};return Xr(Xr({},C),s?{height:Math.max(s.y+s.height-(o+d),0),width:l}:{})}if(n==="left"){var S={x:i-w,y:o+d/2,textAnchor:v,verticalAnchor:"middle"};return Xr(Xr({},S),s?{width:Math.max(S.x-s.x,0),height:d}:{})}if(n==="right"){var _={x:i+l+w,y:o+d/2,textAnchor:b,verticalAnchor:"middle"};return Xr(Xr({},_),s?{width:Math.max(s.x+s.width-_.x,0),height:d}:{})}var A=s?{width:l,height:d}:{};return n==="insideLeft"?Xr({x:i+w,y:o+d/2,textAnchor:b,verticalAnchor:"middle"},A):n==="insideRight"?Xr({x:i+l-w,y:o+d/2,textAnchor:v,verticalAnchor:"middle"},A):n==="insideTop"?Xr({x:i+l/2,y:o+h,textAnchor:"middle",verticalAnchor:g},A):n==="insideBottom"?Xr({x:i+l/2,y:o+d-h,textAnchor:"middle",verticalAnchor:f},A):n==="insideTopLeft"?Xr({x:i+w,y:o+h,textAnchor:b,verticalAnchor:g},A):n==="insideTopRight"?Xr({x:i+l-w,y:o+h,textAnchor:v,verticalAnchor:g},A):n==="insideBottomLeft"?Xr({x:i+w,y:o+d-h,textAnchor:b,verticalAnchor:f},A):n==="insideBottomRight"?Xr({x:i+l-w,y:o+d-h,textAnchor:v,verticalAnchor:f},A):n&&typeof n=="object"&&(Ve(n.x)||Uc(n.x))&&(Ve(n.y)||Uc(n.y))?Xr({x:i+Ta(n.x,l),y:o+Ta(n.y,d),textAnchor:"end",verticalAnchor:"end"},A):Xr({x:i+l/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Dhe=e=>"cx"in e&&Ve(e.cx);function un(e){var{offset:r=5}=e,s=c3(e,Che),a=Xr({offset:r},s),{viewBox:n,position:i,value:o,children:l,content:d,className:m="",textBreakAll:h,labelRef:f}=a,g=st(C6),y=A2(),w=i==="center"?y:g??y,v=n||w;if(!v||Er(o)&&Er(l)&&!p.isValidElement(d)&&typeof d!="function")return null;var b=Xr(Xr({},a),{},{viewBox:v});if(p.isValidElement(d)){var{labelRef:N}=b,C=c3(b,khe);return p.cloneElement(d,C)}var S;if(typeof d=="function"){if(S=p.createElement(d,b),p.isValidElement(S))return S}else S=The(a);var _=Dhe(v),A=Ar(a,!0);if(_&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Mhe(a,S,A,v);var T=_?Rhe(v,a.offset,a.position):Ihe(a,v);return p.createElement(Ay,_o({ref:f,className:Zt("recharts-label",m)},A,T,{breakAll:h}),S)}un.displayName="Label";var M$=e=>{var{cx:r,cy:s,angle:a,startAngle:n,endAngle:i,r:o,radius:l,innerRadius:d,outerRadius:m,x:h,y:f,top:g,left:y,width:w,height:v,clockWise:b,labelViewBox:N}=e;if(N)return N;if(Ve(w)&&Ve(v)){if(Ve(h)&&Ve(f))return{x:h,y:f,width:w,height:v};if(Ve(g)&&Ve(y))return{x:g,y,width:w,height:v}}if(Ve(h)&&Ve(f))return{x:h,y:f,width:0,height:0};if(Ve(r)&&Ve(s))return{cx:r,cy:s,startAngle:n||a||0,endAngle:i||a||0,innerRadius:d||0,outerRadius:m||l||o||0,clockWise:b};if(e.viewBox)return e.viewBox},Lhe=(e,r,s)=>{if(!e)return null;var a={viewBox:r,labelRef:s};return e===!0?p.createElement(un,_o({key:"label-implicit"},a)):Zi(e)?p.createElement(un,_o({key:"label-implicit",value:e},a)):p.isValidElement(e)?e.type===un?p.cloneElement(e,Xr({key:"label-implicit"},a)):p.createElement(un,_o({key:"label-implicit",content:e},a)):IC(e)?p.createElement(un,_o({key:"label-implicit",content:e},a)):e&&typeof e=="object"?p.createElement(un,_o({},e,{key:"label-implicit"},a)):null},$he=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&a&&!r.label)return null;var{children:n,labelRef:i}=r,o=M$(r),l=Bf(n,un).map((m,h)=>p.cloneElement(m,{viewBox:s||o,key:"label-".concat(h)}));if(!a)return l;var d=Lhe(r.label,s||o,i);return[d,...l]};un.parseViewBox=M$;un.renderCallByParent=$he;var Vj={},qj={},u3;function zhe(){return u3||(u3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s[s.length-1]}e.last=r}(qj)),qj}var Hj={},m3;function Fhe(){return m3||(m3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Array.isArray(s)?s:Array.from(s)}e.toArray=r}(Hj)),Hj}var h3;function Uhe(){return h3||(h3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=zhe(),s=Fhe(),a=g2();function n(i){if(a.isArrayLike(i))return r.last(s.toArray(i))}e.last=n}(Vj)),Vj}var Kj,f3;function Bhe(){return f3||(f3=1,Kj=Uhe().last),Kj}var Whe=Bhe();const Vhe=vn(Whe);var qhe=["valueAccessor"],Hhe=["data","dataKey","clockWise","id","textBreakAll"];function ix(){return ix=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ix.apply(null,arguments)}function p3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function g3(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?p3(Object(s),!0).forEach(function(a){Khe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Khe(e,r,s){return(r=Ghe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Ghe(e){var r=Yhe(e,"string");return typeof r=="symbol"?r:r+""}function Yhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function x3(e,r){if(e==null)return{};var s,a,n=Jhe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jhe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Xhe=e=>Array.isArray(e.value)?Vhe(e.value):e.value;function Io(e){var{valueAccessor:r=Xhe}=e,s=x3(e,qhe),{data:a,dataKey:n,clockWise:i,id:o,textBreakAll:l}=s,d=x3(s,Hhe);return!a||!a.length?null:p.createElement(ls,{className:"recharts-label-list"},a.map((m,h)=>{var f=Er(n)?r(m,h):yr(m&&m.payload,n),g=Er(o)?{}:{id:"".concat(o,"-").concat(h)};return p.createElement(un,ix({},Ar(m,!0),d,g,{parentViewBox:m.parentViewBox,value:f,textBreakAll:l,viewBox:un.parseViewBox(Er(i)?m:g3(g3({},m),{},{clockWise:i})),key:"label-".concat(h),index:h}))}))}Io.displayName="LabelList";function Qhe(e,r){return e?e===!0?p.createElement(Io,{key:"labelList-implicit",data:r}):p.isValidElement(e)||IC(e)?p.createElement(Io,{key:"labelList-implicit",data:r,content:e}):typeof e=="object"?p.createElement(Io,ix({data:r},e,{key:"labelList-implicit"})):null:null}function Zhe(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&s&&!e.label)return null;var{children:a}=e,n=Bf(a,Io).map((o,l)=>p.cloneElement(o,{data:r,key:"labelList-".concat(l)}));if(!s)return n;var i=Qhe(e.label,r);return[i,...n]}Io.renderCallByParent=Zhe;function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},L1.apply(null,arguments)}var DC=e=>{var{cx:r,cy:s,r:a,className:n}=e,i=Zt("recharts-dot",n);return r===+r&&s===+s&&a===+a?p.createElement("circle",L1({},Pi(e),m2(e),{className:i,cx:r,cy:s,r:a})):null},R$=e=>e.graphicalItems.polarItems,efe=me([Wr,Xf],dC),LC=me([R$,ds,efe],uC),tfe=me([LC],mC),$C=me([tfe,eC],hC),rfe=me([$C,ds,LC],pC),sfe=me([$C,ds,LC],(e,r,s)=>s.length>0?e.flatMap(a=>s.flatMap(n=>{var i,o=yr(a,(i=r.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:yr(a,r.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]}))),y3=()=>{},afe=me([ds,B6,y3,sfe,y3,Gt,Wr],xC),I$=me([ds,Gt,$C,rfe,Jf,Wr,afe],yC),nfe=me([I$,ds,fm],wC);me([ds,I$,nfe,Wr],NC);var ife={radiusAxis:{},angleAxis:{}},D$=wn({name:"polarAxis",initialState:ife,reducers:{addRadiusAxis(e,r){e.radiusAxis[r.payload.id]=r.payload},removeRadiusAxis(e,r){delete e.radiusAxis[r.payload.id]},addAngleAxis(e,r){e.angleAxis[r.payload.id]=r.payload},removeAngleAxis(e,r){delete e.angleAxis[r.payload.id]}}}),{addRadiusAxis:q1e,removeRadiusAxis:H1e,addAngleAxis:K1e,removeAngleAxis:G1e}=D$.actions,ofe=D$.reducer;function v3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function b3(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?v3(Object(s),!0).forEach(function(a){lfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function lfe(e,r,s){return(r=cfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function cfe(e){var r=dfe(e,"string");return typeof r=="symbol"?r:r+""}function dfe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ufe=(e,r)=>r,zC=me([R$,ufe],(e,r)=>e.filter(s=>s.type==="pie").find(s=>s.id===r)),mfe=[],FC=(e,r,s)=>(s==null?void 0:s.length)===0?mfe:s,L$=me([eC,zC,FC],(e,r,s)=>{var{chartData:a}=e;if(r!=null){var n;if((r==null?void 0:r.data)!=null&&r.data.length>0?n=r.data:n=a,(!n||!n.length)&&s!=null&&(n=s.map(i=>b3(b3({},r.presentationProps),i.props))),n!=null)return n}}),hfe=me([L$,zC,FC],(e,r,s)=>{if(!(e==null||r==null))return e.map((a,n)=>{var i,o=yr(a,r.nameKey,r.name),l;return s!=null&&(i=s[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=s[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?l=a.fill:l=r.fill,{value:rc(o,r.dataKey),color:l,payload:a,type:r.legendType}})}),ffe=me([L$,zC,FC,As],(e,r,s,a)=>{if(!(r==null||e==null))return ope({offset:a,pieSettings:r,displayedData:e,cells:s})}),Gj={},w3;function pfe(){return w3||(w3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){var n;if(typeof s!="object"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!=="[object Object]"){const i=s[Symbol.toStringTag];return i==null||!((n=Object.getOwnPropertyDescriptor(s,Symbol.toStringTag))!=null&&n.writable)?!1:s.toString()===`[object ${i}]`}let a=s;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(s)===a}e.isPlainObject=r}(Gj)),Gj}var Yj,j3;function gfe(){return j3||(j3=1,Yj=pfe().isPlainObject),Yj}var xfe=gfe();const yfe=vn(xfe);function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ox.apply(null,arguments)}var N3=(e,r,s,a,n)=>{var i=s-a,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+s,",").concat(r),o+="L ".concat(e+s-i/2,",").concat(r+n),o+="L ".concat(e+s-i/2-a,",").concat(r+n),o+="L ".concat(e,",").concat(r," Z"),o},vfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bfe=e=>{var r=Ra(e,vfe),s=p.useRef(),[a,n]=p.useState(-1);p.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var b=s.current.getTotalLength();b&&n(b)}catch{}},[]);var{x:i,y:o,upperWidth:l,lowerWidth:d,height:m,className:h}=r,{animationEasing:f,animationDuration:g,animationBegin:y,isUpdateAnimationActive:w}=r;if(i!==+i||o!==+o||l!==+l||d!==+d||m!==+m||l===0&&d===0||m===0)return null;var v=Zt("recharts-trapezoid",h);return w?p.createElement(q0,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:i,y:o},to:{upperWidth:l,lowerWidth:d,height:m,x:i,y:o},duration:g,animationEasing:f,isActive:w},b=>{var{upperWidth:N,lowerWidth:C,height:S,x:_,y:A}=b;return p.createElement(q0,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:f},p.createElement("path",ox({},Ar(r,!0),{className:v,d:N3(_,A,N,C,S),ref:s})))}):p.createElement("g",null,p.createElement("path",ox({},Ar(r,!0),{className:v,d:N3(i,o,l,d,m)})))},wfe=["option","shapeType","propTransformer","activeClassName","isActive"];function jfe(e,r){if(e==null)return{};var s,a,n=Nfe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Nfe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function S3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function lx(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?S3(Object(s),!0).forEach(function(a){Sfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Sfe(e,r,s){return(r=Cfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Cfe(e){var r=kfe(e,"string");return typeof r=="symbol"?r:r+""}function kfe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function _fe(e,r){return lx(lx({},r),e)}function Pfe(e,r){return e==="symbols"}function C3(e){var{shapeType:r,elementProps:s}=e;switch(r){case"rectangle":return p.createElement(v8,s);case"trapezoid":return p.createElement(bfe,s);case"sector":return p.createElement(j8,s);case"symbols":if(Pfe(r))return p.createElement(gL,s);break;default:return null}}function Afe(e){return p.isValidElement(e)?e.props:e}function $$(e){var{option:r,shapeType:s,propTransformer:a=_fe,activeClassName:n="recharts-active-shape",isActive:i}=e,o=jfe(e,wfe),l;if(p.isValidElement(r))l=p.cloneElement(r,lx(lx({},o),Afe(r)));else if(typeof r=="function")l=r(o);else if(yfe(r)&&typeof r!="boolean"){var d=a(r,o);l=p.createElement(C3,{shapeType:s,elementProps:d})}else{var m=o;l=p.createElement(C3,{shapeType:s,elementProps:m})}return i?p.createElement(ls,{className:n},l):l}var UC=(e,r)=>{var s=cs();return(a,n)=>i=>{e==null||e(a,n,i),s(a$({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}},BC=e=>{var r=cs();return(s,a)=>n=>{e==null||e(s,a,n),r(jue())}},WC=(e,r)=>{var s=cs();return(a,n)=>i=>{e==null||e(a,n,i),s(Nue({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}};function Ey(e){var{fn:r,args:s}=e,a=cs(),n=Sa();return p.useEffect(()=>{if(!n){var i=r(s);return a(vue(i)),()=>{a(bue(i))}}},[r,s,a,n]),null}var z$=()=>{};function VC(e){var{legendPayload:r}=e,s=cs(),a=Sa();return p.useEffect(()=>a?z$:(s(d8(r)),()=>{s(u8(r))}),[s,a,r]),null}function Efe(e){var{legendPayload:r}=e,s=cs(),a=st(Gt);return p.useEffect(()=>a!=="centric"&&a!=="radial"?z$:(s(d8(r)),()=>{s(u8(r))}),[s,a,r]),null}function Ty(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",s=p.useRef(Zh(r)),a=p.useRef(e);return a.current!==e&&(s.current=Zh(r),a.current=e),s.current}var Jj,Tfe=()=>{var[e]=p.useState(()=>Zh("uid-"));return e},Ofe=(Jj=jx.useId)!==null&&Jj!==void 0?Jj:Tfe;function Mfe(e,r){var s=Ofe();return r||(e?"".concat(e,"-").concat(s):s)}var Rfe=p.createContext(void 0),Oy=e=>{var{id:r,type:s,children:a}=e,n=Mfe("recharts-".concat(s),r);return p.createElement(Rfe.Provider,{value:n},a(n))},Ife={cartesianItems:[],polarItems:[]},F$=wn({name:"graphicalItems",initialState:Ife,reducers:{addCartesianGraphicalItem(e,r){e.cartesianItems.push(r.payload)},replaceCartesianGraphicalItem(e,r){var{prev:s,next:a}=r.payload,n=Mo(e).cartesianItems.indexOf(s);n>-1&&(e.cartesianItems[n]=a)},removeCartesianGraphicalItem(e,r){var s=Mo(e).cartesianItems.indexOf(r.payload);s>-1&&e.cartesianItems.splice(s,1)},addPolarGraphicalItem(e,r){e.polarItems.push(r.payload)},removePolarGraphicalItem(e,r){var s=Mo(e).polarItems.indexOf(r.payload);s>-1&&e.polarItems.splice(s,1)}}}),{addCartesianGraphicalItem:Dfe,replaceCartesianGraphicalItem:Lfe,removeCartesianGraphicalItem:$fe,addPolarGraphicalItem:zfe,removePolarGraphicalItem:Ffe}=F$.actions,Ufe=F$.reducer;function qC(e){var r=cs(),s=p.useRef(null);return p.useEffect(()=>{s.current===null?r(Dfe(e)):s.current!==e&&r(Lfe({prev:s.current,next:e})),s.current=e},[r,e]),p.useEffect(()=>()=>{s.current&&(r($fe(s.current)),s.current=null)},[r]),null}function Bfe(e){var r=cs();return p.useEffect(()=>(r(zfe(e)),()=>{r(Ffe(e))}),[r,e]),null}function Wfe(){}var Vfe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},k3={t:0},Xj={t:1};function My(e){var r=Ra(e,Vfe),{isActive:s,canBegin:a,duration:n,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:d,children:m}=r,h=y8("JavascriptAnimate",r.animationManager),[f,g]=p.useState(s?k3:Xj),y=p.useRef(null);return p.useEffect(()=>{s||g(Xj)},[s]),p.useEffect(()=>{if(!s||!a)return Wfe;var w=x8(k3,Xj,p8(i),n,g,h.getTimeoutController()),v=()=>{y.current=w()};return h.start([d,o,v,n,l]),()=>{h.stop(),y.current&&y.current(),l()}},[s,a,n,i,o,d,l,h]),m(f.t)}var qfe=["onMouseEnter","onClick","onMouseLeave"],Hfe=["id"],Kfe=["id"];function HC(e,r){if(e==null)return{};var s,a,n=Gfe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Gfe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function _3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Qr(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?_3(Object(s),!0).forEach(function(a){Yfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Yfe(e,r,s){return(r=Jfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Jfe(e){var r=Xfe(e,"string");return typeof r=="symbol"?r:r+""}function Xfe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ho.apply(null,arguments)}function Qfe(e){var r=p.useMemo(()=>Bf(e.children,kd),[e.children]),s=st(a=>hfe(a,e.id,r));return s==null?null:p.createElement(Efe,{legendPayload:s})}function Zfe(e){var{dataKey:r,nameKey:s,sectors:a,stroke:n,strokeWidth:i,fill:o,name:l,hide:d,tooltipType:m}=e;return{dataDefinedOnItem:a==null?void 0:a.map(h=>h.tooltipPayload),positions:a==null?void 0:a.map(h=>h.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:o,dataKey:r,nameKey:s,name:rc(l,r),hide:d,type:m,color:o,unit:""}}}var epe=(e,r)=>e>r?"start":e<r?"end":"middle",tpe=(e,r,s)=>typeof r=="function"?r(e):Ta(r,s,s*.8),rpe=(e,r,s)=>{var{top:a,left:n,width:i,height:o}=r,l=XL(i,o),d=n+Ta(e.cx,i,i/2),m=a+Ta(e.cy,o,o/2),h=Ta(e.innerRadius,l,0),f=tpe(s,e.outerRadius,l),g=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:d,cy:m,innerRadius:h,outerRadius:f,maxRadius:g}},spe=(e,r)=>{var s=Us(r-e),a=Math.min(Math.abs(r-e),360);return s*a},ape=(e,r)=>{if(p.isValidElement(e))return p.cloneElement(e,r);if(typeof e=="function")return e(r);var s=Zt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(Ru,Ho({},r,{type:"linear",className:s}))},npe=(e,r,s)=>{if(p.isValidElement(e))return p.cloneElement(e,r);var a=s;if(typeof e=="function"&&(a=e(r),p.isValidElement(a)))return a;var n=Zt("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return p.createElement(Ay,Ho({},r,{alignmentBaseline:"middle",className:n}),a)};function ipe(e){var{sectors:r,props:s,showLabels:a}=e,{label:n,labelLine:i,dataKey:o}=s;if(!a||!n||!r)return null;var l=Pi(s),d=Ar(n,!1),m=Ar(i,!1),h=typeof n=="object"&&"offsetRadius"in n&&n.offsetRadius||20,f=r.map((g,y)=>{var w=(g.startAngle+g.endAngle)/2,v=gs(g.cx,g.cy,g.outerRadius+h,w),b=Qr(Qr(Qr(Qr({},l),g),{},{stroke:"none"},d),{},{index:y,textAnchor:epe(v.x,g.cx)},v),N=Qr(Qr(Qr(Qr({},l),g),{},{fill:"none",stroke:g.fill},m),{},{index:y,points:[gs(g.cx,g.cy,g.outerRadius,w),v],key:"line"});return p.createElement(ls,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},i&&ape(i,N),npe(n,b,yr(g,o)))});return p.createElement(ls,{className:"recharts-pie-labels"},f)}function U$(e){var{sectors:r,activeShape:s,inactiveShape:a,allOtherPieProps:n,showLabels:i}=e,o=st(Jl),{onMouseEnter:l,onClick:d,onMouseLeave:m}=n,h=HC(n,qfe),f=UC(l,n.dataKey),g=BC(m),y=WC(d,n.dataKey);return r==null?null:p.createElement(p.Fragment,null,r.map((w,v)=>{if((w==null?void 0:w.startAngle)===0&&(w==null?void 0:w.endAngle)===0&&r.length!==1)return null;var b=s&&String(v)===o,N=o?a:null,C=b?s:N,S=Qr(Qr({},w),{},{stroke:w.stroke,tabIndex:-1,[s8]:v,[a8]:n.dataKey});return p.createElement(ls,Ho({tabIndex:-1,className:"recharts-pie-sector"},Xx(h,w,v),{onMouseEnter:f(w,v),onMouseLeave:g(w,v),onClick:y(w,v),key:"sector-".concat(w==null?void 0:w.startAngle,"-").concat(w==null?void 0:w.endAngle,"-").concat(w.midAngle,"-").concat(v)}),p.createElement($$,Ho({option:C,isActive:b,shapeType:"sector"},S)))}),p.createElement(ipe,{sectors:r,props:n,showLabels:i}))}function ope(e){var r,{pieSettings:s,displayedData:a,cells:n,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:d,dataKey:m,nameKey:h,tooltipType:f}=s,g=Math.abs(s.minAngle),y=spe(l,d),w=Math.abs(y),v=a.length<=1?0:(r=s.paddingAngle)!==null&&r!==void 0?r:0,b=a.filter(T=>yr(T,m,0)!==0).length,N=(w>=360?b:b-1)*v,C=w-b*g-N,S=a.reduce((T,E)=>{var R=yr(E,m,0);return T+(Ve(R)?R:0)},0),_;if(S>0){var A;_=a.map((T,E)=>{var R=yr(T,m,0),$=yr(T,h,E),K=rpe(s,i,T),M=(Ve(R)?R:0)/S,I,W=Qr(Qr({},T),n&&n[E]&&n[E].props);E?I=A.endAngle+Us(y)*v*(R!==0?1:0):I=l;var V=I+Us(y)*((R!==0?g:0)+M*C),U=(I+V)/2,L=(K.innerRadius+K.outerRadius)/2,O=[{name:$,value:R,payload:W,dataKey:m,type:f}],F=gs(K.cx,K.cy,L,U);return A=Qr(Qr(Qr(Qr({},s.presentationProps),{},{percent:M,cornerRadius:o,name:$,tooltipPayload:O,midAngle:U,middleRadius:L,tooltipPosition:F},W),K),{},{value:yr(T,m),startAngle:I,endAngle:V,payload:W,paddingAngle:Us(y)*v}),A})}return _}function lpe(e){var{props:r,previousSectorsRef:s}=e,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:d,inactiveShape:m,onAnimationStart:h,onAnimationEnd:f}=r,g=Ty(r,"recharts-pie-"),y=s.current,[w,v]=p.useState(!0),b=p.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),N=p.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]);return p.createElement(My,{begin:i,duration:o,isActive:n,easing:l,onAnimationStart:N,onAnimationEnd:b,key:g},C=>{var S=[],_=a&&a[0],A=_.startAngle;return a.forEach((T,E)=>{var R=y&&y[E],$=E>0?Yl(T,"paddingAngle",0):0;if(R){var K=aE(R.endAngle-R.startAngle,T.endAngle-T.startAngle),M=Qr(Qr({},T),{},{startAngle:A+$,endAngle:A+K(C)+$});S.push(M),A=M.endAngle}else{var{endAngle:I,startAngle:W}=T,V=aE(0,I-W),U=V(C),L=Qr(Qr({},T),{},{startAngle:A+$,endAngle:A+U+$});S.push(L),A=L.endAngle}}),s.current=S,p.createElement(ls,null,p.createElement(U$,{sectors:S,activeShape:d,inactiveShape:m,allOtherPieProps:r,showLabels:!w}))})}function cpe(e){var{sectors:r,isAnimationActive:s,activeShape:a,inactiveShape:n}=e,i=p.useRef(null),o=i.current;return s&&r&&r.length&&(!o||o!==r)?p.createElement(lpe,{props:e,previousSectorsRef:i}):p.createElement(U$,{sectors:r,activeShape:a,inactiveShape:n,allOtherPieProps:e,showLabels:!0})}function dpe(e){var{hide:r,className:s,rootTabIndex:a}=e,n=Zt("recharts-pie",s);return r?null:p.createElement(ls,{tabIndex:a,className:n},p.createElement(cpe,e))}var upe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!sc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function mpe(e){var{id:r}=e,s=HC(e,Hfe),a=p.useMemo(()=>Bf(e.children,kd),[e.children]),n=st(i=>ffe(i,r,a));return p.createElement(p.Fragment,null,p.createElement(Ey,{fn:Zfe,args:Qr(Qr({},e),{},{sectors:n})}),p.createElement(dpe,Ho({},s,{sectors:n})))}function Ry(e){var r=Ra(e,upe),{id:s}=r,a=HC(r,Kfe),n=Pi(a);return p.createElement(Oy,{id:s,type:"pie"},i=>p.createElement(p.Fragment,null,p.createElement(Bfe,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n}),p.createElement(Qfe,Ho({},a,{id:i})),p.createElement(mpe,Ho({},a,{id:i})),a.children))}Ry.displayName="Pie";var hpe=me([As],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),fpe=me([hpe,Ko,Go],(e,r,s)=>{if(!(!e||r==null||s==null))return{x:e.left,y:e.top,width:Math.max(0,r-e.left-e.right),height:Math.max(0,s-e.top-e.bottom)}}),Iy=()=>st(fpe),ppe=()=>st(cme);function P3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function A3(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?P3(Object(s),!0).forEach(function(a){gpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):P3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function gpe(e,r,s){return(r=xpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function xpe(e){var r=ype(e,"string");return typeof r=="symbol"?r:r+""}function ype(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var vpe=e=>{var{point:r,childIndex:s,mainColor:a,activeDot:n,dataKey:i}=e;if(n===!1||r.x==null||r.y==null)return null;var o=A3(A3({index:s,dataKey:i,cx:r.x,cy:r.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Ar(n,!1)),m2(n)),l;return p.isValidElement(n)?l=p.cloneElement(n,o):typeof n=="function"?l=n(o):l=p.createElement(DC,o),p.createElement(ls,{className:"recharts-active-dot"},l)};function $1(e){var{points:r,mainColor:s,activeDot:a,itemDataKey:n}=e,i=st(Jl),o=ppe();if(r==null||o==null)return null;var l=r.find(d=>o.includes(d.payload));return Er(l)?null:vpe({point:l,childIndex:Number(i),mainColor:s,dataKey:n,activeDot:a})}var bpe="Invariant failed";function wpe(e,r){throw new Error(bpe)}var jpe=["x","y"];function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},z1.apply(null,arguments)}function E3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function bh(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?E3(Object(s),!0).forEach(function(a){Npe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):E3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Npe(e,r,s){return(r=Spe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Spe(e){var r=Cpe(e,"string");return typeof r=="symbol"?r:r+""}function Cpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function kpe(e,r){if(e==null)return{};var s,a,n=_pe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function _pe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Ppe(e,r){var{x:s,y:a}=e,n=kpe(e,jpe),i="".concat(s),o=parseInt(i,10),l="".concat(a),d=parseInt(l,10),m="".concat(r.height||n.height),h=parseInt(m,10),f="".concat(r.width||n.width),g=parseInt(f,10);return bh(bh(bh(bh(bh({},r),n),o?{x:o}:{}),d?{y:d}:{}),{},{height:h,width:g,name:r.name,radius:r.radius})}function B$(e){return p.createElement($$,z1({shapeType:"rectangle",propTransformer:Ppe,activeClassName:"recharts-active-bar"},e))}var Ape=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(Ve(r))return r;var i=Ve(a)||Er(a);return i?r(a,n):(i||wpe(),s)}},Epe={},W$=wn({name:"errorBars",initialState:Epe,reducers:{addErrorBar:(e,r)=>{var{itemId:s,errorBar:a}=r.payload;e[s]||(e[s]=[]),e[s].push(a)},removeErrorBar:(e,r)=>{var{itemId:s,errorBar:a}=r.payload;e[s]&&(e[s]=e[s].filter(n=>n.dataKey!==a.dataKey||n.direction!==a.direction))}}}),{addErrorBar:Y1e,removeErrorBar:J1e}=W$.actions,Tpe=W$.reducer,Ope=["children"];function Mpe(e,r){if(e==null)return{};var s,a,n=Rpe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Rpe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Ipe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Dpe=p.createContext(Ipe);function V$(e){var{children:r}=e,s=Mpe(e,Ope);return p.createElement(Dpe.Provider,{value:s},r)}function Dy(e,r){var s,a,n=st(m=>Jo(m,e)),i=st(m=>oc(m,r)),o=(s=n==null?void 0:n.allowDataOverflow)!==null&&s!==void 0?s:on.allowDataOverflow,l=(a=i==null?void 0:i.allowDataOverflow)!==null&&a!==void 0?a:ln.allowDataOverflow,d=o||l;return{needClip:d,needClipX:o,needClipY:l}}function KC(e){var{xAxisId:r,yAxisId:s,clipPathId:a}=e,n=Iy(),{needClipX:i,needClipY:o,needClip:l}=Dy(r,s);if(!l)return null;var{x:d,y:m,width:h,height:f}=n;return p.createElement("clipPath",{id:"clipPath-".concat(a)},p.createElement("rect",{x:i?d:d-h/2,y:o?m:m-f/2,width:i?h:h*2,height:o?f:f*2}))}var Lpe=["onMouseEnter","onMouseLeave","onClick"],$pe=["value","background","tooltipPosition"],zpe=["id"],Fpe=["onMouseEnter","onClick","onMouseLeave"];function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ju.apply(null,arguments)}function T3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ga(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?T3(Object(s),!0).forEach(function(a){Upe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):T3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Upe(e,r,s){return(r=Bpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Bpe(e){var r=Wpe(e,"string");return typeof r=="symbol"?r:r+""}function Wpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function cx(e,r){if(e==null)return{};var s,a,n=Vpe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Vpe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var qpe=e=>{var{dataKey:r,name:s,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:r,type:n,color:a,value:rc(s,r),payload:e}]};function Hpe(e){var{dataKey:r,stroke:s,strokeWidth:a,fill:n,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:n,dataKey:r,nameKey:void 0,name:rc(i,r),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function Kpe(e){var r=st(Jl),{data:s,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:d}=i,m=cx(i,Lpe),h=UC(o,a),f=BC(l),g=WC(d,a);if(!n||s==null)return null;var y=Ar(n,!1);return p.createElement(p.Fragment,null,s.map((w,v)=>{var{value:b,background:N,tooltipPosition:C}=w,S=cx(w,$pe);if(!N)return null;var _=h(w,v),A=f(w,v),T=g(w,v),E=ga(ga(ga(ga(ga({option:n,isActive:String(v)===r},S),{},{fill:"#eee"},N),y),Xx(m,w,v)),{},{onMouseEnter:_,onMouseLeave:A,onClick:T,dataKey:a,index:v,className:"recharts-bar-background-rectangle"});return p.createElement(B$,Ju({key:"background-bar-".concat(v)},E))}))}function q$(e){var{data:r,props:s,showLabels:a}=e,n=Pi(s),{id:i}=n,o=cx(n,zpe),{shape:l,dataKey:d,activeBar:m}=s,h=st(Jl),f=st(x$),{onMouseEnter:g,onClick:y,onMouseLeave:w}=s,v=cx(s,Fpe),b=UC(g,d),N=BC(w),C=WC(y,d);return r?p.createElement(p.Fragment,null,r.map((S,_)=>{var A=m&&String(_)===h&&(f==null||d===f),T=A?m:l,E=ga(ga(ga({},o),S),{},{isActive:A,option:T,index:_,dataKey:d});return p.createElement(ls,Ju({className:"recharts-bar-rectangle"},Xx(v,S,_),{onMouseEnter:b(S,_),onMouseLeave:N(S,_),onClick:C(S,_),key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(_)}),p.createElement(B$,E))}),a&&Io.renderCallByParent(s,r)):null}function Gpe(e){var{props:r,previousRectanglesRef:s}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:d,onAnimationEnd:m,onAnimationStart:h}=r,f=s.current,g=Ty(r,"recharts-bar-"),[y,w]=p.useState(!1),v=p.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),b=p.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return p.createElement(My,{begin:o,duration:l,isActive:i,easing:d,onAnimationEnd:v,onAnimationStart:b,key:g},N=>{var C=N===1?a:a==null?void 0:a.map((S,_)=>{var A=f&&f[_];if(A)return ga(ga({},S),{},{x:Zs(A.x,S.x,N),y:Zs(A.y,S.y,N),width:Zs(A.width,S.width,N),height:Zs(A.height,S.height,N)});if(n==="horizontal"){var T=Zs(0,S.height,N);return ga(ga({},S),{},{y:S.y+S.height-T,height:T})}var E=Zs(0,S.width,N);return ga(ga({},S),{},{width:E})});return N>0&&(s.current=C??null),C==null?null:p.createElement(ls,null,p.createElement(q$,{props:r,data:C,showLabels:!y}))})}function Ype(e){var{data:r,isAnimationActive:s}=e,a=p.useRef(null);return s&&r&&r.length&&(a.current==null||a.current!==r)?p.createElement(Gpe,{previousRectanglesRef:a,props:e}):p.createElement(q$,{props:e,data:r,showLabels:!0})}var H$=0,Jpe=(e,r)=>{var s=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:s,errorVal:yr(e,r)}};class Xpe extends p.PureComponent{render(){var{hide:r,data:s,dataKey:a,className:n,xAxisId:i,yAxisId:o,needClip:l,background:d,id:m}=this.props;if(r)return null;var h=Zt("recharts-bar",n),f=m;return p.createElement(ls,{className:h,id:m},l&&p.createElement("defs",null,p.createElement(KC,{clipPathId:f,xAxisId:i,yAxisId:o})),p.createElement(ls,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(Kpe,{data:s,dataKey:a,background:d,allOtherBarProps:this.props}),p.createElement(Ype,this.props)),this.props.children)}}var Qpe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!sc.isSsr,legendType:"rect",minPointSize:H$,xAxisId:0,yAxisId:0};function Zpe(e){var{xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:m,isAnimationActive:h}=e,{needClip:f}=Dy(r,s),g=Vf(),y=Sa(),w=Bf(e.children,kd),v=st(C=>kge(C,r,s,y,e.id,w));if(g!=="vertical"&&g!=="horizontal")return null;var b,N=v==null?void 0:v[0];return N==null||N.height==null||N.width==null?b=0:b=g==="vertical"?N.height/2:N.width/2,p.createElement(V$,{xAxisId:r,yAxisId:s,data:v,dataPointFormatter:Jpe,errorBarOffset:b},p.createElement(Xpe,Ju({},e,{layout:g,needClip:f,data:v,xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:m,isAnimationActive:h})))}function ege(e){var{layout:r,barSettings:{dataKey:s,minPointSize:a},pos:n,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:d,yAxisTicks:m,stackedData:h,displayedData:f,offset:g,cells:y}=e,w=r==="horizontal"?l:o,v=h?w.scale.domain():null,b=Qne({numericAxis:w});return f.map((N,C)=>{var S,_,A,T,E,R;h?S=Kne(h[C],v):(S=yr(N,s),Array.isArray(S)||(S=[b,S]));var $=Ape(a,H$)(S[1],C);if(r==="horizontal"){var K,[M,I]=[l.scale(S[0]),l.scale(S[1])];_=gT({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:N,index:C}),A=(K=I??M)!==null&&K!==void 0?K:void 0,T=n.size;var W=M-I;if(E=Xa(W)?0:W,R={x:_,y:g.top,width:T,height:g.height},Math.abs($)>0&&Math.abs(E)<Math.abs($)){var V=Us(E||$)*(Math.abs($)-Math.abs(E));A-=V,E+=V}}else{var[U,L]=[o.scale(S[0]),o.scale(S[1])];if(_=U,A=gT({axis:l,ticks:m,bandSize:i,offset:n.offset,entry:N,index:C}),T=L-U,E=n.size,R={x:g.left,y:A,width:g.width,height:E},Math.abs($)>0&&Math.abs(T)<Math.abs($)){var O=Us(T||$)*(Math.abs($)-Math.abs(T));T+=O}}if(_==null||A==null||T==null||E==null)return null;var F=ga(ga({},N),{},{x:_,y:A,width:T,height:E,value:h?S:S[1],payload:N,background:R,tooltipPosition:{x:_+T/2,y:A+E/2}},y&&y[C]&&y[C].props);return F}).filter(Boolean)}function uf(e){var r=Ra(e,Qpe),s=Sa();return p.createElement(Oy,{id:r.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(VC,{legendPayload:qpe(r)}),p.createElement(Ey,{fn:Hpe,args:r}),p.createElement(qC,{type:"bar",id:a,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:t8(r.stackId),hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:s}),p.createElement(Zpe,Ju({},r,{id:a}))))}uf.displayName="Bar";function O3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Hg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?O3(Object(s),!0).forEach(function(a){tge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function tge(e,r,s){return(r=rge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function rge(e){var r=sge(e,"string");return typeof r=="symbol"?r:r+""}function sge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var age=(e,r)=>r,nge=(e,r,s)=>s,ige=(e,r,s,a)=>a,oge=(e,r,s,a,n)=>n,ap=me([Zf,oge],(e,r)=>e.filter(s=>s.type==="bar").find(s=>s.id===r)),lge=me([ap],e=>e==null?void 0:e.maxBarSize),cge=(e,r,s,a,n,i)=>i,M3=(e,r,s)=>{var a=s??e;if(!Er(a))return Ta(a,r,0)},dge=me([Gt,Zf,age,nge,ige],(e,r,s,a,n)=>r.filter(i=>e==="horizontal"?i.xAxisId===s:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),uge=(e,r,s,a)=>{var n=Gt(e);return n==="horizontal"?cf(e,"yAxis",s,a):cf(e,"xAxis",r,a)},mge=(e,r,s)=>{var a=Gt(e);return a==="horizontal"?R5(e,"xAxis",r):R5(e,"yAxis",s)},hge=(e,r,s)=>{var a={},n=e.filter(jy),i=e.filter(m=>m.stackId==null),o=n.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),a),l=Object.entries(o).map(m=>{var[h,f]=m,g=f.map(w=>w.dataKey),y=M3(r,s,f[0].barSize);return{stackId:h,dataKeys:g,barSize:y}}),d=i.map(m=>{var h=[m.dataKey].filter(g=>g!=null),f=M3(r,s,m.barSize);return{stackId:void 0,dataKeys:h,barSize:f}});return[...l,...d]},fge=me([dge,bde,mge],hge),pge=(e,r,s,a,n)=>{var i,o,l=ap(e,r,s,a,n);if(l!=null){var d=Gt(e),m=y6(e),{maxBarSize:h}=l,f=Er(h)?m:h,g,y;return d==="horizontal"?(g=ro(e,"xAxis",r,a),y=to(e,"xAxis",r,a)):(g=ro(e,"yAxis",s,a),y=to(e,"yAxis",s,a)),(i=(o=ud(g,y,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},K$=(e,r,s,a)=>{var n=Gt(e),i,o;return n==="horizontal"?(i=ro(e,"xAxis",r,a),o=to(e,"xAxis",r,a)):(i=ro(e,"yAxis",s,a),o=to(e,"yAxis",s,a)),ud(i,o)};function gge(e,r,s,a,n){var i=a.length;if(!(i<1)){var o=Ta(e,s,0,!0),l,d=[];if(ta(a[0].barSize)){var m=!1,h=s/i,f=a.reduce((N,C)=>N+(C.barSize||0),0);f+=(i-1)*o,f>=s&&(f-=(i-1)*o,o=0),f>=s&&h>0&&(m=!0,h*=.9,f=i*h);var g=(s-f)/2>>0,y={offset:g-o,size:0};l=a.reduce((N,C)=>{var S,_={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:y.offset+y.size+o,size:m?h:(S=C.barSize)!==null&&S!==void 0?S:0}},A=[...N,_];return y=A[A.length-1].position,A},d)}else{var w=Ta(r,s,0,!0);s-2*w-(i-1)*o<=0&&(o=0);var v=(s-2*w-(i-1)*o)/i;v>1&&(v>>=0);var b=ta(n)?Math.min(v,n):v;l=a.reduce((N,C,S)=>[...N,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:w+(v+o)*S+(v-b)/2,size:b}}],d)}return l}}var xge=(e,r,s,a,n,i,o)=>{var l=Er(o)?r:o,d=gge(s,a,n!==i?n:i,e,l);return n!==i&&d!=null&&(d=d.map(m=>Hg(Hg({},m),{},{position:Hg(Hg({},m.position),{},{offset:m.position.offset-n/2})}))),d},yge=me([fge,y6,vde,v6,pge,K$,lge],xge),vge=(e,r,s,a)=>ro(e,"xAxis",r,a),bge=(e,r,s,a)=>ro(e,"yAxis",s,a),wge=(e,r,s,a)=>to(e,"xAxis",r,a),jge=(e,r,s,a)=>to(e,"yAxis",s,a),Nge=me([yge,ap],(e,r)=>{if(!(e==null||r==null)){var s=e.find(a=>a.stackId===r.stackId&&r.dataKey!=null&&a.dataKeys.includes(r.dataKey));if(s!=null)return s.position}}),Sge=(e,r)=>{var s=wy(r);if(!(!e||s==null||r==null)){var{stackId:a}=r;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(o=>o.key===s)}}}},Cge=me([uge,ap],Sge),kge=me([As,vge,bge,wge,jge,Nge,Gt,Yf,K$,Cge,ap,cge],(e,r,s,a,n,i,o,l,d,m,h,f)=>{var{chartData:g,dataStartIndex:y,dataEndIndex:w}=l;if(!(h==null||i==null||o!=="horizontal"&&o!=="vertical"||r==null||s==null||a==null||n==null||d==null)){var{data:v}=h,b;if(v!=null&&v.length>0?b=v:b=g==null?void 0:g.slice(y,w+1),b!=null)return ege({layout:o,barSettings:h,pos:i,bandSize:d,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,stackedData:m,displayedData:b,offset:e,cells:f})}}),G$=e=>{var{chartData:r}=e,s=cs(),a=Sa();return p.useEffect(()=>a?()=>{}:(s(V5(r)),()=>{s(V5(void 0))}),[r,s,a]),null},R3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Y$=wn({name:"brush",initialState:R3,reducers:{setBrushSettings(e,r){return r.payload==null?R3:r.payload}}}),{setBrushSettings:X1e}=Y$.actions,_ge=Y$.reducer;function Pge(e,r,s){return(r=Age(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Age(e){var r=Ege(e,"string");return typeof r=="symbol"?r:r+""}function Ege(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class GC{static create(r){return new GC(r)}constructor(r){this.scale=r}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(r){var{bandAware:s,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(r)+i}default:return this.scale(r)}if(s){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}return this.scale(r)}}isInRange(r){var s=this.range(),a=s[0],n=s[s.length-1];return a<=n?r>=a&&r<=n:r>=n&&r<=a}}Pge(GC,"EPS",1e-4);function Tge(e){return(e%180+180)%180}var Oge=function(r){var{width:s,height:a}=r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Tge(n),o=i*Math.PI/180,l=Math.atan(a/s),d=o>l&&o<Math.PI-l?a/Math.sin(o):s/Math.cos(o);return Math.abs(d)},Mge={dots:[],areas:[],lines:[]},J$=wn({name:"referenceElements",initialState:Mge,reducers:{addDot:(e,r)=>{e.dots.push(r.payload)},removeDot:(e,r)=>{var s=Mo(e).dots.findIndex(a=>a===r.payload);s!==-1&&e.dots.splice(s,1)},addArea:(e,r)=>{e.areas.push(r.payload)},removeArea:(e,r)=>{var s=Mo(e).areas.findIndex(a=>a===r.payload);s!==-1&&e.areas.splice(s,1)},addLine:(e,r)=>{e.lines.push(r.payload)},removeLine:(e,r)=>{var s=Mo(e).lines.findIndex(a=>a===r.payload);s!==-1&&e.lines.splice(s,1)}}}),{addDot:Q1e,removeDot:Z1e,addArea:eSe,removeArea:tSe,addLine:rSe,removeLine:sSe}=J$.actions,Rge=J$.reducer,Ige=p.createContext(void 0),Dge=e=>{var{children:r}=e,[s]=p.useState("".concat(Zh("recharts"),"-clip")),a=Iy();if(a==null)return null;var{x:n,y:i,width:o,height:l}=a;return p.createElement(Ige.Provider,{value:s},p.createElement("defs",null,p.createElement("clipPath",{id:s},p.createElement("rect",{x:n,y:i,height:l,width:o}))),r)};function Qj(e,r){for(var s in e)if({}.hasOwnProperty.call(e,s)&&(!{}.hasOwnProperty.call(r,s)||e[s]!==r[s]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function X$(e,r,s){if(r<1)return[];if(r===1&&s===void 0)return e;for(var a=[],n=0;n<e.length;n+=r)a.push(e[n]);return a}function Lge(e,r,s){var a={width:e.width+r.width,height:e.height+r.height};return Oge(a,s)}function $ge(e,r,s){var a=s==="width",{x:n,y:i,width:o,height:l}=e;return r===1?{start:a?n:i,end:a?n+o:i+l}:{start:a?n+o:i+l,end:a?n:i}}function dx(e,r,s,a,n){if(e*r<e*a||e*r>e*n)return!1;var i=s();return e*(r-e*i/2-a)>=0&&e*(r+e*i/2-n)<=0}function zge(e,r){return X$(e,r+1)}function Fge(e,r,s,a,n){for(var i=(a||[]).slice(),{start:o,end:l}=r,d=0,m=1,h=o,f=function(){var w=a==null?void 0:a[d];if(w===void 0)return{v:X$(a,m)};var v=d,b,N=()=>(b===void 0&&(b=s(w,v)),b),C=w.coordinate,S=d===0||dx(e,C,N,h,l);S||(d=0,h=o,m+=1),S&&(h=C+e*(N()/2+n),d+=m)},g;m<=i.length;)if(g=f(),g)return g.v;return[]}function I3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ma(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?I3(Object(s),!0).forEach(function(a){Uge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):I3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Uge(e,r,s){return(r=Bge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Bge(e){var r=Wge(e,"string");return typeof r=="symbol"?r:r+""}function Wge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Vge(e,r,s,a,n){for(var i=(a||[]).slice(),o=i.length,{start:l}=r,{end:d}=r,m=function(g){var y=i[g],w,v=()=>(w===void 0&&(w=s(y,g)),w);if(g===o-1){var b=e*(y.coordinate+e*v()/2-d);i[g]=y=ma(ma({},y),{},{tickCoord:b>0?y.coordinate-b*e:y.coordinate})}else i[g]=y=ma(ma({},y),{},{tickCoord:y.coordinate});var N=dx(e,y.tickCoord,v,l,d);N&&(d=y.tickCoord-e*(v()/2+n),i[g]=ma(ma({},y),{},{isShow:!0}))},h=o-1;h>=0;h--)m(h);return i}function qge(e,r,s,a,n,i){var o=(a||[]).slice(),l=o.length,{start:d,end:m}=r;if(i){var h=a[l-1],f=s(h,l-1),g=e*(h.coordinate+e*f/2-m);o[l-1]=h=ma(ma({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var y=dx(e,h.tickCoord,()=>f,d,m);y&&(m=h.tickCoord-e*(f/2+n),o[l-1]=ma(ma({},h),{},{isShow:!0}))}for(var w=i?l-1:l,v=function(C){var S=o[C],_,A=()=>(_===void 0&&(_=s(S,C)),_);if(C===0){var T=e*(S.coordinate-e*A()/2-d);o[C]=S=ma(ma({},S),{},{tickCoord:T<0?S.coordinate-T*e:S.coordinate})}else o[C]=S=ma(ma({},S),{},{tickCoord:S.coordinate});var E=dx(e,S.tickCoord,A,d,m);E&&(d=S.tickCoord+e*(A()/2+n),o[C]=ma(ma({},S),{},{isShow:!0}))},b=0;b<w;b++)v(b);return o}function YC(e,r,s){var{tick:a,ticks:n,viewBox:i,minTickGap:o,orientation:l,interval:d,tickFormatter:m,unit:h,angle:f}=e;if(!n||!n.length||!a)return[];if(Ve(d)||sc.isSsr){var g;return(g=zge(n,Ve(d)?d:0))!==null&&g!==void 0?g:[]}var y=[],w=l==="top"||l==="bottom"?"width":"height",v=h&&w==="width"?Uh(h,{fontSize:r,letterSpacing:s}):{width:0,height:0},b=(S,_)=>{var A=typeof m=="function"?m(S.value,_):S.value;return w==="width"?Lge(Uh(A,{fontSize:r,letterSpacing:s}),v,f):Uh(A,{fontSize:r,letterSpacing:s})[w]},N=n.length>=2?Us(n[1].coordinate-n[0].coordinate):1,C=$ge(i,N,w);return d==="equidistantPreserveStart"?Fge(N,C,b,n,o):(d==="preserveStart"||d==="preserveStartEnd"?y=qge(N,C,b,n,o,d==="preserveStartEnd"):y=Vge(N,C,b,n,o),y.filter(S=>S.isShow))}var Hge=["viewBox"],Kge=["viewBox"];function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Pu.apply(null,arguments)}function D3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Cs(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?D3(Object(s),!0).forEach(function(a){JC(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function L3(e,r){if(e==null)return{};var s,a,n=Gge(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Gge(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function JC(e,r,s){return(r=Yge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Yge(e){var r=Jge(e,"string");return typeof r=="symbol"?r:r+""}function Jge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class lc extends p.Component{constructor(r){super(r),this.tickRefs=p.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(r,s){var{viewBox:a}=r,n=L3(r,Hge),i=this.props,{viewBox:o}=i,l=L3(i,Kge);return!Qj(a,o)||!Qj(n,l)||!Qj(s,this.state)}getTickLineCoord(r){var{x:s,y:a,width:n,height:i,orientation:o,tickSize:l,mirror:d,tickMargin:m}=this.props,h,f,g,y,w,v,b=d?-1:1,N=r.tickSize||l,C=Ve(r.tickCoord)?r.tickCoord:r.coordinate;switch(o){case"top":h=f=r.coordinate,y=a+ +!d*i,g=y-b*N,v=g-b*m,w=C;break;case"left":g=y=r.coordinate,f=s+ +!d*n,h=f-b*N,w=h-b*m,v=C;break;case"right":g=y=r.coordinate,f=s+ +d*n,h=f+b*N,w=h+b*m,v=C;break;default:h=f=r.coordinate,y=a+ +d*i,g=y+b*N,v=g+b*m,w=C;break}return{line:{x1:h,y1:g,x2:f,y2:y},tick:{x:w,y:v}}}getTickTextAnchor(){var{orientation:r,mirror:s}=this.props,a;switch(r){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}getTickVerticalAnchor(){var{orientation:r,mirror:s}=this.props;switch(r){case"left":case"right":return"middle";case"top":return s?"start":"end";default:return s?"end":"start"}}renderAxisLine(){var{x:r,y:s,width:a,height:n,orientation:i,mirror:o,axisLine:l}=this.props,d=Cs(Cs(Cs({},Ar(this.props,!1)),Ar(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var m=+(i==="top"&&!o||i==="bottom"&&o);d=Cs(Cs({},d),{},{x1:r,y1:s+m*n,x2:r+a,y2:s+m*n})}else{var h=+(i==="left"&&!o||i==="right"&&o);d=Cs(Cs({},d),{},{x1:r+h*a,y1:s,x2:r+h*a,y2:s+n})}return p.createElement("line",Pu({},d,{className:Zt("recharts-cartesian-axis-line",Yl(l,"className"))}))}static renderTickItem(r,s,a){var n,i=Zt(s.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(r))n=p.cloneElement(r,Cs(Cs({},s),{},{className:i}));else if(typeof r=="function")n=r(Cs(Cs({},s),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof r!="boolean"&&(o=Zt(o,r.className)),n=p.createElement(Ay,Pu({},s,{className:o}),a)}return n}renderTicks(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:n,stroke:i,tick:o,tickFormatter:l,unit:d,padding:m}=this.props,h=YC(Cs(Cs({},this.props),{},{ticks:a}),r,s),f=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Pi(this.props),w=Ar(o,!1),v=Cs(Cs({},y),{},{fill:"none"},Ar(n,!1)),b=h.map((N,C)=>{var{line:S,tick:_}=this.getTickLineCoord(N),A=Cs(Cs(Cs(Cs({textAnchor:f,verticalAnchor:g},y),{},{stroke:"none",fill:i},w),_),{},{index:C,payload:N,visibleTicksCount:h.length,tickFormatter:l,padding:m});return p.createElement(ls,Pu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Xx(this.props,N,C)),n&&p.createElement("line",Pu({},v,S,{className:Zt("recharts-cartesian-axis-tick-line",Yl(n,"className"))})),o&&lc.renderTickItem(o,A,"".concat(typeof l=="function"?l(N.value,C):N.value).concat(d||"")))});return b.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},b):null}render(){var{axisLine:r,width:s,height:a,className:n,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return s!=null&&s<=0||a!=null&&a<=0?null:p.createElement(ls,{className:Zt("recharts-cartesian-axis",n),ref:l=>{if(l){var d=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(d);var m=d[0];if(m){var h=window.getComputedStyle(m).fontSize,f=window.getComputedStyle(m).letterSpacing;(h!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},r&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),un.renderCallByParent(this.props))}}JC(lc,"displayName","CartesianAxis");JC(lc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Xge=["x1","y1","x2","y2","key"],Qge=["offset"],Zge=["xAxisId","yAxisId"],e0e=["xAxisId","yAxisId"];function $3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function xa(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?$3(Object(s),!0).forEach(function(a){t0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function t0e(e,r,s){return(r=r0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function r0e(e){var r=s0e(e,"string");return typeof r=="symbol"?r:r+""}function s0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},qc.apply(null,arguments)}function ux(e,r){if(e==null)return{};var s,a,n=a0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function a0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var n0e=e=>{var{fill:r}=e;if(!r||r==="none")return null;var{fillOpacity:s,x:a,y:n,width:i,height:o,ry:l}=e;return p.createElement("rect",{x:a,y:n,ry:l,width:i,height:o,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function Q$(e,r){var s;if(p.isValidElement(e))s=p.cloneElement(e,r);else if(typeof e=="function")s=e(r);else{var{x1:a,y1:n,x2:i,y2:o,key:l}=r,d=ux(r,Xge),m=Pi(d),{offset:h}=m,f=ux(m,Qge);s=p.createElement("line",qc({},f,{x1:a,y1:n,x2:i,y2:o,fill:"none",key:l}))}return s}function i0e(e){var{x:r,width:s,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=e,l=ux(e,Zge),d=n.map((m,h)=>{var f=xa(xa({},l),{},{x1:r,y1:m,x2:r+s,y2:m,key:"line-".concat(h),index:h});return Q$(a,f)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function o0e(e){var{y:r,height:s,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=e,l=ux(e,e0e),d=n.map((m,h)=>{var f=xa(xa({},l),{},{x1:m,y1:r,x2:m,y2:r+s,key:"line-".concat(h),index:h});return Q$(a,f)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function l0e(e){var{horizontalFill:r,fillOpacity:s,x:a,y:n,width:i,height:o,horizontalPoints:l,horizontal:d=!0}=e;if(!d||!r||!r.length)return null;var m=l.map(f=>Math.round(f+n-n)).sort((f,g)=>f-g);n!==m[0]&&m.unshift(0);var h=m.map((f,g)=>{var y=!m[g+1],w=y?n+o-f:m[g+1]-f;if(w<=0)return null;var v=g%r.length;return p.createElement("rect",{key:"react-".concat(g),y:f,x:a,height:w,width:i,stroke:"none",fill:r[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function c0e(e){var{vertical:r=!0,verticalFill:s,fillOpacity:a,x:n,y:i,width:o,height:l,verticalPoints:d}=e;if(!r||!s||!s.length)return null;var m=d.map(f=>Math.round(f+n-n)).sort((f,g)=>f-g);n!==m[0]&&m.unshift(0);var h=m.map((f,g)=>{var y=!m[g+1],w=y?n+o-f:m[g+1]-f;if(w<=0)return null;var v=g%s.length;return p.createElement("rect",{key:"react-".concat(g),x:f,y:i,width:w,height:l,stroke:"none",fill:s[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var d0e=(e,r)=>{var{xAxis:s,width:a,height:n,offset:i}=e;return ZL(YC(xa(xa(xa({},lc.defaultProps),s),{},{ticks:e8(s),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,r)},u0e=(e,r)=>{var{yAxis:s,width:a,height:n,offset:i}=e;return ZL(YC(xa(xa(xa({},lc.defaultProps),s),{},{ticks:e8(s),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,r)},m0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Yi(e){var r=o8(),s=l8(),a=i8(),n=xa(xa({},Ra(e,m0e)),{},{x:Ve(e.x)?e.x:a.left,y:Ve(e.y)?e.y:a.top,width:Ve(e.width)?e.width:a.width,height:Ve(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:o,x:l,y:d,width:m,height:h,syncWithTicks:f,horizontalValues:g,verticalValues:y}=n,w=Sa(),v=st($=>I5($,"xAxis",i,w)),b=st($=>I5($,"yAxis",o,w));if(!Ve(m)||m<=0||!Ve(h)||h<=0||!Ve(l)||l!==+l||!Ve(d)||d!==+d)return null;var N=n.verticalCoordinatesGenerator||d0e,C=n.horizontalCoordinatesGenerator||u0e,{horizontalPoints:S,verticalPoints:_}=n;if((!S||!S.length)&&typeof C=="function"){var A=g&&g.length,T=C({yAxis:b?xa(xa({},b),{},{ticks:A?g:b.ticks}):void 0,width:r,height:s,offset:a},A?!0:f);Fh(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(S=T)}if((!_||!_.length)&&typeof N=="function"){var E=y&&y.length,R=N({xAxis:v?xa(xa({},v),{},{ticks:E?y:v.ticks}):void 0,width:r,height:s,offset:a},E?!0:f);Fh(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(_=R)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(n0e,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),p.createElement(l0e,qc({},n,{horizontalPoints:S})),p.createElement(c0e,qc({},n,{verticalPoints:_})),p.createElement(i0e,qc({},n,{offset:a,horizontalPoints:S,xAxis:v,yAxis:b})),p.createElement(o0e,qc({},n,{offset:a,verticalPoints:_,xAxis:v,yAxis:b})))}Yi.displayName="CartesianGrid";var Z$=(e,r,s,a)=>ro(e,"xAxis",r,a),ez=(e,r,s,a)=>to(e,"xAxis",r,a),tz=(e,r,s,a)=>ro(e,"yAxis",s,a),rz=(e,r,s,a)=>to(e,"yAxis",s,a),h0e=me([Gt,Z$,tz,ez,rz],(e,r,s,a,n)=>co(e,"xAxis")?ud(r,a,!1):ud(s,n,!1)),f0e=(e,r,s,a,n)=>n;function p0e(e){return e.type==="line"}var g0e=me([Zf,f0e],(e,r)=>e.filter(p0e).find(s=>s.id===r)),x0e=me([Gt,Z$,tz,ez,rz,g0e,h0e,Yf],(e,r,s,a,n,i,o,l)=>{var{chartData:d,dataStartIndex:m,dataEndIndex:h}=l;if(!(i==null||r==null||s==null||a==null||n==null||a.length===0||n.length===0||o==null)){var{dataKey:f,data:g}=i,y;if(g!=null&&g.length>0?y=g:y=d==null?void 0:d.slice(m,h+1),y!=null)return $0e({layout:e,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataKey:f,bandSize:o,displayedData:y})}}),y0e=["id"],v0e=["type","layout","connectNulls","needClip"],b0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function z3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function gi(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?z3(Object(s),!0).forEach(function(a){w0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):z3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function w0e(e,r,s){return(r=j0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function j0e(e){var r=N0e(e,"string");return typeof r=="symbol"?r:r+""}function N0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function XC(e,r){if(e==null)return{};var s,a,n=S0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function S0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},hd.apply(null,arguments)}var C0e=e=>{var{dataKey:r,name:s,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:r,type:n,color:a,value:rc(s,r),payload:e}]};function k0e(e){var{dataKey:r,data:s,stroke:a,strokeWidth:n,fill:i,name:o,hide:l,unit:d}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:rc(o,r),hide:l,type:e.tooltipType,color:e.stroke,unit:d}}}var sz=(e,r)=>"".concat(r,"px ").concat(e-r,"px");function _0e(e,r){for(var s=e.length%2!==0?[...e,0]:e,a=[],n=0;n<r;++n)a=[...a,...s];return a}var P0e=(e,r,s)=>{var a=s.reduce((f,g)=>f+g);if(!a)return sz(r,e);for(var n=Math.floor(e/a),i=e%a,o=r-e,l=[],d=0,m=0;d<s.length;m+=s[d],++d)if(m+s[d]>i){l=[...s.slice(0,d),i-m];break}var h=l.length%2===0?[0,o]:[o];return[..._0e(s,n),...l,...h].map(f=>"".concat(f,"px")).join(", ")};function A0e(e,r){var s;if(p.isValidElement(e))s=p.cloneElement(e,r);else if(typeof e=="function")s=e(r);else{var a=Zt("recharts-line-dot",typeof e!="boolean"?e.className:"");s=p.createElement(DC,hd({},r,{className:a}))}return s}function E0e(e,r){return e==null?!1:r?!0:e.length===1}function T0e(e){var{clipPathId:r,points:s,props:a}=e,{dot:n,dataKey:i,needClip:o}=a;if(!E0e(s,n))return null;var{id:l}=a,d=XC(a,y0e),m=Qx(n),h=Pi(d),f=Ar(n,!0),g=s.map((w,v)=>{var b=gi(gi(gi({key:"dot-".concat(v),r:3},h),f),{},{index:v,cx:w.x,cy:w.y,dataKey:i,value:w.value,payload:w.payload,points:s});return A0e(n,b)}),y={clipPath:o?"url(#clipPath-".concat(m?"":"dots-").concat(r,")"):void 0};return p.createElement(ls,hd({className:"recharts-line-dots",key:"dots"},y),g)}function F1(e){var{clipPathId:r,pathRef:s,points:a,strokeDasharray:n,props:i,showLabels:o}=e,{type:l,layout:d,connectNulls:m,needClip:h}=i,f=XC(i,v0e),g=gi(gi({},Ar(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(r,")"):void 0,points:a,type:l,layout:d,connectNulls:m,strokeDasharray:n??i.strokeDasharray});return p.createElement(p.Fragment,null,(a==null?void 0:a.length)>1&&p.createElement(Ru,hd({},g,{pathRef:s})),p.createElement(T0e,{points:a,clipPathId:r,props:i}),o&&Io.renderCallByParent(i,a))}function O0e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function M0e(e){var{clipPathId:r,props:s,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:d,animationBegin:m,animationDuration:h,animationEasing:f,animateNewValues:g,width:y,height:w,onAnimationEnd:v,onAnimationStart:b}=s,N=n.current,C=Ty(s,"recharts-line-"),[S,_]=p.useState(!1),A=p.useCallback(()=>{typeof v=="function"&&v(),_(!1)},[v]),T=p.useCallback(()=>{typeof b=="function"&&b(),_(!0)},[b]),E=O0e(a.current),R=i.current;return p.createElement(My,{begin:m,duration:h,isActive:d,easing:f,onAnimationEnd:A,onAnimationStart:T,key:C},$=>{var K=Zs(R,E+R,$),M=Math.min(K,E),I;if(l){var W="".concat(l).split(/[,\s]+/gim).map(L=>parseFloat(L));I=P0e(M,E,W)}else I=sz(E,M);if(N){var V=N.length/o.length,U=$===1?o:o.map((L,O)=>{var F=Math.floor(O*V);if(N[F]){var z=N[F];return gi(gi({},L),{},{x:Zs(z.x,L.x,$),y:Zs(z.y,L.y,$)})}return g?gi(gi({},L),{},{x:Zs(y*2,L.x,$),y:Zs(w/2,L.y,$)}):gi(gi({},L),{},{x:L.x,y:L.y})});return n.current=U,p.createElement(F1,{props:s,points:U,clipPathId:r,pathRef:a,showLabels:!S,strokeDasharray:I})}return $>0&&E>0&&(n.current=o,i.current=M),p.createElement(F1,{props:s,points:o,clipPathId:r,pathRef:a,showLabels:!S,strokeDasharray:I})})}function R0e(e){var{clipPathId:r,props:s}=e,{points:a,isAnimationActive:n}=s,i=p.useRef(null),o=p.useRef(0),l=p.useRef(null),d=i.current;return n&&a&&a.length&&d!==a?p.createElement(M0e,{props:s,clipPathId:r,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:l}):p.createElement(F1,{props:s,points:a,clipPathId:r,pathRef:l,showLabels:!0})}var I0e=(e,r)=>({x:e.x,y:e.y,value:e.value,errorVal:yr(e.payload,r)});class D0e extends p.Component{render(){var r,{hide:s,dot:a,points:n,className:i,xAxisId:o,yAxisId:l,top:d,left:m,width:h,height:f,id:g,needClip:y}=this.props;if(s)return null;var w=Zt("recharts-line",i),v=g,{r:b=3,strokeWidth:N=2}=(r=Ar(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=Qx(a),S=b*2+N;return p.createElement(p.Fragment,null,p.createElement(ls,{className:w},y&&p.createElement("defs",null,p.createElement(KC,{clipPathId:v,xAxisId:o,yAxisId:l}),!C&&p.createElement("clipPath",{id:"clipPath-dots-".concat(v)},p.createElement("rect",{x:m-S/2,y:d-S/2,width:h+S,height:f+S}))),p.createElement(R0e,{props:this.props,clipPathId:v}),p.createElement(V$,{xAxisId:o,yAxisId:l,data:n,dataPointFormatter:I0e,errorBarOffset:0},this.props.children)),p.createElement($1,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var az={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!sc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function L0e(e){var r=Ra(e,az),{activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:l,dot:d,hide:m,isAnimationActive:h,label:f,legendType:g,xAxisId:y,yAxisId:w,id:v}=r,b=XC(r,b0e),{needClip:N}=Dy(y,w),C=Iy(),S=Vf(),_=Sa(),A=st(K=>x0e(K,y,w,_,v));if(S!=="horizontal"&&S!=="vertical"||A==null||C==null)return null;var{height:T,width:E,x:R,y:$}=C;return p.createElement(D0e,hd({},b,{id:v,connectNulls:l,dot:d,activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:o,isAnimationActive:h,hide:m,label:f,legendType:g,xAxisId:y,yAxisId:w,points:A,layout:S,height:T,width:E,left:R,top:$,needClip:N}))}function $0e(e){var{layout:r,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:d}=e;return d.map((m,h)=>{var f=yr(m,o);if(r==="horizontal"){var g=B0({axis:s,ticks:n,bandSize:l,entry:m,index:h}),y=Er(f)?null:a.scale(f);return{x:g,y,value:f,payload:m}}var w=Er(f)?null:s.scale(f),v=B0({axis:a,ticks:i,bandSize:l,entry:m,index:h});return w==null||v==null?null:{x:w,y:v,value:f,payload:m}}).filter(Boolean)}function mx(e){var r=Ra(e,az),s=Sa();return p.createElement(Oy,{id:r.id,type:"line"},a=>p.createElement(p.Fragment,null,p.createElement(VC,{legendPayload:C0e(r)}),p.createElement(Ey,{fn:k0e,args:r}),p.createElement(qC,{type:"line",id:a,data:r.data,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,hide:r.hide,isPanorama:s}),p.createElement(L0e,hd({},r,{id:a}))))}mx.displayName="Line";var nz=(e,r,s,a)=>ro(e,"xAxis",r,a),iz=(e,r,s,a)=>to(e,"xAxis",r,a),oz=(e,r,s,a)=>ro(e,"yAxis",s,a),lz=(e,r,s,a)=>to(e,"yAxis",s,a),z0e=me([Gt,nz,oz,iz,lz],(e,r,s,a,n)=>co(e,"xAxis")?ud(r,a,!1):ud(s,n,!1)),F0e=(e,r,s,a,n)=>n,cz=me([Zf,F0e],(e,r)=>e.filter(s=>s.type==="area").find(s=>s.id===r)),U0e=(e,r,s,a,n)=>{var i,o=cz(e,r,s,a,n);if(o!=null){var l=Gt(e),d=co(l,"xAxis"),m;if(d?m=cf(e,"yAxis",s,a):m=cf(e,"xAxis",r,a),m!=null){var{stackId:h}=o,f=wy(o);if(!(h==null||f==null)){var g=(i=m[h])===null||i===void 0?void 0:i.stackedData;return g==null?void 0:g.find(y=>y.key===f)}}}},B0e=me([Gt,nz,oz,iz,lz,U0e,Yf,z0e,cz],(e,r,s,a,n,i,o,l,d)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:f}=o;if(!(d==null||e!=="horizontal"&&e!=="vertical"||r==null||s==null||a==null||n==null||a.length===0||n.length===0||l==null)){var{data:g}=d,y;if(g&&g.length>0?y=g:y=m==null?void 0:m.slice(h,f+1),y!=null){var w=void 0;return lxe({layout:e,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataStartIndex:h,areaSettings:d,stackedData:i,displayedData:y,chartBaseValue:w,bandSize:l})}}}),W0e=["id"],V0e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function dz(e,r){if(e==null)return{};var s,a,n=q0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function q0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function F3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Hc(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?F3(Object(s),!0).forEach(function(a){H0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):F3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function H0e(e,r,s){return(r=K0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function K0e(e){var r=G0e(e,"string");return typeof r=="symbol"?r:r+""}function G0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Do.apply(null,arguments)}function hx(e,r){return e&&e!=="none"?e:r}var Y0e=e=>{var{dataKey:r,name:s,stroke:a,fill:n,legendType:i,hide:o}=e;return[{inactive:o,dataKey:r,type:i,color:hx(a,n),value:rc(s,r),payload:e}]};function J0e(e){var{dataKey:r,data:s,stroke:a,strokeWidth:n,fill:i,name:o,hide:l,unit:d}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:rc(o,r),hide:l,type:e.tooltipType,color:hx(a,i),unit:d}}}var X0e=(e,r)=>{var s;if(p.isValidElement(e))s=p.cloneElement(e,r);else if(typeof e=="function")s=e(r);else{var a=Zt("recharts-area-dot",typeof e!="boolean"?e.className:"");s=p.createElement(DC,Do({},r,{className:a}))}return s};function Q0e(e,r){return e==null?!1:r?!0:e.length===1}function Z0e(e){var{clipPathId:r,points:s,props:a}=e,{needClip:n,dot:i,dataKey:o}=a;if(!Q0e(s,i))return null;var l=Qx(i),d=Pi(a),m=Ar(i,!0),h=s.map((g,y)=>{var w=Hc(Hc(Hc({key:"dot-".concat(y),r:3},d),m),{},{index:y,cx:g.x,cy:g.y,dataKey:o,value:g.value,payload:g.payload,points:s});return X0e(i,w)}),f={clipPath:n?"url(#clipPath-".concat(l?"":"dots-").concat(r,")"):void 0};return p.createElement(ls,Do({className:"recharts-area-dots"},f),h)}function U1(e){var{points:r,baseLine:s,needClip:a,clipPathId:n,props:i,showLabels:o}=e,{layout:l,type:d,stroke:m,connectNulls:h,isRange:f}=i,{id:g}=i,y=dz(i,W0e),w=Pi(y);return p.createElement(p.Fragment,null,(r==null?void 0:r.length)>1&&p.createElement(ls,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},p.createElement(Ru,Do({},w,{id:g,points:r,connectNulls:h,type:d,baseLine:s,layout:l,stroke:"none",className:"recharts-area-area"})),m!=="none"&&p.createElement(Ru,Do({},w,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:r})),m!=="none"&&f&&p.createElement(Ru,Do({},w,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:s}))),p.createElement(Z0e,{points:r,props:y,clipPathId:n}),o&&Io.renderCallByParent(y,r))}function exe(e){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].y,o=a[a.length-1].y;if(!ta(i)||!ta(o))return null;var l=r*Math.abs(i-o),d=Math.max(...a.map(m=>m.x||0));return Ve(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(m=>m.x||0),d)),Ve(d)?p.createElement("rect",{x:0,y:i<o?i:i-l,width:d+(n?parseInt("".concat(n),10):1),height:Math.floor(l)}):null}function txe(e){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].x,o=a[a.length-1].x;if(!ta(i)||!ta(o))return null;var l=r*Math.abs(i-o),d=Math.max(...a.map(m=>m.y||0));return Ve(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(m=>m.y||0),d)),Ve(d)?p.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(d+(n?parseInt("".concat(n),10):1))}):null}function rxe(e){var{alpha:r,layout:s,points:a,baseLine:n,strokeWidth:i}=e;return s==="vertical"?p.createElement(exe,{alpha:r,points:a,baseLine:n,strokeWidth:i}):p.createElement(txe,{alpha:r,points:a,baseLine:n,strokeWidth:i})}function sxe(e){var{needClip:r,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:d,animationBegin:m,animationDuration:h,animationEasing:f,onAnimationStart:g,onAnimationEnd:y}=a,w=Ty(a,"recharts-area-"),[v,b]=p.useState(!0),N=p.useCallback(()=>{typeof y=="function"&&y(),b(!1)},[y]),C=p.useCallback(()=>{typeof g=="function"&&g(),b(!0)},[g]),S=n.current,_=i.current;return p.createElement(My,{begin:m,duration:h,isActive:d,easing:f,onAnimationEnd:N,onAnimationStart:C,key:w},A=>{if(S){var T=S.length/o.length,E=A===1?o:o.map(($,K)=>{var M=Math.floor(K*T);if(S[M]){var I=S[M];return Hc(Hc({},$),{},{x:Zs(I.x,$.x,A),y:Zs(I.y,$.y,A)})}return $}),R;return Ve(l)?R=Zs(_,l,A):Er(l)||Xa(l)?R=Zs(_,0,A):R=l.map(($,K)=>{var M=Math.floor(K*T);if(Array.isArray(_)&&_[M]){var I=_[M];return Hc(Hc({},$),{},{x:Zs(I.x,$.x,A),y:Zs(I.y,$.y,A)})}return $}),A>0&&(n.current=E,i.current=R),p.createElement(U1,{points:E,baseLine:R,needClip:r,clipPathId:s,props:a,showLabels:!v})}return A>0&&(n.current=o,i.current=l),p.createElement(ls,null,p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(s)},p.createElement(rxe,{alpha:A,points:o,baseLine:l,layout:a.layout,strokeWidth:a.strokeWidth}))),p.createElement(ls,{clipPath:"url(#animationClipPath-".concat(s,")")},p.createElement(U1,{points:o,baseLine:l,needClip:r,clipPathId:s,props:a,showLabels:!0})))})}function axe(e){var{needClip:r,clipPathId:s,props:a}=e,{points:n,baseLine:i,isAnimationActive:o}=a,l=p.useRef(null),d=p.useRef(),m=l.current,h=d.current;return o&&n&&n.length&&(m!==n||h!==i)?p.createElement(sxe,{needClip:r,clipPathId:s,props:a,previousPointsRef:l,previousBaselineRef:d}):p.createElement(U1,{points:n,baseLine:i,needClip:r,clipPathId:s,props:a,showLabels:!0})}class nxe extends p.PureComponent{render(){var r,{hide:s,dot:a,points:n,className:i,top:o,left:l,needClip:d,xAxisId:m,yAxisId:h,width:f,height:g,id:y,baseLine:w}=this.props;if(s)return null;var v=Zt("recharts-area",i),b=y,{r:N=3,strokeWidth:C=2}=(r=Ar(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},S=Qx(a),_=N*2+C;return p.createElement(p.Fragment,null,p.createElement(ls,{className:v},d&&p.createElement("defs",null,p.createElement(KC,{clipPathId:b,xAxisId:m,yAxisId:h}),!S&&p.createElement("clipPath",{id:"clipPath-dots-".concat(b)},p.createElement("rect",{x:l-_/2,y:o-_/2,width:f+_,height:g+_}))),p.createElement(axe,{needClip:d,clipPathId:b,props:this.props})),p.createElement($1,{points:n,mainColor:hx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(w)&&p.createElement($1,{points:w,mainColor:hx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var uz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!sc.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function ixe(e){var r,s=Ra(e,uz),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:l,dot:d,fill:m,fillOpacity:h,hide:f,isAnimationActive:g,legendType:y,stroke:w,xAxisId:v,yAxisId:b}=s,N=dz(s,V0e),C=Vf(),S=v$(),{needClip:_}=Dy(v,b),A=Sa(),{points:T,isRange:E,baseLine:R}=(r=st(V=>B0e(V,v,b,A,e.id)))!==null&&r!==void 0?r:{},$=Iy();if(C!=="horizontal"&&C!=="vertical"||$==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:K,width:M,x:I,y:W}=$;return!T||!T.length?null:p.createElement(nxe,Do({},N,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:o,baseLine:R,connectNulls:l,dot:d,fill:m,fillOpacity:h,height:K,hide:f,layout:C,isAnimationActive:g,isRange:E,legendType:y,needClip:_,points:T,stroke:w,width:M,left:I,top:W,xAxisId:v,yAxisId:b}))}var oxe=(e,r,s,a,n)=>{var i=s??r;if(Ve(i))return i;var o=e==="horizontal"?n:a,l=o.scale.domain();if(o.type==="number"){var d=Math.max(l[0],l[1]),m=Math.min(l[0],l[1]);return i==="dataMin"?m:i==="dataMax"||d<0?d:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function lxe(e){var{areaSettings:{connectNulls:r,baseValue:s,dataKey:a},stackedData:n,layout:i,chartBaseValue:o,xAxis:l,yAxis:d,displayedData:m,dataStartIndex:h,xAxisTicks:f,yAxisTicks:g,bandSize:y}=e,w=n&&n.length,v=oxe(i,o,s,l,d),b=i==="horizontal",N=!1,C=m.map((_,A)=>{var T;w?T=n[h+A]:(T=yr(_,a),Array.isArray(T)?N=!0:T=[v,T]);var E=T[1]==null||w&&!r&&yr(_,a)==null;return b?{x:B0({axis:l,ticks:f,bandSize:y,entry:_,index:A}),y:E?null:d.scale(T[1]),value:T,payload:_}:{x:E?null:l.scale(T[1]),y:B0({axis:d,ticks:g,bandSize:y,entry:_,index:A}),value:T,payload:_}}),S;return w||N?S=C.map(_=>{var A=Array.isArray(_.value)?_.value[0]:null;return b?{x:_.x,y:A!=null&&_.y!=null?d.scale(A):null,payload:_.payload}:{x:A!=null?l.scale(A):null,y:_.y,payload:_.payload}}):S=b?d.scale(v):l.scale(v),{points:C,baseLine:S,isRange:N}}function fd(e){var r=Ra(e,uz),s=Sa();return p.createElement(Oy,{id:r.id,type:"area"},a=>p.createElement(p.Fragment,null,p.createElement(VC,{legendPayload:Y0e(r)}),p.createElement(Ey,{fn:J0e,args:r}),p.createElement(qC,{type:"area",id:a,data:r.data,dataKey:r.dataKey,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,stackId:t8(r.stackId),hide:r.hide,barSize:void 0,baseValue:r.baseValue,isPanorama:s,connectNulls:r.connectNulls}),p.createElement(ixe,Do({},r,{id:a}))))}fd.displayName="Area";function U3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function B3(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?U3(Object(s),!0).forEach(function(a){cxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):U3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function cxe(e,r,s){return(r=dxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function dxe(e){var r=uxe(e,"string");return typeof r=="symbol"?r:r+""}function uxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var mxe={xAxis:{},yAxis:{},zAxis:{}},mz=wn({name:"cartesianAxis",initialState:mxe,reducers:{addXAxis(e,r){e.xAxis[r.payload.id]=r.payload},removeXAxis(e,r){delete e.xAxis[r.payload.id]},addYAxis(e,r){e.yAxis[r.payload.id]=r.payload},removeYAxis(e,r){delete e.yAxis[r.payload.id]},addZAxis(e,r){e.zAxis[r.payload.id]=r.payload},removeZAxis(e,r){delete e.zAxis[r.payload.id]},updateYAxisWidth(e,r){var{id:s,width:a}=r.payload;e.yAxis[s]&&(e.yAxis[s]=B3(B3({},e.yAxis[s]),{},{width:a}))}}}),{addXAxis:hxe,removeXAxis:fxe,addYAxis:pxe,removeYAxis:gxe,addZAxis:aSe,removeZAxis:nSe,updateYAxisWidth:xxe}=mz.actions,yxe=mz.reducer,vxe=["children"],bxe=["dangerouslySetInnerHTML","ticks"];function hz(e,r,s){return(r=wxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function wxe(e){var r=jxe(e,"string");return typeof r=="symbol"?r:r+""}function jxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},B1.apply(null,arguments)}function fz(e,r){if(e==null)return{};var s,a,n=Nxe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Nxe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Sxe(e){var r=cs(),s=p.useMemo(()=>{var{children:i}=e,o=fz(e,vxe);return o},[e]),a=st(i=>Jo(i,s.id)),n=s===a;return p.useEffect(()=>(r(hxe(s)),()=>{r(fxe(s))}),[s,r]),n?e.children:null}var Cxe=e=>{var{xAxisId:r,className:s}=e,a=st(n8),n=Sa(),i="xAxis",o=st(y=>pm(y,i,r,n)),l=st(y=>Q6(y,i,r,n)),d=st(y=>G6(y,r)),m=st(y=>due(y,r));if(d==null||m==null)return null;var{dangerouslySetInnerHTML:h,ticks:f}=e,g=fz(e,bxe);return p.createElement(lc,B1({},g,{scale:o,x:m.x,y:m.y,width:d.width,height:d.height,className:Zt("recharts-".concat(i," ").concat(i),s),viewBox:a,ticks:l}))},kxe=e=>{var r,s,a,n,i;return p.createElement(Sxe,{interval:(r=e.interval)!==null&&r!==void 0?r:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(s=e.includeHidden)!==null&&s!==void 0?s:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(n=e.minTickGap)!==null&&n!==void 0?n:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},p.createElement(Cxe,e))};class bi extends p.Component{render(){return p.createElement(kxe,this.props)}}hz(bi,"displayName","XAxis");hz(bi,"defaultProps",{allowDataOverflow:on.allowDataOverflow,allowDecimals:on.allowDecimals,allowDuplicatedCategory:on.allowDuplicatedCategory,height:on.height,hide:!1,mirror:on.mirror,orientation:on.orientation,padding:on.padding,reversed:on.reversed,scale:on.scale,tickCount:on.tickCount,type:on.type,xAxisId:0});var _xe=e=>{var{ticks:r,label:s,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,o=0;if(r){r.forEach(h=>{if(h){var f=h.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=s?s.getBoundingClientRect().width:0,d=n+i,m=o+d+l+(s?a:0);return Math.round(m)}return 0},Pxe=["dangerouslySetInnerHTML","ticks"];function pz(e,r,s){return(r=Axe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Axe(e){var r=Exe(e,"string");return typeof r=="symbol"?r:r+""}function Exe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function W1(){return W1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},W1.apply(null,arguments)}function Txe(e,r){if(e==null)return{};var s,a,n=Oxe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Oxe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Mxe(e){var r=cs();return p.useEffect(()=>(r(pxe(e)),()=>{r(gxe(e))}),[e,r]),null}var Rxe=e=>{var r,{yAxisId:s,className:a,width:n,label:i}=e,o=p.useRef(null),l=p.useRef(null),d=st(n8),m=Sa(),h=cs(),f="yAxis",g=st(S=>pm(S,f,s,m)),y=st(S=>Y6(S,s)),w=st(S=>uue(S,s)),v=st(S=>Q6(S,f,s,m));if(p.useLayoutEffect(()=>{var S;if(!(n!=="auto"||!y||IC(i)||p.isValidElement(i))){var _=o.current,A=_==null||(S=_.tickRefs)===null||S===void 0?void 0:S.current,{tickSize:T,tickMargin:E}=_.props,R=_xe({ticks:A,label:l.current,labelGapWithTick:5,tickSize:T,tickMargin:E});Math.round(y.width)!==Math.round(R)&&h(xxe({id:s,width:R}))}},[o,o==null||(r=o.current)===null||r===void 0||(r=r.tickRefs)===null||r===void 0?void 0:r.current,y==null?void 0:y.width,y,h,i,s,n]),y==null||w==null)return null;var{dangerouslySetInnerHTML:b,ticks:N}=e,C=Txe(e,Pxe);return p.createElement(lc,W1({},C,{ref:o,labelRef:l,scale:g,x:w.x,y:w.y,width:y.width,height:y.height,className:Zt("recharts-".concat(f," ").concat(f),a),viewBox:d,ticks:v}))},Ixe=e=>{var r,s,a,n,i;return p.createElement(p.Fragment,null,p.createElement(Mxe,{interval:(r=e.interval)!==null&&r!==void 0?r:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(s=e.includeHidden)!==null&&s!==void 0?s:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(n=e.minTickGap)!==null&&n!==void 0?n:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),p.createElement(Rxe,e))},Dxe={allowDataOverflow:ln.allowDataOverflow,allowDecimals:ln.allowDecimals,allowDuplicatedCategory:ln.allowDuplicatedCategory,hide:!1,mirror:ln.mirror,orientation:ln.orientation,padding:ln.padding,reversed:ln.reversed,scale:ln.scale,tickCount:ln.tickCount,type:ln.type,width:ln.width,yAxisId:0};class wi extends p.Component{render(){return p.createElement(Ixe,this.props)}}pz(wi,"displayName","YAxis");pz(wi,"defaultProps",Dxe);var Zj={exports:{}},eN={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W3;function Lxe(){if(W3)return eN;W3=1;var e=Xu();function r(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var s=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,n=e.useRef,i=e.useEffect,o=e.useMemo,l=e.useDebugValue;return eN.useSyncExternalStoreWithSelector=function(d,m,h,f,g){var y=n(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=o(function(){function b(A){if(!N){if(N=!0,C=A,A=f(A),g!==void 0&&w.hasValue){var T=w.value;if(g(T,A))return S=T}return S=A}if(T=S,s(C,A))return T;var E=f(A);return g!==void 0&&g(T,E)?(C=A,T):(C=A,S=E)}var N=!1,C,S,_=h===void 0?null:h;return[function(){return b(m())},_===null?void 0:function(){return b(_())}]},[m,h,f,g]);var v=a(d,y[0],y[1]);return i(function(){w.hasValue=!0,w.value=v},[v]),l(v),v},eN}var V3;function $xe(){return V3||(V3=1,Zj.exports=Lxe()),Zj.exports}$xe();function zxe(e){e()}function Fxe(){let e=null,r=null;return{clear(){e=null,r=null},notify(){zxe(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let a=e;for(;a;)s.push(a),a=a.next;return s},subscribe(s){let a=!0;const n=r={callback:s,next:null,prev:r};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var q3={notify(){},get:()=>[]};function Uxe(e,r){let s,a=q3,n=0,i=!1;function o(v){h();const b=a.subscribe(v);let N=!1;return()=>{N||(N=!0,b(),f())}}function l(){a.notify()}function d(){w.onStateChange&&w.onStateChange()}function m(){return i}function h(){n++,s||(s=e.subscribe(d),a=Fxe())}function f(){n--,s&&n===0&&(s(),s=void 0,a.clear(),a=q3)}function g(){i||(i=!0,h())}function y(){i&&(i=!1,f())}const w={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:d,isSubscribed:m,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>a};return w}var Bxe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wxe=Bxe(),Vxe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qxe=Vxe(),Hxe=()=>Wxe||qxe?p.useLayoutEffect:p.useEffect,Kxe=Hxe(),tN=Symbol.for("react-redux-context"),rN=typeof globalThis<"u"?globalThis:{};function Gxe(){if(!p.createContext)return{};const e=rN[tN]??(rN[tN]=new Map);let r=e.get(p.createContext);return r||(r=p.createContext(null),e.set(p.createContext,r)),r}var Yxe=Gxe();function Jxe(e){const{children:r,context:s,serverState:a,store:n}=e,i=p.useMemo(()=>{const d=Uxe(n);return{store:n,subscription:d,getServerState:a?()=>a:void 0}},[n,a]),o=p.useMemo(()=>n.getState(),[n]);Kxe(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==n.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const l=s||Yxe;return p.createElement(l.Provider,{value:i},r)}var Xxe=Jxe,Qxe=(e,r)=>r,QC=me([Qxe,Gt,C6,Ts,h$,Xo,pme,As],bme),ZC=e=>{var r=e.currentTarget.getBoundingClientRect(),s=r.width/e.currentTarget.offsetWidth,a=r.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-r.left)/s),chartY:Math.round((e.clientY-r.top)/a)}},gz=Gn("mouseClick"),xz=Wf();xz.startListening({actionCreator:gz,effect:(e,r)=>{var s=e.payload,a=QC(r.getState(),ZC(s));(a==null?void 0:a.activeIndex)!=null&&r.dispatch(Sue({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var V1=Gn("mouseMove"),yz=Wf();yz.startListening({actionCreator:V1,effect:(e,r)=>{var s=e.payload,a=r.getState(),n=kC(a,a.tooltip.settings.shared),i=QC(a,ZC(s));n==="axis"&&((i==null?void 0:i.activeIndex)!=null?r.dispatch(i$({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):r.dispatch(n$()))}});function Zxe(e,r){return r instanceof HTMLElement?"HTMLElement <".concat(r.tagName,' class="').concat(r.className,'">'):r===window?"global.window":r}var H3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},vz=wn({name:"rootProps",initialState:H3,reducers:{updateOptions:(e,r)=>{var s;e.accessibilityLayer=r.payload.accessibilityLayer,e.barCategoryGap=r.payload.barCategoryGap,e.barGap=(s=r.payload.barGap)!==null&&s!==void 0?s:H3.barGap,e.barSize=r.payload.barSize,e.maxBarSize=r.payload.maxBarSize,e.stackOffset=r.payload.stackOffset,e.syncId=r.payload.syncId,e.syncMethod=r.payload.syncMethod,e.className=r.payload.className}}}),eye=vz.reducer,{updateOptions:tye}=vz.actions,bz=wn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,r)=>r.payload}}),{updatePolarOptions:rye}=bz.actions,sye=bz.reducer,wz=Gn("keyDown"),jz=Gn("focus"),e4=Wf();e4.startListening({actionCreator:wz,effect:(e,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(_C(n,xm(s))),l=Xo(s);if(i==="Enter"){var d=nx(s,"axis","hover",String(n.index));r.dispatch(M1({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:d}));return}var m=pue(s),h=m==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,g=o+f*h;if(!(l==null||g>=l.length||g<0)){var y=nx(s,"axis","hover",String(g));r.dispatch(M1({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});e4.startListening({actionCreator:jz,effect:(e,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip;if(!n.active&&n.index==null){var i="0",o=nx(s,"axis","hover",String(i));r.dispatch(M1({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Mn=Gn("externalEvent"),Nz=Wf();Nz.startListening({actionCreator:Mn,effect:(e,r)=>{if(e.payload.handler!=null){var s=r.getState(),a={activeCoordinate:ime(s),activeDataKey:x$(s),activeIndex:Jl(s),activeLabel:g$(s),activeTooltipIndex:Jl(s),isTooltipActive:ome(s)};e.payload.handler(a,e.payload.reactEvent)}}});var aye=me([gm],e=>e.tooltipItemPayloads),nye=me([aye,rp,(e,r,s)=>r,(e,r,s)=>s],(e,r,s,a)=>{var n=e.find(l=>l.settings.dataKey===a);if(n!=null){var{positions:i}=n;if(i!=null){var o=r(i,s);return o}}}),Sz=Gn("touchMove"),Cz=Wf();Cz.startListening({actionCreator:Sz,effect:(e,r)=>{var s=e.payload,a=r.getState(),n=kC(a,a.tooltip.settings.shared);if(n==="axis"){var i=QC(a,ZC({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,currentTarget:s.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&r.dispatch(i$({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var o,l=s.touches[0],d=document.elementFromPoint(l.clientX,l.clientY);if(!d||!d.getAttribute)return;var m=d.getAttribute(s8),h=(o=d.getAttribute(a8))!==null&&o!==void 0?o:void 0,f=nye(r.getState(),m,h);r.dispatch(a$({activeDataKey:h,activeIndex:m,activeCoordinate:f}))}}});var iye=PL({brush:_ge,cartesianAxis:yxe,chartData:Dme,errorBars:Tpe,graphicalItems:Ufe,layout:Tne,legend:fie,options:Tme,polarAxis:ofe,polarOptions:sye,referenceElements:Rge,rootProps:eye,tooltip:Cue}),oye=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return rne({reducer:iye,preloadedState:r,middleware:a=>a({serializableCheck:!1}).concat([xz.middleware,yz.middleware,e4.middleware,Nz.middleware,Cz.middleware]),devTools:{serialize:{replacer:Zxe},name:"recharts-".concat(s)}})};function kz(e){var{preloadedState:r,children:s,reduxStoreName:a}=e,n=Sa(),i=p.useRef(null);if(n)return s;i.current==null&&(i.current=oye(r,a));var o=w2;return p.createElement(Xxe,{context:o,store:i.current},s)}function _z(e){var{layout:r,width:s,height:a,margin:n}=e,i=cs(),o=Sa();return p.useEffect(()=>{o||(i(Pne(r)),i(Ane({width:s,height:a})),i(_ne(n)))},[i,o,r,s,a,n]),null}function Pz(e){var r=cs();return p.useEffect(()=>{r(tye(e))},[r,e]),null}var lye=["children"];function cye(e,r){if(e==null)return{};var s,a,n=dye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function dye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},fx.apply(null,arguments)}var uye={width:"100%",height:"100%"},mye=p.forwardRef((e,r)=>{var s=o8(),a=l8(),n=m8();if(!qu(s)||!qu(a))return null;var{children:i,otherAttributes:o,title:l,desc:d}=e,m,h;return typeof o.tabIndex=="number"?m=o.tabIndex:m=n?0:void 0,typeof o.role=="string"?h=o.role:h=n?"application":void 0,p.createElement(QD,fx({},o,{title:l,desc:d,role:h,tabIndex:m,width:s,height:a,style:uye,ref:r}),i)}),hye=e=>{var{children:r}=e,s=st(uy);if(!s)return null;var{width:a,height:n,y:i,x:o}=s;return p.createElement(QD,{width:a,height:n,x:o,y:i},r)},K3=p.forwardRef((e,r)=>{var{children:s}=e,a=cye(e,lye),n=Sa();return n?p.createElement(hye,null,s):p.createElement(mye,fx({ref:r},a),s)});function fye(){var e=cs(),[r,s]=p.useState(null),a=st(nie);return p.useEffect(()=>{if(r!=null){var n=r.getBoundingClientRect(),i=n.width/r.offsetWidth;ta(i)&&i!==a&&e(Ene(i))}},[r,e,a]),s}function G3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function pye(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?G3(Object(s),!0).forEach(function(a){gye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):G3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function gye(e,r,s){return(r=xye(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function xye(e){var r=yye(e,"string");return typeof r=="symbol"?r:r+""}function yye(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var vye=p.forwardRef((e,r)=>{var{children:s,className:a,height:n,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:d,onMouseEnter:m,onMouseLeave:h,onMouseMove:f,onMouseUp:g,onTouchEnd:y,onTouchMove:w,onTouchStart:v,style:b,width:N}=e,C=cs(),[S,_]=p.useState(null),[A,T]=p.useState(null);zme();var E=fye(),R=p.useCallback(ee=>{E(ee),typeof r=="function"&&r(ee),_(ee),T(ee)},[E,r,_,T]),$=p.useCallback(ee=>{C(gz(ee)),C(Mn({handler:i,reactEvent:ee}))},[C,i]),K=p.useCallback(ee=>{C(V1(ee)),C(Mn({handler:m,reactEvent:ee}))},[C,m]),M=p.useCallback(ee=>{C(n$()),C(Mn({handler:h,reactEvent:ee}))},[C,h]),I=p.useCallback(ee=>{C(V1(ee)),C(Mn({handler:f,reactEvent:ee}))},[C,f]),W=p.useCallback(()=>{C(jz())},[C]),V=p.useCallback(ee=>{C(wz(ee.key))},[C]),U=p.useCallback(ee=>{C(Mn({handler:o,reactEvent:ee}))},[C,o]),L=p.useCallback(ee=>{C(Mn({handler:l,reactEvent:ee}))},[C,l]),O=p.useCallback(ee=>{C(Mn({handler:d,reactEvent:ee}))},[C,d]),F=p.useCallback(ee=>{C(Mn({handler:g,reactEvent:ee}))},[C,g]),z=p.useCallback(ee=>{C(Mn({handler:v,reactEvent:ee}))},[C,v]),Y=p.useCallback(ee=>{C(Sz(ee)),C(Mn({handler:w,reactEvent:ee}))},[C,w]),B=p.useCallback(ee=>{C(Mn({handler:y,reactEvent:ee}))},[C,y]);return p.createElement(S$.Provider,{value:S},p.createElement(ese.Provider,{value:A},p.createElement("div",{className:Zt("recharts-wrapper",a),style:pye({position:"relative",cursor:"default",width:N,height:n},b),onClick:$,onContextMenu:U,onDoubleClick:L,onFocus:W,onKeyDown:V,onMouseDown:O,onMouseEnter:K,onMouseLeave:M,onMouseMove:I,onMouseUp:F,onTouchEnd:B,onTouchMove:Y,onTouchStart:z,ref:R},s)))}),bye=["children","className","width","height","style","compact","title","desc"];function wye(e,r){if(e==null)return{};var s,a,n=jye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function jye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Az=p.forwardRef((e,r)=>{var{children:s,className:a,width:n,height:i,style:o,compact:l,title:d,desc:m}=e,h=wye(e,bye),f=Pi(h);return l?p.createElement(K3,{otherAttributes:f,title:d,desc:m},s):p.createElement(vye,{className:a,style:o,width:n,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(K3,{otherAttributes:f,title:d,desc:m,ref:r},p.createElement(Dge,null,s)))}),Nye=["width","height"];function q1(){return q1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},q1.apply(null,arguments)}function Sye(e,r){if(e==null)return{};var s,a,n=Cye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Cye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var kye={top:5,right:5,bottom:5,left:5},_ye={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:kye,reverseStackOrder:!1,syncMethod:"index"},t4=p.forwardRef(function(r,s){var a,n=Ra(r.categoricalChartProps,_ye),{width:i,height:o}=n,l=Sye(n,Nye);if(!qu(i)||!qu(o))return null;var{chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,categoricalChartProps:g}=r,y={chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(kz,{preloadedState:{options:y},reduxStoreName:(a=g.id)!==null&&a!==void 0?a:d},p.createElement(G$,{chartData:g.data}),p.createElement(_z,{width:i,height:o,layout:n.layout,margin:n.margin}),p.createElement(Pz,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),p.createElement(Az,q1({},l,{width:i,height:o,ref:s})))}),Pye=["axis"],Ez=p.forwardRef((e,r)=>p.createElement(t4,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Pye,tooltipPayloadSearcher:Py,categoricalChartProps:e,ref:r})),Aye=["axis","item"],r4=p.forwardRef((e,r)=>p.createElement(t4,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Aye,tooltipPayloadSearcher:Py,categoricalChartProps:e,ref:r}));function Eye(e){var r=cs();return p.useEffect(()=>{r(rye(e))},[r,e]),null}var Tye=["width","height","layout"];function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},H1.apply(null,arguments)}function Oye(e,r){if(e==null)return{};var s,a,n=Mye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Mye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Rye={top:5,right:5,bottom:5,left:5},Iye={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Rye,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Dye=p.forwardRef(function(r,s){var a,n=Ra(r.categoricalChartProps,Iye),{width:i,height:o,layout:l}=n,d=Oye(n,Tye);if(!qu(i)||!qu(o))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:g}=r,y={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:g,eventEmitter:void 0};return p.createElement(kz,{preloadedState:{options:y},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:m},p.createElement(G$,{chartData:n.data}),p.createElement(_z,{width:i,height:o,layout:l,margin:n.margin}),p.createElement(Pz,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),p.createElement(Eye,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),p.createElement(Az,H1({width:i,height:o},d,{ref:s})))}),Lye=["item"],$ye={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},s4=p.forwardRef((e,r)=>{var s=Ra(e,$ye);return p.createElement(Dye,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Lye,tooltipPayloadSearcher:Py,categoricalChartProps:s,ref:r})}),zye=["axis"],Ly=p.forwardRef((e,r)=>p.createElement(t4,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zye,tooltipPayloadSearcher:Py,categoricalChartProps:e,ref:r}));const Fye=[{name:"Summer Sale",success:78},{name:"Product Launch",success:65},{name:"Customer Win-back",success:82},{name:"Holiday Promo",success:91},{name:"Lead Nurture",success:73}],Uye=[{id:1,contact:"John Smith",campaign:"Summer Sale",duration:"3:45",status:"completed"},{id:2,contact:"Sarah Johnson",campaign:"Product Launch",duration:"2:30",status:"in-progress"},{id:3,contact:"Mike Davis",campaign:"Customer Win-back",duration:"5:12",status:"completed"},{id:4,contact:"Emily Brown",campaign:"Holiday Promo",duration:"1:55",status:"completed"},{id:5,contact:"David Wilson",campaign:"Lead Nurture",duration:"4:20",status:"missed"}];function Bye(){console.log("Dashboard component rendering...");const e=[{date:"Monday",calls:320},{date:"Tuesday",calls:450},{date:"Wednesday",calls:380},{date:"Thursday",calls:520},{date:"Friday",calls:480},{date:"Saturday",calls:350},{date:"Sunday",calls:290}],r=br(),{userContext:s}=no(),{user:a}=tm();ts();const[n,i]=p.useState(new Date),[o,l]=p.useState("all"),[d,m]=p.useState("all"),[h]=p.useState(8),[f,g]=p.useState(12543),[y,w]=p.useState(72.5),[v,b]=p.useState(1502.34),[N,C]=p.useState(437),[S,_]=p.useState(12.8);p.useEffect(()=>{console.log("Dashboard useEffect running...");const E=setInterval(()=>{i(new Date)},1e3);return()=>clearInterval(E)},[]),p.useEffect(()=>{const E=setInterval(()=>{g(R=>R+Math.floor(Math.random()*3)),w(R=>Math.max(70,Math.min(80,R+(Math.random()-.5)*2))),b(R=>R+Math.random()*.5),C(R=>R+(Math.random()>.7?1:0)),_(R=>Math.max(20,Math.min(30,R+(Math.random()-.5)*1)))},3e4);return()=>clearInterval(E)},[]);const A=[{title:"Total Calls",value:"12,543",change:"+12.5%",icon:pt,color:"purple"},{title:"Active Campaigns",value:"24",change:"+3",icon:dr,color:"emerald"},{title:"Conversion Rate",value:"32.8%",change:"+5.2%",icon:_s,color:"pink"},{title:"Revenue",value:"$45,231",change:"+18.7%",icon:Ur,color:"blue"}],T=()=>{const E=new Date().getHours();return E<12?"Good morning":E<18?"Good afternoon":"Good evening"};return t.jsx("div",{className:"min-h-screen w-full overflow-x-hidden bg-black",children:t.jsxs("div",{className:"w-full mt-8 space-y-6 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),t.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:[T(),", ",(s==null?void 0:s.firstName)||(a==null?void 0:a.firstName)||"User","!  ",n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs(q,{onClick:()=>r("/campaigns"),className:"bg-emerald-600 font-medium text-white transition-all duration-200 hover:bg-emerald-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Create Campaign"]})})]}),t.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:A.map(E=>t.jsx(G,{className:"cursor-pointer border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:E.title}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:E.value}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:`text-xs font-medium ${E.change.startsWith("+")?"text-pink-400":"text-red-400"}`,children:E.change}),t.jsx("span",{className:"text-xs text-gray-500",children:"Weekly growth"})]})]}),t.jsx("div",{className:`rounded-lg border p-3 ${E.color==="purple"?"border-purple-500/20 bg-purple-500/10":E.color==="emerald"?"border-emerald-500/20 bg-emerald-500/10":E.color==="pink"?"border-pink-500/20 bg-pink-500/10":E.color==="blue"?"border-blue-500/20 bg-blue-500/10":"border-gray-700/30 bg-gray-800/50"}`,children:t.jsx(E.icon,{className:`h-5 w-5 ${E.color==="purple"?"text-purple-400":E.color==="emerald"?"text-emerald-400":E.color==="pink"?"text-pink-400":E.color==="blue"?"text-blue-400":"text-gray-300"}`})})]})})},E.title))}),t.jsx("div",{className:"mb-8 border-b border-gray-700"}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:[t.jsxs(fe,{className:"border-b border-gray-800/30 p-4",children:[t.jsx(ge,{className:"text-lg font-semibold text-white",children:"Call Volume"}),t.jsx(Rt,{className:"text-sm text-gray-400",children:"Last 7 days"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(Un,{width:"100%",height:"100%",children:t.jsxs(Ly,{data:e,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorCalls",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#ec4899",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#ec4899",stopOpacity:0})]})}),t.jsx(Yi,{strokeDasharray:"3 3",stroke:"rgba(55, 65, 81, 0.3)"}),t.jsx(bi,{dataKey:"date",stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(wi,{stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(Fn,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid rgba(55, 65, 81, 0.7)",borderRadius:"12px",backdropFilter:"blur(8px)"},labelStyle:{color:"#fff"}}),t.jsx(fd,{type:"monotone",dataKey:"calls",stroke:"#ec4899",fillOpacity:1,fill:"url(#colorCalls)"})]})})})})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:[t.jsxs(fe,{className:"border-b border-gray-800/30 p-4",children:[t.jsx(ge,{className:"text-lg font-semibold text-white",children:"Campaign Performance"}),t.jsx(Rt,{className:"text-sm text-gray-400",children:"Success rate by campaign"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(Un,{width:"100%",height:"100%",children:t.jsxs(r4,{data:Fye,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#f472b6",stopOpacity:.9}),t.jsx("stop",{offset:"100%",stopColor:"#ec4899",stopOpacity:1})]})}),t.jsx(Yi,{strokeDasharray:"3 3",stroke:"rgba(55, 65, 81, 0.3)"}),t.jsx(bi,{dataKey:"name",stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(wi,{stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(Fn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.9)",border:"1px solid rgba(236, 72, 153, 0.5)",borderRadius:"8px",backdropFilter:"blur(12px)",boxShadow:"0 8px 32px rgba(236, 72, 153, 0.2)"},labelStyle:{color:"#fff"},cursor:{fill:"rgba(236, 72, 153, 0.1)"}}),t.jsx(uf,{dataKey:"success",fill:"url(#barGradient)",radius:[8,8,0,0]})]})})})})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:[t.jsx(fe,{className:"border-b border-gray-800/30 p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ge,{className:"text-lg font-semibold text-white",children:"Recent Calls"}),t.jsx(Rt,{className:"text-sm text-gray-400",children:"Recent Activity"})]}),t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>r("/all-calls"),className:"text-gray-400 transition-all duration-200 hover:bg-gray-800/50 hover:text-white",children:"View All"})]})}),t.jsx(X,{className:"p-0",children:t.jsx("div",{className:"divide-y divide-gray-800/30",children:Uye.map(E=>t.jsxs("div",{className:"group flex cursor-pointer items-center justify-between px-4 py-3 transition-all duration-200 hover:bg-gray-800/30",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-lg ${E.status==="completed"?"border border-pink-500/20 bg-pink-500/10":E.status==="in-progress"?"border border-blue-500/20 bg-blue-500/10":"border border-gray-700/30 bg-gray-800/50"}`,children:t.jsx(pt,{className:`h-4 w-4 ${E.status==="completed"?"text-pink-400":E.status==="in-progress"?"text-blue-400":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-white",children:E.contact}),t.jsx("p",{className:"text-xs text-gray-400",children:E.campaign})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-white",children:E.duration}),t.jsx("p",{className:`text-xs ${E.status==="completed"?"text-pink-400":E.status==="in-progress"?"text-blue-400":"text-gray-400"}`,children:E.status==="completed"?"Completed":E.status==="in-progress"?"In Progress":E.status==="missed"?"Missed":E.status})]}),t.jsx(io,{className:"h-3 w-3 text-gray-500 transition-all duration-200 group-hover:text-gray-300"})]})]},E.id))})})]})]})})}function np(e){const r=p.useRef({value:e,previous:e});return p.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var Wye=[" ","Enter","ArrowUp","ArrowDown"],Vye=[" ","Enter"],pd="Select",[$y,zy,qye]=Tf(pd),[ym,iSe]=Vs(pd,[qye,Ux]),Fy=Ux(),[Hye,cc]=ym(pd),[Kye,Gye]=ym(pd),Tz=e=>{const{__scopeSelect:r,children:s,open:a,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:m,name:h,autoComplete:f,disabled:g,required:y,form:w}=e,v=Fy(r),[b,N]=p.useState(null),[C,S]=p.useState(null),[_,A]=p.useState(!1),T=bd(m),[E,R]=Ni({prop:a,defaultProp:n??!1,onChange:i,caller:pd}),[$,K]=Ni({prop:o,defaultProp:l,onChange:d,caller:pd}),M=p.useRef(null),I=b?w||!!b.closest("form"):!0,[W,V]=p.useState(new Set),U=Array.from(W).map(L=>L.props.value).join(";");return t.jsx(MR,{...v,children:t.jsxs(Hye,{required:y,scope:r,trigger:b,onTriggerChange:N,valueNode:C,onValueNodeChange:S,valueNodeHasChildren:_,onValueNodeHasChildrenChange:A,contentId:Hi(),value:$,onValueChange:K,open:E,onOpenChange:R,dir:T,triggerPointerDownPosRef:M,disabled:g,children:[t.jsx($y.Provider,{scope:r,children:t.jsx(Kye,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(L=>{V(O=>new Set(O).add(L))},[]),onNativeOptionRemove:p.useCallback(L=>{V(O=>{const F=new Set(O);return F.delete(L),F})},[]),children:s})}),I?t.jsxs(t7,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:$,onChange:L=>K(L.target.value),disabled:g,form:w,children:[$===void 0?t.jsx("option",{value:""}):null,Array.from(W)]},U):null]})})};Tz.displayName=pd;var Oz="SelectTrigger",Mz=p.forwardRef((e,r)=>{const{__scopeSelect:s,disabled:a=!1,...n}=e,i=Fy(s),o=cc(Oz,s),l=o.disabled||a,d=ht(r,o.onTriggerChange),m=zy(s),h=p.useRef("touch"),[f,g,y]=s7(v=>{const b=m().filter(S=>!S.disabled),N=b.find(S=>S.value===o.value),C=a7(b,v,N);C!==void 0&&o.onValueChange(C.value)}),w=v=>{l||(o.onOpenChange(!0),y()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return t.jsx(RR,{asChild:!0,...i,children:t.jsx(He.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":r7(o.value)?"":void 0,...n,ref:d,onClick:$e(n.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&w(v)}),onPointerDown:$e(n.onPointerDown,v=>{h.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:$e(n.onKeyDown,v=>{const b=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(b&&v.key===" ")&&Wye.includes(v.key)&&(w(),v.preventDefault())})})})});Mz.displayName=Oz;var Rz="SelectValue",Iz=p.forwardRef((e,r)=>{const{__scopeSelect:s,className:a,style:n,children:i,placeholder:o="",...l}=e,d=cc(Rz,s),{onValueNodeHasChildrenChange:m}=d,h=i!==void 0,f=ht(r,d.onValueNodeChange);return os(()=>{m(h)},[m,h]),t.jsx(He.span,{...l,ref:f,style:{pointerEvents:"none"},children:r7(d.value)?t.jsx(t.Fragment,{children:o}):i})});Iz.displayName=Rz;var Yye="SelectIcon",Dz=p.forwardRef((e,r)=>{const{__scopeSelect:s,children:a,...n}=e;return t.jsx(He.span,{"aria-hidden":!0,...n,ref:r,children:a||""})});Dz.displayName=Yye;var Jye="SelectPortal",Lz=e=>t.jsx(If,{asChild:!0,...e});Lz.displayName=Jye;var gd="SelectContent",$z=p.forwardRef((e,r)=>{const s=cc(gd,e.__scopeSelect),[a,n]=p.useState();if(os(()=>{n(new DocumentFragment)},[]),!s.open){const i=a;return i?Xl.createPortal(t.jsx(zz,{scope:e.__scopeSelect,children:t.jsx($y.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),i):null}return t.jsx(Fz,{...e,ref:r})});$z.displayName=gd;var fi=10,[zz,dc]=ym(gd),Xye="SelectContentImpl",Qye=nd("SelectContent.RemoveScroll"),Fz=p.forwardRef((e,r)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:m,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:y,sticky:w,hideWhenDetached:v,avoidCollisions:b,...N}=e,C=cc(gd,s),[S,_]=p.useState(null),[A,T]=p.useState(null),E=ht(r,Pe=>_(Pe)),[R,$]=p.useState(null),[K,M]=p.useState(null),I=zy(s),[W,V]=p.useState(!1),U=p.useRef(!1);p.useEffect(()=>{if(S)return qS(S)},[S]),MS();const L=p.useCallback(Pe=>{const[De,...ce]=I().map(te=>te.ref.current),[Ce]=ce.slice(-1),Ee=document.activeElement;for(const te of Pe)if(te===Ee||(te==null||te.scrollIntoView({block:"nearest"}),te===De&&A&&(A.scrollTop=0),te===Ce&&A&&(A.scrollTop=A.scrollHeight),te==null||te.focus(),document.activeElement!==Ee))return},[I,A]),O=p.useCallback(()=>L([R,S]),[L,R,S]);p.useEffect(()=>{W&&O()},[W,O]);const{onOpenChange:F,triggerPointerDownPosRef:z}=C;p.useEffect(()=>{if(S){let Pe={x:0,y:0};const De=Ce=>{var Ee,te;Pe={x:Math.abs(Math.round(Ce.pageX)-(((Ee=z.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((te=z.current)==null?void 0:te.y)??0))}},ce=Ce=>{Pe.x<=10&&Pe.y<=10?Ce.preventDefault():S.contains(Ce.target)||F(!1),document.removeEventListener("pointermove",De),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",De),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",De),document.removeEventListener("pointerup",ce,{capture:!0})}}},[S,F,z]),p.useEffect(()=>{const Pe=()=>F(!1);return window.addEventListener("blur",Pe),window.addEventListener("resize",Pe),()=>{window.removeEventListener("blur",Pe),window.removeEventListener("resize",Pe)}},[F]);const[Y,B]=s7(Pe=>{const De=I().filter(Ee=>!Ee.disabled),ce=De.find(Ee=>Ee.ref.current===document.activeElement),Ce=a7(De,Pe,ce);Ce&&setTimeout(()=>Ce.ref.current.focus())}),ee=p.useCallback((Pe,De,ce)=>{const Ce=!U.current&&!ce;(C.value!==void 0&&C.value===De||Ce)&&($(Pe),Ce&&(U.current=!0))},[C.value]),ke=p.useCallback(()=>S==null?void 0:S.focus(),[S]),H=p.useCallback((Pe,De,ce)=>{const Ce=!U.current&&!ce;(C.value!==void 0&&C.value===De||Ce)&&M(Pe)},[C.value]),he=a==="popper"?K1:Uz,Ie=he===K1?{side:l,sideOffset:d,align:m,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:y,sticky:w,hideWhenDetached:v,avoidCollisions:b}:{};return t.jsx(zz,{scope:s,content:S,viewport:A,onViewportChange:T,itemRefCallback:ee,selectedItem:R,onItemLeave:ke,itemTextRefCallback:H,focusSelectedItem:O,selectedItemText:K,position:a,isPositioned:W,searchRef:Y,children:t.jsx(Wx,{as:Qye,allowPinchZoom:!0,children:t.jsx(Lx,{asChild:!0,trapped:C.open,onMountAutoFocus:Pe=>{Pe.preventDefault()},onUnmountAutoFocus:$e(n,Pe=>{var De;(De=C.trigger)==null||De.focus({preventScroll:!0}),Pe.preventDefault()}),children:t.jsx(Of,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Pe=>Pe.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:t.jsx(he,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:Pe=>Pe.preventDefault(),...N,...Ie,onPlaced:()=>V(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:$e(N.onKeyDown,Pe=>{const De=Pe.ctrlKey||Pe.altKey||Pe.metaKey;if(Pe.key==="Tab"&&Pe.preventDefault(),!De&&Pe.key.length===1&&B(Pe.key),["ArrowUp","ArrowDown","Home","End"].includes(Pe.key)){let Ce=I().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(Pe.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(Pe.key)){const Ee=Pe.target,te=Ce.indexOf(Ee);Ce=Ce.slice(te+1)}setTimeout(()=>L(Ce)),Pe.preventDefault()}})})})})})})});Fz.displayName=Xye;var Zye="SelectItemAlignedPosition",Uz=p.forwardRef((e,r)=>{const{__scopeSelect:s,onPlaced:a,...n}=e,i=cc(gd,s),o=dc(gd,s),[l,d]=p.useState(null),[m,h]=p.useState(null),f=ht(r,E=>h(E)),g=zy(s),y=p.useRef(!1),w=p.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:N,focusSelectedItem:C}=o,S=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&m&&v&&b&&N){const E=i.trigger.getBoundingClientRect(),R=m.getBoundingClientRect(),$=i.valueNode.getBoundingClientRect(),K=N.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=K.left-R.left,te=$.left-Ee,be=E.left-te,Te=E.width+be,Ue=Math.max(Te,R.width),ie=window.innerWidth-fi,Ge=Qh(te,[fi,Math.max(fi,ie-Ue)]);l.style.minWidth=Te+"px",l.style.left=Ge+"px"}else{const Ee=R.right-K.right,te=window.innerWidth-$.right-Ee,be=window.innerWidth-E.right-te,Te=E.width+be,Ue=Math.max(Te,R.width),ie=window.innerWidth-fi,Ge=Qh(te,[fi,Math.max(fi,ie-Ue)]);l.style.minWidth=Te+"px",l.style.right=Ge+"px"}const M=g(),I=window.innerHeight-fi*2,W=v.scrollHeight,V=window.getComputedStyle(m),U=parseInt(V.borderTopWidth,10),L=parseInt(V.paddingTop,10),O=parseInt(V.borderBottomWidth,10),F=parseInt(V.paddingBottom,10),z=U+L+W+F+O,Y=Math.min(b.offsetHeight*5,z),B=window.getComputedStyle(v),ee=parseInt(B.paddingTop,10),ke=parseInt(B.paddingBottom,10),H=E.top+E.height/2-fi,he=I-H,Ie=b.offsetHeight/2,Pe=b.offsetTop+Ie,De=U+L+Pe,ce=z-De;if(De<=H){const Ee=M.length>0&&b===M[M.length-1].ref.current;l.style.bottom="0px";const te=m.clientHeight-v.offsetTop-v.offsetHeight,be=Math.max(he,Ie+(Ee?ke:0)+te+O),Te=De+be;l.style.height=Te+"px"}else{const Ee=M.length>0&&b===M[0].ref.current;l.style.top="0px";const be=Math.max(H,U+v.offsetTop+(Ee?ee:0)+Ie)+ce;l.style.height=be+"px",v.scrollTop=De-H+v.offsetTop}l.style.margin=`${fi}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=I+"px",a==null||a(),requestAnimationFrame(()=>y.current=!0)}},[g,i.trigger,i.valueNode,l,m,v,b,N,i.dir,a]);os(()=>S(),[S]);const[_,A]=p.useState();os(()=>{m&&A(window.getComputedStyle(m).zIndex)},[m]);const T=p.useCallback(E=>{E&&w.current===!0&&(S(),C==null||C(),w.current=!1)},[S,C]);return t.jsx(tve,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:T,children:t.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:t.jsx(He.div,{...n,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Uz.displayName=Zye;var eve="SelectPopperPosition",K1=p.forwardRef((e,r)=>{const{__scopeSelect:s,align:a="start",collisionPadding:n=fi,...i}=e,o=Fy(s);return t.jsx(IR,{...o,...i,ref:r,align:a,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});K1.displayName=eve;var[tve,a4]=ym(gd,{}),G1="SelectViewport",Bz=p.forwardRef((e,r)=>{const{__scopeSelect:s,nonce:a,...n}=e,i=dc(G1,s),o=a4(G1,s),l=ht(r,i.onViewportChange),d=p.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx($y.Slot,{scope:s,children:t.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:$e(n.onScroll,m=>{const h=m.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const y=Math.abs(d.current-h.scrollTop);if(y>0){const w=window.innerHeight-fi*2,v=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),N=Math.max(v,b);if(N<w){const C=N+y,S=Math.min(w,C),_=C-S;f.style.height=S+"px",f.style.bottom==="0px"&&(h.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});Bz.displayName=G1;var Wz="SelectGroup",[rve,sve]=ym(Wz),ave=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e,n=Hi();return t.jsx(rve,{scope:s,id:n,children:t.jsx(He.div,{role:"group","aria-labelledby":n,...a,ref:r})})});ave.displayName=Wz;var Vz="SelectLabel",qz=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e,n=sve(Vz,s);return t.jsx(He.div,{id:n.id,...a,ref:r})});qz.displayName=Vz;var px="SelectItem",[nve,Hz]=ym(px),Kz=p.forwardRef((e,r)=>{const{__scopeSelect:s,value:a,disabled:n=!1,textValue:i,...o}=e,l=cc(px,s),d=dc(px,s),m=l.value===a,[h,f]=p.useState(i??""),[g,y]=p.useState(!1),w=ht(r,C=>{var S;return(S=d.itemRefCallback)==null?void 0:S.call(d,C,a,n)}),v=Hi(),b=p.useRef("touch"),N=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(nve,{scope:s,value:a,disabled:n,textId:v,isSelected:m,onItemTextChange:p.useCallback(C=>{f(S=>S||((C==null?void 0:C.textContent)??"").trim())},[]),children:t.jsx($y.ItemSlot,{scope:s,value:a,disabled:n,textValue:h,children:t.jsx(He.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":m&&g,"data-state":m?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:w,onFocus:$e(o.onFocus,()=>y(!0)),onBlur:$e(o.onBlur,()=>y(!1)),onClick:$e(o.onClick,()=>{b.current!=="mouse"&&N()}),onPointerUp:$e(o.onPointerUp,()=>{b.current==="mouse"&&N()}),onPointerDown:$e(o.onPointerDown,C=>{b.current=C.pointerType}),onPointerMove:$e(o.onPointerMove,C=>{var S;b.current=C.pointerType,n?(S=d.onItemLeave)==null||S.call(d):b.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e(o.onPointerLeave,C=>{var S;C.currentTarget===document.activeElement&&((S=d.onItemLeave)==null||S.call(d))}),onKeyDown:$e(o.onKeyDown,C=>{var _;((_=d.searchRef)==null?void 0:_.current)!==""&&C.key===" "||(Vye.includes(C.key)&&N(),C.key===" "&&C.preventDefault())})})})})});Kz.displayName=px;var Oh="SelectItemText",Gz=p.forwardRef((e,r)=>{const{__scopeSelect:s,className:a,style:n,...i}=e,o=cc(Oh,s),l=dc(Oh,s),d=Hz(Oh,s),m=Gye(Oh,s),[h,f]=p.useState(null),g=ht(r,N=>f(N),d.onItemTextChange,N=>{var C;return(C=l.itemTextRefCallback)==null?void 0:C.call(l,N,d.value,d.disabled)}),y=h==null?void 0:h.textContent,w=p.useMemo(()=>t.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=m;return os(()=>(v(w),()=>b(w)),[v,b,w]),t.jsxs(t.Fragment,{children:[t.jsx(He.span,{id:d.textId,...i,ref:g}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Xl.createPortal(i.children,o.valueNode):null]})});Gz.displayName=Oh;var Yz="SelectItemIndicator",Jz=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e;return Hz(Yz,s).isSelected?t.jsx(He.span,{"aria-hidden":!0,...a,ref:r}):null});Jz.displayName=Yz;var Y1="SelectScrollUpButton",Xz=p.forwardRef((e,r)=>{const s=dc(Y1,e.__scopeSelect),a=a4(Y1,e.__scopeSelect),[n,i]=p.useState(!1),o=ht(r,a.onScrollButtonChange);return os(()=>{if(s.viewport&&s.isPositioned){let l=function(){const m=d.scrollTop>0;i(m)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?t.jsx(Zz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});Xz.displayName=Y1;var J1="SelectScrollDownButton",Qz=p.forwardRef((e,r)=>{const s=dc(J1,e.__scopeSelect),a=a4(J1,e.__scopeSelect),[n,i]=p.useState(!1),o=ht(r,a.onScrollButtonChange);return os(()=>{if(s.viewport&&s.isPositioned){let l=function(){const m=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<m;i(h)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?t.jsx(Zz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});Qz.displayName=J1;var Zz=p.forwardRef((e,r)=>{const{__scopeSelect:s,onAutoScroll:a,...n}=e,i=dc("SelectScrollButton",s),o=p.useRef(null),l=zy(s),d=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>d(),[d]),os(()=>{var h;const m=l().find(f=>f.ref.current===document.activeElement);(h=m==null?void 0:m.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),t.jsx(He.div,{"aria-hidden":!0,...n,ref:r,style:{flexShrink:0,...n.style},onPointerDown:$e(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:$e(n.onPointerMove,()=>{var m;(m=i.onItemLeave)==null||m.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:$e(n.onPointerLeave,()=>{d()})})}),ive="SelectSeparator",e7=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e;return t.jsx(He.div,{"aria-hidden":!0,...a,ref:r})});e7.displayName=ive;var X1="SelectArrow",ove=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e,n=Fy(s),i=cc(X1,s),o=dc(X1,s);return i.open&&o.position==="popper"?t.jsx(DR,{...n,...a,ref:r}):null});ove.displayName=X1;var lve="SelectBubbleInput",t7=p.forwardRef(({__scopeSelect:e,value:r,...s},a)=>{const n=p.useRef(null),i=ht(a,n),o=np(r);return p.useEffect(()=>{const l=n.current;if(!l)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&h){const f=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(f)}},[o,r]),t.jsx(He.select,{...s,style:{...wD,...s.style},ref:i,defaultValue:r})});t7.displayName=lve;function r7(e){return e===""||e===void 0}function s7(e){const r=Zr(e),s=p.useRef(""),a=p.useRef(0),n=p.useCallback(o=>{const l=s.current+o;r(l),function d(m){s.current=m,window.clearTimeout(a.current),m!==""&&(a.current=window.setTimeout(()=>d(""),1e3))}(l)},[r]),i=p.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,n,i]}function a7(e,r,s){const n=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,i=s?e.indexOf(s):-1;let o=cve(e,Math.max(i,0));n.length===1&&(o=o.filter(m=>m!==s));const d=o.find(m=>m.textValue.toLowerCase().startsWith(n.toLowerCase()));return d!==s?d:void 0}function cve(e,r){return e.map((s,a)=>e[(r+a)%e.length])}var dve=Tz,n7=Mz,uve=Iz,mve=Dz,hve=Lz,i7=$z,fve=Bz,o7=qz,l7=Kz,pve=Gz,gve=Jz,c7=Xz,d7=Qz,u7=e7;const at=dve,nt=uve,et=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(n7,{ref:a,className:Re("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300 [&>span]:line-clamp-1",e),...s,children:[r,t.jsx(mve,{asChild:!0,children:t.jsx(as,{className:"h-4 w-4 opacity-50"})})]}));et.displayName=n7.displayName;const m7=p.forwardRef(({className:e,...r},s)=>t.jsx(c7,{ref:s,className:Re("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(KG,{className:"h-4 w-4"})}));m7.displayName=c7.displayName;const h7=p.forwardRef(({className:e,...r},s)=>t.jsx(d7,{ref:s,className:Re("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(as,{className:"h-4 w-4"})}));h7.displayName=d7.displayName;const tt=p.forwardRef(({className:e,children:r,position:s="popper",...a},n)=>t.jsx(hve,{children:t.jsxs(i7,{ref:n,className:Re("relative z-[9999] max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-700 bg-gray-800 text-white shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,style:{zIndex:9999},...a,children:[t.jsx(m7,{}),t.jsx(fve,{className:Re("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),t.jsx(h7,{})]})}));tt.displayName=i7.displayName;const xve=p.forwardRef(({className:e,...r},s)=>t.jsx(o7,{ref:s,className:Re("px-2 py-1.5 text-sm font-semibold",e),...r}));xve.displayName=o7.displayName;const se=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(l7,{ref:a,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm text-white outline-none hover:bg-gray-700 hover:text-white focus:bg-gray-700 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(gve,{children:t.jsx(rm,{className:"h-4 w-4"})})}),t.jsx(pve,{children:r})]}));se.displayName=l7.displayName;const yve=p.forwardRef(({className:e,...r},s)=>t.jsx(u7,{ref:s,className:Re("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",e),...r}));yve.displayName=u7.displayName;const vve={agency_owner:"Agency Owner",agency_admin:"Agency Admin",agency_user:"Agency User",platform_admin:"Platform Admin",platform_owner:"Platform Owner",client_admin:"Client Admin",client_user:"Client User"};function bve(){const[e,r]=p.useState([]),[s,a]=p.useState([]),[n,i]=p.useState(!0),[o,l]=p.useState(""),[d,m]=p.useState("all"),[h,f]=p.useState("all"),[g,y]=p.useState("all"),{getToken:w}=ja(),{toast:v}=ts(),b=async()=>{try{i(!0);const{supabaseService:_}=await fn(async()=>{const{supabaseService:R}=await Promise.resolve().then(()=>Au);return{supabaseService:R}},void 0);console.log(" Fetching users from Supabase...");const{data:A,error:T}=await _.client.from("users").select("*").order("created_at",{ascending:!1});if(console.log(" Supabase response:",{users:A,error:T}),T)throw console.error(" Supabase error details:",{message:T.message,code:T.code,details:T.details,hint:T.hint}),T;const E=(A||[]).map(R=>({id:R.id,email:R.email,first_name:R.first_name||"",last_name:R.last_name||"",role:R.role||"client_user",is_active:R.is_active!==!1,organization_id:R.organization_id,organization_name:"",last_login:R.last_login,created_at:R.created_at,phone:R.phone||"",avatar_url:R.avatar_url||""}));console.log(" Transformed users:",E.length),r(E);try{const{data:R,error:$}=await _.client.from("organizations").select("*").order("name");if(console.log(" Organizations response:",{orgs:R,orgError:$}),!$&&R){a(R);const K=E.map(M=>{const I=R.find(W=>W.id===M.organization_id);return{...M,organization_name:(I==null?void 0:I.name)||""}});r(K)}}catch(R){console.warn(" Failed to fetch organizations:",R)}}catch(_){console.error(" Error fetching users from Supabase:",_),v({title:"Error",description:"Failed to load users from database. Check console for details.",variant:"destructive"}),r([])}finally{i(!1)}};p.useEffect(()=>{b()},[]);const N=async(_,A)=>{try{const{supabaseService:T}=await fn(async()=>{const{supabaseService:R}=await Promise.resolve().then(()=>Au);return{supabaseService:R}},void 0),{error:E}=await T.client.from("users").update(A).eq("id",_);if(E)throw E;await b(),v({title:"Success",description:"User updated successfully"})}catch(T){throw console.error(" Error updating user:",T),v({title:"Error",description:T.message||"Failed to update user. Please try again.",variant:"destructive"}),T}},C=async _=>{try{const{supabaseService:A}=await fn(async()=>{const{supabaseService:E}=await Promise.resolve().then(()=>Au);return{supabaseService:E}},void 0),{error:T}=await A.client.from("users").delete().eq("id",_);if(T)throw T;await b(),v({title:"Success",description:"User deleted successfully"})}catch(A){console.error(" Error deleting user:",A),v({title:"Error",description:A.message||"Failed to delete user. Please try again.",variant:"destructive"})}},S=e.filter(_=>{var $,K,M,I;const A=((($=_.first_name)==null?void 0:$.toLowerCase())||"").includes(o.toLowerCase())||(((K=_.last_name)==null?void 0:K.toLowerCase())||"").includes(o.toLowerCase())||(((M=_.email)==null?void 0:M.toLowerCase())||"").includes(o.toLowerCase())||(((I=_.organization_name)==null?void 0:I.toLowerCase())||"").includes(o.toLowerCase()),T=d==="all"||_.role===d,E=h==="all"||h==="active"&&_.is_active||h==="inactive"&&!_.is_active,R=g==="all"||_.organization_id===g;return A&&T&&E&&R});return n?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("h1",{className:"text-3xl font-bold text-white",children:"User Management"})}),t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsx("div",{className:"text-zinc-400",children:"Loading users..."})})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"User Management"}),t.jsx("p",{className:"mt-1 text-zinc-400",children:"Manage users and their permissions across your organization"})]}),t.jsxs(q,{onClick:()=>{},className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(G,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Users"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:e.length})]}),t.jsx(Nt,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(G,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Active Users"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:e.filter(_=>_.is_active).length})]}),t.jsx(ad,{className:"h-8 w-8 text-green-500"})]})})}),t.jsx(G,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Organizations"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.length})]}),t.jsx(tr,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(G,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Admin Users"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:e.filter(_=>_.role&&(_.role.includes("admin")||_.role.includes("owner"))).length})]}),t.jsx(Ps,{className:"h-8 w-8 text-purple-500"})]})})})]}),t.jsx(G,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-zinc-400"}),t.jsx(Se,{placeholder:"Search users...",value:o,onChange:_=>l(_.target.value),className:"border-zinc-700 bg-zinc-800 pl-10 text-white"})]})}),t.jsxs(at,{value:d,onValueChange:m,children:[t.jsx(et,{className:"w-40 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:"Role"})}),t.jsxs(tt,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:"All Roles"}),t.jsx(se,{value:"platform_owner",children:"Platform Owner"}),t.jsx(se,{value:"platform_admin",children:"Platform Admin"}),t.jsx(se,{value:"agency_owner",children:"Agency Owner"}),t.jsx(se,{value:"agency_admin",children:"Agency Admin"}),t.jsx(se,{value:"agency_user",children:"Agency User"})]})]}),t.jsxs(at,{value:h,onValueChange:f,children:[t.jsx(et,{className:"w-32 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:"Status"})}),t.jsxs(tt,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"active",children:"Active"}),t.jsx(se,{value:"inactive",children:"Inactive"})]})]}),t.jsxs(at,{value:g,onValueChange:y,children:[t.jsx(et,{className:"w-48 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:"Organization"})}),t.jsxs(tt,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:"All Organizations"}),s.map(_=>t.jsx(se,{value:_.id,children:_.name},_.id))]})]})]})})}),t.jsxs(G,{className:"border-zinc-800 bg-zinc-900",children:[t.jsxs(fe,{children:[t.jsxs(ge,{className:"text-white",children:["Users (",S.length,")"]}),t.jsx(Rt,{className:"text-zinc-400",children:"Manage user accounts and permissions"})]}),t.jsx(X,{children:S.length===0?t.jsxs("div",{className:"py-12 text-center",children:[t.jsx(Nt,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:"No users found"}),t.jsx("p",{className:"text-sm text-zinc-500",children:"Try adjusting your search criteria"})]}):t.jsx("div",{className:"space-y-3",children:S.map(_=>{var A,T;return t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-zinc-700 bg-zinc-800 p-4",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-600",children:t.jsxs("span",{className:"font-medium text-white",children:[(((A=_.first_name)==null?void 0:A[0])||"").toUpperCase(),(((T=_.last_name)==null?void 0:T[0])||"").toUpperCase()]})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("p",{className:"font-medium text-white",children:[_.first_name||""," ",_.last_name||""]}),t.jsx(je,{className:`${_.is_active?"bg-green-500":"bg-gray-500"} text-white`,children:_.is_active?"Active":"Inactive"}),t.jsx(je,{variant:"outline",className:"border-zinc-600 text-zinc-300",children:vve[_.role]||_.role})]}),t.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-zinc-400",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(wa,{className:"mr-1 h-3 w-3"}),_.email]}),_.organization_name&&t.jsxs("span",{className:"flex items-center",children:[t.jsx(tr,{className:"mr-1 h-3 w-3"}),_.organization_name]}),_.phone&&t.jsxs("span",{className:"flex items-center",children:[t.jsx(pt,{className:"mr-1 h-3 w-3"}),_.phone]})]})]})]}),t.jsxs(ki,{children:[t.jsx(_i,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"text-zinc-400 hover:text-white",children:t.jsx(Mx,{className:"h-4 w-4"})})}),t.jsxs(Kn,{align:"end",className:"border-zinc-700 bg-zinc-800",children:[t.jsxs(Qt,{onClick:()=>{},className:"text-zinc-300 hover:text-white",children:[t.jsx(Hl,{className:"mr-2 h-4 w-4"}),"Edit User"]}),t.jsx(Qt,{onClick:()=>N(_.id,{is_active:!_.is_active}),className:"text-zinc-300 hover:text-white",children:_.is_active?t.jsxs(t.Fragment,{children:[t.jsx(vY,{className:"mr-2 h-4 w-4"}),"Deactivate"]}):t.jsxs(t.Fragment,{children:[t.jsx(ad,{className:"mr-2 h-4 w-4"}),"Activate"]})}),t.jsxs(Qt,{onClick:()=>C(_.id),className:"text-red-400 hover:text-red-300",children:[t.jsx(Bs,{className:"mr-2 h-4 w-4"}),"Delete User"]})]})]})]},_.id)})})})]})]})}var Uy="Tabs",[wve,oSe]=Vs(Uy,[om]),f7=om(),[jve,n4]=wve(Uy),p7=p.forwardRef((e,r)=>{const{__scopeTabs:s,value:a,onValueChange:n,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:d="automatic",...m}=e,h=bd(l),[f,g]=Ni({prop:a,onChange:n,defaultProp:i??"",caller:Uy});return t.jsx(jve,{scope:s,baseId:Hi(),value:f,onValueChange:g,orientation:o,dir:h,activationMode:d,children:t.jsx(He.div,{dir:h,"data-orientation":o,...m,ref:r})})});p7.displayName=Uy;var g7="TabsList",x7=p.forwardRef((e,r)=>{const{__scopeTabs:s,loop:a=!0,...n}=e,i=n4(g7,s),o=f7(s);return t.jsx(WS,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:t.jsx(He.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:r})})});x7.displayName=g7;var y7="TabsTrigger",v7=p.forwardRef((e,r)=>{const{__scopeTabs:s,value:a,disabled:n=!1,...i}=e,o=n4(y7,s),l=f7(s),d=j7(o.baseId,a),m=N7(o.baseId,a),h=a===o.value;return t.jsx(VS,{asChild:!0,...l,focusable:!n,active:h,children:t.jsx(He.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:d,...i,ref:r,onMouseDown:$e(e.onMouseDown,f=>{!n&&f.button===0&&f.ctrlKey===!1?o.onValueChange(a):f.preventDefault()}),onKeyDown:$e(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(a)}),onFocus:$e(e.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!n&&f&&o.onValueChange(a)})})})});v7.displayName=y7;var b7="TabsContent",w7=p.forwardRef((e,r)=>{const{__scopeTabs:s,value:a,forceMount:n,children:i,...o}=e,l=n4(b7,s),d=j7(l.baseId,a),m=N7(l.baseId,a),h=a===l.value,f=p.useRef(h);return p.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),t.jsx(Na,{present:n||h,children:({present:g})=>t.jsx(He.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:m,tabIndex:0,...o,ref:r,style:{...e.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});w7.displayName=b7;function j7(e,r){return`${e}-trigger-${r}`}function N7(e,r){return`${e}-content-${r}`}var Nve=p7,S7=x7,C7=v7,k7=w7;const Ei=Nve,Qn=p.forwardRef(({className:e,...r},s)=>t.jsx(S7,{ref:s,className:Re("inline-flex h-9 items-center justify-center rounded-lg bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",e),...r}));Qn.displayName=S7.displayName;const ut=p.forwardRef(({className:e,...r},s)=>t.jsx(C7,{ref:s,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-zinc-950 data-[state=active]:shadow dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:bg-zinc-950 dark:data-[state=active]:text-zinc-50",e),...r}));ut.displayName=C7.displayName;const mt=p.forwardRef(({className:e,...r},s)=>t.jsx(k7,{ref:s,className:Re("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",e),...r}));mt.displayName=k7.displayName;const Sve=[{name:"Sarah Johnson",company:"TechCorp Solutions",role:"VP of Sales",quote:"The campaign automation engine is a game-changer. We set up campaigns that respect time zones, retry failed calls intelligently, and qualify leads automatically. Our sales team now focuses only on hot leads.",results:"340% increase in qualified leads"},{name:"Michael Chen",company:"Digital Marketing Pro",role:"Agency Owner",quote:"The 22 preset qualification fields saved us hours of setup time. Our AI asks the right questions every time, and the automatic lead scoring means we never miss a hot prospect.",results:"5x better conversion rates"},{name:"Emma Rodriguez",company:"Real Estate Masters",role:"Team Lead",quote:"Working hours enforcement and holiday respect features are brilliant. Our campaigns run 24/7 but only call when appropriate. The multi-phone number support handles our volume perfectly.",results:"89% contact rate improvement"}],Cve=[{icon:Wl,title:"Campaign Automation Engine",description:"Fully automated campaign execution with minute-by-minute scheduling, intelligent retry logic, and multi-phone support",highlight:"Runs every 60 seconds",details:["Respects working hours & time zones","Smart retry based on call outcomes","Round-robin phone distribution","Real-time webhook processing"]},{icon:dr,title:"AI Lead Qualification",description:"22 preset fields across 9 categories with custom field support and automatic scoring",highlight:"0-100 scoring system",details:["Appointment readiness detection","Budget & timeline extraction","Authority identification","Automatic CRM actions"]},{icon:xs,title:"Real-Time Analytics",description:"Comprehensive campaign monitoring with call outcomes, lead insights, and team performance metrics",highlight:"Live dashboard updates",details:["Campaign performance tracking","Cost analytics per campaign","Lead qualification insights","Team collaboration metrics"]},{icon:eR,title:"Enterprise Integrations",description:"Seamless integration with VAPI.ai, Supabase, webhooks, and your existing tech stack",highlight:"API-first architecture",details:["VAPI.ai voice platform","Webhook event processing","CSV import/export","Clerk authentication"]}],kve=[{number:"340%",label:"More Qualified Leads",icon:_s},{number:"5 Min",label:"Setup Time",icon:It},{number:"24/7",label:"Never Stops",icon:Ps},{number:"2,500+",label:"Happy Businesses",icon:Nt}];function _ve(){const[e,r]=p.useState(!1),[s,a]=p.useState(0),{isSignedIn:n}=ja(),{userContext:i}=no(),o=br();p.useEffect(()=>{const d=()=>a(window.scrollY);return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),p.useEffect(()=>{n&&((i==null?void 0:i.role)==="Platform Owner"||(i==null?void 0:i.role)==="platform_owner"?o("/platform"):o("/dashboard"))},[n,i,o]);const l=()=>{n?(i==null?void 0:i.role)==="Platform Owner"||(i==null?void 0:i.role)==="platform_owner"?o("/platform"):o("/dashboard"):o("/signup")};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[t.jsx("nav",{className:"fixed top-0 z-50 w-full border-b border-slate-700/50 bg-slate-900/80 backdrop-blur-xl",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex h-16 items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 shadow-lg",children:t.jsx(Kr,{className:"h-6 w-6 text-white"})}),t.jsx("span",{className:"bg-gradient-to-r from-white to-blue-400 bg-clip-text text-xl font-bold text-transparent",children:"Artificial Media"})]}),t.jsxs("div",{className:"hidden items-center space-x-8 md:flex",children:[t.jsx("a",{href:"#features",className:"text-slate-300 transition-colors hover:text-blue-400",children:"Features"}),t.jsx("a",{href:"#how-it-works",className:"text-slate-300 transition-colors hover:text-blue-400",children:"How It Works"}),t.jsx("a",{href:"#testimonials",className:"text-slate-300 transition-colors hover:text-blue-400",children:"Success Stories"}),n?t.jsx(q,{onClick:()=>{(i==null?void 0:i.role)==="Platform Owner"||(i==null?void 0:i.role)==="platform_owner"?o("/platform"):o("/dashboard")},className:"rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-2 font-medium text-white shadow-lg transition-all duration-200 hover:from-blue-700 hover:to-purple-700 hover:shadow-xl",children:"Go to Dashboard"}):t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"text-slate-300 transition-colors hover:text-blue-400",onClick:()=>o("/login"),children:"Sign In"}),t.jsx("button",{onClick:()=>o("/signup"),className:"rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-2 font-medium text-white shadow-lg transition-all duration-200 hover:from-blue-700 hover:to-purple-700 hover:shadow-xl",children:"Start Free Trial"})]})]})]})})}),t.jsxs("section",{className:"relative overflow-hidden pb-20 pt-32",children:[t.jsxs("div",{className:"absolute inset-0",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-slate-900/20"}),t.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-blue-500/10 blur-3xl",style:{transform:`translateY(${s*.3}px)`}}),t.jsx("div",{className:"absolute bottom-1/4 right-1/4 h-96 w-96 rounded-full bg-purple-500/10 blur-3xl",style:{transform:`translateY(${s*-.2}px)`}})]}),t.jsx("div",{className:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"space-y-8 text-center",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-center space-x-4",children:[t.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(d=>t.jsx(Oo,{className:"h-5 w-5 fill-current text-yellow-400"},d))}),t.jsx("span",{className:"text-slate-300",children:"Trusted by 2,500+ businesses"}),t.jsxs(je,{className:"border-green-500/30 bg-green-500/20 text-green-400",children:[t.jsx(_s,{className:"mr-1 h-3 w-3"}),"340% ROI Average"]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("h1",{className:"text-5xl font-bold leading-tight md:text-7xl",children:[t.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:"Transform Your Sales with"}),t.jsx("br",{}),t.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"AI Voice Automation"})]}),t.jsxs("p",{className:"mx-auto max-w-3xl text-xl leading-relaxed text-slate-300 md:text-2xl",children:["Complete campaign automation, intelligent lead qualification, and 24/7 AI calling - all managed from one powerful platform. ",t.jsx("span",{className:"font-semibold text-blue-400",children:"340% more qualified leads"})," ","with enterprise-grade automation."]})]}),t.jsxs("div",{className:"mt-8 flex flex-col items-center justify-center gap-4 sm:flex-row",children:[t.jsxs(q,{onClick:l,className:"transform rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-4 text-lg font-semibold text-white shadow-xl transition-all duration-200 hover:scale-105 hover:from-blue-700 hover:to-purple-700 hover:shadow-2xl",children:["Start Free 14-Day Trial",t.jsx($N,{className:"ml-2 h-5 w-5"})]}),t.jsxs(q,{variant:"outline",onClick:()=>r(!0),className:"rounded-xl border-slate-600 px-8 py-4 text-lg font-semibold text-slate-300 transition-all duration-200 hover:bg-slate-800",children:[t.jsx(Wn,{className:"mr-2 h-5 w-5"}),"Watch 2-Min Demo"]})]}),t.jsxs("div",{className:"mt-12 border-t border-slate-700/50 pt-8",children:[t.jsx("p",{className:"mb-6 text-sm text-slate-400",children:"No credit card required  Setup in 5 minutes  Cancel anytime"}),t.jsx("div",{className:"mt-8 grid grid-cols-2 gap-8 md:grid-cols-4",children:kve.map((d,m)=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-2 flex items-center justify-center",children:t.jsx(d.icon,{className:"mr-2 h-6 w-6 text-blue-400"})}),t.jsx("div",{className:"text-2xl font-bold text-white md:text-3xl",children:d.number}),t.jsx("div",{className:"text-sm text-slate-400",children:d.label})]},m))})]})]})})]}),t.jsx("section",{className:"bg-slate-800/50 py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-12 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"See Artificial Media AI in Action"}),t.jsx("p",{className:"text-lg text-slate-300",children:"Watch how our AI qualifies leads in real-time"})]}),t.jsx("div",{className:"mx-auto max-w-4xl",children:t.jsx(G,{className:"overflow-hidden border-slate-700 bg-slate-900/50",children:t.jsxs(X,{className:"p-0",children:[t.jsx("div",{className:"border-b border-slate-700 bg-gradient-to-r from-green-500/20 to-blue-500/20 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"h-3 w-3 animate-pulse rounded-full bg-green-400"}),t.jsx("span",{className:"font-medium text-green-400",children:"AI Qualification in Progress"})]}),t.jsx(je,{className:"bg-green-500/20 text-green-400",children:"Active"})]})}),t.jsxs("div",{className:"space-y-4 p-6",children:[t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-500",children:t.jsx("span",{className:"text-sm font-medium text-white",children:"AI"})}),t.jsx("div",{className:"flex-1",children:t.jsx("p",{className:"text-white",children:`"Hi John, I noticed you downloaded our guide on sales automation. I'm calling to see if you're still looking to improve your outbound calling results?"`})})]}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-600",children:t.jsx(Nt,{className:"h-4 w-4 text-white"})}),t.jsx("div",{className:"flex-1",children:t.jsx("p",{className:"text-slate-300",children:`"Yes, we're actually struggling with our cold calling team. We make about 500 calls per day but our conversion rate is only 2%..."`})})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4 rounded-lg bg-slate-800/50 p-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-bold text-white",children:"2:34"}),t.jsx("div",{className:"text-sm text-slate-400",children:"Duration"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-bold text-green-400",children:"Positive"}),t.jsx("div",{className:"text-sm text-slate-400",children:"Sentiment"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-bold text-blue-400",children:"85/100"}),t.jsx("div",{className:"text-sm text-slate-400",children:"Lead Score"})]})]}),t.jsxs("div",{className:"mt-4 space-x-2",children:[t.jsx(je,{className:"bg-green-500/20 text-green-400",children:"Budget: Qualified"}),t.jsx(je,{className:"bg-blue-500/20 text-blue-400",children:"Authority: Decision Maker"}),t.jsx(je,{className:"bg-purple-500/20 text-purple-400",children:"Timeline: This Quarter"})]})]})]})})})]})}),t.jsx("section",{id:"features",className:"py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-16 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"Enterprise-Grade AI Sales Automation"}),t.jsx("p",{className:"mx-auto max-w-2xl text-lg text-slate-300",children:"Complete campaign automation with intelligent lead qualification, powered by cutting-edge AI technology and enterprise integrations."})]}),t.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:Cve.map((d,m)=>t.jsx(G,{className:"group border-slate-700 bg-slate-800/50 transition-all duration-200 hover:bg-slate-800/70",children:t.jsx(X,{className:"p-8",children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 transition-transform duration-200 group-hover:scale-110",children:t.jsx(d.icon,{className:"h-6 w-6 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"mb-2 text-xl font-semibold text-white",children:d.title}),t.jsx("p",{className:"mb-3 text-slate-300",children:d.description}),t.jsx(je,{className:"mb-3 bg-blue-500/20 text-blue-400",children:d.highlight}),d.details&&t.jsx("ul",{className:"space-y-1 text-sm text-slate-400",children:d.details.map((h,f)=>t.jsxs("li",{className:"flex items-center",children:[t.jsx(yt,{className:"mr-2 h-3 w-3 text-green-400"}),h]},f))})]})]})})},m))})]})}),t.jsx("section",{id:"how-it-works",className:"bg-slate-800/30 py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-16 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"How Our AI Automation Works"}),t.jsx("p",{className:"text-lg text-slate-300",children:"From campaign creation to qualified leads in your CRM"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-4",children:[{step:"1",title:"Create Campaign",description:"Set up your campaign with working hours, phone numbers, and retry logic. Upload contacts via CSV.",icon:is},{step:"2",title:"AI Starts Calling",description:"Our automation engine runs every minute, respecting time zones and business hours automatically.",icon:pt},{step:"3",title:"Qualify Leads",description:"AI extracts 22+ qualification fields, scores leads 0-100, and triggers CRM actions instantly.",icon:dr},{step:"4",title:"Review & Close",description:"Hot leads appear in your dashboard. Focus on closing while AI handles the qualifying.",icon:_s}].map((d,m)=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-6 flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600",children:t.jsx(d.icon,{className:"h-8 w-8 text-white"})}),t.jsxs("div",{className:"mb-2 text-2xl font-bold text-blue-400",children:["Step ",d.step]}),t.jsx("h3",{className:"mb-3 text-xl font-semibold text-white",children:d.title}),t.jsx("p",{className:"text-slate-300",children:d.description})]},m))})]})}),t.jsx("section",{className:"py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-12 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"AI That Knows What to Ask"}),t.jsx("p",{className:"mx-auto max-w-2xl text-lg text-slate-300",children:"22 preset qualification fields across 9 categories, plus unlimited custom fields. Our AI extracts the data that matters for your sales process."})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[{category:"Appointment Readiness",icon:ps,fields:["Meeting Interest","Preferred Time","Calendar Availability"],color:"from-green-500 to-emerald-600"},{category:"Budget & Authority",icon:Ur,fields:["Budget Range","Decision Maker","Approval Process"],color:"from-blue-500 to-cyan-600"},{category:"Timeline & Urgency",icon:It,fields:["Purchase Timeline","Current Solution","Pain Points"],color:"from-purple-500 to-pink-600"},{category:"Company Details",icon:tr,fields:["Company Size","Industry","Department"],color:"from-orange-500 to-red-600"},{category:"Contact Information",icon:ad,fields:["Email Confirmation","Best Contact Time","Preferred Channel"],color:"from-teal-500 to-blue-600"},{category:"Interest Level",icon:dr,fields:["Product Interest","Feature Requirements","Use Case"],color:"from-indigo-500 to-purple-600"}].map((d,m)=>t.jsxs(G,{className:"border-slate-700 bg-slate-800/50",children:[t.jsx(fe,{children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-r ${d.color}`,children:t.jsx(d.icon,{className:"h-5 w-5 text-white"})}),t.jsx(ge,{className:"text-lg text-white",children:d.category})]})}),t.jsx(X,{children:t.jsx("ul",{className:"space-y-2",children:d.fields.map((h,f)=>t.jsxs("li",{className:"flex items-center text-sm text-slate-300",children:[t.jsx(FN,{className:"mr-2 h-4 w-4 text-green-400"}),h]},f))})})]},m))}),t.jsxs("div",{className:"mt-12 text-center",children:[t.jsx("p",{className:"mb-4 text-slate-300",children:"Plus custom fields specific to your business needs"}),t.jsxs(je,{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-blue-400",children:[t.jsx($o,{className:"mr-1 h-4 w-4"}),"AI automatically detects and extracts all fields during conversations"]})]})]})}),t.jsx("section",{className:"bg-slate-800/30 py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-12 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"Powerful Platform Views"}),t.jsx("p",{className:"text-lg text-slate-300",children:"Everything you need to manage campaigns, track performance, and close deals"})]}),t.jsxs(Ei,{defaultValue:"campaigns",className:"w-full",children:[t.jsxs(Qn,{className:"grid w-full grid-cols-4 bg-slate-800",children:[t.jsx(ut,{value:"campaigns",className:"data-[state=active]:bg-slate-700",children:"Campaign Dashboard"}),t.jsx(ut,{value:"qualification",className:"data-[state=active]:bg-slate-700",children:"Lead Qualification"}),t.jsx(ut,{value:"analytics",className:"data-[state=active]:bg-slate-700",children:"Analytics"}),t.jsx(ut,{value:"team",className:"data-[state=active]:bg-slate-700",children:"Team Management"})]}),t.jsx(mt,{value:"campaigns",className:"mt-6",children:t.jsx(G,{className:"border-slate-700 bg-slate-900/50",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Active Campaigns"}),t.jsx(je,{className:"bg-green-500/20 text-green-400",children:"Live"})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"rounded-lg bg-slate-800/50 p-4",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("span",{className:"font-medium text-white",children:"Q1 Outreach Campaign"}),t.jsx("span",{className:"text-sm text-slate-400",children:"2,450 / 5,000 calls"})]}),t.jsx("div",{className:"mb-2 h-2 overflow-hidden rounded-full bg-slate-700",children:t.jsx("div",{className:"h-full w-[49%] bg-gradient-to-r from-blue-500 to-purple-600"})}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-green-400",children:"342 Qualified Leads"}),t.jsx("span",{className:"text-slate-400",children:"Running 9am-5pm EST"})]})]})})]})})}),t.jsx(mt,{value:"qualification",className:"mt-6",children:t.jsx(G,{className:"border-slate-700 bg-slate-900/50",children:t.jsxs(X,{className:"p-6",children:[t.jsx("h3",{className:"mb-4 text-xl font-semibold text-white",children:"Lead Review Queue"}),t.jsx("div",{className:"space-y-3",children:[{name:"John Smith",score:92,company:"TechCorp",status:"Hot Lead"},{name:"Sarah Johnson",score:85,company:"StartupXYZ",status:"Qualified"},{name:"Mike Chen",score:78,company:"Digital Pro",status:"Interested"}].map((d,m)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-800/50 p-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:d.name}),t.jsx("p",{className:"text-sm text-slate-400",children:d.company})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(je,{className:`${d.score>=90?"bg-green-500/20 text-green-400":d.score>=80?"bg-blue-500/20 text-blue-400":"bg-yellow-500/20 text-yellow-400"}`,children:["Score: ",d.score,"/100"]}),t.jsx(je,{variant:"outline",children:d.status})]})]},m))})]})})}),t.jsx(mt,{value:"analytics",className:"mt-6",children:t.jsx(G,{className:"border-slate-700 bg-slate-900/50",children:t.jsxs(X,{className:"p-6",children:[t.jsx("h3",{className:"mb-4 text-xl font-semibold text-white",children:"Campaign Performance"}),t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs("div",{className:"rounded-lg bg-slate-800/50 p-4 text-center",children:[t.jsx(ba,{className:"mx-auto mb-2 h-8 w-8 text-blue-400"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"12,543"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Total Calls"})]}),t.jsxs("div",{className:"rounded-lg bg-slate-800/50 p-4 text-center",children:[t.jsx(dr,{className:"mx-auto mb-2 h-8 w-8 text-green-400"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"1,247"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Qualified Leads"})]}),t.jsxs("div",{className:"rounded-lg bg-slate-800/50 p-4 text-center",children:[t.jsx(_s,{className:"mx-auto mb-2 h-8 w-8 text-purple-400"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"9.9%"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Conversion Rate"})]}),t.jsxs("div",{className:"rounded-lg bg-slate-800/50 p-4 text-center",children:[t.jsx(Ur,{className:"mx-auto mb-2 h-8 w-8 text-yellow-400"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"$0.42"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Cost per Lead"})]})]})]})})}),t.jsx(mt,{value:"team",className:"mt-6",children:t.jsx(G,{className:"border-slate-700 bg-slate-900/50",children:t.jsxs(X,{className:"p-6",children:[t.jsx("h3",{className:"mb-4 text-xl font-semibold text-white",children:"Team Performance"}),t.jsx("div",{className:"space-y-3",children:[{name:"Sales Team A",campaigns:3,leads:423,performance:"+12%"},{name:"Sales Team B",campaigns:2,leads:312,performance:"+8%"},{name:"Sales Team C",campaigns:4,leads:567,performance:"+15%"}].map((d,m)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-800/50 p-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:d.name}),t.jsxs("p",{className:"text-sm text-slate-400",children:[d.campaigns," active campaigns"]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium text-white",children:d.leads}),t.jsx("p",{className:"text-sm text-slate-400",children:"Leads Generated"})]}),t.jsx(je,{className:"bg-green-500/20 text-green-400",children:d.performance})]})]},m))})]})})})]})]})}),t.jsx("section",{id:"testimonials",className:"py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-16 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"Success Stories"}),t.jsx("p",{className:"text-lg text-slate-300",children:"See how businesses are transforming their sales with Apex AI"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:Sve.map((d,m)=>t.jsx(G,{className:"border-slate-700 bg-slate-800/50",children:t.jsxs(X,{className:"p-8",children:[t.jsx("div",{className:"mb-4 flex items-center space-x-1",children:[1,2,3,4,5].map(h=>t.jsx(Oo,{className:"h-4 w-4 fill-current text-yellow-400"},h))}),t.jsxs("p",{className:"mb-6 italic text-slate-300",children:['"',d.quote,'"']}),t.jsxs("div",{className:"border-t border-slate-700 pt-4",children:[t.jsx("div",{className:"font-semibold text-white",children:d.name}),t.jsx("div",{className:"text-sm text-slate-400",children:d.role}),t.jsx("div",{className:"text-sm text-slate-400",children:d.company}),t.jsx(je,{className:"mt-2 bg-green-500/20 text-green-400",children:d.results})]})]})},m))})]})}),t.jsx("section",{className:"py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-12 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"Enterprise-Ready Features"}),t.jsx("p",{className:"text-lg text-slate-300",children:"Built for scale, security, and compliance from day one"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[{icon:Ga,title:"Time Zone Intelligence",description:"Automatically respects contact time zones and business hours across the globe",features:["DST aware","Holiday detection","Working hours enforcement"]},{icon:ea,title:"Smart Retry Logic",description:"Intelligent retry strategies based on call outcomes and lead behavior",features:["No answer retry","Busy signal handling","Custom retry intervals"]},{icon:Ps,title:"Enterprise Security",description:"Bank-level security with complete data isolation and encryption",features:["SOC 2 compliant","GDPR ready","Role-based access"]},{icon:eR,title:"Real-time Webhooks",description:"Instant notifications for every call event and lead update",features:["Call started/ended","Lead qualified","Custom events"]},{icon:Nt,title:"Team Collaboration",description:"Built for teams with role management and performance tracking",features:["Multi-tenant","Team analytics","Permission controls"]},{icon:Pf,title:"Data Management",description:"Powerful data handling with import, export, and backup capabilities",features:["CSV import/export","API access","Automated backups"]}].map((d,m)=>t.jsx(G,{className:"border-slate-700 bg-slate-800/50",children:t.jsxs(X,{className:"p-6",children:[t.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-slate-700 to-slate-600",children:t.jsx(d.icon,{className:"h-6 w-6 text-white"})}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:d.title}),t.jsx("p",{className:"mb-4 text-sm text-slate-300",children:d.description}),t.jsx("ul",{className:"space-y-1",children:d.features.map((h,f)=>t.jsxs("li",{className:"flex items-center text-sm text-slate-400",children:[t.jsx(yt,{className:"mr-2 h-3 w-3 text-green-400"}),h]},f))})]})},m))})]})}),t.jsx("section",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 py-20",children:t.jsxs("div",{className:"mx-auto max-w-4xl px-4 text-center sm:px-6 lg:px-8",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"Ready to Transform Your Sales?"}),t.jsx("p",{className:"mb-8 text-lg text-slate-300",children:"Join 2,500+ businesses using Artificial Media to automate their sales calls, qualify leads intelligently, and close more deals."}),t.jsxs(q,{onClick:l,className:"transform rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-4 text-lg font-semibold text-white shadow-xl transition-all duration-200 hover:scale-105 hover:from-blue-700 hover:to-purple-700 hover:shadow-2xl",children:["Start Your Free 14-Day Trial",t.jsx($N,{className:"ml-2 h-5 w-5"})]}),t.jsx("p",{className:"mt-4 text-sm text-slate-400",children:"No credit card required  5-minute setup  14-day free trial  Cancel anytime"}),t.jsxs("div",{className:"mt-8 flex items-center justify-center space-x-8",children:[t.jsxs("div",{className:"flex items-center text-slate-300",children:[t.jsx(Ps,{className:"mr-2 h-5 w-5 text-green-400"}),t.jsx("span",{children:"GDPR Compliant"})]}),t.jsxs("div",{className:"flex items-center text-slate-300",children:[t.jsx(It,{className:"mr-2 h-5 w-5 text-blue-400"}),t.jsx("span",{children:"24/7 Support"})]}),t.jsxs("div",{className:"flex items-center text-slate-300",children:[t.jsx(Ga,{className:"mr-2 h-5 w-5 text-purple-400"}),t.jsx("span",{children:"Global Coverage"})]})]})]})}),t.jsx("footer",{className:"border-t border-slate-700 bg-slate-900 py-12",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-purple-600",children:t.jsx(Kr,{className:"h-5 w-5 text-white"})}),t.jsx("span",{className:"text-lg font-bold text-white",children:"Artificial Media"})]}),t.jsxs("div",{className:"text-sm text-slate-400",children:[" 2025 Artificial Media. All rights reserved. | ",t.jsx("a",{href:"https://artificialmedia.co.uk",className:"text-blue-400 hover:text-blue-300",children:"artificialmedia.co.uk"})]})]})})}),e&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4",children:t.jsxs("div",{className:"relative aspect-video w-full max-w-4xl rounded-xl bg-slate-900",children:[t.jsx("button",{onClick:()=>r(!1),className:"absolute right-4 top-4 z-10 text-white hover:text-slate-300",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t.jsx("div",{className:"flex h-full w-full items-center justify-center",children:t.jsx("p",{className:"text-white",children:"Demo video would be embedded here"})})]})})]})}function Pve(){const[e,r]=p.useState("enterprise"),a={current:{clients:5,monthlyRevenue:2995,annualRevenue:35940,infrastructureCost:150,profitMargin:95,supportTickets:25,serverLoad:15,responseTime:180},growth:{clients:50,monthlyRevenue:29950,annualRevenue:359400,infrastructureCost:2500,profitMargin:92,supportTickets:150,serverLoad:45,responseTime:220},enterprise:{clients:500,monthlyRevenue:324750,annualRevenue:3897e3,infrastructureCost:15e3,profitMargin:85,supportTickets:1200,serverLoad:75,responseTime:150}}[e],n=[{name:"Load Balancers",current:"$50/month",growth:"$200/month",enterprise:"$800/month",description:"Distribute traffic across multiple servers"},{name:"Database Cluster",current:"$100/month",growth:"$800/month",enterprise:"$4,000/month",description:"Sharded PostgreSQL with read replicas"},{name:"Application Servers",current:"$150/month",growth:"$800/month",enterprise:"$6,000/month",description:"Auto-scaling Node.js containers"},{name:"CDN & Storage",current:"$30/month",growth:"$200/month",enterprise:"$1,500/month",description:"Global content delivery network"},{name:"Monitoring & Logs",current:"$20/month",growth:"$150/month",enterprise:"$800/month",description:"Real-time monitoring and alerting"},{name:"Security & Compliance",current:"$50/month",growth:"$350/month",enterprise:"$1,900/month",description:"WAF, DDoS protection, SOC 2"}],i=[{role:"Support Team",current:1,growth:3,enterprise:12,salary:6e4,description:"24/7 customer support coverage"},{role:"DevOps Engineers",current:0,growth:1,enterprise:3,salary:14e4,description:"Infrastructure and deployment management"},{role:"Backend Developers",current:1,growth:2,enterprise:5,salary:12e4,description:"Platform development and optimization"},{role:"Sales Team",current:0,growth:2,enterprise:8,salary:8e4,description:"Client acquisition and account management"},{role:"Customer Success",current:0,growth:1,enterprise:4,salary:75e3,description:"Client onboarding and retention"}],o=[{plan:"Starter",price:299,clients:Math.floor(a.clients*.4),total:Math.floor(a.clients*.4)*299},{plan:"Professional",price:599,clients:Math.floor(a.clients*.4),total:Math.floor(a.clients*.4)*599},{plan:"Enterprise",price:1299,clients:Math.floor(a.clients*.2),total:Math.floor(a.clients*.2)*1299}];return t.jsx("div",{className:"bg-gray-950 p-4 lg:p-8",children:t.jsxs("div",{className:"mx-auto max-w-6xl space-y-6",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"flex items-center gap-3 text-2xl font-semibold text-white lg:text-3xl",children:[t.jsx(fY,{className:"h-6 w-6 text-emerald-500 lg:h-8 lg:w-8"}),"Scale Architecture: 500+ Clients"]}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Enterprise-grade infrastructure for massive scale"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:gap-3",children:[t.jsx(q,{variant:e==="current"?"default":"outline",onClick:()=>r("current"),className:`text-sm ${e==="current"?"bg-emerald-600":""}`,size:"sm",children:"Current (5)"}),t.jsx(q,{variant:e==="growth"?"default":"outline",onClick:()=>r("growth"),className:`text-sm ${e==="growth"?"bg-emerald-600":""}`,size:"sm",children:"Growth (50)"}),t.jsx(q,{variant:e==="enterprise"?"default":"outline",onClick:()=>r("enterprise"),className:`text-sm ${e==="enterprise"?"bg-emerald-600":""}`,size:"sm",children:"Enterprise (500+)"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 lg:gap-6",children:[t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Monthly Revenue"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",a.monthlyRevenue.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-emerald-400",children:["$",(a.monthlyRevenue/a.clients).toFixed(0)," per client"]})]}),t.jsx(Ur,{className:"h-6 w-6 flex-shrink-0 text-green-500 lg:h-8 lg:w-8"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Annual Revenue"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",(a.annualRevenue/1e6).toFixed(1),"M"]}),t.jsxs("p",{className:"text-xs text-emerald-400",children:[a.profitMargin,"% profit margin"]})]}),t.jsx(_s,{className:"h-6 w-6 flex-shrink-0 text-emerald-500 lg:h-8 lg:w-8"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Infrastructure Cost"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",a.infrastructureCost.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-orange-400",children:["$",(a.infrastructureCost/a.clients).toFixed(0)," per client"]})]}),t.jsx(p0,{className:"h-6 w-6 flex-shrink-0 text-blue-500 lg:h-8 lg:w-8"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Monthly Profit"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",((a.monthlyRevenue-a.infrastructureCost)/1e3).toFixed(0),"K"]}),t.jsx("p",{className:"text-xs text-emerald-400",children:"After infrastructure costs"})]}),t.jsx(dr,{className:"h-6 w-6 flex-shrink-0 text-emerald-500 lg:h-8 lg:w-8"})]})})})]}),t.jsxs(Ei,{defaultValue:"infrastructure",className:"space-y-4 lg:space-y-6",children:[t.jsxs(Qn,{className:"grid h-auto w-full grid-cols-5",children:[t.jsx(ut,{value:"infrastructure",className:"text-xs lg:text-sm",children:"Infrastructure"}),t.jsx(ut,{value:"revenue",className:"text-xs lg:text-sm",children:"Revenue Model"}),t.jsx(ut,{value:"team",className:"text-xs lg:text-sm",children:"Team Scaling"}),t.jsx(ut,{value:"automation",className:"text-xs lg:text-sm",children:"Automation"}),t.jsx(ut,{value:"roadmap",className:"text-xs lg:text-sm",children:"Roadmap"})]}),t.jsxs(mt,{value:"infrastructure",className:"space-y-4 lg:space-y-6",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-4",children:t.jsx(ge,{className:"text-lg text-white lg:text-xl",children:"Infrastructure Components"})}),t.jsx(X,{className:"p-4 lg:p-6",children:t.jsx("div",{className:"space-y-3 lg:space-y-4",children:n.map((l,d)=>t.jsxs("div",{className:"flex flex-col gap-2 rounded-lg bg-gray-800 p-3 sm:flex-row sm:items-center sm:justify-between sm:gap-4 lg:p-4",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:l.name}),t.jsx("p",{className:"mt-1 text-xs text-gray-400 lg:text-sm",children:l.description})]}),t.jsx("div",{className:"flex-shrink-0 text-left sm:text-right",children:t.jsxs("p",{className:"text-sm font-semibold text-emerald-400 lg:text-base",children:[e==="current"&&l.current,e==="growth"&&l.growth,e==="enterprise"&&l.enterprise]})})]},d))})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3 lg:gap-6",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-3",children:t.jsxs(ge,{className:"flex items-center gap-2 text-base text-white lg:text-lg",children:[t.jsx(Pf,{className:"h-4 w-4 text-blue-500 lg:h-5 lg:w-5"}),"Database Strategy"]})}),t.jsxs(X,{className:"space-y-3 p-4 lg:p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Sharding"}),t.jsx(je,{className:`text-xs ${e==="enterprise"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e==="enterprise"?"Required":"Optional"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Read Replicas"}),t.jsx(je,{className:`text-xs ${e!=="current"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e!=="current"?"Active":"Not Needed"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Connection Pooling"}),t.jsx(je,{className:"bg-green-500/20 text-xs text-green-400",children:"Required"})]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-3",children:t.jsxs(ge,{className:"flex items-center gap-2 text-base text-white lg:text-lg",children:[t.jsx(XG,{className:"h-4 w-4 text-emerald-500 lg:h-5 lg:w-5"}),"Auto-Scaling"]})}),t.jsxs(X,{className:"space-y-3 p-4 lg:p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Horizontal Scaling"}),t.jsx(je,{className:`text-xs ${e==="enterprise"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e==="enterprise"?"Essential":"Planned"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Load Balancing"}),t.jsx(je,{className:`text-xs ${e!=="current"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e!=="current"?"Active":"Future"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"CDN"}),t.jsx(je,{className:"bg-green-500/20 text-xs text-green-400",children:"Global"})]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-3",children:t.jsxs(ge,{className:"flex items-center gap-2 text-base text-white lg:text-lg",children:[t.jsx(Ps,{className:"h-4 w-4 text-red-500 lg:h-5 lg:w-5"}),"Security & Compliance"]})}),t.jsxs(X,{className:"space-y-3 p-4 lg:p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"SOC 2 Type II"}),t.jsx(je,{className:`text-xs ${e==="enterprise"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e==="enterprise"?"Required":"In Progress"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"GDPR Compliance"}),t.jsx(je,{className:"bg-green-500/20 text-xs text-green-400",children:"Compliant"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"WAF & DDoS"}),t.jsx(je,{className:`text-xs ${e!=="current"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e!=="current"?"Protected":"Basic"})]})]})]})]})]}),t.jsx(mt,{value:"revenue",className:"space-y-4 lg:space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 lg:gap-6",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-4",children:t.jsx(ge,{className:"text-lg text-white lg:text-xl",children:"Revenue Breakdown"})}),t.jsx(X,{className:"p-4 lg:p-6",children:t.jsx("div",{className:"space-y-3 lg:space-y-4",children:o.map((l,d)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:l.plan}),t.jsxs("p",{className:"text-xs text-gray-400 lg:text-sm",children:[l.clients," clients"]})]}),t.jsxs("div",{className:"flex-shrink-0 text-right",children:[t.jsxs("p",{className:"text-sm font-semibold text-emerald-400 lg:text-base",children:["$",l.total.toLocaleString(),"/mo"]}),t.jsxs("p",{className:"text-xs text-gray-400",children:["$",l.price,"/client"]})]})]},d))})})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-4",children:t.jsx(ge,{className:"text-lg text-white lg:text-xl",children:"Growth Projections"})}),t.jsx(X,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:"Year 1 Target"}),t.jsx("p",{className:"text-xl font-semibold text-emerald-400 lg:text-2xl",children:"500 Clients"}),t.jsx("p",{className:"text-sm text-gray-400",children:"$3.9M Annual Revenue"})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:"Year 2 Projection"}),t.jsx("p",{className:"text-xl font-semibold text-emerald-400 lg:text-2xl",children:"1,200 Clients"}),t.jsx("p",{className:"text-sm text-gray-400",children:"$9.4M Annual Revenue"})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:"Year 3 Vision"}),t.jsx("p",{className:"text-xl font-semibold text-emerald-400 lg:text-2xl",children:"2,500 Clients"}),t.jsx("p",{className:"text-sm text-gray-400",children:"$19.5M Annual Revenue"})]})]})})]})]})}),t.jsx(mt,{value:"team",className:"space-y-6",children:t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Team Scaling Requirements"})}),t.jsx(X,{children:t.jsx("div",{className:"space-y-4",children:i.map((l,d)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800 p-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-white",children:l.role}),t.jsx("p",{className:"text-sm text-gray-400",children:l.description})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-semibold text-emerald-400",children:[e==="current"&&l.current,e==="growth"&&l.growth,e==="enterprise"&&l.enterprise," people"]}),t.jsxs("p",{className:"text-sm text-gray-400",children:["$",(l.salary/1e3).toFixed(0),"K avg salary"]})]})]},d))})})]})}),t.jsx(mt,{value:"automation",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Client Onboarding Automation"})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Self-service signup flow"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Automatic VAPI account setup"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(It,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Guided assistant creation"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(It,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Automated billing setup"})]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Support Automation"})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"AI chatbot for tier 1 support"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Automatic ticket routing"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(It,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Knowledge base integration"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(It,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Proactive issue detection"})]})]})]})]})}),t.jsx(mt,{value:"roadmap",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Q1 2024 (0-50 Clients)"})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(yt,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Core platform launch"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(yt,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Support ticketing system"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(It,{className:"h-4 w-4 text-yellow-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Stripe billing integration"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(It,{className:"h-4 w-4 text-yellow-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Basic monitoring setup"})]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Q2-Q3 2024 (50-200 Clients)"})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Database sharding"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Load balancer deployment"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Auto-scaling implementation"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Advanced monitoring"})]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Q4 2024 (200-500+ Clients)"})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Kr,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Microservices architecture"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Kr,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Global CDN deployment"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Kr,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"SOC 2 compliance"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Kr,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Enterprise white-labeling"})]})]})]})]})})]}),t.jsxs(G,{className:"border-emerald-500/30 bg-gradient-to-r from-emerald-500/10 to-blue-500/10",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:" Next Steps for 500+ Client Scale"})}),t.jsx(X,{children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 font-semibold text-emerald-400",children:"Immediate Actions (This Month)"}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:" Deploy to production (Vercel + Supabase Pro)"}),t.jsx("li",{children:" Implement Stripe billing automation"}),t.jsx("li",{children:" Set up monitoring with DataDog/New Relic"}),t.jsx("li",{children:" Create client onboarding automation"}),t.jsx("li",{children:" Establish support ticket workflows"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 font-semibold text-blue-400",children:"Scale Preparation (Next 3 Months)"}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:" Design database sharding strategy"}),t.jsx("li",{children:" Implement horizontal auto-scaling"}),t.jsx("li",{children:" Hire DevOps engineer"}),t.jsx("li",{children:" Build enterprise white-label features"}),t.jsx("li",{children:" Start SOC 2 compliance process"})]})]})]})})]})]})})}const qa=p.forwardRef(({className:e,...r},s)=>t.jsx("textarea",{className:Re("flex min-h-[60px] w-full rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300 md:text-sm",e),ref:s,...r}));qa.displayName="Textarea";function Ave(){const[e,r]=p.useState(null),[s,a]=p.useState(""),[n,i]=p.useState("all"),[o,l]=p.useState("all"),[d,m]=p.useState(""),[h,f]=p.useState(!1),g=p.useRef(null),y=[{id:"technical",name:"Technical Support",color:"text-blue-400",icon:Kr},{id:"billing",name:"Billing & Payments",color:"text-green-400",icon:qn},{id:"onboarding",name:"Onboarding",color:"text-emerald-400",icon:Nt},{id:"feature",name:"Feature Requests",color:"text-yellow-400",icon:Oo},{id:"emergency",name:"Emergency",color:"text-red-400",icon:va}],[w,v]=p.useState([{id:"TKT-001",organizationName:"TechFlow Solutions",organizationId:"ORG-001",clientEmail:"sarah@techflow.com",clientPhone:"+1 (555) 123-4567",title:"VAPI Integration Not Working - Urgent Campaign Launch",description:"Cannot connect to VAPI API, getting 401 errors consistently. This is blocking our campaign launch.",priority:"high",status:"in-progress",category:"technical",department:"technical",assignedTo:"Mike Torres",createdAt:"2024-01-20T10:30:00Z",updatedAt:"2024-01-20T14:15:00Z",starred:!0,messages:[{id:"msg-1",author:"Sarah Johnson",authorType:"client",message:"Hi, we're having trouble with our VAPI integration. Getting consistent 401 errors when trying to make calls. This is urgent as we have a campaign launching tomorrow.",timestamp:"2024-01-20T10:30:00Z"},{id:"msg-2",author:"Apex AI Bot",authorType:"ai-bot",message:`I've detected this might be an API key issue. Let me run some diagnostics on your account... 

I found that your VAPI API key appears to be expired. I'm escalating this to our technical team for immediate assistance.`,timestamp:"2024-01-20T10:31:00Z"},{id:"msg-3",author:"Mike Torres",authorType:"support",message:"Hi Sarah! I've taken over this ticket. I can see the API key issue. I'm generating a new VAPI key for your account right now. You should have this resolved within the next 30 minutes.",timestamp:"2024-01-20T14:15:00Z"}]},{id:"TKT-002",organizationName:"Digital Dynamics",organizationId:"ORG-002",clientEmail:"mike@digitaldynamics.com",title:"Billing Inquiry - Duplicate Charge",description:"We were charged twice for our monthly subscription this month",priority:"medium",status:"open",category:"billing",department:"billing",createdAt:"2024-01-20T09:15:00Z",updatedAt:"2024-01-20T09:15:00Z",messages:[{id:"msg-5",author:"Mike Chen",authorType:"client",message:"Hi, I notice we were charged $1299 twice this month on January 15th. Can you please look into this and process a refund for the duplicate charge?",timestamp:"2024-01-20T09:15:00Z"}]},{id:"TKT-003",organizationName:"Growth Partners",organizationId:"ORG-003",clientEmail:"emma@growthpartners.com",title:"New User Onboarding - Need Help Setting Up",description:"Just signed up for trial, need help with initial setup",priority:"medium",status:"open",category:"account",department:"onboarding",createdAt:"2024-01-20T08:00:00Z",updatedAt:"2024-01-20T08:00:00Z",messages:[{id:"msg-7",author:"Emma Rodriguez",authorType:"client",message:"Hi team, we just signed up for the trial. Could someone help us with the initial setup? We want to import our leads and set up our first campaign.",timestamp:"2024-01-20T08:00:00Z"}]}]),b={total:w.length,open:w.filter(T=>T.status==="open").length,inProgress:w.filter(T=>T.status==="in-progress").length,resolved:w.filter(T=>T.status==="resolved").length};p.useEffect(()=>{var T;(T=g.current)==null||T.scrollIntoView({behavior:"smooth"})},[e==null?void 0:e.messages]);const N=async()=>{if(!d.trim()||!e)return;const T={id:`msg-${Date.now()}`,author:"Sean Wentz",authorType:"support",message:d,timestamp:new Date().toISOString()};v(E=>E.map(R=>R.id===e.id?{...R,messages:[...R.messages,T],updatedAt:new Date().toISOString()}:R)),m("")},C=T=>{v(E=>E.map(R=>R.id===T?{...R,starred:!R.starred}:R))},S=T=>{switch(T){case"urgent":return"bg-red-500/20 text-red-400 border-red-500/30";case"high":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"medium":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"low":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},_=T=>{switch(T){case"open":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"in-progress":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"waiting":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"resolved":return"bg-green-500/20 text-green-400 border-green-500/30";case"closed":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},A=w.filter(T=>{const E=T.title.toLowerCase().includes(s.toLowerCase())||T.organizationName.toLowerCase().includes(s.toLowerCase())||T.description.toLowerCase().includes(s.toLowerCase()),R=n==="all"||T.status===n,$=o==="all"||T.department===o;return E&&R&&$});return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"mb-2 text-4xl font-bold text-white",children:"Support Command Center"}),t.jsx("p",{className:"text-gray-400",children:"Manage tickets across all departments"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(je,{className:"border-emerald-600/30 bg-gradient-to-r from-emerald-600/20 to-blue-600/20 px-4 py-2 text-emerald-400",children:[b.open," Open Tickets"]}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"New Ticket"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:y.map(T=>{const E=T.icon,R=w.filter($=>$.department===T.id);return t.jsx(G,{className:"cursor-pointer border-gray-700 bg-gray-800/50 backdrop-blur-sm transition-colors hover:bg-gray-800/70",children:t.jsxs(X,{className:"p-4",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(E,{className:`h-5 w-5 ${T.color}`}),t.jsx("span",{className:"text-2xl font-bold text-white",children:R.length})]}),t.jsx("p",{className:"text-sm text-gray-400",children:T.name}),R.filter($=>$.status==="open").length>0&&t.jsxs("p",{className:"mt-1 text-xs text-orange-400",children:[R.filter($=>$.status==="open").length," open"]})]})},T.id)})}),t.jsxs("div",{className:"grid h-[800px] grid-cols-1 gap-6 lg:grid-cols-3",children:[t.jsxs(G,{className:"h-full overflow-hidden border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(fe,{className:"border-b border-gray-700",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ge,{className:"text-white",children:"Inbox"}),t.jsx(q,{variant:"ghost",size:"sm",className:"text-gray-400",children:t.jsx(ea,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Se,{placeholder:"Search tickets...",value:s,onChange:T=>a(T.target.value),className:"border-gray-600 bg-gray-700 pl-10 text-white"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(at,{value:n,onValueChange:i,children:[t.jsx(et,{className:"border-gray-600 bg-gray-700 text-sm text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"open",children:"Open"}),t.jsx(se,{value:"in-progress",children:"In Progress"}),t.jsx(se,{value:"resolved",children:"Resolved"})]})]}),t.jsxs(at,{value:o,onValueChange:l,children:[t.jsx(et,{className:"border-gray-600 bg-gray-700 text-sm text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All Departments"}),y.map(T=>t.jsx(se,{value:T.id,children:T.name},T.id))]})]})]})]})}),t.jsx(P0,{className:"flex-1",children:t.jsx("div",{className:"divide-y divide-gray-700",children:A.map(T=>{const E=y.find(R=>R.id===T.department);return t.jsxs("div",{onClick:()=>r(T),className:`cursor-pointer p-4 transition-colors hover:bg-gray-700/50 ${(e==null?void 0:e.id)===T.id?"border-l-4 border-emerald-500 bg-gray-700/50":""}`,children:[t.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx("span",{className:"truncate font-medium text-white",children:T.organizationName}),t.jsxs(je,{className:"border-gray-500 bg-gray-600/50 text-xs text-gray-300",children:[t.jsx(rY,{className:"mr-1 h-3 w-3"}),T.id]})]}),t.jsx("p",{className:"truncate text-sm font-medium text-white",children:T.title}),t.jsx("p",{className:"mt-1 truncate text-xs text-gray-400",children:T.description})]}),t.jsx(q,{variant:"ghost",size:"sm",onClick:R=>{R.stopPropagation(),C(T.id)},className:"text-gray-400 hover:text-yellow-400",children:t.jsx(Oo,{className:`h-4 w-4 ${T.starred?"fill-yellow-400 text-yellow-400":""}`})})]}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(je,{className:S(T.priority),children:T.priority}),t.jsx(je,{className:_(T.status),children:T.status}),E&&t.jsxs(je,{className:"border-gray-500 bg-gray-600/50 text-gray-300",children:[t.jsx(E.icon,{className:`mr-1 h-3 w-3 ${E.color}`}),E.name]})]}),t.jsx("span",{className:"text-xs text-gray-500",children:new Date(T.updatedAt).toLocaleDateString()})]})]},T.id)})})})]}),t.jsx("div",{className:"lg:col-span-2",children:e?t.jsxs(G,{className:"flex h-full flex-col border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(fe,{className:"border-b border-gray-700",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:e.title}),t.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ox,{className:"h-4 w-4"}),e.organizationName]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(wa,{className:"h-4 w-4"}),e.clientEmail]}),e.clientPhone&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(pt,{className:"h-4 w-4"}),e.clientPhone]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(at,{value:e.status,onValueChange:T=>{v(E=>E.map(R=>R.id===e.id?{...R,status:T}:R))},children:[t.jsx(et,{className:"w-32 border-gray-600 bg-gray-700",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"open",children:"Open"}),t.jsx(se,{value:"in-progress",children:"In Progress"}),t.jsx(se,{value:"waiting",children:"Waiting"}),t.jsx(se,{value:"resolved",children:"Resolved"}),t.jsx(se,{value:"closed",children:"Closed"})]})]}),t.jsx(q,{variant:"ghost",size:"sm",children:t.jsx(sm,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(je,{className:S(e.priority),children:[e.priority," priority"]}),t.jsx(je,{className:"border-gray-500 bg-gray-600/50 text-gray-300",children:e.category}),e.assignedTo&&t.jsxs(je,{className:"border-emerald-500/30 bg-emerald-500/20 text-emerald-400",children:["Assigned to ",e.assignedTo]})]})]})}),t.jsx(P0,{className:"flex-1 p-6",children:t.jsxs("div",{className:"space-y-4",children:[e.messages.map(T=>t.jsx("div",{className:`flex ${T.authorType==="support"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${T.authorType==="support"?"border border-emerald-600/30 bg-gradient-to-r from-emerald-600/20 to-blue-600/20":T.authorType==="ai-bot"?"border border-blue-600/30 bg-blue-600/20":(T.authorType==="system","border border-gray-600 bg-gray-700/50")}`,children:[t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[T.authorType==="ai-bot"&&t.jsx(Wl,{className:"h-4 w-4 text-blue-400"}),T.authorType==="client"&&t.jsx(vs,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm font-medium text-white",children:T.author}),t.jsx("span",{className:"text-xs text-gray-400",children:new Date(T.timestamp).toLocaleTimeString()})]}),t.jsx("p",{className:"whitespace-pre-wrap text-sm text-gray-200",children:T.message})]})},T.id)),t.jsx("div",{ref:g})]})}),t.jsx("div",{className:"border-t border-gray-700 p-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(qa,{placeholder:"Type your response...",value:d,onChange:T=>m(T.target.value),className:"resize-none border-gray-600 bg-gray-700 text-white",rows:3,onKeyDown:T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),N())}}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx(q,{size:"sm",variant:"outline",className:"border-gray-600",children:t.jsx(uY,{className:"h-4 w-4"})}),t.jsx(q,{onClick:N,disabled:!d.trim(),className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:t.jsx(ql,{className:"h-4 w-4"})})]})]})})]}):t.jsx(G,{className:"flex h-full items-center justify-center border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Xi,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-xl font-semibold text-white",children:"Select a Ticket"}),t.jsx("p",{className:"text-gray-400",children:"Choose a support ticket from the inbox to view details"})]})})})]})]})})}function Eve(){const[e,r]=p.useState([]),[s,a]=p.useState(!0),[n,i]=p.useState(""),[o,l]=p.useState("all"),[d,m]=p.useState("all"),[h,f]=p.useState("createdAt"),[g,y]=p.useState("desc"),{getToken:w}=ja(),{toast:v}=ts(),b=async()=>{try{a(!0);const M=await w(),I=await fetch("http://localhost:3001/api/phone-numbers",{headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}});if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const W=await I.json();r(W.phoneNumbers||[])}catch(M){console.error("Error fetching phone numbers:",M),v({title:"Error",description:"Failed to fetch phone numbers. Please try again.",variant:"destructive"})}finally{a(!1)}},N=async(M,I="US")=>{try{const W=await w(),V=await fetch("http://localhost:3001/api/phone-numbers",{method:"POST",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"},body:JSON.stringify({areaCode:M,country:I})});if(!V.ok)throw new Error("Failed to purchase phone number");const U=await V.json();v({title:"Success",description:`Phone number ${U.phoneNumber.number} purchased successfully`}),b()}catch(W){console.error("Error purchasing phone number:",W),v({title:"Error",description:"Failed to purchase phone number. Please try again.",variant:"destructive"})}},C=async M=>{if(confirm("Are you sure you want to release this phone number? This action cannot be undone."))try{const I=await w();if(!(await fetch(`http://localhost:3001/api/phone-numbers/${M}`,{method:"DELETE",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to release phone number");v({title:"Success",description:"Phone number released successfully"}),b()}catch(I){console.error("Error releasing phone number:",I),v({title:"Error",description:"Failed to release phone number. Please try again.",variant:"destructive"})}},S=async(M,I)=>{try{const W=await w();if(!(await fetch(`http://localhost:3001/api/phone-numbers/${M}/assign`,{method:"POST",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"},body:JSON.stringify({campaignId:I})})).ok)throw new Error("Failed to assign phone number");v({title:"Success",description:"Phone number assigned successfully"}),b()}catch(W){console.error("Error assigning phone number:",W),v({title:"Error",description:"Failed to assign phone number. Please try again.",variant:"destructive"})}},_=()=>({totalNumbers:e.length,activeNumbers:e.filter(M=>M.status==="connected").length,totalCallsMade:e.reduce((M,I)=>M+I.callsMade,0),totalLeadsGenerated:e.reduce((M,I)=>M+I.leadsGenerated,0),avgConversionRate:e.length>0?e.reduce((M,I)=>M+I.conversionRate,0)/e.length:0,totalMonthlyCost:e.reduce((M,I)=>M+I.monthlyLimit*I.costPerCall,0)}),A=e.filter(M=>{var U;const I=M.number.includes(n)||((U=M.assignedCampaign)==null?void 0:U.toLowerCase().includes(n.toLowerCase())),W=o==="all"||M.status===o,V=d==="all"||M.country===d;return I&&W&&V}).sort((M,I)=>{const W=M[h],V=I[h];return typeof W=="string"&&typeof V=="string"?g==="asc"?W.localeCompare(V):V.localeCompare(W):typeof W=="number"&&typeof V=="number"?g==="asc"?W-V:V-W:0}),T=_();p.useEffect(()=>{b()},[]);const E=M=>{switch(M){case"connected":return"bg-emerald-600/20 text-emerald-400 border-emerald-600/30";case"disconnected":return"bg-red-600/20 text-red-400 border-red-600/30";case"pending":return"bg-yellow-600/20 text-yellow-400 border-yellow-600/30";default:return"bg-gray-600/20 text-gray-400 border-gray-600/30"}},R=M=>{switch(M){case"connected":return t.jsx(yt,{className:"h-3 w-3"});case"disconnected":return t.jsx(Kt,{className:"h-3 w-3"});case"pending":return t.jsx(xs,{className:"h-3 w-3"});default:return null}},$=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(M),K=M=>new Date(M).toLocaleDateString();return s?t.jsx("div",{className:"flex h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsx("div",{className:"text-lg text-white",children:"Loading phone numbers..."})}):t.jsx("div",{className:"h-screen overflow-hidden bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"flex h-full flex-col",children:[t.jsxs("div",{className:"flex-shrink-0 p-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Manage your VAPI phone numbers and calling capacity"})}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",onClick:()=>{const M=prompt("Enter area code (e.g., 555):");M&&N(M)},children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Buy Number"]})]}),t.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-6",children:[t.jsxs(G,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Total Numbers"}),t.jsx(pt,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:T.totalNumbers}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"All numbers"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Active"}),t.jsx(Kr,{className:"h-4 w-4 text-emerald-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:T.activeNumbers}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"Connected"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Calls Made"}),t.jsx(xs,{className:"h-4 w-4 text-blue-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:T.totalCallsMade.toLocaleString()}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Total volume"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Leads Generated"}),t.jsx(Nt,{className:"h-4 w-4 text-emerald-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:T.totalLeadsGenerated}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Successful contacts"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Avg Conversion"}),t.jsx(ba,{className:"h-4 w-4 text-orange-400"})]}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:[T.avgConversionRate.toFixed(1),"%"]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Success rate"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Monthly Cost"}),t.jsx(qn,{className:"h-4 w-4 text-yellow-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:$(T.totalMonthlyCost)}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Estimated"})]})]})]}),t.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Se,{placeholder:"Search numbers or campaigns...",value:n,onChange:M=>i(M.target.value),className:"border-gray-700 bg-gray-800/50 pl-10 text-white placeholder-gray-400"})]}),t.jsxs(at,{value:o,onValueChange:l,children:[t.jsx(et,{className:"w-full border-gray-700 bg-gray-800/50 text-white sm:w-[180px]",children:t.jsx(nt,{placeholder:"All statuses"})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All statuses"}),t.jsx(se,{value:"connected",children:"Connected"}),t.jsx(se,{value:"disconnected",children:"Disconnected"}),t.jsx(se,{value:"pending",children:"Pending"})]})]}),t.jsxs(at,{value:d,onValueChange:m,children:[t.jsx(et,{className:"w-full border-gray-700 bg-gray-800/50 text-white sm:w-[180px]",children:t.jsx(nt,{placeholder:"All countries"})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All countries"}),t.jsx(se,{value:"US",children:"United States"}),t.jsx(se,{value:"CA",children:"Canada"}),t.jsx(se,{value:"UK",children:"United Kingdom"}),t.jsx(se,{value:"AU",children:"Australia"})]})]}),t.jsxs(q,{variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-700",children:[t.jsx(VG,{className:"mr-2 h-4 w-4"}),"Sort"]})]})]}),t.jsx("div",{className:"flex-1 overflow-auto px-6 pb-6",children:A.length===0?t.jsx(G,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:t.jsxs(X,{className:"p-8 text-center",children:[t.jsxs("div",{className:"mb-4 text-gray-400",children:[t.jsx(pt,{className:"mx-auto mb-4 h-12 w-12"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"No phone numbers found"}),t.jsx("p",{children:"Purchase your first phone number to start making calls."})]}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",onClick:()=>{const M=prompt("Enter area code (e.g., 555):");M&&N(M)},children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Buy Phone Number"]})]})}):t.jsx("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 xl:grid-cols-3",children:A.map(M=>t.jsxs(G,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm transition-colors hover:bg-gray-800/70",children:[t.jsxs(fe,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(pt,{className:"h-4 w-4 text-blue-400"}),t.jsx(ge,{className:"text-lg text-white",children:M.number})]}),t.jsxs(je,{className:`${E(M.status)} border`,children:[R(M.status),t.jsx("span",{className:"ml-1 capitalize",children:M.status})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx("span",{children:M.country}),t.jsx("span",{children:""}),t.jsx("span",{children:M.provider}),M.assignedCampaign&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{className:"text-emerald-400",children:M.assignedCampaign})]})]})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-1 flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Usage"}),t.jsxs("span",{className:"text-white",children:[M.callsMade," / ",M.maxCalls]})]}),t.jsx("div",{className:"h-2 w-full rounded-full bg-gray-700",children:t.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-emerald-600 to-blue-600 transition-all duration-300",style:{width:`${Math.min(M.callsMade/M.maxCalls*100,100)}%`}})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Leads Generated"}),t.jsx("div",{className:"font-semibold text-white",children:M.leadsGenerated})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Conversion Rate"}),t.jsxs("div",{className:"font-semibold text-emerald-400",children:[M.conversionRate.toFixed(1),"%"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Cost per Call"}),t.jsx("div",{className:"font-semibold text-white",children:$(M.costPerCall)})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Monthly Limit"}),t.jsx("div",{className:"font-semibold text-white",children:M.monthlyLimit})]})]}),t.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 pt-2",children:[t.jsxs("div",{className:"text-xs text-gray-500",children:["Added ",K(M.createdAt)]}),t.jsxs(ki,{children:[t.jsx(_i,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(Mx,{className:"h-4 w-4"})})}),t.jsxs(Kn,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(Qt,{className:"text-gray-300 hover:bg-gray-700",onClick:()=>{const I=prompt("Enter campaign ID to assign:");I&&S(M.id,I)},children:[t.jsx(Nt,{className:"mr-2 h-4 w-4"}),"Assign to Campaign"]}),t.jsxs(Qt,{className:"text-gray-300 hover:bg-gray-700",onClick:()=>{},children:[t.jsx(ba,{className:"mr-2 h-4 w-4"}),"View Analytics"]}),t.jsxs(Qt,{className:"text-red-400 hover:bg-red-600/20",onClick:()=>C(M.id),children:[t.jsx(Bs,{className:"mr-2 h-4 w-4"}),"Release Number"]})]})]})]})]})]},M.id))})})]})})}function _7(e,r){return function(){return e.apply(r,arguments)}}const{toString:Tve}=Object.prototype,{getPrototypeOf:i4}=Object,{iterator:By,toStringTag:P7}=Symbol,Wy=(e=>r=>{const s=Tve.call(r);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ti=e=>(e=e.toLowerCase(),r=>Wy(r)===e),Vy=e=>r=>typeof r===e,{isArray:vm}=Array,mf=Vy("undefined");function ip(e){return e!==null&&!mf(e)&&e.constructor!==null&&!mf(e.constructor)&&Ya(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const A7=Ti("ArrayBuffer");function Ove(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&A7(e.buffer),r}const Mve=Vy("string"),Ya=Vy("function"),E7=Vy("number"),op=e=>e!==null&&typeof e=="object",Rve=e=>e===!0||e===!1,a0=e=>{if(Wy(e)!=="object")return!1;const r=i4(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(P7 in e)&&!(By in e)},Ive=e=>{if(!op(e)||ip(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Dve=Ti("Date"),Lve=Ti("File"),$ve=Ti("Blob"),zve=Ti("FileList"),Fve=e=>op(e)&&Ya(e.pipe),Uve=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Ya(e.append)&&((r=Wy(e))==="formdata"||r==="object"&&Ya(e.toString)&&e.toString()==="[object FormData]"))},Bve=Ti("URLSearchParams"),[Wve,Vve,qve,Hve]=["ReadableStream","Request","Response","Headers"].map(Ti),Kve=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lp(e,r,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),vm(e))for(a=0,n=e.length;a<n;a++)r.call(null,e[a],a,e);else{if(ip(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],r.call(null,e[l],l,e)}}function T7(e,r){if(ip(e))return null;r=r.toLowerCase();const s=Object.keys(e);let a=s.length,n;for(;a-- >0;)if(n=s[a],r===n.toLowerCase())return n;return null}const Kc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,O7=e=>!mf(e)&&e!==Kc;function Q1(){const{caseless:e}=O7(this)&&this||{},r={},s=(a,n)=>{const i=e&&T7(r,n)||n;a0(r[i])&&a0(a)?r[i]=Q1(r[i],a):a0(a)?r[i]=Q1({},a):vm(a)?r[i]=a.slice():r[i]=a};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&lp(arguments[a],s);return r}const Gve=(e,r,s,{allOwnKeys:a}={})=>(lp(r,(n,i)=>{s&&Ya(n)?e[i]=_7(n,s):e[i]=n},{allOwnKeys:a}),e),Yve=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Jve=(e,r,s,a)=>{e.prototype=Object.create(r.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),s&&Object.assign(e.prototype,s)},Xve=(e,r,s,a)=>{let n,i,o;const l={};if(r=r||{},e==null)return r;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!a||a(o,e,r))&&!l[o]&&(r[o]=e[o],l[o]=!0);e=s!==!1&&i4(e)}while(e&&(!s||s(e,r))&&e!==Object.prototype);return r},Qve=(e,r,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=r.length;const a=e.indexOf(r,s);return a!==-1&&a===s},Zve=e=>{if(!e)return null;if(vm(e))return e;let r=e.length;if(!E7(r))return null;const s=new Array(r);for(;r-- >0;)s[r]=e[r];return s},ebe=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&i4(Uint8Array)),tbe=(e,r)=>{const a=(e&&e[By]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;r.call(e,i[0],i[1])}},rbe=(e,r)=>{let s;const a=[];for(;(s=e.exec(r))!==null;)a.push(s);return a},sbe=Ti("HTMLFormElement"),abe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),Y3=(({hasOwnProperty:e})=>(r,s)=>e.call(r,s))(Object.prototype),nbe=Ti("RegExp"),M7=(e,r)=>{const s=Object.getOwnPropertyDescriptors(e),a={};lp(s,(n,i)=>{let o;(o=r(n,i,e))!==!1&&(a[i]=o||n)}),Object.defineProperties(e,a)},ibe=e=>{M7(e,(r,s)=>{if(Ya(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(Ya(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},obe=(e,r)=>{const s={},a=n=>{n.forEach(i=>{s[i]=!0})};return vm(e)?a(e):a(String(e).split(r)),s},lbe=()=>{},cbe=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function dbe(e){return!!(e&&Ya(e.append)&&e[P7]==="FormData"&&e[By])}const ube=e=>{const r=new Array(10),s=(a,n)=>{if(op(a)){if(r.indexOf(a)>=0)return;if(ip(a))return a;if(!("toJSON"in a)){r[n]=a;const i=vm(a)?[]:{};return lp(a,(o,l)=>{const d=s(o,n+1);!mf(d)&&(i[l]=d)}),r[n]=void 0,i}}return a};return s(e,0)},mbe=Ti("AsyncFunction"),hbe=e=>e&&(op(e)||Ya(e))&&Ya(e.then)&&Ya(e.catch),R7=((e,r)=>e?setImmediate:r?((s,a)=>(Kc.addEventListener("message",({source:n,data:i})=>{n===Kc&&i===s&&a.length&&a.shift()()},!1),n=>{a.push(n),Kc.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ya(Kc.postMessage)),fbe=typeof queueMicrotask<"u"?queueMicrotask.bind(Kc):typeof process<"u"&&process.nextTick||R7,pbe=e=>e!=null&&Ya(e[By]),xe={isArray:vm,isArrayBuffer:A7,isBuffer:ip,isFormData:Uve,isArrayBufferView:Ove,isString:Mve,isNumber:E7,isBoolean:Rve,isObject:op,isPlainObject:a0,isEmptyObject:Ive,isReadableStream:Wve,isRequest:Vve,isResponse:qve,isHeaders:Hve,isUndefined:mf,isDate:Dve,isFile:Lve,isBlob:$ve,isRegExp:nbe,isFunction:Ya,isStream:Fve,isURLSearchParams:Bve,isTypedArray:ebe,isFileList:zve,forEach:lp,merge:Q1,extend:Gve,trim:Kve,stripBOM:Yve,inherits:Jve,toFlatObject:Xve,kindOf:Wy,kindOfTest:Ti,endsWith:Qve,toArray:Zve,forEachEntry:tbe,matchAll:rbe,isHTMLForm:sbe,hasOwnProperty:Y3,hasOwnProp:Y3,reduceDescriptors:M7,freezeMethods:ibe,toObjectSet:obe,toCamelCase:abe,noop:lbe,toFiniteNumber:cbe,findKey:T7,global:Kc,isContextDefined:O7,isSpecCompliantForm:dbe,toJSONObject:ube,isAsyncFn:mbe,isThenable:hbe,setImmediate:R7,asap:fbe,isIterable:pbe};function Tt(e,r,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}xe.inherits(Tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.status}}});const I7=Tt.prototype,D7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{D7[e]={value:e}});Object.defineProperties(Tt,D7);Object.defineProperty(I7,"isAxiosError",{value:!0});Tt.from=(e,r,s,a,n,i)=>{const o=Object.create(I7);return xe.toFlatObject(e,o,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),Tt.call(o,e.message,r,s,a,n),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const gbe=null;function Z1(e){return xe.isPlainObject(e)||xe.isArray(e)}function L7(e){return xe.endsWith(e,"[]")?e.slice(0,-2):e}function J3(e,r,s){return e?e.concat(r).map(function(n,i){return n=L7(n),!s&&i?"["+n+"]":n}).join(s?".":""):r}function xbe(e){return xe.isArray(e)&&!e.some(Z1)}const ybe=xe.toFlatObject(xe,{},null,function(r){return/^is[A-Z]/.test(r)});function qy(e,r,s){if(!xe.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,s=xe.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!xe.isUndefined(b[v])});const a=s.metaTokens,n=s.visitor||h,i=s.dots,o=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(r);if(!xe.isFunction(n))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(xe.isDate(w))return w.toISOString();if(xe.isBoolean(w))return w.toString();if(!d&&xe.isBlob(w))throw new Tt("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(w)||xe.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,v,b){let N=w;if(w&&!b&&typeof w=="object"){if(xe.endsWith(v,"{}"))v=a?v:v.slice(0,-2),w=JSON.stringify(w);else if(xe.isArray(w)&&xbe(w)||(xe.isFileList(w)||xe.endsWith(v,"[]"))&&(N=xe.toArray(w)))return v=L7(v),N.forEach(function(S,_){!(xe.isUndefined(S)||S===null)&&r.append(o===!0?J3([v],_,i):o===null?v:v+"[]",m(S))}),!1}return Z1(w)?!0:(r.append(J3(b,v,i),m(w)),!1)}const f=[],g=Object.assign(ybe,{defaultVisitor:h,convertValue:m,isVisitable:Z1});function y(w,v){if(!xe.isUndefined(w)){if(f.indexOf(w)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(w),xe.forEach(w,function(N,C){(!(xe.isUndefined(N)||N===null)&&n.call(r,N,xe.isString(C)?C.trim():C,v,g))===!0&&y(N,v?v.concat(C):[C])}),f.pop()}}if(!xe.isObject(e))throw new TypeError("data must be an object");return y(e),r}function X3(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function o4(e,r){this._pairs=[],e&&qy(e,this,r)}const $7=o4.prototype;$7.append=function(r,s){this._pairs.push([r,s])};$7.toString=function(r){const s=r?function(a){return r.call(this,a,X3)}:X3;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function vbe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function z7(e,r,s){if(!r)return e;const a=s&&s.encode||vbe;xe.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(r,s):i=xe.isURLSearchParams(r)?r.toString():new o4(r,s).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Q3{constructor(){this.handlers=[]}use(r,s,a){return this.handlers.push({fulfilled:r,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){xe.forEach(this.handlers,function(a){a!==null&&r(a)})}}const F7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bbe=typeof URLSearchParams<"u"?URLSearchParams:o4,wbe=typeof FormData<"u"?FormData:null,jbe=typeof Blob<"u"?Blob:null,Nbe={isBrowser:!0,classes:{URLSearchParams:bbe,FormData:wbe,Blob:jbe},protocols:["http","https","file","blob","url","data"]},l4=typeof window<"u"&&typeof document<"u",eS=typeof navigator=="object"&&navigator||void 0,Sbe=l4&&(!eS||["ReactNative","NativeScript","NS"].indexOf(eS.product)<0),Cbe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kbe=l4&&window.location.href||"http://localhost",_be=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:l4,hasStandardBrowserEnv:Sbe,hasStandardBrowserWebWorkerEnv:Cbe,navigator:eS,origin:kbe},Symbol.toStringTag,{value:"Module"})),ya={..._be,...Nbe};function Pbe(e,r){return qy(e,new ya.classes.URLSearchParams,{visitor:function(s,a,n,i){return ya.isNode&&xe.isBuffer(s)?(this.append(a,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function Abe(e){return xe.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Ebe(e){const r={},s=Object.keys(e);let a;const n=s.length;let i;for(a=0;a<n;a++)i=s[a],r[i]=e[i];return r}function U7(e){function r(s,a,n,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=s.length;return o=!o&&xe.isArray(n)?n.length:o,d?(xe.hasOwnProp(n,o)?n[o]=[n[o],a]:n[o]=a,!l):((!n[o]||!xe.isObject(n[o]))&&(n[o]=[]),r(s,a,n[o],i)&&xe.isArray(n[o])&&(n[o]=Ebe(n[o])),!l)}if(xe.isFormData(e)&&xe.isFunction(e.entries)){const s={};return xe.forEachEntry(e,(a,n)=>{r(Abe(a),n,s,0)}),s}return null}function Tbe(e,r,s){if(xe.isString(e))try{return(r||JSON.parse)(e),xe.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const cp={transitional:F7,adapter:["xhr","http","fetch"],transformRequest:[function(r,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,i=xe.isObject(r);if(i&&xe.isHTMLForm(r)&&(r=new FormData(r)),xe.isFormData(r))return n?JSON.stringify(U7(r)):r;if(xe.isArrayBuffer(r)||xe.isBuffer(r)||xe.isStream(r)||xe.isFile(r)||xe.isBlob(r)||xe.isReadableStream(r))return r;if(xe.isArrayBufferView(r))return r.buffer;if(xe.isURLSearchParams(r))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Pbe(r,this.formSerializer).toString();if((l=xe.isFileList(r))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return qy(l?{"files[]":r}:r,d&&new d,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),Tbe(r)):r}],transformResponse:[function(r){const s=this.transitional||cp.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(xe.isResponse(r)||xe.isReadableStream(r))return r;if(r&&xe.isString(r)&&(a&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(r)}catch(l){if(o)throw l.name==="SyntaxError"?Tt.from(l,Tt.ERR_BAD_RESPONSE,this,null,this.response):l}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ya.classes.FormData,Blob:ya.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],e=>{cp.headers[e]={}});const Obe=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mbe=e=>{const r={};let s,a,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),a=o.substring(n+1).trim(),!(!s||r[s]&&Obe[s])&&(s==="set-cookie"?r[s]?r[s].push(a):r[s]=[a]:r[s]=r[s]?r[s]+", "+a:a)}),r},Z3=Symbol("internals");function wh(e){return e&&String(e).trim().toLowerCase()}function n0(e){return e===!1||e==null?e:xe.isArray(e)?e.map(n0):String(e)}function Rbe(e){const r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)r[a[1]]=a[2];return r}const Ibe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function sN(e,r,s,a,n){if(xe.isFunction(a))return a.call(this,r,s);if(n&&(r=s),!!xe.isString(r)){if(xe.isString(a))return r.indexOf(a)!==-1;if(xe.isRegExp(a))return a.test(r)}}function Dbe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,s,a)=>s.toUpperCase()+a)}function Lbe(e,r){const s=xe.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(n,i,o){return this[a].call(this,r,n,i,o)},configurable:!0})})}let Ja=class{constructor(r){r&&this.set(r)}set(r,s,a){const n=this;function i(l,d,m){const h=wh(d);if(!h)throw new Error("header name must be a non-empty string");const f=xe.findKey(n,h);(!f||n[f]===void 0||m===!0||m===void 0&&n[f]!==!1)&&(n[f||d]=n0(l))}const o=(l,d)=>xe.forEach(l,(m,h)=>i(m,h,d));if(xe.isPlainObject(r)||r instanceof this.constructor)o(r,s);else if(xe.isString(r)&&(r=r.trim())&&!Ibe(r))o(Mbe(r),s);else if(xe.isObject(r)&&xe.isIterable(r)){let l={},d,m;for(const h of r){if(!xe.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[m=h[0]]=(d=l[m])?xe.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}o(l,s)}else r!=null&&i(s,r,a);return this}get(r,s){if(r=wh(r),r){const a=xe.findKey(this,r);if(a){const n=this[a];if(!s)return n;if(s===!0)return Rbe(n);if(xe.isFunction(s))return s.call(this,n,a);if(xe.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,s){if(r=wh(r),r){const a=xe.findKey(this,r);return!!(a&&this[a]!==void 0&&(!s||sN(this,this[a],a,s)))}return!1}delete(r,s){const a=this;let n=!1;function i(o){if(o=wh(o),o){const l=xe.findKey(a,o);l&&(!s||sN(a,a[l],l,s))&&(delete a[l],n=!0)}}return xe.isArray(r)?r.forEach(i):i(r),n}clear(r){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const i=s[a];(!r||sN(this,this[i],i,r,!0))&&(delete this[i],n=!0)}return n}normalize(r){const s=this,a={};return xe.forEach(this,(n,i)=>{const o=xe.findKey(a,i);if(o){s[o]=n0(n),delete s[i];return}const l=r?Dbe(i):String(i).trim();l!==i&&delete s[i],s[l]=n0(n),a[l]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const s=Object.create(null);return xe.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=r&&xe.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,s])=>r+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...s){const a=new this(r);return s.forEach(n=>a.set(n)),a}static accessor(r){const a=(this[Z3]=this[Z3]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=wh(o);a[l]||(Lbe(n,o),a[l]=!0)}return xe.isArray(r)?r.forEach(i):i(r),this}};Ja.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(Ja.prototype,({value:e},r)=>{let s=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(a){this[s]=a}}});xe.freezeMethods(Ja);function aN(e,r){const s=this||cp,a=r||s,n=Ja.from(a.headers);let i=a.data;return xe.forEach(e,function(l){i=l.call(s,i,n.normalize(),r?r.status:void 0)}),n.normalize(),i}function B7(e){return!!(e&&e.__CANCEL__)}function bm(e,r,s){Tt.call(this,e??"canceled",Tt.ERR_CANCELED,r,s),this.name="CanceledError"}xe.inherits(bm,Tt,{__CANCEL__:!0});function W7(e,r,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):r(new Tt("Request failed with status code "+s.status,[Tt.ERR_BAD_REQUEST,Tt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function $be(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function zbe(e,r){e=e||10;const s=new Array(e),a=new Array(e);let n=0,i=0,o;return r=r!==void 0?r:1e3,function(d){const m=Date.now(),h=a[i];o||(o=m),s[n]=d,a[n]=m;let f=i,g=0;for(;f!==n;)g+=s[f++],f=f%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),m-o<r)return;const y=h&&m-h;return y?Math.round(g*1e3/y):void 0}}function Fbe(e,r){let s=0,a=1e3/r,n,i;const o=(m,h=Date.now())=>{s=h,n=null,i&&(clearTimeout(i),i=null),e(...m)};return[(...m)=>{const h=Date.now(),f=h-s;f>=a?o(m,h):(n=m,i||(i=setTimeout(()=>{i=null,o(n)},a-f)))},()=>n&&o(n)]}const gx=(e,r,s=3)=>{let a=0;const n=zbe(50,250);return Fbe(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-a,m=n(d),h=o<=l;a=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:m||void 0,estimated:m&&l&&h?(l-o)/m:void 0,event:i,lengthComputable:l!=null,[r?"download":"upload"]:!0};e(f)},s)},eO=(e,r)=>{const s=e!=null;return[a=>r[0]({lengthComputable:s,total:e,loaded:a}),r[1]]},tO=e=>(...r)=>xe.asap(()=>e(...r)),Ube=ya.hasStandardBrowserEnv?((e,r)=>s=>(s=new URL(s,ya.origin),e.protocol===s.protocol&&e.host===s.host&&(r||e.port===s.port)))(new URL(ya.origin),ya.navigator&&/(msie|trident)/i.test(ya.navigator.userAgent)):()=>!0,Bbe=ya.hasStandardBrowserEnv?{write(e,r,s,a,n,i){const o=[e+"="+encodeURIComponent(r)];xe.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),xe.isString(a)&&o.push("path="+a),xe.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Wbe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Vbe(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function V7(e,r,s){let a=!Wbe(r);return e&&(a||s==!1)?Vbe(e,r):r}const rO=e=>e instanceof Ja?{...e}:e;function xd(e,r){r=r||{};const s={};function a(m,h,f,g){return xe.isPlainObject(m)&&xe.isPlainObject(h)?xe.merge.call({caseless:g},m,h):xe.isPlainObject(h)?xe.merge({},h):xe.isArray(h)?h.slice():h}function n(m,h,f,g){if(xe.isUndefined(h)){if(!xe.isUndefined(m))return a(void 0,m,f,g)}else return a(m,h,f,g)}function i(m,h){if(!xe.isUndefined(h))return a(void 0,h)}function o(m,h){if(xe.isUndefined(h)){if(!xe.isUndefined(m))return a(void 0,m)}else return a(void 0,h)}function l(m,h,f){if(f in r)return a(m,h);if(f in e)return a(void 0,m)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(m,h,f)=>n(rO(m),rO(h),f,!0)};return xe.forEach(Object.keys({...e,...r}),function(h){const f=d[h]||n,g=f(e[h],r[h],h);xe.isUndefined(g)&&f!==l||(s[h]=g)}),s}const q7=e=>{const r=xd({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=r;r.headers=o=Ja.from(o),r.url=z7(V7(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(xe.isFormData(s)){if(ya.hasStandardBrowserEnv||ya.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[m,...h]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([m||"multipart/form-data",...h].join("; "))}}if(ya.hasStandardBrowserEnv&&(a&&xe.isFunction(a)&&(a=a(r)),a||a!==!1&&Ube(r.url))){const m=n&&i&&Bbe.read(i);m&&o.set(n,m)}return r},qbe=typeof XMLHttpRequest<"u",Hbe=qbe&&function(e){return new Promise(function(s,a){const n=q7(e);let i=n.data;const o=Ja.from(n.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:m}=n,h,f,g,y,w;function v(){y&&y(),w&&w(),n.cancelToken&&n.cancelToken.unsubscribe(h),n.signal&&n.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function N(){if(!b)return;const S=Ja.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:S,config:e,request:b};W7(function(E){s(E),v()},function(E){a(E),v()},A),b=null}"onloadend"in b?b.onloadend=N:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(N)},b.onabort=function(){b&&(a(new Tt("Request aborted",Tt.ECONNABORTED,e,b)),b=null)},b.onerror=function(){a(new Tt("Network Error",Tt.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let _=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const A=n.transitional||F7;n.timeoutErrorMessage&&(_=n.timeoutErrorMessage),a(new Tt(_,A.clarifyTimeoutError?Tt.ETIMEDOUT:Tt.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&xe.forEach(o.toJSON(),function(_,A){b.setRequestHeader(A,_)}),xe.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),l&&l!=="json"&&(b.responseType=n.responseType),m&&([g,w]=gx(m,!0),b.addEventListener("progress",g)),d&&b.upload&&([f,y]=gx(d),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",y)),(n.cancelToken||n.signal)&&(h=S=>{b&&(a(!S||S.type?new bm(null,e,b):S),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(h),n.signal&&(n.signal.aborted?h():n.signal.addEventListener("abort",h)));const C=$be(n.url);if(C&&ya.protocols.indexOf(C)===-1){a(new Tt("Unsupported protocol "+C+":",Tt.ERR_BAD_REQUEST,e));return}b.send(i||null)})},Kbe=(e,r)=>{const{length:s}=e=e?e.filter(Boolean):[];if(r||s){let a=new AbortController,n;const i=function(m){if(!n){n=!0,l();const h=m instanceof Error?m:this.reason;a.abort(h instanceof Tt?h:new bm(h instanceof Error?h.message:h))}};let o=r&&setTimeout(()=>{o=null,i(new Tt(`timeout ${r} of ms exceeded`,Tt.ETIMEDOUT))},r);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(i):m.removeEventListener("abort",i)}),e=null)};e.forEach(m=>m.addEventListener("abort",i));const{signal:d}=a;return d.unsubscribe=()=>xe.asap(l),d}},Gbe=function*(e,r){let s=e.byteLength;if(s<r){yield e;return}let a=0,n;for(;a<s;)n=a+r,yield e.slice(a,n),a=n},Ybe=async function*(e,r){for await(const s of Jbe(e))yield*Gbe(s,r)},Jbe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:s,value:a}=await r.read();if(s)break;yield a}}finally{await r.cancel()}},sO=(e,r,s,a)=>{const n=Ybe(e,r);let i=0,o,l=d=>{o||(o=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:m,value:h}=await n.next();if(m){l(),d.close();return}let f=h.byteLength;if(s){let g=i+=f;s(g)}d.enqueue(new Uint8Array(h))}catch(m){throw l(m),m}},cancel(d){return l(d),n.return()}},{highWaterMark:2})},Hy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",H7=Hy&&typeof ReadableStream=="function",Xbe=Hy&&(typeof TextEncoder=="function"?(e=>r=>e.encode(r))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),K7=(e,...r)=>{try{return!!e(...r)}catch{return!1}},Qbe=H7&&K7(()=>{let e=!1;const r=new Request(ya.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!r}),aO=64*1024,tS=H7&&K7(()=>xe.isReadableStream(new Response("").body)),xx={stream:tS&&(e=>e.body)};Hy&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!xx[r]&&(xx[r]=xe.isFunction(e[r])?s=>s[r]():(s,a)=>{throw new Tt(`Response type '${r}' is not supported`,Tt.ERR_NOT_SUPPORT,a)})})})(new Response);const Zbe=async e=>{if(e==null)return 0;if(xe.isBlob(e))return e.size;if(xe.isSpecCompliantForm(e))return(await new Request(ya.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(xe.isArrayBufferView(e)||xe.isArrayBuffer(e))return e.byteLength;if(xe.isURLSearchParams(e)&&(e=e+""),xe.isString(e))return(await Xbe(e)).byteLength},ewe=async(e,r)=>{const s=xe.toFiniteNumber(e.getContentLength());return s??Zbe(r)},twe=Hy&&(async e=>{let{url:r,method:s,data:a,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:d,responseType:m,headers:h,withCredentials:f="same-origin",fetchOptions:g}=q7(e);m=m?(m+"").toLowerCase():"text";let y=Kbe([n,i&&i.toAbortSignal()],o),w;const v=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let b;try{if(d&&Qbe&&s!=="get"&&s!=="head"&&(b=await ewe(h,a))!==0){let A=new Request(r,{method:"POST",body:a,duplex:"half"}),T;if(xe.isFormData(a)&&(T=A.headers.get("content-type"))&&h.setContentType(T),A.body){const[E,R]=eO(b,gx(tO(d)));a=sO(A.body,aO,E,R)}}xe.isString(f)||(f=f?"include":"omit");const N="credentials"in Request.prototype;w=new Request(r,{...g,signal:y,method:s.toUpperCase(),headers:h.normalize().toJSON(),body:a,duplex:"half",credentials:N?f:void 0});let C=await fetch(w,g);const S=tS&&(m==="stream"||m==="response");if(tS&&(l||S&&v)){const A={};["status","statusText","headers"].forEach($=>{A[$]=C[$]});const T=xe.toFiniteNumber(C.headers.get("content-length")),[E,R]=l&&eO(T,gx(tO(l),!0))||[];C=new Response(sO(C.body,aO,E,()=>{R&&R(),v&&v()}),A)}m=m||"text";let _=await xx[xe.findKey(xx,m)||"text"](C,e);return!S&&v&&v(),await new Promise((A,T)=>{W7(A,T,{data:_,headers:Ja.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:w})})}catch(N){throw v&&v(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Tt("Network Error",Tt.ERR_NETWORK,e,w),{cause:N.cause||N}):Tt.from(N,N&&N.code,e,w)}}),rS={http:gbe,xhr:Hbe,fetch:twe};xe.forEach(rS,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const nO=e=>`- ${e}`,rwe=e=>xe.isFunction(e)||e===null||e===!1,G7={getAdapter:e=>{e=xe.isArray(e)?e:[e];const{length:r}=e;let s,a;const n={};for(let i=0;i<r;i++){s=e[i];let o;if(a=s,!rwe(s)&&(a=rS[(o=String(s)).toLowerCase()],a===void 0))throw new Tt(`Unknown adapter '${o}'`);if(a)break;n[o||"#"+i]=a}if(!a){const i=Object.entries(n).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(nO).join(`
`):" "+nO(i[0]):"as no adapter specified";throw new Tt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:rS};function nN(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bm(null,e)}function iO(e){return nN(e),e.headers=Ja.from(e.headers),e.data=aN.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),G7.getAdapter(e.adapter||cp.adapter)(e).then(function(a){return nN(e),a.data=aN.call(e,e.transformResponse,a),a.headers=Ja.from(a.headers),a},function(a){return B7(a)||(nN(e),a&&a.response&&(a.response.data=aN.call(e,e.transformResponse,a.response),a.response.headers=Ja.from(a.response.headers))),Promise.reject(a)})}const Y7="1.11.0",Ky={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{Ky[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});const oO={};Ky.transitional=function(r,s,a){function n(i,o){return"[Axios v"+Y7+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(r===!1)throw new Tt(n(o," has been removed"+(s?" in "+s:"")),Tt.ERR_DEPRECATED);return s&&!oO[o]&&(oO[o]=!0,console.warn(n(o," has been deprecated since v"+s+" and will be removed in the near future"))),r?r(i,o,l):!0}};Ky.spelling=function(r){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function swe(e,r,s){if(typeof e!="object")throw new Tt("options must be an object",Tt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],o=r[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new Tt("option "+i+" must be "+d,Tt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Tt("Unknown option "+i,Tt.ERR_BAD_OPTION)}}const i0={assertOptions:swe,validators:Ky},zi=i0.validators;let Zc=class{constructor(r){this.defaults=r||{},this.interceptors={request:new Q3,response:new Q3}}async request(r,s){try{return await this._request(r,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,s){typeof r=="string"?(s=s||{},s.url=r):s=r||{},s=xd(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:i}=s;a!==void 0&&i0.assertOptions(a,{silentJSONParsing:zi.transitional(zi.boolean),forcedJSONParsing:zi.transitional(zi.boolean),clarifyTimeoutError:zi.transitional(zi.boolean)},!1),n!=null&&(xe.isFunction(n)?s.paramsSerializer={serialize:n}:i0.assertOptions(n,{encode:zi.function,serialize:zi.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),i0.assertOptions(s,{baseUrl:zi.spelling("baseURL"),withXsrfToken:zi.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&xe.merge(i.common,i[s.method]);i&&xe.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),s.headers=Ja.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(s)===!1||(d=d&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const m=[];this.interceptors.response.forEach(function(v){m.push(v.fulfilled,v.rejected)});let h,f=0,g;if(!d){const w=[iO.bind(this),void 0];for(w.unshift(...l),w.push(...m),g=w.length,h=Promise.resolve(s);f<g;)h=h.then(w[f++],w[f++]);return h}g=l.length;let y=s;for(f=0;f<g;){const w=l[f++],v=l[f++];try{y=w(y)}catch(b){v.call(this,b);break}}try{h=iO.call(this,y)}catch(w){return Promise.reject(w)}for(f=0,g=m.length;f<g;)h=h.then(m[f++],m[f++]);return h}getUri(r){r=xd(this.defaults,r);const s=V7(r.baseURL,r.url,r.allowAbsoluteUrls);return z7(s,r.params,r.paramsSerializer)}};xe.forEach(["delete","get","head","options"],function(r){Zc.prototype[r]=function(s,a){return this.request(xd(a||{},{method:r,url:s,data:(a||{}).data}))}});xe.forEach(["post","put","patch"],function(r){function s(a){return function(i,o,l){return this.request(xd(l||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Zc.prototype[r]=s(),Zc.prototype[r+"Form"]=s(!0)});let awe=class J7{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(n);return o.cancel=function(){a.unsubscribe(i)},o},r(function(i,o,l){a.reason||(a.reason=new bm(i,o,l),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const r=new AbortController,s=a=>{r.abort(a)};return this.subscribe(s),r.signal.unsubscribe=()=>this.unsubscribe(s),r.signal}static source(){let r;return{token:new J7(function(n){r=n}),cancel:r}}};function nwe(e){return function(s){return e.apply(null,s)}}function iwe(e){return xe.isObject(e)&&e.isAxiosError===!0}const sS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sS).forEach(([e,r])=>{sS[r]=e});function X7(e){const r=new Zc(e),s=_7(Zc.prototype.request,r);return xe.extend(s,Zc.prototype,r,{allOwnKeys:!0}),xe.extend(s,r,null,{allOwnKeys:!0}),s.create=function(n){return X7(xd(e,n))},s}const es=X7(cp);es.Axios=Zc;es.CanceledError=bm;es.CancelToken=awe;es.isCancel=B7;es.VERSION=Y7;es.toFormData=qy;es.AxiosError=Tt;es.Cancel=es.CanceledError;es.all=function(r){return Promise.all(r)};es.spread=nwe;es.isAxiosError=iwe;es.mergeConfig=xd;es.AxiosHeaders=Ja;es.formToJSON=e=>U7(xe.isHTMLForm(e)?new FormData(e):e);es.getAdapter=G7.getAdapter;es.HttpStatusCode=sS;es.default=es;const{Axios:dSe,AxiosError:uSe,CanceledError:mSe,isCancel:hSe,CancelToken:fSe,VERSION:pSe,all:gSe,Cancel:xSe,isAxiosError:ySe,spread:vSe,toFormData:bSe,AxiosHeaders:wSe,HttpStatusCode:jSe,formToJSON:NSe,getAdapter:SSe,mergeConfig:CSe}=es,Q7=window.location.hostname.includes("netlify.app")||window.location.hostname.includes("netlify.com"),Z7=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",eF=Q7?"/api":Z7?"http://localhost:3001/api":"https://apex-backend-august-production.up.railway.app/api";console.log(" API Connected to:",eF,Q7?"(via Railway)":Z7?"(local dev)":"(Railway)");const owe=5e3,lwe=1,tF=1e3;class cwe extends Error{constructor(r,s,a,n){super(r),this.status=s,this.code=a,this.details=n,this.name="ApiError"}}const rF=e=>new Promise(r=>setTimeout(r,e)),dwe=e=>{if(!e.response)return!0;const r=e.response.status;return r>=500||r===429},sF=async(e,r,s=0)=>{try{return await e(r)}catch(a){const n=a;if(s<lwe&&dwe(n)){const i=tF*Math.pow(2,s);return await rF(i),sF(e,r,s+1)}throw a}},aF=e=>{const r=es.create({baseURL:eF,timeout:owe,headers:{"Content-Type":"application/json"}});return r.interceptors.request.use(async s=>{let a=null;console.log(" API Client: Getting token...");{try{if(window.Clerk&&window.Clerk.session){const n=await window.Clerk.session.getToken();n&&(a=n,console.log(" API Client: Got Clerk token from window.Clerk"))}else e&&(a=await e(),console.log(" API Client: Got Clerk token from getToken"))}catch(n){console.warn(" Failed to get Clerk token:",n)}if(!a)try{const n=PS(),{data:{session:i}}=await n.auth.getSession();i!=null&&i.access_token?(a=i.access_token,console.log(" API Client: Got Supabase token:","***EXISTS***")):console.warn(" API Client: No Supabase session found")}catch(n){console.error(" API Client: Error getting Supabase session:",n)}a||console.warn(" No authentication token available in production mode")}return a?(s.headers.Authorization=`Bearer ${a}`,console.log(" API Client: Set Authorization header with token:",a),console.log(" API Client: Full request config:",{url:s.url,method:s.method,headers:s.headers})):console.warn(" No authentication token available - user needs to sign in"),s},s=>(console.error(" Request Error:",s),Promise.reject(s))),r.interceptors.response.use(s=>s,async s=>{var o,l,d,m,h,f;const a=s.config;if(((o=s.response)==null?void 0:o.status)===401&&!a._retry)return a._retry=!0,console.error(" Dev Mode: 401 error - continuing without redirect"),Promise.reject(s);if(((l=s.response)==null?void 0:l.status)===429){const g=s.response.headers["retry-after"],y=g?parseInt(g)*1e3:tF;return await rF(y),sF(r,a)}const n=(d=s.response)==null?void 0:d.data,i=new cwe((n==null?void 0:n.message)||s.message||"An unexpected error occurred",(m=s.response)==null?void 0:m.status,n==null?void 0:n.code,n);return console.error(" API Error:",{message:i.message,status:i.status,code:i.code,url:(h=s.config)==null?void 0:h.url,method:(f=s.config)==null?void 0:f.method}),Promise.reject(i)}),r},Et=aF(),nF=()=>{const{getToken:e}=ja();return aF(e)},uwe={get:async(e,r)=>(await Et.get(e,r)).data.data,post:async(e,r,s)=>(await Et.post(e,r,s)).data.data,put:async(e,r,s)=>(await Et.put(e,r,s)).data.data,patch:async(e,r,s)=>(await Et.patch(e,r,s)).data.data,delete:async(e,r)=>(await Et.delete(e,r)).data.data,getPaginated:async(e,r,s)=>(await Et.get(e,{...s,params:{page:1,limit:10,...r}})).data,uploadFile:async(e,r,s,a)=>{const n=new FormData;return n.append("file",r),a&&Object.entries(a).forEach(([o,l])=>{n.append(o,l)}),(await Et.post(e,n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:o=>{if(s&&o.total){const l={loaded:o.loaded,total:o.total,percentage:Math.round(o.loaded*100/o.total)};s(l)}}})).data},downloadFile:async(e,r)=>{const s=await Et.get(e,{responseType:"blob"}),a=new Blob([s.data]),n=window.URL.createObjectURL(a),i=document.createElement("a");i.href=n,i.download=r||"download",document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}};class mwe{constructor(){mi(this,"baseURL","https://apex-backend-august-production.up.railway.app/api")}async getCampaigns(){try{console.log(" VapiOutboundService: Fetching campaigns from:",this.baseURL);const r=await Et.get("/vapi-outbound/campaigns");return console.log(" VapiOutboundService: API Response:",r),(r.data.campaigns||r.data||[]).map(a=>({id:a.id,apexId:a.apexId||`apex${a.id.substring(0,5)}`,name:a.name,description:a.description,status:a.status,assistantId:a.assistantId,assistantName:a.assistantName||"AI Assistant",phoneNumberId:a.phoneNumberId,phoneNumber:a.phoneNumber,organizationId:a.organizationId||"",objective:a.objective,budget:a.budget,campaignType:a.campaignType,createdAt:a.createdAt,updatedAt:a.updatedAt,totalLeads:a.totalLeads||0,callsCompleted:a.callsCompleted||0,totalCost:a.totalCost||0,successRate:a.successRate||0,callsInProgress:a.callsInProgress||0,settings:a.settings||{callsPerHour:10,retryAttempts:2,timeZone:"America/New_York",workingHours:{start:"09:00",end:"17:00"}},teamAssignment:a.teamAssignment}))}catch(r){console.error(" Error fetching campaigns from API:",r);try{console.log(" Attempting to fetch campaigns directly from Supabase...");const{data:s,error:a}=await fs.from("campaigns").select("*").order("created_at",{ascending:!1});return a?(console.error(" Supabase error:",a),[]):(console.log(" Fetched campaigns from Supabase:",s),(s||[]).map(n=>({id:n.id,apexId:n.apex_id||`apex${n.id.substring(0,5)}`,name:n.name,description:n.description,status:n.status||"draft",assistantId:n.assistant_id||"",assistantName:n.assistant_name||"AI Assistant",phoneNumberId:n.phone_number_id||"",phoneNumber:n.phone_number,organizationId:n.organization_id||"",objective:n.objective,budget:n.budget,campaignType:n.campaign_type,createdAt:n.created_at,updatedAt:n.updated_at,totalLeads:n.total_leads||0,callsCompleted:n.calls_completed||0,totalCost:n.total_cost||0,successRate:n.success_rate||0,callsInProgress:n.calls_in_progress||0,settings:{callsPerHour:n.calls_per_hour||10,retryAttempts:n.retry_attempts||2,timeZone:n.time_zone||"America/New_York",workingHours:{start:n.working_hours_start||"09:00",end:n.working_hours_end||"17:00"}},teamAssignment:n.team_assignment})))}catch(s){return console.error(" Failed to fetch from Supabase:",s),[]}}}async createCampaign(r){var s;try{const a=((s=r.callBehavior)==null?void 0:s.customConcurrency)||10,n={...r,max_concurrent_calls:a,callBehavior:void 0};return console.log(" Sending campaign data to backend:",n),(await Et.post("/vapi-outbound/campaigns",n)).data.campaign}catch(a){throw console.error("Error creating campaign:",a),a}}async uploadLeads(r,s){try{const a=new FormData;return a.append("csvFile",s),(await Et.post(`/vapi-outbound/campaigns/${r}/upload-leads`,a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error uploading leads:",a),a}}async getLiveMonitoring(r){try{return(await Et.get(`/vapi-outbound/campaigns/${r}/live`)).data}catch(s){throw console.error("Error fetching live monitoring:",s),s}}async getAssistants(){var r,s;try{console.log(" VapiOutboundService.getAssistants: Making API call...");const a=await Et.get("/vapi-data/assistants");console.log(" VapiOutboundService.getAssistants: Response:",a),console.log(" VapiOutboundService.getAssistants: Response data:",a.data),console.log(" VapiOutboundService.getAssistants: Assistants array:",a.data.assistants);const n=a.data.assistants||[];return console.log(" VapiOutboundService.getAssistants: Returning",n.length,"assistants"),n}catch(a){throw console.error(" VapiOutboundService.getAssistants: Error:",a),console.error(" Error details:",{message:a.message,response:(r=a.response)==null?void 0:r.data,status:(s=a.response)==null?void 0:s.status}),a}}async getPhoneNumbers(){var r,s;try{console.log(" VapiOutboundService.getPhoneNumbers: Making API call...");const a=await Et.get("/vapi-data/phone-numbers");console.log(" VapiOutboundService.getPhoneNumbers: Response:",a),console.log(" VapiOutboundService.getPhoneNumbers: Response data:",a.data),console.log(" VapiOutboundService.getPhoneNumbers: Phone numbers array:",a.data.phoneNumbers);const n=a.data.phoneNumbers||[];return console.log(" VapiOutboundService.getPhoneNumbers: Returning",n.length,"phone numbers"),n}catch(a){throw console.error(" VapiOutboundService.getPhoneNumbers: Error:",a),console.error(" Error details:",{message:a.message,response:(r=a.response)==null?void 0:r.data,status:(s=a.response)==null?void 0:s.status}),a}}async downloadLeadsTemplate(){try{return(await Et.get("/vapi-outbound/leads-template",{responseType:"blob"})).data}catch(r){throw console.error("Error downloading template:",r),r}}async getToken(){return""}formatPhoneNumber(r){const s=r.replace(/\D/g,"");return s.length===10?`+1${s}`:s.length===11&&s.startsWith("1")?`+${s}`:`+${s}`}validateLeadData(r){var n,i,o;const s=[],a=[];for(const l of r){const d=[];(n=l.firstName)!=null&&n.trim()||d.push("First name required"),(i=l.lastName)!=null&&i.trim()||d.push("Last name required"),(o=l.phone)!=null&&o.trim()||d.push("Phone number required"),l.phone&&!/^\+?[\d\s\-\(\)]+$/.test(l.phone)&&d.push("Invalid phone format"),d.length===0?s.push({...l,phone:this.formatPhoneNumber(l.phone)}):a.push({...l,errors:d})}return{valid:s,invalid:a}}async getRecentCalls(r=20){try{console.log(" VapiOutboundService: Fetching recent calls...");const s=await Et.get(`/vapi-outbound/calls/recent?limit=${r}`);return console.log(" VapiOutboundService: Recent calls response:",s),s.data.calls||s.data||[]}catch(s){console.error("Error fetching recent calls from API:",s);try{console.log(" Attempting to fetch calls directly from Supabase...");const{data:a,error:n}=await fs.from("calls").select("*").order("created_at",{ascending:!1}).limit(r);return n?(console.error(" Supabase error:",n),[]):(console.log(" Fetched calls from Supabase:",a),a||[])}catch(a){return console.error(" Failed to fetch from Supabase:",a),[]}}}async getCampaignCalls(r,s){try{return(await Et.get(`/campaigns/${r}/calls?${s}`)).data}catch(a){throw console.error("Error fetching campaign calls:",a),a}}async getCampaignDashboard(r){try{return(await Et.get(`/vapi-outbound/campaigns/${r}/dashboard`)).data}catch(s){return console.error("Error fetching campaign dashboard:",s),{totalCalls:0,completedCalls:0,inProgressCalls:0,averageCallDuration:0,conversionRate:0,totalCost:0,outcomeBreakdown:{answered:0,voicemail:0,no_answer:0,busy:0,failed:0}}}}async getCampaignResults(r){try{const s=await Et.get(`/vapi-outbound/campaigns/${r}/calls`);return s.data.calls||s.data||[]}catch(s){console.error("Error fetching campaign results from API:",s);try{console.log(" Fetching campaign calls from Supabase...");const{data:a,error:n}=await fs.from("calls").select("*").eq("campaign_id",r).order("created_at",{ascending:!1});if(n)return console.error(" Supabase error:",n),[];const i=(a||[]).map(o=>({id:o.id,status:o.status||"completed",outcome:o.outcome||"completed",duration:o.duration||0,cost:o.cost||.05,phone_number:o.phone_number,customer_phone:o.phone_number,customerPhone:o.phone_number,recording_url:o.recording_url,transcript:o.transcript,summary:o.summary,created_at:o.created_at,started_at:o.started_at||o.created_at,lead:{firstName:"Matt",lastName:"",phone:o.phone_number||"N/A"},startedAt:o.started_at||o.created_at,endedAt:o.ended_at}));return console.log(` Fetched ${i.length} calls for campaign ${r}`),i}catch(a){return console.error(" Failed to fetch from Supabase:",a),[]}}}async getLiveData(r){return this.getCampaignDashboard(r)}async startCampaign(r){try{return console.log(" Starting campaign:",r),(await Et.post(`/vapi-outbound/campaigns/${r}/start`)).data||{message:"Campaign started"}}catch(s){throw console.error("Error starting campaign:",s),s}}async pauseCampaign(r){try{return(await Et.post(`/vapi-outbound/campaigns/${r}/pause`)).data||{message:"Campaign paused"}}catch(s){throw console.error("Error pausing campaign:",s),s}}async resumeCampaign(r){try{return(await Et.post(`/vapi-outbound/campaigns/${r}/resume`)).data||{message:"Campaign resumed"}}catch(s){throw console.error("Error resuming campaign:",s),s}}}const Ha=new mwe,hwe=Object.freeze(Object.defineProperty({__proto__:null,default:Ha,vapiOutboundService:Ha},Symbol.toStringTag,{value:"Module"}));var fwe="Label",iF=p.forwardRef((e,r)=>t.jsx(He.label,{...e,ref:r,onMouseDown:s=>{var n;s.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));iF.displayName=fwe;var oF=iF;const pwe=Ef("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Z=p.forwardRef(({className:e,...r},s)=>t.jsx(oF,{ref:s,className:Re(pwe(),e),...r}));Z.displayName=oF.displayName;var c4="Radio",[gwe,lF]=Vs(c4),[xwe,ywe]=gwe(c4),cF=p.forwardRef((e,r)=>{const{__scopeRadio:s,name:a,checked:n=!1,required:i,disabled:o,value:l="on",onCheck:d,form:m,...h}=e,[f,g]=p.useState(null),y=ht(r,b=>g(b)),w=p.useRef(!1),v=f?m||!!f.closest("form"):!0;return t.jsxs(xwe,{scope:s,checked:n,disabled:o,children:[t.jsx(He.button,{type:"button",role:"radio","aria-checked":n,"data-state":hF(n),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:y,onClick:$e(e.onClick,b=>{n||d==null||d(),v&&(w.current=b.isPropagationStopped(),w.current||b.stopPropagation())})}),v&&t.jsx(mF,{control:f,bubbles:!w.current,name:a,value:l,checked:n,required:i,disabled:o,form:m,style:{transform:"translateX(-100%)"}})]})});cF.displayName=c4;var dF="RadioIndicator",uF=p.forwardRef((e,r)=>{const{__scopeRadio:s,forceMount:a,...n}=e,i=ywe(dF,s);return t.jsx(Na,{present:a||i.checked,children:t.jsx(He.span,{"data-state":hF(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r})})});uF.displayName=dF;var vwe="RadioBubbleInput",mF=p.forwardRef(({__scopeRadio:e,control:r,checked:s,bubbles:a=!0,...n},i)=>{const o=p.useRef(null),l=ht(o,i),d=np(s),m=Rf(r);return p.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==s&&y){const w=new Event("click",{bubbles:a});y.call(h,s),h.dispatchEvent(w)}},[d,s,a]),t.jsx(He.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});mF.displayName=vwe;function hF(e){return e?"checked":"unchecked"}var bwe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Gy="RadioGroup",[wwe,kSe]=Vs(Gy,[om,lF]),fF=om(),pF=lF(),[jwe,Nwe]=wwe(Gy),gF=p.forwardRef((e,r)=>{const{__scopeRadioGroup:s,name:a,defaultValue:n,value:i,required:o=!1,disabled:l=!1,orientation:d,dir:m,loop:h=!0,onValueChange:f,...g}=e,y=fF(s),w=bd(m),[v,b]=Ni({prop:i,defaultProp:n??null,onChange:f,caller:Gy});return t.jsx(jwe,{scope:s,name:a,required:o,disabled:l,value:v,onValueChange:b,children:t.jsx(WS,{asChild:!0,...y,orientation:d,dir:w,loop:h,children:t.jsx(He.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:w,...g,ref:r})})})});gF.displayName=Gy;var xF="RadioGroupItem",yF=p.forwardRef((e,r)=>{const{__scopeRadioGroup:s,disabled:a,...n}=e,i=Nwe(xF,s),o=i.disabled||a,l=fF(s),d=pF(s),m=p.useRef(null),h=ht(r,m),f=i.value===n.value,g=p.useRef(!1);return p.useEffect(()=>{const y=v=>{bwe.includes(v.key)&&(g.current=!0)},w=()=>g.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",w)}},[]),t.jsx(VS,{asChild:!0,...l,focusable:!o,active:f,children:t.jsx(cF,{disabled:o,required:i.required,checked:f,...d,...n,name:i.name,ref:h,onCheck:()=>i.onValueChange(n.value),onKeyDown:$e(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:$e(n.onFocus,()=>{var y;g.current&&((y=m.current)==null||y.click())})})})});yF.displayName=xF;var Swe="RadioGroupIndicator",vF=p.forwardRef((e,r)=>{const{__scopeRadioGroup:s,...a}=e,n=pF(s);return t.jsx(uF,{...n,...a,ref:r})});vF.displayName=Swe;var bF=gF,wF=yF,Cwe=vF;const $l=p.forwardRef(({className:e,...r},s)=>t.jsx(bF,{className:Re("grid gap-2",e),...r,ref:s}));$l.displayName=bF.displayName;const Qs=p.forwardRef(({className:e,...r},s)=>t.jsx(wF,{ref:s,className:Re("aspect-square h-4 w-4 rounded-full border border-zinc-200 border-zinc-900 text-zinc-900 shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-50 dark:border-zinc-800 dark:text-zinc-50 dark:focus-visible:ring-zinc-300",e),...r,children:t.jsx(Cwe,{className:"flex items-center justify-center",children:t.jsx(XM,{className:"h-3.5 w-3.5 fill-primary"})})}));Qs.displayName=wF.displayName;var jF=["PageUp","PageDown"],NF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],SF={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},wm="Slider",[aS,kwe,_we]=Tf(wm),[CF,_Se]=Vs(wm,[_we]),[Pwe,Yy]=CF(wm),kF=p.forwardRef((e,r)=>{const{name:s,min:a=0,max:n=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:d=0,defaultValue:m=[a],value:h,onValueChange:f=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:w,...v}=e,b=p.useRef(new Set),N=p.useRef(0),S=o==="horizontal"?Awe:Ewe,[_=[],A]=Ni({prop:h,defaultProp:m,onChange:M=>{var W;(W=[...b.current][N.current])==null||W.focus(),f(M)}}),T=p.useRef(_);function E(M){const I=Iwe(_,M);K(M,I)}function R(M){K(M,N.current)}function $(){const M=T.current[N.current];_[N.current]!==M&&g(_)}function K(M,I,{commit:W}={commit:!1}){const V=zwe(i),U=Fwe(Math.round((M-a)/i)*i+a,V),L=Qh(U,[a,n]);A((O=[])=>{const F=Mwe(O,L,I);if($we(F,d*i)){N.current=F.indexOf(L);const z=String(F)!==String(O);return z&&W&&g(F),z?F:O}else return O})}return t.jsx(Pwe,{scope:e.__scopeSlider,name:s,disabled:l,min:a,max:n,valueIndexToChangeRef:N,thumbs:b.current,values:_,orientation:o,form:w,children:t.jsx(aS.Provider,{scope:e.__scopeSlider,children:t.jsx(aS.Slot,{scope:e.__scopeSlider,children:t.jsx(S,{"aria-disabled":l,"data-disabled":l?"":void 0,...v,ref:r,onPointerDown:$e(v.onPointerDown,()=>{l||(T.current=_)}),min:a,max:n,inverted:y,onSlideStart:l?void 0:E,onSlideMove:l?void 0:R,onSlideEnd:l?void 0:$,onHomeKeyDown:()=>!l&&K(a,0,{commit:!0}),onEndKeyDown:()=>!l&&K(n,_.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:I})=>{if(!l){const U=jF.includes(M.key)||M.shiftKey&&NF.includes(M.key)?10:1,L=N.current,O=_[L],F=i*U*I;K(O+F,L,{commit:!0})}}})})})})});kF.displayName=wm;var[_F,PF]=CF(wm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Awe=p.forwardRef((e,r)=>{const{min:s,max:a,dir:n,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:m,...h}=e,[f,g]=p.useState(null),y=ht(r,S=>g(S)),w=p.useRef(void 0),v=bd(n),b=v==="ltr",N=b&&!i||!b&&i;function C(S){const _=w.current||f.getBoundingClientRect(),A=[0,_.width],E=d4(A,N?[s,a]:[a,s]);return w.current=_,E(S-_.left)}return t.jsx(_F,{scope:e.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:t.jsx(AF,{dir:v,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const _=C(S.clientX);o==null||o(_)},onSlideMove:S=>{const _=C(S.clientX);l==null||l(_)},onSlideEnd:()=>{w.current=void 0,d==null||d()},onStepKeyDown:S=>{const A=SF[N?"from-left":"from-right"].includes(S.key);m==null||m({event:S,direction:A?-1:1})}})})}),Ewe=p.forwardRef((e,r)=>{const{min:s,max:a,inverted:n,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:d,...m}=e,h=p.useRef(null),f=ht(r,h),g=p.useRef(void 0),y=!n;function w(v){const b=g.current||h.current.getBoundingClientRect(),N=[0,b.height],S=d4(N,y?[a,s]:[s,a]);return g.current=b,S(v-b.top)}return t.jsx(_F,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:t.jsx(AF,{"data-orientation":"vertical",...m,ref:f,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const b=w(v.clientY);i==null||i(b)},onSlideMove:v=>{const b=w(v.clientY);o==null||o(b)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:v=>{const N=SF[y?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:N?-1:1})}})})}),AF=p.forwardRef((e,r)=>{const{__scopeSlider:s,onSlideStart:a,onSlideMove:n,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:d,...m}=e,h=Yy(wm,s);return t.jsx(He.span,{...m,ref:r,onKeyDown:$e(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):jF.concat(NF).includes(f.key)&&(d(f),f.preventDefault())}),onPointerDown:$e(e.onPointerDown,f=>{const g=f.target;g.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(g)?g.focus():a(f)}),onPointerMove:$e(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&n(f)}),onPointerUp:$e(e.onPointerUp,f=>{const g=f.target;g.hasPointerCapture(f.pointerId)&&(g.releasePointerCapture(f.pointerId),i(f))})})}),EF="SliderTrack",TF=p.forwardRef((e,r)=>{const{__scopeSlider:s,...a}=e,n=Yy(EF,s);return t.jsx(He.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...a,ref:r})});TF.displayName=EF;var nS="SliderRange",OF=p.forwardRef((e,r)=>{const{__scopeSlider:s,...a}=e,n=Yy(nS,s),i=PF(nS,s),o=p.useRef(null),l=ht(r,o),d=n.values.length,m=n.values.map(g=>IF(g,n.min,n.max)),h=d>1?Math.min(...m):0,f=100-Math.max(...m);return t.jsx(He.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...a,ref:l,style:{...e.style,[i.startEdge]:h+"%",[i.endEdge]:f+"%"}})});OF.displayName=nS;var iS="SliderThumb",MF=p.forwardRef((e,r)=>{const s=kwe(e.__scopeSlider),[a,n]=p.useState(null),i=ht(r,l=>n(l)),o=p.useMemo(()=>a?s().findIndex(l=>l.ref.current===a):-1,[s,a]);return t.jsx(Twe,{...e,ref:i,index:o})}),Twe=p.forwardRef((e,r)=>{const{__scopeSlider:s,index:a,name:n,...i}=e,o=Yy(iS,s),l=PF(iS,s),[d,m]=p.useState(null),h=ht(r,C=>m(C)),f=d?o.form||!!d.closest("form"):!0,g=Rf(d),y=o.values[a],w=y===void 0?0:IF(y,o.min,o.max),v=Rwe(a,o.values.length),b=g==null?void 0:g[l.size],N=b?Dwe(b,w,l.direction):0;return p.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${N}px)`},children:[t.jsx(aS.ItemSlot,{scope:e.__scopeSlider,children:t.jsx(He.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:h,style:y===void 0?{display:"none"}:e.style,onFocus:$e(e.onFocus,()=>{o.valueIndexToChangeRef.current=a})})}),f&&t.jsx(RF,{name:n??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:y},a)]})});MF.displayName=iS;var Owe="RadioBubbleInput",RF=p.forwardRef(({__scopeSlider:e,value:r,...s},a)=>{const n=p.useRef(null),i=ht(n,a),o=np(r);return p.useEffect(()=>{const l=n.current;if(!l)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&h){const f=new Event("input",{bubbles:!0});h.call(l,r),l.dispatchEvent(f)}},[o,r]),t.jsx(He.input,{style:{display:"none"},...s,ref:i,defaultValue:r})});RF.displayName=Owe;function Mwe(e=[],r,s){const a=[...e];return a[s]=r,a.sort((n,i)=>n-i)}function IF(e,r,s){const i=100/(s-r)*(e-r);return Qh(i,[0,100])}function Rwe(e,r){return r>2?`Value ${e+1} of ${r}`:r===2?["Minimum","Maximum"][e]:void 0}function Iwe(e,r){if(e.length===1)return 0;const s=e.map(n=>Math.abs(n-r)),a=Math.min(...s);return s.indexOf(a)}function Dwe(e,r,s){const a=e/2,i=d4([0,50],[0,a]);return(a-i(r)*s)*s}function Lwe(e){return e.slice(0,-1).map((r,s)=>e[s+1]-r)}function $we(e,r){if(r>0){const s=Lwe(e);return Math.min(...s)>=r}return!0}function d4(e,r){return s=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(s-e[0])}}function zwe(e){return(String(e).split(".")[1]||"").length}function Fwe(e,r){const s=Math.pow(10,r);return Math.round(e*s)/s}var DF=kF,Uwe=TF,Bwe=OF,Wwe=MF;const Ln=p.forwardRef(({className:e,...r},s)=>t.jsxs(DF,{ref:s,className:Re("relative flex w-full touch-none select-none items-center",e),...r,children:[t.jsx(Uwe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-700",children:t.jsx(Bwe,{className:"absolute h-full bg-emerald-500"})}),t.jsx(Wwe,{className:"block h-5 w-5 rounded-full border-2 border-emerald-500 bg-white shadow-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 disabled:pointer-events-none disabled:opacity-50 hover:bg-emerald-50"})]}));Ln.displayName=DF.displayName;var Jy="Switch",[Vwe,PSe]=Vs(Jy),[qwe,Hwe]=Vwe(Jy),LF=p.forwardRef((e,r)=>{const{__scopeSwitch:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:m,form:h,...f}=e,[g,y]=p.useState(null),w=ht(r,S=>y(S)),v=p.useRef(!1),b=g?h||!!g.closest("form"):!0,[N,C]=Ni({prop:n,defaultProp:i??!1,onChange:m,caller:Jy});return t.jsxs(qwe,{scope:s,checked:N,disabled:l,children:[t.jsx(He.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":UF(N),"data-disabled":l?"":void 0,disabled:l,value:d,...f,ref:w,onClick:$e(e.onClick,S=>{C(_=>!_),b&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),b&&t.jsx(FF,{control:g,bubbles:!v.current,name:a,value:d,checked:N,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});LF.displayName=Jy;var $F="SwitchThumb",zF=p.forwardRef((e,r)=>{const{__scopeSwitch:s,...a}=e,n=Hwe($F,s);return t.jsx(He.span,{"data-state":UF(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:r})});zF.displayName=$F;var Kwe="SwitchBubbleInput",FF=p.forwardRef(({__scopeSwitch:e,control:r,checked:s,bubbles:a=!0,...n},i)=>{const o=p.useRef(null),l=ht(o,i),d=np(s),m=Rf(r);return p.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==s&&y){const w=new Event("click",{bubbles:a});y.call(h,s),h.dispatchEvent(w)}},[d,s,a]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});FF.displayName=Kwe;function UF(e){return e?"checked":"unchecked"}var BF=LF,Gwe=zF;const Lr=p.forwardRef(({className:e,...r},s)=>t.jsx(BF,{className:Re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-emerald-500 data-[state=unchecked]:bg-gray-600",e),...r,ref:s,children:t.jsx(Gwe,{className:Re("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Lr.displayName=BF.displayName;var Xy="Dialog",[WF,VF]=Vs(Xy),[Ywe,Oi]=WF(Xy),qF=e=>{const{__scopeDialog:r,children:s,open:a,defaultOpen:n,onOpenChange:i,modal:o=!0}=e,l=p.useRef(null),d=p.useRef(null),[m,h]=Ni({prop:a,defaultProp:n??!1,onChange:i,caller:Xy});return t.jsx(Ywe,{scope:r,triggerRef:l,contentRef:d,contentId:Hi(),titleId:Hi(),descriptionId:Hi(),open:m,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:s})};qF.displayName=Xy;var HF="DialogTrigger",KF=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Oi(HF,s),i=ht(r,n.triggerRef);return t.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":h4(n.open),...a,ref:i,onClick:$e(e.onClick,n.onOpenToggle)})});KF.displayName=HF;var u4="DialogPortal",[Jwe,GF]=WF(u4,{forceMount:void 0}),YF=e=>{const{__scopeDialog:r,forceMount:s,children:a,container:n}=e,i=Oi(u4,r);return t.jsx(Jwe,{scope:r,forceMount:s,children:p.Children.map(a,o=>t.jsx(Na,{present:s||i.open,children:t.jsx(If,{asChild:!0,container:n,children:o})}))})};YF.displayName=u4;var yx="DialogOverlay",JF=p.forwardRef((e,r)=>{const s=GF(yx,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,i=Oi(yx,e.__scopeDialog);return i.modal?t.jsx(Na,{present:a||i.open,children:t.jsx(Qwe,{...n,ref:r})}):null});JF.displayName=yx;var Xwe=nd("DialogOverlay.RemoveScroll"),Qwe=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Oi(yx,s);return t.jsx(Wx,{as:Xwe,allowPinchZoom:!0,shards:[n.contentRef],children:t.jsx(He.div,{"data-state":h4(n.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),yd="DialogContent",XF=p.forwardRef((e,r)=>{const s=GF(yd,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,i=Oi(yd,e.__scopeDialog);return t.jsx(Na,{present:a||i.open,children:i.modal?t.jsx(Zwe,{...n,ref:r}):t.jsx(eje,{...n,ref:r})})});XF.displayName=yd;var Zwe=p.forwardRef((e,r)=>{const s=Oi(yd,e.__scopeDialog),a=p.useRef(null),n=ht(r,s.contentRef,a);return p.useEffect(()=>{const i=a.current;if(i)return qS(i)},[]),t.jsx(QF,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:$e(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:$e(e.onFocusOutside,i=>i.preventDefault())})}),eje=p.forwardRef((e,r)=>{const s=Oi(yd,e.__scopeDialog),a=p.useRef(!1),n=p.useRef(!1);return t.jsx(QF,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=s.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:i=>{var d,m;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;((m=s.triggerRef.current)==null?void 0:m.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),QF=p.forwardRef((e,r)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,...o}=e,l=Oi(yd,s),d=p.useRef(null),m=ht(r,d);return MS(),t.jsxs(t.Fragment,{children:[t.jsx(Lx,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:t.jsx(Of,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":h4(l.open),...o,ref:m,onDismiss:()=>l.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(rje,{titleId:l.titleId}),t.jsx(aje,{contentRef:d,descriptionId:l.descriptionId})]})]})}),m4="DialogTitle",ZF=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Oi(m4,s);return t.jsx(He.h2,{id:n.titleId,...a,ref:r})});ZF.displayName=m4;var eU="DialogDescription",tU=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Oi(eU,s);return t.jsx(He.p,{id:n.descriptionId,...a,ref:r})});tU.displayName=eU;var rU="DialogClose",sU=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Oi(rU,s);return t.jsx(He.button,{type:"button",...a,ref:r,onClick:$e(e.onClick,()=>n.onOpenChange(!1))})});sU.displayName=rU;function h4(e){return e?"open":"closed"}var aU="DialogTitleWarning",[tje,nU]=oJ(aU,{contentName:yd,titleName:m4,docsSlug:"dialog"}),rje=({titleId:e})=>{const r=nU(aU),s=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},sje="DialogDescriptionWarning",aje=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nU(sje).contentName}}.`;return p.useEffect(()=>{var i;const n=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&n&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},iU=qF,oU=KF,lU=YF,f4=JF,p4=XF,g4=ZF,x4=tU,y4=sU,cU="AlertDialog",[nje,ASe]=Vs(cU,[VF]),Qo=VF(),dU=e=>{const{__scopeAlertDialog:r,...s}=e,a=Qo(r);return t.jsx(iU,{...a,...s,modal:!0})};dU.displayName=cU;var ije="AlertDialogTrigger",uU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=Qo(s);return t.jsx(oU,{...n,...a,ref:r})});uU.displayName=ije;var oje="AlertDialogPortal",mU=e=>{const{__scopeAlertDialog:r,...s}=e,a=Qo(r);return t.jsx(lU,{...a,...s})};mU.displayName=oje;var lje="AlertDialogOverlay",hU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=Qo(s);return t.jsx(f4,{...n,...a,ref:r})});hU.displayName=lje;var Du="AlertDialogContent",[cje,dje]=nje(Du),uje=NY("AlertDialogContent"),fU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,children:a,...n}=e,i=Qo(s),o=p.useRef(null),l=ht(r,o),d=p.useRef(null);return t.jsx(tje,{contentName:Du,titleName:pU,docsSlug:"alert-dialog",children:t.jsx(cje,{scope:s,cancelRef:d,children:t.jsxs(p4,{role:"alertdialog",...i,...n,ref:l,onOpenAutoFocus:$e(n.onOpenAutoFocus,m=>{var h;m.preventDefault(),(h=d.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[t.jsx(uje,{children:a}),t.jsx(hje,{contentRef:o})]})})})});fU.displayName=Du;var pU="AlertDialogTitle",gU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=Qo(s);return t.jsx(g4,{...n,...a,ref:r})});gU.displayName=pU;var xU="AlertDialogDescription",yU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=Qo(s);return t.jsx(x4,{...n,...a,ref:r})});yU.displayName=xU;var mje="AlertDialogAction",vU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=Qo(s);return t.jsx(y4,{...n,...a,ref:r})});vU.displayName=mje;var bU="AlertDialogCancel",wU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,{cancelRef:n}=dje(bU,s),i=Qo(s),o=ht(r,n);return t.jsx(y4,{...i,...a,ref:o})});wU.displayName=bU;var hje=({contentRef:e})=>{const r=`\`${Du}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Du}\` by passing a \`${xU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Du}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},fje=dU,pje=uU,gje=mU,jU=hU,NU=fU,SU=vU,CU=wU,kU=gU,_U=yU;const vx=fje,oS=pje,xje=gje,PU=p.forwardRef(({className:e,...r},s)=>t.jsx(jU,{className:Re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:s}));PU.displayName=jU.displayName;const hf=p.forwardRef(({className:e,...r},s)=>t.jsxs(xje,{children:[t.jsx(PU,{}),t.jsx(NU,{ref:s,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dark:border-zinc-800 dark:bg-zinc-950 sm:rounded-lg",e),...r})]}));hf.displayName=NU.displayName;const ff=({className:e,...r})=>t.jsx("div",{className:Re("flex flex-col space-y-2 text-center sm:text-left",e),...r});ff.displayName="AlertDialogHeader";const pf=({className:e,...r})=>t.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});pf.displayName="AlertDialogFooter";const gf=p.forwardRef(({className:e,...r},s)=>t.jsx(kU,{ref:s,className:Re("text-lg font-semibold",e),...r}));gf.displayName=kU.displayName;const xf=p.forwardRef(({className:e,...r},s)=>t.jsx(_U,{ref:s,className:Re("text-sm text-zinc-500 dark:text-zinc-400",e),...r}));xf.displayName=_U.displayName;const yf=p.forwardRef(({className:e,...r},s)=>t.jsx(SU,{ref:s,className:Re(TS(),e),...r}));yf.displayName=SU.displayName;const vf=p.forwardRef(({className:e,...r},s)=>t.jsx(CU,{ref:s,className:Re(TS({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));vf.displayName=CU.displayName;const AU=({campaignId:e,teamMembers:r=[],invitations:s=[],onAddMember:a,onRemoveMember:n,onUpdateRole:i,onResendInvitation:o,onCancelInvitation:l,isEditable:d=!0})=>{const[m,h]=p.useState(""),[f,g]=p.useState("agent"),[y,w]=p.useState("campaign_leads"),[v,b]=p.useState(!1),{toast:N}=ts(),C=async()=>{if(!m.trim()){N({title:"Error",description:"Please enter an email address",variant:"destructive"});return}if(r.some(I=>I.email===m)||s.some(I=>I.email===m&&I.status==="pending")){N({title:"Error",description:"This email is already a team member or has a pending invitation",variant:"destructive"});return}b(!0);try{await a(m,f),h(""),g("member"),N({title:"Invitation Sent",description:`Team invitation sent to ${m}`})}catch{N({title:"Error",description:"Failed to send invitation",variant:"destructive"})}finally{b(!1)}},S=async(M,I)=>{try{await n(M),N({title:"Member Removed",description:`${I} has been removed from the campaign`})}catch{N({title:"Error",description:"Failed to remove team member",variant:"destructive"})}},_=async(M,I)=>{try{await i(M,I),N({title:"Role Updated",description:"Team member role has been updated"})}catch{N({title:"Error",description:"Failed to update role",variant:"destructive"})}},A=M=>{switch(M){case"owner":return t.jsx(_f,{className:"h-4 w-4 text-yellow-500"});case"manager":return t.jsx(Ps,{className:"h-4 w-4 text-blue-500"});case"agent":return t.jsx(Nt,{className:"h-4 w-4 text-emerald-500"});case"viewer":return t.jsx(Ir,{className:"h-4 w-4 text-gray-500"});default:return t.jsx(Nt,{className:"h-4 w-4 text-gray-500"})}},T=M=>{switch(M){case"owner":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"manager":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"agent":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"viewer":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},E=M=>{switch(M){case"active":return t.jsx(yt,{className:"h-4 w-4 text-emerald-500"});case"pending":return t.jsx(It,{className:"h-4 w-4 text-yellow-500"});case"declined":return t.jsx(Ji,{className:"h-4 w-4 text-red-500"});case"expired":return t.jsx(Kt,{className:"h-4 w-4 text-gray-500"});default:return t.jsx(It,{className:"h-4 w-4 text-gray-500"})}},R=M=>{const I=`${window.location.origin}/invite/${M}`;navigator.clipboard.writeText(I),N({title:"Link Copied",description:"Invitation link copied to clipboard"})},$=M=>{switch(M){case"all_leads":return"Access to all CRM leads";case"campaign_leads":return"Access to campaign leads only";case"assigned_leads":return"Access to assigned leads only";case"no_access":return"No CRM access";default:return"Campaign leads only"}},K=M=>{switch(M){case"all_leads":return"text-red-400";case"campaign_leads":return"text-blue-400";case"assigned_leads":return"text-emerald-400";case"no_access":return"text-gray-400";default:return"text-blue-400"}};return t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center text-white",children:[t.jsx(Nt,{className:"mr-2 h-5 w-5"}),"Team Members",t.jsxs(je,{variant:"outline",className:"ml-2 border-gray-600 text-gray-400",children:[r.length," members"]})]})}),t.jsxs(X,{className:"space-y-6",children:[d&&t.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-700 bg-gray-800/50 p-4",children:[t.jsxs("h4",{className:"flex items-center text-sm font-medium text-white",children:[t.jsx(Af,{className:"mr-2 h-4 w-4"}),"Invite Team Member"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Se,{placeholder:"Enter email address",type:"email",value:m,onChange:M=>h(M.target.value),className:"border-gray-600 bg-gray-800 text-white",onKeyDown:M=>{M.key==="Enter"&&C()}})}),t.jsxs(at,{value:f,onValueChange:g,children:[t.jsx(et,{className:"w-28 border-gray-600 bg-gray-800 text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"manager",children:"Manager"}),t.jsx(se,{value:"agent",children:"Agent"}),t.jsx(se,{value:"viewer",children:"Viewer"})]})]}),t.jsxs(at,{value:y,onValueChange:w,children:[t.jsx(et,{className:"w-40 border-gray-600 bg-gray-800 text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all_leads",children:"All CRM Leads"}),t.jsx(se,{value:"campaign_leads",children:"Campaign Leads"}),t.jsx(se,{value:"assigned_leads",children:"Assigned Only"}),t.jsx(se,{value:"no_access",children:"No CRM Access"})]})]}),t.jsx(q,{onClick:C,disabled:v||!m.trim(),className:"bg-emerald-600 text-white hover:bg-emerald-700",children:v?t.jsx(It,{className:"h-4 w-4 animate-spin"}):t.jsx(ql,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:`text-xs ${K(y)} ml-2`,children:[" ",$(y)]})]}),t.jsxs("div",{className:"text-xs text-gray-400",children:[" ",t.jsx("strong",{children:"Role & CRM Permissions:"}),t.jsxs("ul",{className:"mt-1 ml-4 space-y-1",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Manager:"})," Full campaign control + team management + CRM access"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Agent:"})," Campaign execution + lead management + CRM read/write"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Viewer:"})," Read-only campaign + limited CRM viewing"]})]}),t.jsxs("p",{className:"mt-2 text-xs text-blue-400",children:[" ",t.jsx("strong",{children:"CRM Access Levels:"})," All Leads (full CRM) | Campaign Leads (campaign-specific) | Assigned Only (individual leads) | No Access"]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Current Members"}),r.length===0?t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Nt,{className:"mx-auto mb-3 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"text-gray-400",children:"No team members yet"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Invite team members to collaborate on this campaign"})]}):t.jsx("div",{className:"space-y-2",children:r.map(M=>{var I;return t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-gray-800/30 p-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(od,{className:"h-8 w-8",children:[t.jsx(Uu,{src:M.avatarUrl,alt:M.email}),t.jsx(ld,{className:"bg-gray-700 text-gray-300",children:((I=M.firstName)==null?void 0:I[0])||M.email[0].toUpperCase()})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("p",{className:"text-sm font-medium text-white",children:M.firstName&&M.lastName?`${M.firstName} ${M.lastName}`:M.email}),E(M.status)]}),t.jsx("p",{className:"text-xs text-gray-400",children:M.email}),t.jsxs("p",{className:`text-xs ${K(M.crmAccessLevel||"campaign_leads")}`,children:[" ",$(M.crmAccessLevel||"campaign_leads")]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(je,{variant:"outline",className:T(M.role),children:[A(M.role),t.jsx("span",{className:"ml-1 capitalize",children:M.role})]}),d&&M.role!=="owner"&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsxs(at,{value:M.role,onValueChange:W=>_(M.id,W),children:[t.jsx(et,{className:"h-8 w-24 border-gray-600 bg-gray-800 text-xs text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"manager",children:"Manager"}),t.jsx(se,{value:"agent",children:"Agent"}),t.jsx(se,{value:"viewer",children:"Viewer"})]})]}),t.jsxs(vx,{children:[t.jsx(oS,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 hover:text-red-400",children:t.jsx(Bs,{className:"h-3 w-3"})})}),t.jsxs(hf,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(ff,{children:[t.jsx(gf,{className:"text-white",children:"Remove Team Member"}),t.jsxs(xf,{className:"text-gray-400",children:["Are you sure you want to remove ",M.email," from this campaign? They will lose access immediately."]})]}),t.jsxs(pf,{children:[t.jsx(vf,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsx(yf,{onClick:()=>S(M.id,M.email),className:"bg-red-600 text-white hover:bg-red-700",children:"Remove"})]})]})]})]})]})]},M.id)})})]}),s.length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Pending Invitations"}),t.jsx("div",{className:"space-y-2",children:s.map(M=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-yellow-500/5 p-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(wa,{className:"h-5 w-5 text-yellow-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-white",children:M.email}),t.jsxs("p",{className:"text-xs text-gray-400",children:["Invited ",new Date(M.createdAt).toLocaleDateString()," "," ","Expires ",new Date(M.expiresAt).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(je,{variant:"outline",className:T(M.role),children:[A(M.role),t.jsx("span",{className:"ml-1 capitalize",children:M.role})]}),t.jsxs(je,{variant:"outline",className:"border-yellow-500/30 text-yellow-400",children:[E(M.status),t.jsx("span",{className:"ml-1 capitalize",children:M.status})]}),d&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>R(M.invitationToken),className:"h-8 w-8 p-0 text-gray-400 hover:text-white",title:"Copy invitation link",children:t.jsx(mn,{className:"h-3 w-3"})}),t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>o(M.id),className:"h-8 w-8 p-0 text-gray-400 hover:text-emerald-400",title:"Resend invitation",children:t.jsx(ql,{className:"h-3 w-3"})}),t.jsxs(vx,{children:[t.jsx(oS,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 hover:text-red-400",title:"Cancel invitation",children:t.jsx(Bs,{className:"h-3 w-3"})})}),t.jsxs(hf,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(ff,{children:[t.jsx(gf,{className:"text-white",children:"Cancel Invitation"}),t.jsxs(xf,{className:"text-gray-400",children:["Are you sure you want to cancel the invitation for ",M.email,"?"]})]}),t.jsxs(pf,{children:[t.jsx(vf,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Keep Invitation"}),t.jsx(yf,{onClick:()=>l(M.id),className:"bg-red-600 text-white hover:bg-red-700",children:"Cancel Invitation"})]})]})]})]})]})]},M.id))})]}),t.jsx("div",{className:"rounded-lg border border-blue-500/20 bg-blue-500/5 p-3",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(is,{className:"h-4 w-4 text-blue-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-sm font-medium text-blue-400",children:"Team Management"}),t.jsxs("ul",{className:"mt-1 text-xs text-gray-300 space-y-0.5",children:[t.jsx("li",{children:" Only campaign owners and managers can invite team members"}),t.jsx("li",{children:" Team members can collaborate on campaign execution and analytics"}),t.jsx("li",{children:" Invitations expire after 7 days and can be resent"}),e&&t.jsx("li",{children:" Changes take effect immediately for this campaign"})]})]})]})})]})]})};class yje{constructor(){mi(this,"baseUrl","/organization-settings")}async getSettings(){return(await Et.get(this.baseUrl)).data}async getSetting(r){return(await Et.get(`${this.baseUrl}/${r}`)).data}async setSetting(r,s,a=!1){await Et.post(`${this.baseUrl}/${r}`,{value:s,encrypted:a})}async deleteSetting(r){await Et.delete(`${this.baseUrl}/${r}`)}async bulkUpdateSettings(r){return(await Et.put(`${this.baseUrl}/bulk`,{settings:r})).data}async getVapiCredentials(){return(await Et.get(`${this.baseUrl}/vapi/credentials`)).data}async setVapiApiKey(r){await this.setSetting("vapi_api_key",r,!0)}async setVapiWebhookSecret(r){await this.setSetting("vapi_webhook_secret",r,!0)}async setVapiPhoneNumbers(r){await this.setSetting("vapi_phone_numbers",r,!1)}async setVapiAssistants(r){await this.setSetting("vapi_assistants",r,!1)}async setMaxConcurrentCalls(r){await this.setSetting("max_concurrent_calls",r,!1)}async setDefaultUserRole(r){await this.setSetting("default_user_role",r,!1)}async setOrganizationName(r){await this.setSetting("organization_name",r,!1)}async setBillingEmail(r){await this.setSetting("billing_email",r,!1)}async setComplianceSettings(r){await this.setSetting("compliance_settings",r,!1)}async getSettingWithFallback(r,s=null){var a;try{return(await this.getSetting(r)).value}catch(n){if(((a=n.response)==null?void 0:a.status)===404)return s;throw n}}async hasCapability(r){try{const s=await this.getSettings();switch(r){case"vapi_integration":return!!s.settings.vapi_api_key;case"webhooks":return!!s.settings.vapi_webhook_secret;case"phone_numbers":return Array.isArray(s.settings.vapi_phone_numbers)&&s.settings.vapi_phone_numbers.length>0;case"assistants":return Array.isArray(s.settings.vapi_assistants)&&s.settings.vapi_assistants.length>0;default:return!1}}catch(s){return console.error(`Error checking capability ${r}:`,s),!1}}async getCampaignDefaults(){const[r,s,a,n]=await Promise.all([this.getSettingWithFallback("max_concurrent_calls",10),this.getSettingWithFallback("default_working_hours",{enabled:!0,timezone:"America/New_York",hours:{monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}}),this.getSettingWithFallback("compliance_settings",{tcpa_enabled:!0,do_not_call_enabled:!0,recording_consent:!0}),this.getVapiCredentials()]);return{maxConcurrentCalls:r,defaultWorkingHours:s,complianceSettings:a,vapiCredentials:n}}async testVapiConnection(){var r,s,a;try{return(await Et.post("/vapi/test-connection")).data}catch(n){return{success:!1,message:((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.message)||"Connection test failed",details:(a=n.response)==null?void 0:a.data}}}async syncVapiResources(){try{const r=await Et.post("/vapi/sync-resources");return r.data.phoneNumbers&&await this.setVapiPhoneNumbers(r.data.phoneNumbers),r.data.assistants&&await this.setVapiAssistants(r.data.assistants),r.data}catch(r){throw console.error("Error syncing VAPI resources:",r),r}}async exportSettings(){return(await this.getSettings()).settings}async importSettings(r,s=!1){const a={};for(const[n,i]of Object.entries(r))n.includes("api_key")||n.includes("secret")||n.includes("password")||(a[n]={value:i,encrypted:!1});await this.bulkUpdateSettings(a)}}const bx=new yje,vje=({onCampaignCreated:e,onCancel:r})=>{var ir,el,ei;const[s,a]=p.useState(1),[n,i]=p.useState(""),[o,l]=p.useState("manual"),[d,m]=p.useState(""),[h,f]=p.useState(""),[g,y]=p.useState("later"),[w,v]=p.useState(null),[b,N]=p.useState(!1),[C,S]=p.useState("today"),[_,A]=p.useState("06:32 PM"),[T,E]=p.useState("Europe/Malta (GMT+2)"),[R,$]=p.useState([]),[K,M]=p.useState([]),[I,W]=p.useState([]),[V,U]=p.useState(!0),[L,O]=p.useState(5),[F,z]=p.useState(20),[Y,B]=p.useState(!0),[ee,ke]=p.useState(10),[H,he]=p.useState(1),[Ie,Pe]=p.useState("smart"),[De,ce]=p.useState({}),[Ce,Ee]=p.useState([]),[te,be]=p.useState({minCallDuration:60,autoAcceptScore:80,requireAllFields:!1,disqualifiers:[]}),[Te,Ue]=p.useState(!0),[ie,Ge]=p.useState("America/New_York"),[Ct,Ot]=p.useState(!0),[St,ue]=p.useState({monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}),[Be,kt]=p.useState(!0),[Jt,_t]=p.useState([]),[wr,Yr]=p.useState(!0),[jr,bs]=p.useState(!0),[Tr,Ke]=p.useState(30),[Ms,rs]=p.useState(["US"]),[us,gt]=p.useState(!0),[Ca,Dt]=p.useState(0),[zt,ne]=p.useState(!1),[ye,Fe]=p.useState(""),[it,vt]=p.useState([]),[rr,bt]=p.useState([]),[ra,sa]=p.useState(!1),[aa,Mi]=p.useState(2),[Nr,ws]=p.useState(null),[na,jn]=p.useState(.18),[js,Ia]=p.useState(10),[Xt,Ri]=p.useState(null);p.useEffect(()=>{s>1?(ne(!0),s===2?Fe("rateLimiting"):s===3?Fe("qualificationCriteria"):s===4?Fe("retryLogic"):s===5?Fe("workingHours"):s===6?Fe("teamManagement"):s===7&&Fe("review")):(ne(!1),Fe(""))},[s]),p.useEffect(()=>{console.log(" Assistants state updated:",I.length,"items"),I.length>0&&console.log(" First assistant:",I[0])},[I]),p.useEffect(()=>{console.log(" Phone numbers state updated:",K.length,"items"),K.length>0&&console.log(" First phone number:",K[0])},[K]),p.useRef(!1);const{toast:Ft}=ts(),nr=nF(),{userContext:_e}=no();p.useEffect(()=>{Pt();const we=setTimeout(()=>{Ze()},500);return()=>clearTimeout(we)},[]);const Ze=async()=>{var ze,lt,ot,mr;const we=Date.now();console.log(` [${we}] Loading VAPI data for SimpleCampaignWizard...`);try{U(!0);try{const wt=await fetch("/api/health");console.log(" Backend health check:",wt.ok?"OK":"FAILED")}catch{console.error(" Backend is not running! Start it with: cd apps/backend && pnpm dev"),Ft({title:"Backend Not Running",description:"Please start the backend server to load VAPI data.",variant:"destructive"}),U(!1);return}try{console.log(` [${we}] Fetching assistants...`);const wt=await nr.get("/vapi-data/assistants");console.log(" Direct assistants API response:",wt);const or=wt.data.assistants||[];console.log(` [${we}] Assistants extracted:`,or),console.log(` [${we}] Assistants length:`,or.length),or.length>0?(console.log(` [${we}] Setting assistants state with`,or.length,"items"),console.log(" Assistants to set:",or),W(or)):(console.log(` [${we}] No assistants data or empty array`),W([]))}catch(wt){console.error(" Failed to load assistants from API:",wt),W([]),Ft({title:"Assistants Temporarily Unavailable",description:"The backend is being updated. Assistants will be available shortly.",variant:"default"}),(lt=(ze=wt.response)==null?void 0:ze.data)!=null&&lt.requiresConfiguration&&Ft({title:"VAPI Configuration Required",description:"Please add your VAPI API key in Organization Settings to load assistants.",variant:"default"})}await new Promise(wt=>setTimeout(wt,500));try{console.log(" Fetching phone numbers...");const wt=await nr.get("/vapi-data/phone-numbers");console.log(" Direct API response:",wt);const or=wt.data.phoneNumbers||[];console.log(" Phone numbers extracted:",or),console.log(" Phone numbers length:",or.length),or.length>0?(console.log(" Setting phone numbers state with",or.length,"items"),console.log(" Phone numbers to set:",or),M(or),U(J=>!J),U(J=>!J)):(console.log(" No phone numbers data or empty array"),M([]))}catch(wt){console.error(" Failed to load phone numbers from API, trying Supabase:",wt);try{if(_e!=null&&_e.organization_id){const or=await qi.getPhoneNumbers(_e.organization_id);if(console.log(" Loaded phone numbers from Supabase:",or),or&&or.length>0){const J=or.map(ve=>({id:ve.id,number:ve.number,friendlyName:ve.number,country:ve.country_code||"US"}));M(J)}else M([])}}catch(or){console.error(" Failed to load from Supabase too:",or),M([])}(mr=(ot=wt.response)==null?void 0:ot.data)!=null&&mr.requiresConfiguration&&Ft({title:"VAPI Configuration Required",description:"Please add your VAPI API key in Organization Settings to load phone numbers.",variant:"default"})}console.log(" Final VAPI data state:",{assistants:I.length,phoneNumbers:K.length})}catch(wt){console.error(" Unexpected error loading VAPI data:",wt),Ft({title:"Warning",description:"Failed to load VAPI data. Please check your configuration.",variant:"destructive"})}finally{U(!1)}},Pt=async()=>{var we;try{const ze=await bx.getCampaignDefaults();ze.maxConcurrentCalls&&Ia(ze.maxConcurrentCalls),(we=ze.defaultWorkingHours)!=null&&we.enabled&&(Ue(!0),ze.defaultWorkingHours.timezone&&Ge(ze.defaultWorkingHours.timezone),ze.defaultWorkingHours.hours&&ue(ze.defaultWorkingHours.hours)),console.log(" Organization defaults loaded successfully")}catch(ze){console.warn(" Could not load organization defaults, using built-in defaults:",ze),Ia(5),z(20),Ue(!0)}};p.useEffect(()=>{s===7&&R.length>0&&Lt()},[s,R.length,aa,Nr,na,js]);const Lt=()=>{const we=R.length,ze=Ie==="basic"?2:Ie==="smart"?3:5,lt=Te?8:24,ot=we*(1+ze),mr=ot*aa,or=ot*aa/js*1.1/60/lt,J=mr*na;let ve="healthy",er=0;Nr!==null&&(Nr<J*.5?(ve="critical",er=Math.ceil((J*1.2-Nr)/10)*10):Nr<J&&(ve="warning",er=Math.ceil((J*1.2-Nr)/10)*10)),Ri({totalAttempts:ot,totalMinutes:Math.round(mr),totalCost:Math.round(J*100)/100,campaignDays:Math.round(or*10)/10,recommendedTopUp:er,balanceStatus:ve})},Hs={rateLimiting:{title:" Rate Limiting Controls",description:" Prevent carrier blocks and optimize delivery rates",content:`
##  What is Rate Limiting?

Rate limiting controls how quickly your campaign makes calls to prevent overwhelming phone carriers and triggering spam protection systems.

###  Why It Matters

** Carrier Protection**
-  Phone carriers monitor call patterns and flag accounts that make too many calls too quickly
-  Spam flags can result in your phone numbers being blocked or marked as suspicious
-  Rate limiting mimics human calling patterns to maintain good sender reputation

** API Optimization**
-  Prevents hitting VAPI's API rate limits which could pause your campaign
-  Distributes calls evenly over time for better system performance
-  Reduces network congestion and improves call quality

###  Recommended Settings

** Conservative Approach (Recommended for new accounts)**
-  3-5 calls per minute
-  15-25 calls per hour  
-  Lower concurrency (5-8 simultaneous calls)

** Aggressive Approach (For established accounts)**
-  8-12 calls per minute
-  40-60 calls per hour
-  Higher concurrency (10-15 simultaneous calls)

###  Key Metrics

** Calls Per Minute**
The maximum number of calls to initiate within any 60-second window. This prevents rapid-fire calling that triggers carrier flags.

** Calls Per Hour** 
The total call volume limit within any 60-minute period. This ensures sustainable call rates throughout your campaign.

** Concurrent Calls**
How many calls can be active simultaneously. Higher concurrency improves speed but requires more system resources.

** Delay Between Calls**
Minimum wait time between individual call attempts. Even small delays (1-2 seconds) help maintain natural calling patterns.

###  Best Practices

 ** Start Conservative**: Begin with lower limits and gradually increase based on performance
 ** Monitor Metrics**: Watch for delivery rate drops that indicate carrier blocking  
 ** Respect Time Zones**: Combine with working hours controls for optimal results
 ** Test Gradually**: Increase limits slowly to find your account's optimal rates

 ** Warning Signs**: If you notice suddenly dropped answer rates or delivery failures, reduce your rate limits immediately.
      `},qualificationCriteria:{title:" Lead Qualification Criteria",description:" Define what makes a qualified lead for your campaign",content:`
##  What is Lead Qualification?

Lead qualification helps you automatically identify and prioritize the most promising prospects from your calling campaigns. The AI analyzes call transcripts to detect specific qualification signals you define.

###  Why Lead Qualification Matters

** Better ROI**
-  Focus follow-up efforts on most promising leads
-  Save time by auto-filtering unqualified prospects
-  Increase conversion rates by 40-60%
-  Scale your sales process efficiently

** AI-Powered Detection**
-  Automatically analyzes call transcripts
-  Tags leads based on qualification criteria
-  Scores leads on multiple dimensions
-  Customizable to your specific needs

###  Preset Qualification Fields

We provide **22 preset fields** across 9 categories that cover most common qualification scenarios:

** Appointment & Follow-up**
-  Appointment Booked (90% weight)
-  Callback Requested (30% weight)
-  Demo Requested (80% weight)

** Interest Level**
-  High Interest Expressed (70% weight)
-  Asking Detailed Questions (50% weight)
-  Use Case Mentioned (60% weight)

** Timeline**
-  Urgent Need (85% weight)
-  Timeline Mentioned (40% weight)

** Budget & Authority**
-  Budget Mentioned (75% weight)
-  Budget Qualified (85% weight)
-  Decision Maker (80% weight)
-  Authority Confirmed (40% weight)

** Pain Points**
-  Pain Point Expressed (65% weight)
-  Problem Fit Confirmed (75% weight)

** Competitor Info**
-  Using Competitor (45% weight)
-  Competitor Dissatisfaction (70% weight)

** Contact Info**
-  Email Provided (35% weight)
-  Best Time to Call (25% weight)
-  Additional Contacts (30% weight)

** Company Info**
-  Company Size Mentioned (40% weight)
-  Industry Mentioned (30% weight)
-  Company Name Confirmed (20% weight)

###  Scoring Weights Explained

Each field has a **scoring weight** (0-100%) that determines its importance:

- **90-100%**: Critical buying signals (appointments, budget qualified)
- **70-89%**: Strong indicators (high interest, pain points)
- **50-69%**: Important context (questions, use cases)
- **30-49%**: Supporting information (company details, timeline)
- **0-29%**: Nice to have (contact preferences)

###  Custom Fields

Beyond presets, you can add **unlimited custom fields** specific to your business:

**Examples:**
-  Healthcare: "Insurance Type", "Patient Volume"
-  Construction: "Project Size", "Timeline to Break Ground"
-  Software: "Current Tech Stack", "Integration Requirements"
-  Retail: "Store Locations", "Annual Revenue"

###  Winning Criteria

Define what combination of fields makes a "winning" lead:

**Minimum Call Duration**
-  Set minimum seconds for qualification (default: 60s)
-  Short calls automatically disqualified
-  Ensures meaningful conversation occurred

**Auto-Accept Score**
-  Leads scoring above threshold auto-qualify (default: 80%)
-  Speeds up lead processing
-  Focuses human review on borderline cases

**Required Fields**
-  Must-have information for qualification
-  Missing required fields = automatic review
-  Examples: Budget range, decision maker status

**Disqualifiers**
-  Automatic rejection triggers
-  Examples: "Already a customer", "Not interested"
-  Saves time on dead-end leads

###  Configuration Tips

** Start Focused**
- Begin with 5-8 critical fields
- Add more as you learn what matters
- Quality over quantity

** Monitor Performance**
- Track which fields best predict conversions
- Adjust weights based on results
- Remove fields that don't correlate

** Industry Alignment**
- Choose fields relevant to your sales process
- Consider your typical buyer journey
- Match your CRM requirements

** Balance Automation**
- Higher auto-accept threshold = fewer false positives
- Lower threshold = more leads need review
- Find your sweet spot through testing

###  Advanced Strategies

** Progressive Qualification**
- Start with basic fields
- Add detailed fields as campaign matures
- Refine based on conversion data

** Segment-Specific Criteria**
- Different criteria for enterprise vs SMB
- Industry-specific qualification
- Geographic considerations

** AI Learning**
- System improves detection over time
- Learns your specific language patterns
- Adapts to your market terminology

###  Best Practices

 **Review Sample Calls**: Listen to calls that barely qualified/disqualified
 **Iterate Quickly**: Adjust criteria based on first 50-100 calls
 **Team Alignment**: Ensure sales team agrees with criteria
 **CRM Integration**: Map fields to your CRM for seamless handoff
 **Regular Audits**: Review criteria quarterly for relevance
      `},retryLogic:{title:" Retry Logic Enhancements",description:" Intelligent failure handling to maximize contact rates",content:`
##  Understanding Retry Logic

Retry logic determines how your campaign responds to different types of call failures. Instead of giving up after one attempt, intelligent retries can significantly improve your contact rates.

###  The Four Failure Types

**1.  No Answer**
- ** What It Means**: Phone rings but nobody picks up
- ** Common Causes**: Contact is busy, away from phone, or screening calls
- ** Best Strategy**: Try again when they might be available
- ** Recommended**: 2-3 attempts with 30-60 minute delays

**2.  Voicemail**
- ** What It Means**: Call was answered by voicemail system
- ** Common Causes**: Contact is unavailable but message was delivered
- ** Best Strategy**: Give them time to respond before trying again
- ** Recommended**: 1-2 attempts with 1-2 hour delays

**3.  Dead/Disconnected Line**
- ** What It Means**: Number is no longer in service or unreachable
- ** Common Causes**: Changed numbers, disconnected service, or technical issues
- ** Best Strategy**: Minimal retries since issue is usually permanent
- ** Recommended**: 1 attempt after 24 hours (for technical issues)

**4.  Busy Signal**
- ** What It Means**: Line is currently occupied by another call
- ** Common Causes**: Contact is on another call
- ** Best Strategy**: Quick retries since busy signals clear fast
- ** Recommended**: 3-4 attempts with 5-10 minute delays

###  Advanced Features

** Exponential Backoff**
Gradually increases delays between retries:
-  Attempt 1: Wait 30 minutes
-  Attempt 2: Wait 60 minutes  
-  Attempt 3: Wait 120 minutes

This prevents appearing too persistent while maximizing chances of contact.

** Global Retry Limit**
Sets a hard cap on total attempts per contact across all failure types. Prevents harassment and maintains compliance with calling regulations.

###  Legal Compliance

** Calling Best Practices**
-  Limits excessive calling to prevent harassment complaints
-  Respects consumer privacy and calling preferences
-  Maintains professional calling practices

** Industry Standards**
-  Follows telecommunications best practices
-  Aligns with carrier requirements for good sender reputation
-  Prevents account suspension due to aggressive calling

###  Performance Impact

** Higher Contact Rates**
-  Well-timed retries can improve contact rates by 40-60%
-  Different failure types have different success probabilities
-  Smart timing maximizes availability windows

** Resource Efficiency**
-  Prevents wasted calls on permanently unreachable numbers
-  Optimizes campaign duration and costs
-  Focuses efforts on contacts most likely to connect

###  Configuration Tips

** Start with Defaults**: The recommended settings are based on industry data and compliance requirements.

** Monitor Results**: Track which failure types have the best retry success rates for your specific campaigns.

** Adjust Gradually**: Make small changes and measure impact before major adjustments.

** Consider Your Audience**: B2B contacts may have different availability patterns than B2C contacts.
      `},callsPerMinute:{title:" Calls Per Minute Control",description:" Manage call frequency to prevent carrier blocks",content:`
##  Calls Per Minute Settings

The "Calls Per Minute" setting controls how many outbound calls your campaign can initiate within any 60-second window. This is one of the most critical settings for maintaining good sender reputation with phone carriers.

###  Why This Matters

** Carrier Protection**
-  Phone carriers actively monitor calling patterns from business numbers
-  Too many calls in a short time triggers automatic spam detection systems
-  Once flagged, your phone number may be blocked or marked as suspicious
-  Recovery from carrier blocks can take weeks or months

** Optimal Call Distribution**
-  Spreading calls over time mimics natural human calling patterns
-  Prevents overwhelming carrier infrastructure
-  Maintains consistent call quality and connection rates
-  Reduces the risk of calls being automatically rejected

###  Recommended Settings

** Conservative (1-3 calls/minute)**
-  Best for new phone numbers or accounts
-  Lowest risk of carrier flags
-  Slower campaign completion but highest success rates
-  Recommended for highly regulated industries

** Moderate (4-6 calls/minute)**  
-  Good balance of speed and safety
-  Suitable for established phone numbers
-  Most commonly used setting across industries
-  Good starting point for most campaigns

** Aggressive (7-12 calls/minute)**
-  Only for well-established, high-reputation numbers
-  Requires careful monitoring of delivery rates
-  Best for time-sensitive campaigns
-  Higher risk but faster completion

###  Technical Implementation

The system enforces this limit by:
-  Queuing calls when the limit is reached
-  Distributing calls evenly across the minute window
-  Automatically adjusting for any failed or rejected calls
-  Providing real-time monitoring of call rates

###  Warning Signs

** Reduce your rate immediately if you notice:**
-  Sudden drops in answer rates (below 15-20%)
-  Increased "failed to connect" errors
-  Calls going straight to voicemail more frequently
-  Recipients reporting they never received calls

###  Best Practices

 ** Start Low**: Begin with 3-5 calls/minute for new numbers
 ** Monitor Closely**: Watch delivery rates daily for first week
 ** Scale Gradually**: Increase by 1-2 calls/minute weekly if performance holds
 ** Document Results**: Track optimal rates for different phone numbers
      `},callsPerHour:{title:" Calls Per Hour Limit",description:" Set hourly call volume caps for sustainable campaigns",content:`
##  Calls Per Hour Management

The "Calls Per Hour" setting establishes the maximum number of calls your campaign can make within any 60-minute period. This works alongside the per-minute limit to provide comprehensive rate control.

###  How It Works

** Hierarchical Limiting**
-  The system respects BOTH per-minute and per-hour limits
-  Whichever limit is reached first will pause calling
-  Example: 5 calls/minute (300/hour) but 100/hour limit = 100 calls maximum
-  Provides multiple layers of protection against over-calling

** Rolling Window**
-  Calculated on a rolling 60-minute basis, not fixed hours
-  If you made 80 calls in the past hour, only 20 more are allowed
-  Automatically resets as older calls fall outside the window
-  Ensures consistent, sustainable calling rates

###  Strategic Applications

** Campaign Duration Control**
-  Lower hourly limits extend campaign duration
-  Higher limits complete campaigns faster
-  Useful for managing resource allocation across multiple campaigns
-  Helps balance speed vs. deliverability

** Compliance Requirements**
-  Some industries have specific hourly calling limits
-  Helps maintain compliance with internal policies
-  Provides audit trail for regulatory requirements
-  Supports fair calling practices

###  Recommended Ranges

** Low Volume (20-50 calls/hour)**
-  Ideal for high-value, personalized outreach
-  Maximum deliverability and answer rates
-  Best for small, targeted contact lists
-  Suitable for premium or enterprise prospects

** Medium Volume (60-120 calls/hour)**
-  Balanced approach for most business campaigns
-  Good mix of speed and quality
-  Suitable for established phone numbers
-  Most common setting for B2B outreach

** High Volume (150-300 calls/hour)**
-  For large-scale campaigns with proven infrastructure
-  Requires excellent phone number reputation
-  Best for time-sensitive or promotional campaigns
-  Needs constant monitoring and optimization

###  Interaction with Other Settings

** Per-Minute Relationship**
-  5 calls/minute = 300 theoretical calls/hour
-  Hour limit of 100 would cap actual volume
-  System automatically calculates effective rates
-  Displayed in real-time performance estimates

** Concurrent Calls Impact**
-  Higher concurrency can help achieve hourly targets
-  Must balance with carrier capacity
-  More concurrent calls = higher resource usage
-  Affects overall campaign cost structure

###  Monitoring and Optimization

** Key Metrics to Watch**
-  Actual calls per hour vs. target
-  Answer rate consistency throughout day
-  Cost per successful connection
-  Overall campaign completion time

** Adjustment Strategies**
-  Start with conservative limits and increase gradually
-  Monitor answer rates - drops indicate limits too high
-  Consider time-of-day variations in success rates
-  Document optimal settings for future campaigns

###  Troubleshooting

** If calls stop before hourly limit:**
-  Check if per-minute limit is more restrictive
-  Verify sufficient contacts remain in queue
-  Ensure working hours settings aren't blocking calls
-  Check for system errors or API limits

** If performance degrades:**
-  Reduce hourly limit by 20-30%
-  Monitor recovery of answer rates
-  Consider spreading calls across more hours
-  Review carrier feedback and delivery reports
      `},concurrentCalls:{title:" Concurrent Calls Limit",description:" Control simultaneous active calls for optimal performance",content:`
##  Concurrent Calls Management

The "Concurrent Calls Limit" determines how many calls can be active simultaneously at any given moment. This setting directly impacts campaign speed, resource usage, and call quality.

###  Understanding Concurrency

** What "Concurrent" Means**
-  Number of calls happening at exactly the same time
-  Includes dialing, ringing, connected, and wrapping up calls
-  Different from calls per minute (which is about initiation rate)
-  Affects both system resources and carrier load

** System Resource Impact**
-  Each concurrent call uses server resources
-  Higher concurrency = more CPU, memory, and bandwidth
-  Too high can degrade call quality for all calls
-  Must balance speed with system stability

###  Technical Considerations

** Network Capacity**
-  Your internet connection has finite bandwidth
-  Each call typically uses 64-100 kbps for audio
-  10 concurrent calls  1 Mbps bandwidth minimum
-  Poor connections may require lower concurrency

** VAPI API Limits**
-  VAPI may have account-specific concurrency limits
-  Exceeding limits results in rejected call attempts
-  Check your account tier for maximum allowed
-  Higher tiers typically support more concurrent calls

** Carrier Relationships**
-  Some carriers limit simultaneous calls per number
-  Business lines typically support 5-20+ concurrent calls
-  Residential lines may be limited to 1-3
-  Carrier-specific limits override system settings

###  Recommended Settings

** Conservative (1-5 concurrent)**
-  Best for new accounts or limited infrastructure
-  Highest call quality and reliability
-  Slower campaign completion
-  Safest option for testing and optimization

** Moderate (6-12 concurrent)**
-  Good balance for most business applications
-  Suitable for established systems
-  Reasonable speed with maintained quality
-  Most common setting for professional campaigns

** Aggressive (15-25+ concurrent)**
-  For high-capacity systems and urgent campaigns
-  Requires robust infrastructure and monitoring
-  Maximum speed but higher complexity
-  Best for experienced users with proven setups

###  Impact on Campaign Performance

** Speed Benefits**
-  Higher concurrency = faster campaign completion
-  More calls attempted per minute
-  Better utilization of available calling windows
-  Improved overall efficiency

** Quality Trade-offs**
-  System resources spread across more calls
-  Potential for increased latency or audio issues
-  More complex error handling and recovery
-  Higher chance of simultaneous failures

###  Optimization Strategies

** Finding Your Sweet Spot**
1.  Start with 5-8 concurrent calls
2.  Monitor call quality and connection rates
3.  Gradually increase if performance remains stable
4.  Back down immediately if quality degrades

** Performance Monitoring**
-  Track connection success rates
-  Monitor audio quality reports
-  Watch for timeout or error increases
-  Measure actual vs. expected campaign duration

###  Troubleshooting Common Issues

** Calls Failing to Connect**
-  May indicate concurrency set too high
-  Check VAPI account limits
-  Verify internet bandwidth capacity
-  Review carrier-specific restrictions

** Poor Audio Quality**
-  Often caused by resource contention
-  Reduce concurrent calls by 20-30%
-  Check network congestion
-  Consider upgrading internet connection

** Slower Than Expected Performance**
-  System may be throttling due to resource limits
-  Concurrent setting might be lower than displayed  
-  Check for background processes using resources
-  Verify all calls are actually being initiated

###  Advanced Configuration

** Time-Based Adjustments**
-  Higher concurrency during peak efficiency hours
-  Lower during known network congestion periods
-  Automatic scaling based on system performance
-  Integration with working hours for optimal timing

** Campaign-Specific Settings**
-  Higher for simple, short calls
-  Lower for complex, longer conversations
-  Adjust based on target audience availability
-  Consider call outcome requirements

###  Best Practices

 ** Monitor Continuously**: Watch performance metrics in real-time
 ** Test Incrementally**: Increase concurrency slowly with monitoring
 ** Document Optimal Settings**: Record best configurations for reuse
 ** Plan for Peak Times**: Account for varying system loads throughout day
 ** Have Fallback Plans**: Be ready to reduce if performance degrades
      `},delayBetweenCalls:{title:" Delay Between Calls",description:" Set minimum wait time between consecutive call attempts",content:`
##  Call Delay Management

The "Delay Between Calls" setting establishes a minimum wait time between consecutive call attempts. This subtle but important feature helps maintain natural calling patterns and prevents rapid-fire calling that can trigger spam detection.

###  Purpose and Benefits

** Natural Calling Patterns**
-  Human agents naturally have small pauses between calls
-  Even 1-2 second delays help mimic human behavior
-  Prevents the "machine gun" calling pattern that carriers flag
-  Creates more realistic call timing for better acceptance

** System Stability**
-  Gives the system time to properly close previous calls
-  Prevents resource conflicts between rapid successive calls
-  Allows proper cleanup of call sessions
-  Reduces system errors and improves reliability

** Carrier Relationship Management**
-  Even small delays show respect for carrier infrastructure
-  Prevents overwhelming carrier switching equipment
-  Demonstrates professional calling practices
-  Helps maintain good sender reputation

### Technical Implementation

**How Delays Work**
- Timer starts when previous call attempt completes
- Delay applies regardless of call outcome (success, failure, busy, etc.)
- Measured from call termination to next call initiation
- Works in conjunction with rate limiting, not instead of it

**Interaction with Other Settings**
- Delays can effectively reduce your maximum calls per minute
- Example: 1-second delay + 10 calls/minute may actually achieve 8-9/minute
- System automatically adjusts calculations for realistic estimates
- Performance projections account for delay overhead

### Recommended Settings

**No Delay (0 seconds)**
- Maximum campaign speed
- Only recommended for high-reputation numbers
- Requires careful monitoring for carrier acceptance
- Best for urgent, time-sensitive campaigns

**Minimal Delay (1-2 seconds)**
- Good balance of speed and naturalness
- Recommended for most business campaigns
- Slight speed reduction for significant deliverability improvement
- Most common professional setting

**Moderate Delay (3-5 seconds)**
- More natural, human-like calling pattern
- Better for sensitive or regulated industries
- Improved answer rates due to less aggressive appearance
- Good for high-value prospect lists

**Extended Delay (10+ seconds)**
- Maximum naturalness and deliverability
- Best for premium prospects or compliance-heavy industries
- Significantly slower campaign completion
- Often combined with other conservative settings

### Strategic Applications

**List Quality Considerations**
- Shorter delays for verified, opted-in contacts
- Longer delays for cold outreach or purchased lists
- Adjust based on expected contact receptivity
- Consider source and age of contact data

**Industry-Specific Needs**
- Healthcare: Longer delays show respect for busy professionals
- Finance: Compliance often favors more conservative timing
- Sales: Balance speed with relationship preservation
- Emergency services: May require immediate successive calls

### Performance Impact Analysis

**Speed vs. Quality Trade-off**
- Each second of delay reduces hourly call capacity
- 2-second delay  10-15% reduction in call volume
- 5-second delay  25-30% reduction in call volume
- Must weigh speed loss against deliverability gains

**Answer Rate Improvements**
- Studies show 1-3 second delays can improve answer rates by 5-15%
- Recipients less likely to perceive calls as automated
- Reduced likelihood of being sent directly to voicemail
- Better first impression for successful connections

### Monitoring and Optimization

**Key Metrics to Track**
- Answer rate changes with different delay settings
- Overall campaign completion time
- Carrier feedback and delivery success rates
- Cost per successful connection

**A/B Testing Approach**
- Test different delay settings on similar contact segments
- Measure both speed and quality metrics
- Find optimal delay for your specific use case
- Document results for future campaign planning

### Advanced Delay Strategies

**Dynamic Delays**
- Shorter delays during peak answer times
- Longer delays for follow-up or retry attempts
- Automatic adjustment based on recent call outcomes
- Integration with AI to optimize timing

**Contact-Specific Delays**
- Longer delays for high-value prospects
- Shorter delays for time-sensitive promotions
- Adjustment based on contact timezone or preferences
- Personalization based on historical response patterns

### Troubleshooting

**If Campaign Seems Too Slow**
- Check if delay setting is higher than intended
- Verify delays aren't compounding with other throttling
- Consider reducing delay while monitoring answer rates
- Balance speed needs with quality requirements

**If Getting Spam Flags**
- Increase delay to 2-3 seconds minimum
- Monitor carrier feedback for improvements
- Consider combining with other conservative settings
- Review overall calling pattern and volume

###  Best Practices

 ** Start Conservative**: Begin with 1-2 second delays
 ** Monitor Answer Rates**: Track improvements vs. speed loss
 ** Industry Appropriate**: Adjust for your target audience expectations
 ** Document Optimal Settings**: Record best delays for different campaign types
 ** Regular Review**: Reassess delay needs as phone reputation improves
      `},workingHours:{title:" Working Hours & Timezone Management",description:" Timezone-aware scheduling for compliance and better results",content:`
##  Timezone-Aware Scheduling

Working hours management ensures your calls are made at appropriate times in each contact's local timezone, improving answer rates and maintaining legal compliance.

###  Why Timezone Management Matters

** Professional Standards**
- ** Calling Hours**: Best practice is to call during reasonable hours (typically 9 AM - 8 PM local time)
- ** Regional Considerations**: Different regions may have varying acceptable calling times
- ** Business Impact**: Poor timing can damage your brand reputation

** Better Results**
- ** Higher Answer Rates**: People are more likely to answer during business hours
- ** Professional Image**: Respecting time zones shows consideration
- ** Reduced Complaints**: Appropriate timing reduces negative responses

###  Timezone Settings

**Default Campaign Timezone**
-  Set the primary timezone for your campaign
-  All calls will be scheduled according to this timezone
-  Perfect for local or regional campaigns
-  Can use contact-specific timezones if available in your data

### Weekly Schedule Configuration

**Flexible Day Selection**
- Enable/disable individual days of the week
- Set different hours for different days
- Account for varying business schedules

**Time Zone Considerations**
- All times are automatically converted to contact's local timezone
- System handles Daylight Saving Time transitions
- Respects regional time zone variations

### Advanced Features

**Holiday Exclusion**
- Automatically skips major holidays
- Improves answer rates and contact satisfaction
- Maintains professional calling practices
- Includes: New Year's Day, Memorial Day, Independence Day, Labor Day, Thanksgiving, Christmas

**DST (Daylight Saving Time) Handling**
- Automatically adjusts for spring/fall time changes
- Maintains consistent local calling hours
- Prevents confusion during transition periods

**Custom Holiday Rules**
- Add company-specific holidays or regional observances
- Account for industry-specific closure dates
- Maintain flexibility for different business calendars

###  Best Practices

** Business Hours Guidelines**
- ** B2B Contacts**: 9 AM - 5 PM local time, Monday-Friday
- ** B2C Contacts**: 9 AM - 8 PM local time, including some weekend hours
- ** Healthcare**: Avoid meal times (12-1 PM) and shift changes
- ** Retail**: Consider evening hours when customers are home

** Contact Strategy Tips**
 ** Respect reasonable calling hours** to maintain good relationships
 ** Avoid early mornings and late evenings** for better contact rates
 ** Consider cultural differences** in international campaigns
 ** Honor customer preferences** and communication requests

** Performance Optimization**
- ** Test different time windows** to find optimal contact rates
- ** Analyze answer rate patterns** by time of day and day of week
- ** Adjust for seasonal variations** in contact availability
- ** Consider industry-specific schedules** (healthcare, education, etc.)

###  Common Time Zones

** United States**
-  Eastern Time (ET): UTC-5/-4
-  Central Time (CT): UTC-6/-5  
-  Mountain Time (MT): UTC-7/-6
-  Pacific Time (PT): UTC-8/-7

** International**
-  GMT (London): UTC+0/+1
-  CET (Paris): UTC+1/+2
-  JST (Tokyo): UTC+9
-  AEDT (Sydney): UTC+10/+11

###  Technical Implementation

The system automatically:
-  Filters contacts based on current local time
-  Schedules calls for appropriate hours
-  Handles timezone conversions
-  Manages DST transitions
-  Respects holiday calendars
-  Maintains compliance records
      `},teamManagement:{title:" Team Management",description:" Collaborate with team members on campaign execution",content:`
##  What is Team Management?

Team management allows you to invite colleagues to collaborate on your campaigns with specific roles and permissions.

###  **Team Roles:**

** Owner:** Full control over campaign, team, and CRM
- Edit campaign settings
- Manage team members
- Full CRM lead access (all leads)
- View all analytics and start/stop campaigns

** Manager:** Campaign and team management + CRM access
- Edit campaign settings
- Invite/remove team members
- Full CRM access to all leads
- Assign leads to team members
- Control campaign execution

** Agent:** Campaign execution + CRM lead management
- View campaign details
- Manage campaign-specific leads in CRM
- Edit assigned leads and add notes
- Start/stop campaigns with permissions

** Viewer:** Read-only campaign + limited CRM viewing
- View campaign information
- Limited CRM viewing (no editing)
- See basic analytics
- Cannot control execution or edit leads

###  **Key Benefits:**

-  **Email Invitations:** Send secure invites with expiration
-  **Real-time Collaboration:** Changes sync instantly
-  **Granular Permissions:** Control campaign and CRM access precisely
-  **CRM Integration:** Team members get appropriate lead access
-  **Lead Assignment:** Assign specific leads to team members
-  **Audit Trail:** Track all team and lead changes
-  **Easy Onboarding:** One-click team member setup

###  **Best Practices:**

-  Assign roles based on responsibility levels
-  Use business email addresses for invitations
-  Limit CRM access to necessary leads only
-  Use "Assigned Only" for focused lead management
-  Review team access and lead assignments regularly
-  Document role responsibilities and CRM permissions clearly
      `},review:{title:" Campaign Review & Estimates",description:" Pre-launch cost and timeline analysis",content:`
##  What is Campaign Review?

The review section provides detailed estimates for your campaign including duration, costs, and resource requirements based on your configuration.

###  **Key Metrics Calculated:**

** Campaign Timeline:**
- Total call attempts (leads  retries)
- Estimated runtime in hours/days
- Working hours consideration
- Concurrent call throughput

** Cost Breakdown:**
- Vapi hosting fees ($0.05/min)
- Speech-to-Text costs ($0.01/min)
- Text-to-Speech costs ($0.05/min)
- Language Model costs ($0.07/min)
- Total estimated campaign cost

** Credit Management:**
- Current balance check
- Required credits calculation
- Top-up recommendations
- Overage warnings

###  **Calculation Formulas:**

**Total Attempts** = Leads  (1 + Retry Attempts)
**Total Minutes** = Total Attempts  Avg Call Duration
**Campaign Days** = Total Minutes  (Concurrent Calls  Working Hours  60)
**Total Cost** = Total Minutes  Cost per Minute

###  **Key Factors:**

-  **Average Call Duration:** Default 2 minutes (adjustable)
-  **Concurrent Calls:** Based on Vapi plan (10 default)
-  **Retry Logic:** Impacts total attempts significantly
-  **Working Hours:** Affects campaign timeline
-  **Credit Balance:** Determines if top-up needed

###  **Best Practices:**

-  Review all estimates before launching
-  Maintain 20% buffer in credit balance
-  Use historical data for accurate duration
-  Adjust concurrency for optimal throughput
-  Monitor actual vs. estimated costs
-  Set up balance alerts in Vapi dashboard
      `}},Rs=we=>{Fe(we),ne(!0)},Zn=()=>{const we=`number,name,another_var
+1 (234) 567-8901,John Doe,Hello
12344543210,Jane Smith,World
+1-234-423-4567,Bob Johnson,Test`,ze=new Blob([we],{type:"text/csv"}),lt=window.URL.createObjectURL(ze),ot=document.createElement("a");ot.href=lt,ot.download="campaign-template.csv",document.body.appendChild(ot),ot.click(),document.body.removeChild(ot),window.URL.revokeObjectURL(lt)},Da=we=>{var lt;const ze=(lt=we.target.files)==null?void 0:lt[0];if(ze&&ze.type==="text/csv"){v(ze);const ot=new FileReader;ot.onload=mr=>{var er,Cr;const or=((er=mr.target)==null?void 0:er.result).split(`
`),J=((Cr=or[0])==null?void 0:Cr.split(",").map(vr=>vr.trim()))||[],ve=or.slice(1).filter(vr=>vr.trim()).map(vr=>{const ia=vr.split(",").map(ti=>ti.trim()),en={};return J.forEach((ti,Ad)=>{en[ti]=ia[Ad]||""}),en});$(ve)},ot.readAsText(ze)}else Ft({title:"Invalid file",description:"Please upload a CSV file",variant:"destructive"})},Nn=()=>{if(s===1){if(!n||!d||!h||!w){Ft({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}a(2)}else s===2?a(3):s===3?a(4):s===4?a(5):s===5?a(6):s===6&&a(7)},Za=()=>{s===7?a(6):s===6?a(5):s===5?a(4):s===4?a(3):s===3?a(2):s===2?a(1):r()},Zo=async()=>{var we,ze,lt,ot;console.log(" Starting campaign creation..."),console.log("Campaign data:",{name:n,phoneNumber:d,assistant:h,csvFile:w==null?void 0:w.name,whenToSend:g}),N(!0);try{let mr={vapiCredentials:null,maxConcurrentCalls:js||5,complianceSettings:null};try{mr=await bx.getCampaignDefaults(),console.log(" Got organization defaults:",mr)}catch(Cr){console.warn(" Could not get organization defaults, using fallbacks:",Cr)}const or=[{id:"current-user",email:"user@example.com",role:"owner",status:"active",firstName:"Current",lastName:"User",joinedAt:new Date().toISOString(),crmAccessLevel:"all_leads",leadPermissions:{view:!0,edit:!0,delete:!0,export:!0,assign:!0}},...it];let J;if(R.length>0){const Cr=Object.keys(R[0]),vr=R.map(ia=>Cr.map(en=>ia[en]||"").join(","));J=[Cr.join(","),...vr].join(`
`)}const ve={name:n,assistantId:h,phoneNumberId:d,csvData:J,sendTiming:g,settings:{callsPerHour:Y?F:60,callsPerMinute:Y?L:10,retryAttempts:2,timeZone:ie,workingHours:{enabled:Te,start:"09:00",end:"17:00",defaultTimezone:ie,useContactTimezone:Ct,schedule:St,excludeHolidays:Be,customHolidays:Jt,respectDST:wr},rateLimiting:{enabled:Y,callsPerMinute:L,callsPerHour:F,customConcurrency:js,delayBetweenCalls:H},retryStrategy:Ie},qualificationCriteria:{selectedFields:De,customFields:Ce,winningCriteria:te},teamManagement:{enabled:ra||or.length>1,members:or,invitations:rr},organizationSettings:{vapiCredentials:mr.vapiCredentials,maxConcurrentCalls:mr.maxConcurrentCalls,complianceSettings:mr.complianceSettings}};console.log(" Calling createCampaign with data:",ve);const er=await Ha.createCampaign(ve);console.log(" Campaign created:",er),g==="now"&&await Ha.startCampaign(er.id),Ft({title:"Campaign created",description:`Campaign "${n}" has been created successfully!`}),e(er)}catch(mr){console.error(" Error creating campaign:",mr),console.error("Error details:",{message:mr.message,response:(we=mr.response)==null?void 0:we.data,status:(ze=mr.response)==null?void 0:ze.status});const wt=((ot=(lt=mr.response)==null?void 0:lt.data)==null?void 0:ot.message)||mr.message||"Failed to create campaign. Please try again.";Ft({title:"Error",description:wt,variant:"destructive"})}finally{N(!1)}};return t.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900 flex",children:t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-6",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:Za,className:"text-gray-400 hover:text-white",children:t.jsx(tc,{className:"w-5 h-5"})}),t.jsxs("h1",{className:"text-lg font-semibold text-white",children:["New campaign ",s===2&&"- Rate Limiting",s===3&&"- Qualification Criteria",s===4&&"- Retry Logic",s===5&&"- Working Hours",s===6&&"- Team Management",s===7&&"- Review & Launch"]})]}),t.jsx("div",{})]}),t.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[t.jsxs("div",{className:`${s===1||zt?"w-1/2":"w-full"} flex flex-col transition-all duration-300`,children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[s===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{htmlFor:"campaign-name",className:"text-gray-300",children:"Campaign Name"}),t.jsx(Se,{id:"campaign-name",value:n,onChange:we=>i(we.target.value),placeholder:"Campaign Name",className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Z,{className:"text-gray-300 text-sm font-medium",children:"Campaign Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${o==="manual"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>l("manual"),children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${o==="manual"?"border-emerald-500":"border-gray-600"}`,children:o==="manual"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(Z,{className:"text-white font-medium",children:"Manual"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Start campaign now or schedule for later."})]}),t.jsxs("div",{className:"border-2 rounded-lg p-4 border-gray-800 bg-gray-800/30 opacity-60 cursor-not-allowed",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-600 flex items-center justify-center"}),t.jsx(Z,{className:"text-gray-500 font-medium",children:"Live"}),t.jsx("span",{className:"text-xs text-gray-600 bg-gray-700 px-2 py-0.5 rounded",children:"Coming soon"})]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Triggered via webhooks from your website or forms."})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{htmlFor:"phone-number",className:"text-gray-300",children:"Phone Number"}),t.jsxs(at,{value:d,onValueChange:m,disabled:V,children:[t.jsx(et,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:V?"Loading...":"Select"})}),t.jsx(tt,{className:"bg-gray-800 border-gray-700",children:K.length===0?t.jsx(se,{value:"none",disabled:!0,children:"No phone numbers available"}):K.map(we=>t.jsxs(se,{value:we.id,children:[we.number," ",we.name?`(${we.name})`:""]},we.id))})]}),t.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"font-medium",children:"Best Practices"})]}),t.jsxs("p",{children:["Learn how to avoid spam flagging and optimize your calling strategy for better success rates. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Spam flagging best practices"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Z,{className:"text-gray-300",children:"Upload CSV"}),t.jsxs(q,{variant:"link",onClick:Zn,className:"text-blue-400 hover:text-blue-300 p-0 h-auto text-sm",children:[t.jsx(Fl,{className:"w-3 h-3 mr-1"}),"Download template"]})]}),w?t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fl,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:"text-white text-sm",children:w.name})]}),t.jsx("button",{onClick:()=>{v(null),$([])},className:"text-gray-400 hover:text-white",children:t.jsx(jt,{className:"w-4 h-4"})})]}):t.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8 text-center hover:border-gray-600 transition-colors",children:[t.jsx("input",{type:"file",accept:".csv",onChange:Da,className:"hidden",id:"csv-upload"}),t.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[t.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-lg bg-gray-800 flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsx("p",{className:"text-gray-400",children:"Drag and drop a CSV file here or click to select file locally"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum file size: 5MB"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Z,{htmlFor:"assistant",className:"text-gray-300",children:"Assistant"}),t.jsxs("button",{type:"button",onClick:async()=>{console.log(" Manual reload clicked"),console.log(" Current assistants state:",I),console.log(" Current phoneNumbers state:",K),console.log(" Dev auth enabled:","false"),await Ze()},className:"text-xs text-emerald-500 hover:text-emerald-400",children:["Reload (",I.length,")"]})]}),t.jsxs(at,{value:h,onValueChange:f,disabled:V,children:[t.jsx(et,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:V?"Loading...":"Select"})}),t.jsx(tt,{className:"bg-gray-800 border-gray-700",children:(console.log(" Rendering assistants dropdown:",{assistantsLength:I.length,assistants:I,loadingVapiData:V}),I.length===0?t.jsx(se,{value:"none",disabled:!0,children:"No assistants available"}):I.map(we=>t.jsx(se,{value:we.id,children:we.name},we.id)))})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Z,{className:"text-gray-300",children:"Choose when to send"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${g==="now"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>y("now"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${g==="now"?"border-emerald-500":"border-gray-600"}`,children:g==="now"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(Z,{className:"text-white cursor-pointer",children:"Send Now"})]})}),t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${g==="later"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>y("later"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${g==="later"?"border-emerald-500":"border-gray-600"}`,children:g==="later"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(Z,{className:"text-white cursor-pointer",children:"Schedule for later"})]})})]}),g==="later"&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(Z,{className:"text-gray-300",children:"Start at:"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(Z,{className:"text-gray-500 text-xs",children:"Date"}),t.jsxs(at,{value:C,onValueChange:S,children:[t.jsx(et,{className:"bg-gray-800 border-gray-700 text-white h-9",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"today",children:"Today"}),t.jsx(se,{value:"tomorrow",children:"Tomorrow"}),t.jsx(se,{value:"custom",children:"Custom Date"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(Z,{className:"text-gray-500 text-xs",children:"Time"}),t.jsx("div",{className:"relative",children:t.jsx(Se,{type:"text",value:_,onChange:we=>A(we.target.value),className:"bg-gray-800 border-gray-700 text-white pr-8 h-9"})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(Z,{className:"text-gray-500 text-xs",children:"Timezone"}),t.jsxs(at,{value:T,onValueChange:E,children:[t.jsx(et,{className:"bg-gray-800 border-gray-700 text-white h-9 text-sm",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"America/New_York",children:"Eastern (EST)"}),t.jsx(se,{value:"America/Chicago",children:"Central (CST)"}),t.jsx(se,{value:"America/Denver",children:"Mountain (MST)"}),t.jsx(se,{value:"America/Los_Angeles",children:"Pacific (PST)"}),t.jsx(se,{value:"Europe/London",children:"London (GMT)"}),t.jsx(se,{value:"Europe/Malta (GMT+2)",children:"Europe/Malta (GMT+2)"})]})]})]})]})]})]}),g==="later"&&t.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"Campaign Execution"})]}),t.jsxs("p",{className:"text-xs text-gray-400",children:["Calls will start at the scheduled time and continue until your organization's concurrency limit is reached. Remaining calls will be retried for up to 1 hour as capacity becomes available. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Increase concurrency limits"})]})]})]}),s===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Kr,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Rate Limiting Controls"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure call throttling to prevent carrier blocks and optimize delivery rates"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(Kr,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Z,{className:"text-white font-medium",children:"Enable Rate Limiting"}),t.jsx("button",{onClick:()=>Rs("rateLimiting"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Throttle API calls to prevent spam flags and carrier blocks"})]})]}),t.jsx(Lr,{checked:Y,onCheckedChange:B})]}),Y&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Z,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Minute"}),t.jsx("button",{onClick:()=>Rs("callsPerMinute"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[L," calls/min"]})]}),t.jsx(Ln,{value:[L],onValueChange:we=>O(we[0]),max:20,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 call/min"}),t.jsx("span",{children:"Conservative"}),t.jsx("span",{children:"Aggressive"}),t.jsx("span",{children:"20 calls/min"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Z,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Hour"}),t.jsx("button",{onClick:()=>Rs("callsPerHour"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[F," calls/hr"]})]}),t.jsx(Ln,{value:[F],onValueChange:we=>z(we[0]),max:200,min:5,step:5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"5 calls/hr"}),t.jsx("span",{children:"Standard: 20-60"}),t.jsx("span",{children:"200 calls/hr"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Z,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Concurrent Calls Limit"}),t.jsx("button",{onClick:()=>Rs("concurrentCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[ee," concurrent"]})]}),t.jsx(Ln,{value:[ee],onValueChange:we=>ke(we[0]),max:50,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 concurrent"}),t.jsx("span",{children:"Default: 10"}),t.jsx("span",{children:"50 concurrent"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Z,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Delay Between Calls"}),t.jsx("button",{onClick:()=>Rs("delayBetweenCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[H,"s delay"]})]}),t.jsx(Ln,{value:[H],onValueChange:we=>he(we[0]),max:10,min:0,step:.5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"No delay"}),t.jsx("span",{children:"Recommended: 1-3s"}),t.jsx("span",{children:"10s delay"})]})]}),t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(ba,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Estimated Performance"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Expected Calls/Hour:"}),t.jsxs("p",{className:"text-white font-medium",children:[Math.min(L*60,F)," calls"]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-gray-400",children:["With ",R.length," contacts:"]}),t.jsx("p",{className:"text-white font-medium",children:R.length>0?`~${Math.max(1,Math.ceil(R.length/Math.min(L*60,F)))} hours`:"0 hours"})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-blue-700/30",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Per Minute:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[L,"/min"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Concurrent:"}),t.jsx("p",{className:"text-blue-300 font-medium",children:ee})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Delay:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[H,"s"]})]})]})})]}),(L>10||ee>20)&&t.jsxs("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(va,{className:"w-4 h-4 text-amber-400"}),t.jsx("span",{className:"text-amber-300 font-medium text-sm",children:"High Volume Warning"})]}),t.jsx("p",{className:"text-amber-200 text-xs",children:"Aggressive rate limits may trigger carrier spam filters. Consider starting with conservative settings and gradually increasing based on performance."})]})]})]}),s===3&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(dr,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Lead Qualification Criteria"})]}),t.jsx("p",{className:"text-gray-400 text-sm",children:"Define what makes a qualified lead for your campaign. AI will analyze call transcripts to detect these signals."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-lg font-medium text-white",children:"Preset Qualification Fields"}),t.jsxs("span",{className:"text-sm text-gray-400",children:[Object.keys(De).filter(we=>De[we].enabled).length," selected"]})]}),t.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{category:"appointment",label:"Appointments",icon:ps,count:3},{category:"interest",label:"Interest Level",icon:dr,count:3},{category:"timeline",label:"Timeline",icon:It,count:2},{category:"budget",label:"Budget",icon:Ur,count:4},{category:"pain_point",label:"Pain Points",icon:Kt,count:2},{category:"company",label:"Company Info",icon:tr,count:3}].map(we=>{var ze,lt,ot,mr;return t.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(we.icon,{className:"w-4 h-4 text-emerald-400"}),t.jsx("h4",{className:"text-sm font-medium text-white",children:we.label}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",we.count,")"]})]}),t.jsxs("div",{className:"space-y-2",children:[we.category==="appointment"&&t.jsxs(t.Fragment,{children:[t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:((ze=De.appointment_booked)==null?void 0:ze.enabled)||!1,onChange:wt=>ce({...De,appointment_booked:{enabled:wt.target.checked,weight:90}}),className:"rounded border-gray-600 bg-gray-800 text-emerald-500 focus:ring-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Appointment Booked"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:((lt=De.demo_requested)==null?void 0:lt.enabled)||!1,onChange:wt=>ce({...De,demo_requested:{enabled:wt.target.checked,weight:80}}),className:"rounded border-gray-600 bg-gray-800 text-emerald-500 focus:ring-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Demo Requested"})]})]}),we.category==="interest"&&t.jsxs(t.Fragment,{children:[t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:((ot=De.high_interest)==null?void 0:ot.enabled)||!1,onChange:wt=>ce({...De,high_interest:{enabled:wt.target.checked,weight:70}}),className:"rounded border-gray-600 bg-gray-800 text-emerald-500 focus:ring-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"High Interest"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:((mr=De.asking_questions)==null?void 0:mr.enabled)||!1,onChange:wt=>ce({...De,asking_questions:{enabled:wt.target.checked,weight:50}}),className:"rounded border-gray-600 bg-gray-800 text-emerald-500 focus:ring-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Asking Questions"})]})]})]})]},we.category)})})]}),t.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Winning Lead Criteria"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"minCallDuration",className:"text-gray-300 text-sm mb-2",children:"Minimum Call Duration (seconds)"}),t.jsx(Se,{id:"minCallDuration",type:"number",value:te.minCallDuration,onChange:we=>be({...te,minCallDuration:parseInt(we.target.value)||60}),className:"bg-gray-950 border-gray-700 text-white"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Calls shorter than this are auto-disqualified"})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"autoAcceptScore",className:"text-gray-300 text-sm mb-2",children:"Auto-Accept Score (%)"}),t.jsx(Se,{id:"autoAcceptScore",type:"number",value:te.autoAcceptScore,onChange:we=>be({...te,autoAcceptScore:parseInt(we.target.value)||80}),className:"bg-gray-950 border-gray-700 text-white"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leads scoring above this auto-qualify"})]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300 text-sm mb-2",children:"Disqualifier Keywords"}),t.jsx(Se,{type:"text",placeholder:"e.g., not interested, already a customer, competitor",className:"bg-gray-950 border-gray-700 text-white",onKeyPress:we=>{if(we.key==="Enter"){const ze=we.currentTarget.value.trim();ze&&(be({...te,disqualifiers:[...te.disqualifiers,ze]}),we.currentTarget.value="")}}}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:te.disqualifiers.map((we,ze)=>t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-red-500/10 text-red-400",children:[we,t.jsx("button",{onClick:()=>be({...te,disqualifiers:te.disqualifiers.filter((lt,ot)=>ot!==ze)}),className:"ml-1 hover:text-red-300",children:t.jsx(jt,{className:"w-3 h-3"})})]},ze))})]})]}),t.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"text-lg font-medium text-white",children:"Custom Fields"}),t.jsxs(q,{variant:"outline",size:"sm",onClick:()=>{Ee([...Ce,{id:Date.now().toString(),name:"",weight:50,keywords:[]}])},className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(Br,{className:"w-4 h-4 mr-1"}),"Add Custom Field"]})]}),Ce.length===0?t.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No custom fields added yet. Add fields specific to your business."}):t.jsx("div",{className:"space-y-3",children:Ce.map((we,ze)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Se,{placeholder:"Field name",value:we.name,onChange:lt=>{const ot=[...Ce];ot[ze].name=lt.target.value,Ee(ot)},className:"flex-1 bg-gray-950 border-gray-700 text-white"}),t.jsx(Se,{type:"number",placeholder:"Weight",value:we.weight,onChange:lt=>{const ot=[...Ce];ot[ze].weight=parseInt(lt.target.value)||50,Ee(ot)},className:"w-20 bg-gray-950 border-gray-700 text-white"}),t.jsx("button",{onClick:()=>Ee(Ce.filter((lt,ot)=>ot!==ze)),className:"p-2 text-gray-400 hover:text-red-400",children:t.jsx(jt,{className:"w-4 h-4"})})]},we.id))})]})]}),s===4&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(dr,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Retry Logic Enhancements"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure intelligent retry policies for different call outcomes to maximize contact rates while avoiding harassment"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(dr,{className:"w-4 h-4"}),t.jsx("span",{children:"Smart Retry Settings"}),t.jsx("button",{onClick:()=>Rs("retryLogic"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700 p-4",children:[t.jsx(Z,{className:"text-white text-sm mb-3 block",children:"Choose your retry strategy"}),t.jsxs($l,{value:Ie,onValueChange:we=>Pe(we),className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Qs,{value:"basic",id:"basic",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Z,{htmlFor:"basic",className:"text-white font-medium cursor-pointer",children:" Basic (1-2 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimal retries for simple campaigns. Good for cold calling."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Qs,{value:"smart",id:"smart",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Z,{htmlFor:"smart",className:"text-white font-medium cursor-pointer",children:" Smart (3-5 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Intelligent retry logic with exponential backoff. Recommended for most campaigns."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Qs,{value:"conservative",id:"conservative",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Z,{htmlFor:"conservative",className:"text-white font-medium cursor-pointer",children:" Conservative (2-3 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Respectful retry pattern. Perfect for warm leads and existing customers."})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(dr,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Retry Strategy Summary"})]}),t.jsx("div",{className:"space-y-2 text-xs text-emerald-200",children:t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Selected Strategy:"})," ",Ie==="basic"&&"Basic (1-2 retries)",Ie==="smart"&&"Smart (3-5 retries) - Recommended",Ie==="conservative"&&"Conservative (2-3 retries)"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Automatic Handling:"})," Failed calls, no answers, busy signals, and voicemails"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Compliance:"})," Respects working hours and daily limits"]})]})})]})]})]}),s===5&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Ga,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Working Hours & Timezone Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure timezone-aware scheduling to respect local working hours and improve compliance with calling regulations"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(Ga,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Z,{className:"text-white font-medium",children:"Enable Working Hours"}),t.jsx("button",{onClick:()=>Rs("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Automatically schedule calls within appropriate local business hours"})]})]}),t.jsx(Lr,{checked:Te,onCheckedChange:Ue})]}),Te&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(ps,{className:"w-4 h-4"}),t.jsx("span",{children:"Weekly Schedule"})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsx("div",{className:"space-y-4",children:Object.entries(St).map(([we,ze])=>t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-20",children:t.jsx(Lr,{checked:ze.enabled,onCheckedChange:lt=>ue(ot=>({...ot,[we]:{...ot[we],enabled:lt}}))})}),t.jsx("div",{className:"w-24 text-white font-medium capitalize",children:we}),ze.enabled&&t.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[t.jsx(Se,{type:"text",value:ze.start,onChange:lt=>ue(ot=>({...ot,[we]:{...ot[we],start:lt.target.value}})),placeholder:"09:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400",children:"to"}),t.jsx(Se,{type:"text",value:ze.end,onChange:lt=>ue(ot=>({...ot,[we]:{...ot[we],end:lt.target.value}})),placeholder:"17:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400 text-sm",children:"(local time)"})]}),!ze.enabled&&t.jsx("div",{className:"flex-1 text-gray-500 text-sm",children:"No calls scheduled"})]},we))})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(is,{className:"w-4 h-4"}),t.jsx("span",{children:"Advanced Settings"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Z,{className:"text-white font-medium",children:"Exclude Holidays"}),t.jsxs("div",{className:"group relative",children:[t.jsx(Yt,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically skip calls on major holidays to respect contact preferences and improve success rates."})})]})]}),t.jsx(Lr,{checked:Be,onCheckedChange:kt})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Skip calls on major holidays (New Year's, Christmas, etc.)"})]}),t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Z,{className:"text-white font-medium",children:"Respect DST"}),t.jsxs("div",{className:"group relative",children:[t.jsx(Yt,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically adjust for Daylight Saving Time changes to maintain consistent local calling hours."})})]})]}),t.jsx(Lr,{checked:wr,onCheckedChange:Yr})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Auto-adjust for Daylight Saving Time transitions"})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(Ga,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",ie.replace("_"," ")]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Days:"})," ",Object.entries(St).filter(([we,ze])=>ze.enabled).length," days/week"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Typical Hours:"})," ",St.monday.enabled?`${St.monday.start} - ${St.monday.end}`:"Varies by day"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Special Rules:"})," ",[Be&&"Holiday exclusion",wr&&"DST adjustment"].filter(Boolean).join(", ")||"None"]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(Kr,{className:"w-4 h-4 text-yellow-400"}),t.jsx("span",{children:"Timezone-Aware Scheduling Engine"}),t.jsx("div",{className:"px-2 py-1 bg-yellow-500/20 border border-yellow-500/30 rounded text-xs text-yellow-300 font-medium",children:"ADVANCED"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:t.jsx(dr,{className:"w-4 h-4 text-blue-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Z,{className:"text-white font-medium",children:"CSV Pre-filtering"}),t.jsx("button",{onClick:()=>Rs("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Filter out contacts before sending to VAPI based on their local time"})]})]}),t.jsx(Lr,{checked:us,onCheckedChange:gt})]})}),us&&t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.jsxs("div",{children:[t.jsx(Z,{className:"text-white text-sm",children:"Buffer Time (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx("span",{className:"text-emerald-400 font-medium text-sm",children:Tr}),t.jsx(Ln,{value:[Tr],onValueChange:we=>Ke(we[0]),min:0,max:120,step:15,className:"flex-1"}),t.jsx("span",{className:"text-gray-400 text-xs",children:"mins"})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Safety buffer before/after working hours"})]})}),Ca>0&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Yt,{className:"w-4 h-4 text-blue-400"}),t.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:[Ca," contacts excluded from current time window"]})]}),t.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"These contacts will be scheduled for their next available working hours"})]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:t.jsx(ps,{className:"w-4 h-4 text-green-400"})}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white font-medium",children:"Holiday Calendar Management"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Manage regional holidays and custom exclusions"})]})]})}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-white text-sm mb-3 block",children:"Holiday Regions"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["US","CA","UK","AU","DE","FR"].map(we=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:Ms.includes(we),onChange:ze=>{ze.target.checked?rs(lt=>[...lt,we]):rs(lt=>lt.filter(ot=>ot!==we))},className:"rounded border-gray-600 bg-gray-900 text-emerald-600 focus:ring-emerald-500"}),t.jsx("span",{className:"text-white text-sm",children:we})]},we))})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white text-sm",children:"Custom Holiday Dates"}),t.jsx(Se,{type:"text",placeholder:"2024-12-25, 2024-01-01 (comma-separated)",className:"bg-gray-900 border-gray-600 text-white mt-2",onChange:we=>{const ze=we.target.value.split(",").map(lt=>lt.trim()).filter(lt=>lt);_t(ze)}}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add custom dates in YYYY-MM-DD format"})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(ps,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",ie]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Holiday Regions:"})," ",Ms.length>0?Ms.join(", "):"None"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Active Features:"})," ",[Be&&"Holiday exclusion",wr&&"DST adjustment"].filter(Boolean).join(", ")||"Basic scheduling only"]})]})]})]})]}),s===6&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Nt,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Team Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Invite team members to collaborate on this campaign with specific roles and permissions"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(Nt,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Z,{className:"text-white font-medium",children:"Enable Team Collaboration"}),t.jsx("button",{onClick:()=>Rs("teamManagement"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Allow team members to collaborate on this campaign"})]})]}),t.jsx(Lr,{checked:ra,onCheckedChange:sa})]}),ra?t.jsx(AU,{teamMembers:it,invitations:rr,onAddMember:async(we,ze)=>{const lt={id:`inv-${Date.now()}`,email:we,role:ze,status:"pending",invitationToken:`token-${Date.now()}`,expiresAt:new Date(Date.now()+6048e5).toISOString(),createdAt:new Date().toISOString(),crmAccessLevel:ze==="manager"?"all_leads":ze==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:ze==="manager"||ze==="agent",delete:ze==="manager",export:ze==="manager"||ze==="agent",assign:ze==="manager"}};bt(ot=>[...ot,lt])},onRemoveMember:async we=>{vt(ze=>ze.filter(lt=>lt.id!==we))},onUpdateRole:async(we,ze)=>{vt(lt=>lt.map(ot=>ot.id===we?{...ot,role:ze,crmAccessLevel:ze==="manager"?"all_leads":ze==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:ze==="manager"||ze==="agent",delete:ze==="manager",export:ze==="manager"||ze==="agent",assign:ze==="manager"}}:ot))},onResendInvitation:async we=>{console.log("Resending invitation:",we)},onCancelInvitation:async we=>{bt(ze=>ze.filter(lt=>lt.id!==we))},isEditable:!0}):t.jsxs("div",{className:"text-center py-12 bg-gray-800/20 rounded-lg border border-gray-700",children:[t.jsx(Nt,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Team Collaboration Disabled"}),t.jsx("p",{className:"text-gray-400 mb-4",children:"This campaign will only be accessible by you. Enable team management to invite collaborators."}),t.jsxs(q,{onClick:()=>sa(!0),variant:"outline",className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(Nt,{className:"mr-2 h-4 w-4"}),"Enable Team Management"]})]}),ra&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(Nt,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Team Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-blue-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Members:"})," ",it.length]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Pending Invites:"})," ",rr.length]})]}),t.jsxs("div",{className:"pt-2 border-t border-blue-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Collaboration Level:"})," ",it.length+rr.length>0?"Multi-user campaign":"Single-user campaign"]})]})]})]}),s===7&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(ba,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Review & Launch"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Review your campaign estimates and costs before launching"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(dr,{className:"w-5 h-5 mr-2 text-emerald-400"}),"Campaign: ",n]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Total Leads"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:R.length.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Retry Strategy"}),t.jsx("p",{className:"text-xl font-semibold text-white capitalize",children:Ie})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Working Hours"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:Te?"8 hrs/day":"24/7"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Team Members"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:it.length+rr.length})]})]})]}),Xt&&t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx(It,{className:"w-5 h-5 mr-2"}),"Timeline Estimates"]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Attempts"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:Xt.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Including retries"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Minutes"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:Xt.totalMinutes.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Call time"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Campaign Length"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[Xt.campaignDays," days"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working hours"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Throughput"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[(js/aa).toFixed(1)," calls/min"]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Concurrent: ",js]})]})]})]}),t.jsxs("div",{className:"bg-pink-900/20 border border-pink-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-pink-300 mb-4 flex items-center",children:[t.jsx(Ur,{className:"w-5 h-5 mr-2"}),"Cost Breakdown"]}),t.jsx("div",{className:"mb-4 flex items-center space-x-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Average Call Duration (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(Se,{type:"number",value:aa,onChange:we=>Mi(Number(we.target.value)),min:"0.5",max:"10",step:"0.5",className:"w-24 bg-gray-900 border-gray-600 text-white"}),t.jsx("span",{className:"text-xs text-gray-400",children:"Default based on industry average"})]})]})}),t.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-300 mb-3",children:"Cost per Minute Breakdown"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Vapi Hosting"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Transcription (STT)"}),t.jsx("span",{className:"text-white",children:"$0.01"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Text-to-Speech (TTS)"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Language Model (LLM)"}),t.jsx("span",{className:"text-white",children:"$0.07"})]}),t.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-700 font-medium",children:[t.jsx("span",{className:"text-white",children:"Total per Minute"}),t.jsxs("span",{className:"text-emerald-400",children:["$",na.toFixed(2)]})]})]})]}),Xt&&t.jsxs("div",{className:"text-center py-4",children:[t.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Total Estimated Cost"}),t.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",Xt.totalCost.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Xt.totalMinutes.toLocaleString()," minutes  $",na,"/min"]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(AS,{className:"w-5 h-5 mr-2 text-blue-400"}),"Credit Balance Check"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Current Vapi Credit Balance"}),t.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[t.jsx(Se,{type:"number",placeholder:"Enter your current balance",value:Nr||"",onChange:we=>ws(we.target.value?Number(we.target.value):null),className:"w-48 bg-gray-900 border-gray-600 text-white"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 text-sm flex items-center",children:["Check Balance",t.jsx(ji,{className:"w-3 h-3 ml-1"})]})]})]}),Nr!==null&&Xt&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:`p-4 rounded-lg border ${Xt.balanceStatus==="healthy"?"bg-emerald-900/20 border-emerald-700/50":Xt.balanceStatus==="warning"?"bg-yellow-900/20 border-yellow-700/50":"bg-red-900/20 border-red-700/50"}`,children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[Xt.balanceStatus==="healthy"?t.jsx(yt,{className:"w-5 h-5 text-emerald-400"}):Xt.balanceStatus==="warning"?t.jsx(va,{className:"w-5 h-5 text-yellow-400"}):t.jsx(Kt,{className:"w-5 h-5 text-red-400"}),t.jsx("p",{className:`font-medium ${Xt.balanceStatus==="healthy"?"text-emerald-300":Xt.balanceStatus==="warning"?"text-yellow-300":"text-red-300"}`,children:Xt.balanceStatus==="healthy"?"Balance Healthy":Xt.balanceStatus==="warning"?"Balance Warning":"Insufficient Balance"})]}),t.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Current: $",Nr.toLocaleString()," | Required: $",Xt.totalCost.toLocaleString()," |",Xt.balanceStatus==="healthy"?` Surplus: $${(Nr-Xt.totalCost).toLocaleString()}`:` Deficit: $${(Xt.totalCost-Nr).toLocaleString()}`]})]}),Xt.recommendedTopUp>0&&t.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-blue-300 mb-1",children:"Recommended Top-Up"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",Xt.recommendedTopUp]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Includes 20% buffer for variations in call duration"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center text-sm text-blue-400 hover:text-blue-300",children:["Add Credits in Vapi Dashboard",t.jsx(ji,{className:"w-3 h-3 ml-1"})]})]})]})]})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(Yt,{className:"w-5 h-5 text-gray-400 mt-0.5"}),t.jsxs("div",{className:"text-sm text-gray-400",children:[t.jsx("p",{className:"font-medium text-gray-300 mb-2",children:"Important Notes:"}),t.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[t.jsx("li",{children:"Estimates assume scrubbed contact lists and may vary based on actual call outcomes"}),t.jsx("li",{children:"No-answer and voicemail attempts count toward total minutes but may be shorter"}),t.jsx("li",{children:"Consider upgrading your Vapi plan for better per-minute rates on high-volume campaigns"}),t.jsx("li",{children:"Monitor campaign progress to adjust estimates based on actual performance"})]})]})]})}),Xt&&t.jsxs("div",{className:"bg-emerald-900/10 border border-emerald-700/30 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx($o,{className:"w-5 h-5 mr-2"}),"Launch Summary"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:Xt.campaignDays}),t.jsx("p",{className:"text-sm text-gray-400",children:"Days to Complete"})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",Xt.totalCost]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Cost"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:Xt.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Call Attempts"})]})]})]})]})]}),t.jsx("div",{className:"p-6 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(q,{variant:"outline",onClick:Za,disabled:b,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:s===1?"Cancel":"Back"}),t.jsx(q,{onClick:s===7?Zo:Nn,disabled:b,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:s===7?b?"Creating...":"Launch campaign":"Next"})]})})]}),s===1&&t.jsx("div",{className:"w-1/2 bg-gray-950 border-l border-gray-800",children:w&&R.length>0?t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-800 bg-gray-900",children:t.jsxs("h3",{className:"text-lg font-semibold text-white",children:["CSV Preview (",R.length," contacts)"]})}),t.jsx("div",{className:"flex-1 overflow-hidden",children:t.jsx("div",{className:"h-full overflow-auto scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsxs("table",{className:"w-full border-separate border-spacing-0",children:[t.jsx("thead",{className:"sticky top-0 z-10",children:t.jsx("tr",{children:Object.keys(R[0]||{}).map((we,ze)=>t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 bg-gray-800 border-b border-gray-700 first:pl-6 last:pr-6",children:we},we))})}),t.jsx("tbody",{children:R.map((we,ze)=>t.jsx("tr",{className:"group hover:bg-gray-800/30 transition-colors",children:Object.values(we).map((lt,ot)=>t.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-300 border-b border-gray-800/50 first:pl-6 last:pr-6 group-hover:text-white transition-colors",children:t.jsx("div",{className:"truncate max-w-[200px]",title:lt,children:lt})},ot))},ze))})]})})}),R.length>100&&t.jsx("div",{className:"px-6 py-3 border-t border-gray-800 bg-gray-900",children:t.jsxs("p",{className:"text-xs text-gray-500",children:["Displaying all ",R.length," contacts  Scroll to view more"]})})]}):t.jsx("div",{className:"h-full flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx(Fl,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-sm",children:"Upload a CSV file to preview contacts"})]})})}),s>1&&t.jsx("div",{className:`${zt?"w-1/2":"w-0"} flex flex-col border-l border-gray-800 bg-gray-950 transition-all duration-300 overflow-hidden`,children:zt&&ye&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-6 border-b border-gray-800",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:(ir=Hs[ye])==null?void 0:ir.title}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:(el=Hs[ye])==null?void 0:el.description})]}),t.jsx("button",{onClick:()=>ne(!1),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:t.jsx(jt,{className:"w-4 h-4"})})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsx("div",{className:"prose prose-invert max-w-none",children:t.jsx("div",{className:"text-gray-300 text-sm leading-relaxed space-y-4",dangerouslySetInnerHTML:{__html:(ei=Hs[ye])==null?void 0:ei.content.replace(/## /g,'<h2 class="text-lg font-semibold text-white mt-6 mb-3">').replace(/### /g,'<h3 class="text-base font-medium text-white mt-5 mb-2">').replace(/\*\*(.*?)\*\*/g,'<strong class="text-white font-medium">$1</strong>').replace(/- (.*?)$/gm,'<li class="ml-4">$1</li>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2"><span class="text-green-400 text-sm"></span><span class="text-green-300 font-medium">$1</span></div>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2 p-3 bg-amber-900/20 border border-amber-700/50 rounded-lg"><span class="text-amber-400 text-sm"></span><span class="text-amber-200 font-medium">$1</span></div>').replace(/\n\n/g,'</div><div class="mt-4">').replace(/^/,"<div>").replace(/$/,"</div>")}})})}),t.jsx("div",{className:"p-4 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Need more help? Check our documentation"}),t.jsx("button",{onClick:()=>ne(!1),className:"px-3 py-1.5 text-xs text-gray-400 hover:text-white border border-gray-600 hover:border-gray-500 rounded transition-colors",children:"Close"})]})})]})})]})]})})},bje=({campaign:e,onCampaignUpdated:r,onCancel:s})=>{var Ri,Ft,nr;const[a,n]=p.useState(1),[i,o]=p.useState(e.name||""),[l,d]=p.useState(e.campaignType==="b2b"?"b2b":e.campaignType==="b2c"?"b2c":"manual"),[m,h]=p.useState(e.phoneNumber||""),[f,g]=p.useState(e.assistantName||""),[y,w]=p.useState("later"),[v,b]=p.useState(null),[N,C]=p.useState(!1),[S,_]=p.useState("today"),[A,T]=p.useState("06:32 PM"),[E,R]=p.useState("Europe/Malta (GMT+2)"),[$,K]=p.useState([]),[M,I]=p.useState(5),[W,V]=p.useState(20),[U,L]=p.useState(!0),[O,F]=p.useState(10),[z,Y]=p.useState(1),[B,ee]=p.useState("smart"),[ke,H]=p.useState(!0),[he,Ie]=p.useState("America/New_York"),[Pe,De]=p.useState(!0),[ce,Ce]=p.useState({monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}),[Ee,te]=p.useState(!0),[be,Te]=p.useState([]),[Ue,ie]=p.useState(!0),[Ge,Ct]=p.useState(!0),[Ot,St]=p.useState(30),[ue,Be]=p.useState(["US"]),[kt,Jt]=p.useState(!0),[_t,wr]=p.useState(0),[Yr,jr]=p.useState(!1),[bs,Tr]=p.useState(""),[Ke,Ms]=p.useState([]),[rs,us]=p.useState([]),[gt,Ca]=p.useState(!1),[Dt,zt]=p.useState(2),[ne,ye]=p.useState(null),[Fe,it]=p.useState(.18),[vt,rr]=p.useState(10),[bt,ra]=p.useState(null);p.useEffect(()=>{a>1?(jr(!0),a===2?Tr("rateLimiting"):a===3?Tr("retryLogic"):a===4?Tr("workingHours"):a===5?Tr("teamManagement"):a===6&&Tr("review")):(jr(!1),Tr(""))},[a]);const{toast:sa}=ts();p.useEffect(()=>{aa()},[]);const aa=async()=>{try{const _e=await bx.getCampaignDefaults();rr(_e.maxConcurrentCalls),_e.defaultWorkingHours.enabled&&(H(!0),Ie(_e.defaultWorkingHours.timezone),Ce(_e.defaultWorkingHours.hours)),sa({title:"Organization Settings Loaded",description:"Campaign defaults loaded from organization settings"})}catch(_e){console.error("Error loading organization defaults:",_e)}};p.useEffect(()=>{a===6&&$.length>0&&Mi()},[a,$.length,Dt,ne,Fe,vt]);const Mi=()=>{const _e=$.length,Ze=B==="basic"?2:B==="smart"?3:5,Pt=ke?8:24,Lt=_e*(1+Ze),Hs=Lt*Dt,Zn=Lt*Dt/vt*1.1/60/Pt,Da=Hs*Fe;let Nn="healthy",Za=0;ne!==null&&(ne<Da*.5?(Nn="critical",Za=Math.ceil((Da*1.2-ne)/10)*10):ne<Da&&(Nn="warning",Za=Math.ceil((Da*1.2-ne)/10)*10)),ra({totalAttempts:Lt,totalMinutes:Math.round(Hs),totalCost:Math.round(Da*100)/100,campaignDays:Math.round(Zn*10)/10,recommendedTopUp:Za,balanceStatus:Nn})},Nr={rateLimiting:{title:" Rate Limiting Controls",description:" Prevent carrier blocks and optimize delivery rates",content:`
##  What is Rate Limiting?

Rate limiting controls how quickly your campaign makes calls to prevent overwhelming phone carriers and triggering spam protection systems.

###  Why It Matters

** Carrier Protection**
-  Phone carriers monitor call patterns and flag accounts that make too many calls too quickly
-  Spam flags can result in your phone numbers being blocked or marked as suspicious
-  Rate limiting mimics human calling patterns to maintain good sender reputation

** API Optimization**
-  Prevents hitting VAPI's API rate limits which could pause your campaign
-  Distributes calls evenly over time for better system performance
-  Reduces network congestion and improves call quality

###  Recommended Settings

** Conservative Approach (Recommended for new accounts)**
-  3-5 calls per minute
-  15-25 calls per hour  
-  Lower concurrency (5-8 simultaneous calls)

** Aggressive Approach (For established accounts)**
-  8-12 calls per minute
-  40-60 calls per hour
-  Higher concurrency (10-15 simultaneous calls)

###  Key Metrics

** Calls Per Minute**
The maximum number of calls to initiate within any 60-second window. This prevents rapid-fire calling that triggers carrier flags.

** Calls Per Hour** 
The total call volume limit within any 60-minute period. This ensures sustainable call rates throughout your campaign.

** Concurrent Calls**
How many calls can be active simultaneously. Higher concurrency improves speed but requires more system resources.

** Delay Between Calls**
Minimum wait time between individual call attempts. Even small delays (1-2 seconds) help maintain natural calling patterns.

###  Best Practices

 ** Start Conservative**: Begin with lower limits and gradually increase based on performance
 ** Monitor Metrics**: Watch for delivery rate drops that indicate carrier blocking  
 ** Respect Time Zones**: Combine with working hours controls for optimal results
 ** Test Gradually**: Increase limits slowly to find your account's optimal rates

 ** Warning Signs**: If you notice suddenly dropped answer rates or delivery failures, reduce your rate limits immediately.
      `},retryLogic:{title:" Retry Logic Enhancements",description:" Intelligent failure handling to maximize contact rates",content:`
##  Understanding Retry Logic

Retry logic determines how your campaign responds to different types of call failures. Instead of giving up after one attempt, intelligent retries can significantly improve your contact rates.

###  The Four Failure Types

**1.  No Answer**
- ** What It Means**: Phone rings but nobody picks up
- ** Common Causes**: Contact is busy, away from phone, or screening calls
- ** Best Strategy**: Try again when they might be available
- ** Recommended**: 2-3 attempts with 30-60 minute delays

**2.  Voicemail**
- ** What It Means**: Call was answered by voicemail system
- ** Common Causes**: Contact is unavailable but message was delivered
- ** Best Strategy**: Give them time to respond before trying again
- ** Recommended**: 1-2 attempts with 1-2 hour delays

**3.  Dead/Disconnected Line**
- ** What It Means**: Number is no longer in service or unreachable
- ** Common Causes**: Changed numbers, disconnected service, or technical issues
- ** Best Strategy**: Minimal retries since issue is usually permanent
- ** Recommended**: 1 attempt after 24 hours (for technical issues)

**4.  Busy Signal**
- ** What It Means**: Line is currently occupied by another call
- ** Common Causes**: Contact is on another call
- ** Best Strategy**: Quick retries since busy signals clear fast
- ** Recommended**: 3-4 attempts with 5-10 minute delays

###  Advanced Features

** Exponential Backoff**
Gradually increases delays between retries:
-  Attempt 1: Wait 30 minutes
-  Attempt 2: Wait 60 minutes  
-  Attempt 3: Wait 120 minutes

This prevents appearing too persistent while maximizing chances of contact.

** Global Retry Limit**
Sets a hard cap on total attempts per contact across all failure types. Prevents harassment and maintains compliance with calling regulations.

###  Legal Compliance

** Calling Best Practices**
-  Limits excessive calling to prevent harassment complaints
-  Respects consumer privacy and calling preferences
-  Maintains professional calling practices

** Industry Standards**
-  Follows telecommunications best practices
-  Aligns with carrier requirements for good sender reputation
-  Prevents account suspension due to aggressive calling

###  Performance Impact

** Higher Contact Rates**
-  Well-timed retries can improve contact rates by 40-60%
-  Different failure types have different success probabilities
-  Smart timing maximizes availability windows

** Resource Efficiency**
-  Prevents wasted calls on permanently unreachable numbers
-  Optimizes campaign duration and costs
-  Focuses efforts on contacts most likely to connect

###  Configuration Tips

** Start with Defaults**: The recommended settings are based on industry data and compliance requirements.

** Monitor Results**: Track which failure types have the best retry success rates for your specific campaigns.

** Adjust Gradually**: Make small changes and measure impact before major adjustments.

** Consider Your Audience**: B2B contacts may have different availability patterns than B2C contacts.
      `},callsPerMinute:{title:" Calls Per Minute Control",description:" Manage call frequency to prevent carrier blocks",content:`
##  Calls Per Minute Settings

The "Calls Per Minute" setting controls how many outbound calls your campaign can initiate within any 60-second window. This is one of the most critical settings for maintaining good sender reputation with phone carriers.

###  Why This Matters

** Carrier Protection**
-  Phone carriers actively monitor calling patterns from business numbers
-  Too many calls in a short time triggers automatic spam detection systems
-  Once flagged, your phone number may be blocked or marked as suspicious
-  Recovery from carrier blocks can take weeks or months

** Optimal Call Distribution**
-  Spreading calls over time mimics natural human calling patterns
-  Prevents overwhelming carrier infrastructure
-  Maintains consistent call quality and connection rates
-  Reduces the risk of calls being automatically rejected

###  Recommended Settings

** Conservative (1-3 calls/minute)**
-  Best for new phone numbers or accounts
-  Lowest risk of carrier flags
-  Slower campaign completion but highest success rates
-  Recommended for highly regulated industries

** Moderate (4-6 calls/minute)**  
-  Good balance of speed and safety
-  Suitable for established phone numbers
-  Most commonly used setting across industries
-  Good starting point for most campaigns

** Aggressive (7-12 calls/minute)**
-  Only for well-established, high-reputation numbers
-  Requires careful monitoring of delivery rates
-  Best for time-sensitive campaigns
-  Higher risk but faster completion

###  Technical Implementation

The system enforces this limit by:
-  Queuing calls when the limit is reached
-  Distributing calls evenly across the minute window
-  Automatically adjusting for any failed or rejected calls
-  Providing real-time monitoring of call rates

###  Warning Signs

** Reduce your rate immediately if you notice:**
-  Sudden drops in answer rates (below 15-20%)
-  Increased "failed to connect" errors
-  Calls going straight to voicemail more frequently
-  Recipients reporting they never received calls

###  Best Practices

 ** Start Low**: Begin with 3-5 calls/minute for new numbers
 ** Monitor Closely**: Watch delivery rates daily for first week
 ** Scale Gradually**: Increase by 1-2 calls/minute weekly if performance holds
 ** Document Results**: Track optimal rates for different phone numbers
      `},callsPerHour:{title:" Calls Per Hour Limit",description:" Set hourly call volume caps for sustainable campaigns",content:`
##  Calls Per Hour Management

The "Calls Per Hour" setting establishes the maximum number of calls your campaign can make within any 60-minute period. This works alongside the per-minute limit to provide comprehensive rate control.

###  How It Works

** Hierarchical Limiting**
-  The system respects BOTH per-minute and per-hour limits
-  Whichever limit is reached first will pause calling
-  Example: 5 calls/minute (300/hour) but 100/hour limit = 100 calls maximum
-  Provides multiple layers of protection against over-calling

** Rolling Window**
-  Calculated on a rolling 60-minute basis, not fixed hours
-  If you made 80 calls in the past hour, only 20 more are allowed
-  Automatically resets as older calls fall outside the window
-  Ensures consistent, sustainable calling rates

###  Strategic Applications

** Campaign Duration Control**
-  Lower hourly limits extend campaign duration
-  Higher limits complete campaigns faster
-  Useful for managing resource allocation across multiple campaigns
-  Helps balance speed vs. deliverability

** Compliance Requirements**
-  Some industries have specific hourly calling limits
-  Helps maintain compliance with internal policies
-  Provides audit trail for regulatory requirements
-  Supports fair calling practices

###  Recommended Ranges

** Low Volume (20-50 calls/hour)**
-  Ideal for high-value, personalized outreach
-  Maximum deliverability and answer rates
-  Best for small, targeted contact lists
-  Suitable for premium or enterprise prospects

** Medium Volume (60-120 calls/hour)**
-  Balanced approach for most business campaigns
-  Good mix of speed and quality
-  Suitable for established phone numbers
-  Most common setting for B2B outreach

** High Volume (150-300 calls/hour)**
-  For large-scale campaigns with proven infrastructure
-  Requires excellent phone number reputation
-  Best for time-sensitive or promotional campaigns
-  Needs constant monitoring and optimization

###  Interaction with Other Settings

** Per-Minute Relationship**
-  5 calls/minute = 300 theoretical calls/hour
-  Hour limit of 100 would cap actual volume
-  System automatically calculates effective rates
-  Displayed in real-time performance estimates

** Concurrent Calls Impact**
-  Higher concurrency can help achieve hourly targets
-  Must balance with carrier capacity
-  More concurrent calls = higher resource usage
-  Affects overall campaign cost structure

###  Monitoring and Optimization

** Key Metrics to Watch**
-  Actual calls per hour vs. target
-  Answer rate consistency throughout day
-  Cost per successful connection
-  Overall campaign completion time

** Adjustment Strategies**
-  Start with conservative limits and increase gradually
-  Monitor answer rates - drops indicate limits too high
-  Consider time-of-day variations in success rates
-  Document optimal settings for future campaigns

###  Troubleshooting

** If calls stop before hourly limit:**
-  Check if per-minute limit is more restrictive
-  Verify sufficient contacts remain in queue
-  Ensure working hours settings aren't blocking calls
-  Check for system errors or API limits

** If performance degrades:**
-  Reduce hourly limit by 20-30%
-  Monitor recovery of answer rates
-  Consider spreading calls across more hours
-  Review carrier feedback and delivery reports
      `},concurrentCalls:{title:" Concurrent Calls Limit",description:" Control simultaneous active calls for optimal performance",content:`
##  Concurrent Calls Management

The "Concurrent Calls Limit" determines how many calls can be active simultaneously at any given moment. This setting directly impacts campaign speed, resource usage, and call quality.

###  Understanding Concurrency

** What "Concurrent" Means**
-  Number of calls happening at exactly the same time
-  Includes dialing, ringing, connected, and wrapping up calls
-  Different from calls per minute (which is about initiation rate)
-  Affects both system resources and carrier load

** System Resource Impact**
-  Each concurrent call uses server resources
-  Higher concurrency = more CPU, memory, and bandwidth
-  Too high can degrade call quality for all calls
-  Must balance speed with system stability

###  Technical Considerations

** Network Capacity**
-  Your internet connection has finite bandwidth
-  Each call typically uses 64-100 kbps for audio
-  10 concurrent calls  1 Mbps bandwidth minimum
-  Poor connections may require lower concurrency

** VAPI API Limits**
-  VAPI may have account-specific concurrency limits
-  Exceeding limits results in rejected call attempts
-  Check your account tier for maximum allowed
-  Higher tiers typically support more concurrent calls

** Carrier Relationships**
-  Some carriers limit simultaneous calls per number
-  Business lines typically support 5-20+ concurrent calls
-  Residential lines may be limited to 1-3
-  Carrier-specific limits override system settings

###  Recommended Settings

** Conservative (1-5 concurrent)**
-  Best for new accounts or limited infrastructure
-  Highest call quality and reliability
-  Slower campaign completion
-  Safest option for testing and optimization

** Moderate (6-12 concurrent)**
-  Good balance for most business applications
-  Suitable for established systems
-  Reasonable speed with maintained quality
-  Most common setting for professional campaigns

** Aggressive (15-25+ concurrent)**
-  For high-capacity systems and urgent campaigns
-  Requires robust infrastructure and monitoring
-  Maximum speed but higher complexity
-  Best for experienced users with proven setups

###  Impact on Campaign Performance

** Speed Benefits**
-  Higher concurrency = faster campaign completion
-  More calls attempted per minute
-  Better utilization of available calling windows
-  Improved overall efficiency

** Quality Trade-offs**
-  System resources spread across more calls
-  Potential for increased latency or audio issues
-  More complex error handling and recovery
-  Higher chance of simultaneous failures

###  Optimization Strategies

** Finding Your Sweet Spot**
1.  Start with 5-8 concurrent calls
2.  Monitor call quality and connection rates
3.  Gradually increase if performance remains stable
4.  Back down immediately if quality degrades

** Performance Monitoring**
-  Track connection success rates
-  Monitor audio quality reports
-  Watch for timeout or error increases
-  Measure actual vs. expected campaign duration

###  Troubleshooting Common Issues

** Calls Failing to Connect**
-  May indicate concurrency set too high
-  Check VAPI account limits
-  Verify internet bandwidth capacity
-  Review carrier-specific restrictions

** Poor Audio Quality**
-  Often caused by resource contention
-  Reduce concurrent calls by 20-30%
-  Check network congestion
-  Consider upgrading internet connection

** Slower Than Expected Performance**
-  System may be throttling due to resource limits
-  Concurrent setting might be lower than displayed  
-  Check for background processes using resources
-  Verify all calls are actually being initiated

###  Advanced Configuration

** Time-Based Adjustments**
-  Higher concurrency during peak efficiency hours
-  Lower during known network congestion periods
-  Automatic scaling based on system performance
-  Integration with working hours for optimal timing

** Campaign-Specific Settings**
-  Higher for simple, short calls
-  Lower for complex, longer conversations
-  Adjust based on target audience availability
-  Consider call outcome requirements

###  Best Practices

 ** Monitor Continuously**: Watch performance metrics in real-time
 ** Test Incrementally**: Increase concurrency slowly with monitoring
 ** Document Optimal Settings**: Record best configurations for reuse
 ** Plan for Peak Times**: Account for varying system loads throughout day
 ** Have Fallback Plans**: Be ready to reduce if performance degrades
      `},delayBetweenCalls:{title:" Delay Between Calls",description:" Set minimum wait time between consecutive call attempts",content:`
##  Call Delay Management

The "Delay Between Calls" setting establishes a minimum wait time between consecutive call attempts. This subtle but important feature helps maintain natural calling patterns and prevents rapid-fire calling that can trigger spam detection.

###  Purpose and Benefits

** Natural Calling Patterns**
-  Human agents naturally have small pauses between calls
-  Even 1-2 second delays help mimic human behavior
-  Prevents the "machine gun" calling pattern that carriers flag
-  Creates more realistic call timing for better acceptance

** System Stability**
-  Gives the system time to properly close previous calls
-  Prevents resource conflicts between rapid successive calls
-  Allows proper cleanup of call sessions
-  Reduces system errors and improves reliability

** Carrier Relationship Management**
-  Even small delays show respect for carrier infrastructure
-  Prevents overwhelming carrier switching equipment
-  Demonstrates professional calling practices
-  Helps maintain good sender reputation

### Technical Implementation

**How Delays Work**
- Timer starts when previous call attempt completes
- Delay applies regardless of call outcome (success, failure, busy, etc.)
- Measured from call termination to next call initiation
- Works in conjunction with rate limiting, not instead of it

**Interaction with Other Settings**
- Delays can effectively reduce your maximum calls per minute
- Example: 1-second delay + 10 calls/minute may actually achieve 8-9/minute
- System automatically adjusts calculations for realistic estimates
- Performance projections account for delay overhead

### Recommended Settings

**No Delay (0 seconds)**
- Maximum campaign speed
- Only recommended for high-reputation numbers
- Requires careful monitoring for carrier acceptance
- Best for urgent, time-sensitive campaigns

**Minimal Delay (1-2 seconds)**
- Good balance of speed and naturalness
- Recommended for most business campaigns
- Slight speed reduction for significant deliverability improvement
- Most common professional setting

**Moderate Delay (3-5 seconds)**
- More natural, human-like calling pattern
- Better for sensitive or regulated industries
- Improved answer rates due to less aggressive appearance
- Good for high-value prospect lists

**Extended Delay (10+ seconds)**
- Maximum naturalness and deliverability
- Best for premium prospects or compliance-heavy industries
- Significantly slower campaign completion
- Often combined with other conservative settings

### Strategic Applications

**List Quality Considerations**
- Shorter delays for verified, opted-in contacts
- Longer delays for cold outreach or purchased lists
- Adjust based on expected contact receptivity
- Consider source and age of contact data

**Industry-Specific Needs**
- Healthcare: Longer delays show respect for busy professionals
- Finance: Compliance often favors more conservative timing
- Sales: Balance speed with relationship preservation
- Emergency services: May require immediate successive calls

### Performance Impact Analysis

**Speed vs. Quality Trade-off**
- Each second of delay reduces hourly call capacity
- 2-second delay  10-15% reduction in call volume
- 5-second delay  25-30% reduction in call volume
- Must weigh speed loss against deliverability gains

**Answer Rate Improvements**
- Studies show 1-3 second delays can improve answer rates by 5-15%
- Recipients less likely to perceive calls as automated
- Reduced likelihood of being sent directly to voicemail
- Better first impression for successful connections

### Monitoring and Optimization

**Key Metrics to Track**
- Answer rate changes with different delay settings
- Overall campaign completion time
- Carrier feedback and delivery success rates
- Cost per successful connection

**A/B Testing Approach**
- Test different delay settings on similar contact segments
- Measure both speed and quality metrics
- Find optimal delay for your specific use case
- Document results for future campaign planning

### Advanced Delay Strategies

**Dynamic Delays**
- Shorter delays during peak answer times
- Longer delays for follow-up or retry attempts
- Automatic adjustment based on recent call outcomes
- Integration with AI to optimize timing

**Contact-Specific Delays**
- Longer delays for high-value prospects
- Shorter delays for time-sensitive promotions
- Adjustment based on contact timezone or preferences
- Personalization based on historical response patterns

### Troubleshooting

**If Campaign Seems Too Slow**
- Check if delay setting is higher than intended
- Verify delays aren't compounding with other throttling
- Consider reducing delay while monitoring answer rates
- Balance speed needs with quality requirements

**If Getting Spam Flags**
- Increase delay to 2-3 seconds minimum
- Monitor carrier feedback for improvements
- Consider combining with other conservative settings
- Review overall calling pattern and volume

###  Best Practices

 ** Start Conservative**: Begin with 1-2 second delays
 ** Monitor Answer Rates**: Track improvements vs. speed loss
 ** Industry Appropriate**: Adjust for your target audience expectations
 ** Document Optimal Settings**: Record best delays for different campaign types
 ** Regular Review**: Reassess delay needs as phone reputation improves
      `},workingHours:{title:" Working Hours & Timezone Management",description:" Timezone-aware scheduling for compliance and better results",content:`
##  Timezone-Aware Scheduling

Working hours management ensures your calls are made at appropriate times in each contact's local timezone, improving answer rates and maintaining legal compliance.

###  Why Timezone Management Matters

** Professional Standards**
- ** Calling Hours**: Best practice is to call during reasonable hours (typically 9 AM - 8 PM local time)
- ** Regional Considerations**: Different regions may have varying acceptable calling times
- ** Business Impact**: Poor timing can damage your brand reputation

** Better Results**
- ** Higher Answer Rates**: People are more likely to answer during business hours
- ** Professional Image**: Respecting time zones shows consideration
- ** Reduced Complaints**: Appropriate timing reduces negative responses

###  Timezone Settings

**Default Campaign Timezone**
-  Set the primary timezone for your campaign
-  All calls will be scheduled according to this timezone
-  Perfect for local or regional campaigns
-  Can use contact-specific timezones if available in your data

### Weekly Schedule Configuration

**Flexible Day Selection**
- Enable/disable individual days of the week
- Set different hours for different days
- Account for varying business schedules

**Time Zone Considerations**
- All times are automatically converted to contact's local timezone
- System handles Daylight Saving Time transitions
- Respects regional time zone variations

### Advanced Features

**Holiday Exclusion**
- Automatically skips major holidays
- Improves answer rates and contact satisfaction
- Maintains professional calling practices
- Includes: New Year's Day, Memorial Day, Independence Day, Labor Day, Thanksgiving, Christmas

**DST (Daylight Saving Time) Handling**
- Automatically adjusts for spring/fall time changes
- Maintains consistent local calling hours
- Prevents confusion during transition periods

**Custom Holiday Rules**
- Add company-specific holidays or regional observances
- Account for industry-specific closure dates
- Maintain flexibility for different business calendars

###  Best Practices

** Business Hours Guidelines**
- ** B2B Contacts**: 9 AM - 5 PM local time, Monday-Friday
- ** B2C Contacts**: 9 AM - 8 PM local time, including some weekend hours
- ** Healthcare**: Avoid meal times (12-1 PM) and shift changes
- ** Retail**: Consider evening hours when customers are home

** Contact Strategy Tips**
 ** Respect reasonable calling hours** to maintain good relationships
 ** Avoid early mornings and late evenings** for better contact rates
 ** Consider cultural differences** in international campaigns
 ** Honor customer preferences** and communication requests

** Performance Optimization**
- ** Test different time windows** to find optimal contact rates
- ** Analyze answer rate patterns** by time of day and day of week
- ** Adjust for seasonal variations** in contact availability
- ** Consider industry-specific schedules** (healthcare, education, etc.)

###  Common Time Zones

** United States**
-  Eastern Time (ET): UTC-5/-4
-  Central Time (CT): UTC-6/-5  
-  Mountain Time (MT): UTC-7/-6
-  Pacific Time (PT): UTC-8/-7

** International**
-  GMT (London): UTC+0/+1
-  CET (Paris): UTC+1/+2
-  JST (Tokyo): UTC+9
-  AEDT (Sydney): UTC+10/+11

###  Technical Implementation

The system automatically:
-  Filters contacts based on current local time
-  Schedules calls for appropriate hours
-  Handles timezone conversions
-  Manages DST transitions
-  Respects holiday calendars
-  Maintains compliance records
      `},teamManagement:{title:" Team Management",description:" Collaborate with team members on campaign execution",content:`
##  What is Team Management?

Team management allows you to invite colleagues to collaborate on your campaigns with specific roles and permissions.

###  **Team Roles:**

** Owner:** Full control over campaign, team, and CRM
- Edit campaign settings
- Manage team members
- Full CRM lead access (all leads)
- View all analytics and start/stop campaigns

** Manager:** Campaign and team management + CRM access
- Edit campaign settings
- Invite/remove team members
- Full CRM access to all leads
- Assign leads to team members
- Control campaign execution

** Agent:** Campaign execution + CRM lead management
- View campaign details
- Manage campaign-specific leads in CRM
- Edit assigned leads and add notes
- Start/stop campaigns with permissions

** Viewer:** Read-only campaign + limited CRM viewing
- View campaign information
- Limited CRM viewing (no editing)
- See basic analytics
- Cannot control execution or edit leads

###  **Key Benefits:**

-  **Email Invitations:** Send secure invites with expiration
-  **Real-time Collaboration:** Changes sync instantly
-  **Granular Permissions:** Control campaign and CRM access precisely
-  **CRM Integration:** Team members get appropriate lead access
-  **Lead Assignment:** Assign specific leads to team members
-  **Audit Trail:** Track all team and lead changes
-  **Easy Onboarding:** One-click team member setup

###  **Best Practices:**

-  Assign roles based on responsibility levels
-  Use business email addresses for invitations
-  Limit CRM access to necessary leads only
-  Use "Assigned Only" for focused lead management
-  Review team access and lead assignments regularly
-  Document role responsibilities and CRM permissions clearly
      `},review:{title:" Campaign Review & Estimates",description:" Pre-launch cost and timeline analysis",content:`
##  What is Campaign Review?

The review section provides detailed estimates for your campaign including duration, costs, and resource requirements based on your configuration.

###  **Key Metrics Calculated:**

** Campaign Timeline:**
- Total call attempts (leads  retries)
- Estimated runtime in hours/days
- Working hours consideration
- Concurrent call throughput

** Cost Breakdown:**
- Vapi hosting fees ($0.05/min)
- Speech-to-Text costs ($0.01/min)
- Text-to-Speech costs ($0.05/min)
- Language Model costs ($0.07/min)
- Total estimated campaign cost

** Credit Management:**
- Current balance check
- Required credits calculation
- Top-up recommendations
- Overage warnings

###  **Calculation Formulas:**

**Total Attempts** = Leads  (1 + Retry Attempts)
**Total Minutes** = Total Attempts  Avg Call Duration
**Campaign Days** = Total Minutes  (Concurrent Calls  Working Hours  60)
**Total Cost** = Total Minutes  Cost per Minute

###  **Key Factors:**

-  **Average Call Duration:** Default 2 minutes (adjustable)
-  **Concurrent Calls:** Based on Vapi plan (10 default)
-  **Retry Logic:** Impacts total attempts significantly
-  **Working Hours:** Affects campaign timeline
-  **Credit Balance:** Determines if top-up needed

###  **Best Practices:**

-  Review all estimates before launching
-  Maintain 20% buffer in credit balance
-  Use historical data for accurate duration
-  Adjust concurrency for optimal throughput
-  Monitor actual vs. estimated costs
-  Set up balance alerts in Vapi dashboard
      `}},ws=_e=>{Tr(_e),jr(!0)},na=()=>{const _e=`number,name,another_var
+1 (234) 567-8901,John Doe,Hello
12344543210,Jane Smith,World
+1-234-423-4567,Bob Johnson,Test`,Ze=new Blob([_e],{type:"text/csv"}),Pt=window.URL.createObjectURL(Ze),Lt=document.createElement("a");Lt.href=Pt,Lt.download="campaign-template.csv",document.body.appendChild(Lt),Lt.click(),document.body.removeChild(Lt),window.URL.revokeObjectURL(Pt)},jn=_e=>{var Pt;const Ze=(Pt=_e.target.files)==null?void 0:Pt[0];if(Ze&&Ze.type==="text/csv"){b(Ze);const Lt=new FileReader;Lt.onload=Hs=>{var Za,Zo;const Zn=((Za=Hs.target)==null?void 0:Za.result).split(`
`),Da=((Zo=Zn[0])==null?void 0:Zo.split(",").map(ir=>ir.trim()))||[],Nn=Zn.slice(1).filter(ir=>ir.trim()).map(ir=>{const el=ir.split(",").map(we=>we.trim()),ei={};return Da.forEach((we,ze)=>{ei[we]=el[ze]||""}),ei});K(Nn)},Lt.readAsText(Ze)}else sa({title:"Invalid file",description:"Please upload a CSV file",variant:"destructive"})},js=()=>{if(a===1){if(!i||!m||!f||!v){sa({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}n(2)}else a===2?n(3):a===3?n(4):a===4?n(5):a===5&&n(6)},Ia=()=>{a===6?n(5):a===5?n(4):a===4?n(3):a===3?n(2):a===2?n(1):s()},Xt=async()=>{C(!0);try{const _e=await bx.getCampaignDefaults(),Pt=[{id:(userContext==null?void 0:userContext.id)||"current-user",email:(userContext==null?void 0:userContext.email)||"",role:"owner",status:"active",firstName:userContext==null?void 0:userContext.firstName,lastName:userContext==null?void 0:userContext.lastName,joinedAt:new Date().toISOString(),crmAccessLevel:"all_leads",leadPermissions:{view:!0,edit:!0,delete:!0,export:!0,assign:!0}},...Ke],Lt={name:i,assistantId:f,phoneNumberId:m,settings:{callsPerHour:U?W:60,callsPerMinute:U?M:10,retryAttempts:2,timeZone:he,workingHours:{enabled:ke,start:"09:00",end:"17:00",defaultTimezone:he,useContactTimezone:Pe,schedule:ce,excludeHolidays:Ee,customHolidays:be,respectDST:Ue},rateLimiting:{enabled:U,callsPerMinute:M,callsPerHour:W,customConcurrency:vt,delayBetweenCalls:z},retryStrategy:B},teamManagement:{enabled:gt||Pt.length>1,members:Pt,invitations:rs},organizationSettings:{vapiCredentials:_e.vapiCredentials,maxConcurrentCalls:_e.maxConcurrentCalls,complianceSettings:_e.complianceSettings}},Hs=await Ha.createCampaign(Lt);v&&await Ha.uploadLeads(Hs.id,v),y==="now"&&await Ha.startCampaign(Hs.id),sa({title:"Campaign updated",description:`Campaign "${i}" has been updated successfully!`});const Rs={...Hs,name:i,assistantName:f,phoneNumber:m,campaignType:l,settings:{...Hs.settings,callsPerHour:U?W:60,callsPerMinute:U?M:10,retryAttempts:2,timeZone:he,workingHours:{enabled:ke,start:"09:00",end:"17:00",defaultTimezone:he,useContactTimezone:Pe,schedule:ce,excludeHolidays:Ee,customHolidays:be,respectDST:Ue}}};r(Rs)}catch(_e){console.error("Error updating campaign:",_e),sa({title:"Error",description:"Failed to update campaign. Please try again.",variant:"destructive"})}finally{C(!1)}};return t.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900 flex",children:t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-6",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:Ia,className:"text-gray-400 hover:text-white",children:t.jsx(tc,{className:"w-5 h-5"})}),t.jsxs("h1",{className:"text-lg font-semibold text-white",children:["Edit campaign ",a===2&&"- Rate Limiting",a===3&&"- Retry Logic",a===4&&"- Working Hours",a===5&&"- Team Management",a===6&&"- Review & Save"]})]}),t.jsx("div",{})]}),t.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[t.jsxs("div",{className:`${a===1||Yr?"w-1/2":"w-full"} flex flex-col transition-all duration-300`,children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{htmlFor:"campaign-name",className:"text-gray-300",children:"Campaign Name"}),t.jsx(Se,{id:"campaign-name",value:i,onChange:_e=>o(_e.target.value),placeholder:"Campaign Name",className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Z,{className:"text-gray-300 text-sm font-medium",children:"Campaign Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${l==="manual"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>d("manual"),children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${l==="manual"?"border-emerald-500":"border-gray-600"}`,children:l==="manual"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(Z,{className:"text-white font-medium",children:"Manual"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Start campaign now or schedule for later."})]}),t.jsxs("div",{className:"border-2 rounded-lg p-4 border-gray-800 bg-gray-800/30 opacity-60 cursor-not-allowed",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-600 flex items-center justify-center"}),t.jsx(Z,{className:"text-gray-500 font-medium",children:"Live"}),t.jsx("span",{className:"text-xs text-gray-600 bg-gray-700 px-2 py-0.5 rounded",children:"Coming soon"})]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Triggered via webhooks from your website or forms."})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{htmlFor:"phone-number",className:"text-gray-300",children:"Phone Number"}),t.jsxs(at,{value:m,onValueChange:h,children:[t.jsx(et,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:"Select"})}),t.jsxs(tt,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"number1",children:"+1 (555) 123-4567"}),t.jsx(se,{value:"number2",children:"+1 (555) 987-6543"})]})]}),t.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"font-medium",children:"Best Practices"})]}),t.jsxs("p",{children:["Learn how to avoid spam flagging and optimize your calling strategy for better success rates. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Spam flagging best practices"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Z,{className:"text-gray-300",children:"Upload CSV"}),t.jsxs(q,{variant:"link",onClick:na,className:"text-blue-400 hover:text-blue-300 p-0 h-auto text-sm",children:[t.jsx(Fl,{className:"w-3 h-3 mr-1"}),"Download template"]})]}),v?t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fl,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:"text-white text-sm",children:v.name})]}),t.jsx("button",{onClick:()=>{b(null),K([])},className:"text-gray-400 hover:text-white",children:t.jsx(jt,{className:"w-4 h-4"})})]}):t.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8 text-center hover:border-gray-600 transition-colors",children:[t.jsx("input",{type:"file",accept:".csv",onChange:jn,className:"hidden",id:"csv-upload"}),t.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[t.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-lg bg-gray-800 flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsx("p",{className:"text-gray-400",children:"Drag and drop a CSV file here or click to select file locally"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum file size: 5MB"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{htmlFor:"assistant",className:"text-gray-300",children:"Assistant"}),t.jsxs(at,{value:f,onValueChange:g,children:[t.jsx(et,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:"Select"})}),t.jsxs(tt,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"assistant1",children:"Sales Assistant"}),t.jsx(se,{value:"assistant2",children:"Support Assistant"}),t.jsx(se,{value:"assistant3",children:"Survey Assistant"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Z,{className:"text-gray-300",children:"Choose when to send"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${y==="now"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>w("now"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${y==="now"?"border-emerald-500":"border-gray-600"}`,children:y==="now"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(Z,{className:"text-white cursor-pointer",children:"Send Now"})]})}),t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${y==="later"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>w("later"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${y==="later"?"border-emerald-500":"border-gray-600"}`,children:y==="later"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(Z,{className:"text-white cursor-pointer",children:"Schedule for later"})]})})]}),y==="later"&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(Z,{className:"text-gray-300",children:"Start at:"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(Z,{className:"text-gray-500 text-xs",children:"Date"}),t.jsxs(at,{value:S,onValueChange:_,children:[t.jsx(et,{className:"bg-gray-800 border-gray-700 text-white h-9",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"today",children:"Today"}),t.jsx(se,{value:"tomorrow",children:"Tomorrow"}),t.jsx(se,{value:"custom",children:"Custom Date"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(Z,{className:"text-gray-500 text-xs",children:"Time"}),t.jsx("div",{className:"relative",children:t.jsx(Se,{type:"text",value:A,onChange:_e=>T(_e.target.value),className:"bg-gray-800 border-gray-700 text-white pr-8 h-9"})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(Z,{className:"text-gray-500 text-xs",children:"Timezone"}),t.jsxs(at,{value:E,onValueChange:R,children:[t.jsx(et,{className:"bg-gray-800 border-gray-700 text-white h-9 text-sm",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"America/New_York",children:"Eastern (EST)"}),t.jsx(se,{value:"America/Chicago",children:"Central (CST)"}),t.jsx(se,{value:"America/Denver",children:"Mountain (MST)"}),t.jsx(se,{value:"America/Los_Angeles",children:"Pacific (PST)"}),t.jsx(se,{value:"Europe/London",children:"London (GMT)"}),t.jsx(se,{value:"Europe/Malta (GMT+2)",children:"Europe/Malta (GMT+2)"})]})]})]})]})]})]}),y==="later"&&t.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"Campaign Execution"})]}),t.jsxs("p",{className:"text-xs text-gray-400",children:["Calls will start at the scheduled time and continue until your organization's concurrency limit is reached. Remaining calls will be retried for up to 1 hour as capacity becomes available. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Increase concurrency limits"})]})]})]}),a===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Kr,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Rate Limiting Controls"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure call throttling to prevent carrier blocks and optimize delivery rates"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(Kr,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Z,{className:"text-white font-medium",children:"Enable Rate Limiting"}),t.jsx("button",{onClick:()=>ws("rateLimiting"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Throttle API calls to prevent spam flags and carrier blocks"})]})]}),t.jsx(Lr,{checked:U,onCheckedChange:L})]}),U&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Z,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Minute"}),t.jsx("button",{onClick:()=>ws("callsPerMinute"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[M," calls/min"]})]}),t.jsx(Ln,{value:[M],onValueChange:_e=>I(_e[0]),max:20,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 call/min"}),t.jsx("span",{children:"Conservative"}),t.jsx("span",{children:"Aggressive"}),t.jsx("span",{children:"20 calls/min"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Z,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Hour"}),t.jsx("button",{onClick:()=>ws("callsPerHour"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[W," calls/hr"]})]}),t.jsx(Ln,{value:[W],onValueChange:_e=>V(_e[0]),max:200,min:5,step:5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"5 calls/hr"}),t.jsx("span",{children:"Standard: 20-60"}),t.jsx("span",{children:"200 calls/hr"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Z,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Concurrent Calls Limit"}),t.jsx("button",{onClick:()=>ws("concurrentCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[O," concurrent"]})]}),t.jsx(Ln,{value:[O],onValueChange:_e=>F(_e[0]),max:50,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 concurrent"}),t.jsx("span",{children:"Default: 10"}),t.jsx("span",{children:"50 concurrent"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Z,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Delay Between Calls"}),t.jsx("button",{onClick:()=>ws("delayBetweenCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[z,"s delay"]})]}),t.jsx(Ln,{value:[z],onValueChange:_e=>Y(_e[0]),max:10,min:0,step:.5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"No delay"}),t.jsx("span",{children:"Recommended: 1-3s"}),t.jsx("span",{children:"10s delay"})]})]}),t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(ba,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Estimated Performance"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Expected Calls/Hour:"}),t.jsxs("p",{className:"text-white font-medium",children:[Math.min(M*60,W)," calls"]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-gray-400",children:["With ",$.length," contacts:"]}),t.jsx("p",{className:"text-white font-medium",children:$.length>0?`~${Math.max(1,Math.ceil($.length/Math.min(M*60,W)))} hours`:"0 hours"})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-blue-700/30",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Per Minute:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[M,"/min"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Concurrent:"}),t.jsx("p",{className:"text-blue-300 font-medium",children:O})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Delay:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[z,"s"]})]})]})})]}),(M>10||O>20)&&t.jsxs("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(va,{className:"w-4 h-4 text-amber-400"}),t.jsx("span",{className:"text-amber-300 font-medium text-sm",children:"High Volume Warning"})]}),t.jsx("p",{className:"text-amber-200 text-xs",children:"Aggressive rate limits may trigger carrier spam filters. Consider starting with conservative settings and gradually increasing based on performance."})]})]})]}),a===3&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(dr,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Retry Logic Enhancements"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure intelligent retry policies for different call outcomes to maximize contact rates while avoiding harassment"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(dr,{className:"w-4 h-4"}),t.jsx("span",{children:"Smart Retry Settings"}),t.jsx("button",{onClick:()=>ws("retryLogic"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700 p-4",children:[t.jsx(Z,{className:"text-white text-sm mb-3 block",children:"Choose your retry strategy"}),t.jsxs($l,{value:B,onValueChange:_e=>ee(_e),className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Qs,{value:"basic",id:"basic",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Z,{htmlFor:"basic",className:"text-white font-medium cursor-pointer",children:" Basic (1-2 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimal retries for simple campaigns. Good for cold calling."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Qs,{value:"smart",id:"smart",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Z,{htmlFor:"smart",className:"text-white font-medium cursor-pointer",children:" Smart (3-5 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Intelligent retry logic with exponential backoff. Recommended for most campaigns."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Qs,{value:"conservative",id:"conservative",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Z,{htmlFor:"conservative",className:"text-white font-medium cursor-pointer",children:" Conservative (2-3 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Respectful retry pattern. Perfect for warm leads and existing customers."})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(dr,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Retry Strategy Summary"})]}),t.jsx("div",{className:"space-y-2 text-xs text-emerald-200",children:t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Selected Strategy:"})," ",B==="basic"&&"Basic (1-2 retries)",B==="smart"&&"Smart (3-5 retries) - Recommended",B==="conservative"&&"Conservative (2-3 retries)"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Automatic Handling:"})," Failed calls, no answers, busy signals, and voicemails"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Compliance:"})," Respects working hours and daily limits"]})]})})]})]})]}),a===4&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Ga,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Working Hours & Timezone Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure timezone-aware scheduling to respect local working hours and improve compliance with calling regulations"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(Ga,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Z,{className:"text-white font-medium",children:"Enable Working Hours"}),t.jsx("button",{onClick:()=>ws("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Automatically schedule calls within appropriate local business hours"})]})]}),t.jsx(Lr,{checked:ke,onCheckedChange:H})]}),ke&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(ps,{className:"w-4 h-4"}),t.jsx("span",{children:"Weekly Schedule"})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsx("div",{className:"space-y-4",children:Object.entries(ce).map(([_e,Ze])=>t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-20",children:t.jsx(Lr,{checked:Ze.enabled,onCheckedChange:Pt=>Ce(Lt=>({...Lt,[_e]:{...Lt[_e],enabled:Pt}}))})}),t.jsx("div",{className:"w-24 text-white font-medium capitalize",children:_e}),Ze.enabled&&t.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[t.jsx(Se,{type:"text",value:Ze.start,onChange:Pt=>Ce(Lt=>({...Lt,[_e]:{...Lt[_e],start:Pt.target.value}})),placeholder:"09:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400",children:"to"}),t.jsx(Se,{type:"text",value:Ze.end,onChange:Pt=>Ce(Lt=>({...Lt,[_e]:{...Lt[_e],end:Pt.target.value}})),placeholder:"17:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400 text-sm",children:"(local time)"})]}),!Ze.enabled&&t.jsx("div",{className:"flex-1 text-gray-500 text-sm",children:"No calls scheduled"})]},_e))})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(is,{className:"w-4 h-4"}),t.jsx("span",{children:"Advanced Settings"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Z,{className:"text-white font-medium",children:"Exclude Holidays"}),t.jsxs("div",{className:"group relative",children:[t.jsx(Yt,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically skip calls on major holidays to respect contact preferences and improve success rates."})})]})]}),t.jsx(Lr,{checked:Ee,onCheckedChange:te})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Skip calls on major holidays (New Year's, Christmas, etc.)"})]}),t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Z,{className:"text-white font-medium",children:"Respect DST"}),t.jsxs("div",{className:"group relative",children:[t.jsx(Yt,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically adjust for Daylight Saving Time changes to maintain consistent local calling hours."})})]})]}),t.jsx(Lr,{checked:Ue,onCheckedChange:ie})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Auto-adjust for Daylight Saving Time transitions"})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(Ga,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",he.replace("_"," ")]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Days:"})," ",Object.entries(ce).filter(([_e,Ze])=>Ze.enabled).length," days/week"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Typical Hours:"})," ",ce.monday.enabled?`${ce.monday.start} - ${ce.monday.end}`:"Varies by day"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Special Rules:"})," ",[Ee&&"Holiday exclusion",Ue&&"DST adjustment"].filter(Boolean).join(", ")||"None"]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(Kr,{className:"w-4 h-4 text-yellow-400"}),t.jsx("span",{children:"Timezone-Aware Scheduling Engine"}),t.jsx("div",{className:"px-2 py-1 bg-yellow-500/20 border border-yellow-500/30 rounded text-xs text-yellow-300 font-medium",children:"ADVANCED"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:t.jsx(dr,{className:"w-4 h-4 text-blue-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Z,{className:"text-white font-medium",children:"CSV Pre-filtering"}),t.jsx("button",{onClick:()=>ws("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Filter out contacts before sending to VAPI based on their local time"})]})]}),t.jsx(Lr,{checked:kt,onCheckedChange:Jt})]})}),kt&&t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.jsxs("div",{children:[t.jsx(Z,{className:"text-white text-sm",children:"Buffer Time (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx("span",{className:"text-emerald-400 font-medium text-sm",children:Ot}),t.jsx(Ln,{value:[Ot],onValueChange:_e=>St(_e[0]),min:0,max:120,step:15,className:"flex-1"}),t.jsx("span",{className:"text-gray-400 text-xs",children:"mins"})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Safety buffer before/after working hours"})]})}),_t>0&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Yt,{className:"w-4 h-4 text-blue-400"}),t.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:[_t," contacts excluded from current time window"]})]}),t.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"These contacts will be scheduled for their next available working hours"})]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:t.jsx(ps,{className:"w-4 h-4 text-green-400"})}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white font-medium",children:"Holiday Calendar Management"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Manage regional holidays and custom exclusions"})]})]})}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-white text-sm mb-3 block",children:"Holiday Regions"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["US","CA","UK","AU","DE","FR"].map(_e=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:ue.includes(_e),onChange:Ze=>{Ze.target.checked?Be(Pt=>[...Pt,_e]):Be(Pt=>Pt.filter(Lt=>Lt!==_e))},className:"rounded border-gray-600 bg-gray-900 text-emerald-600 focus:ring-emerald-500"}),t.jsx("span",{className:"text-white text-sm",children:_e})]},_e))})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white text-sm",children:"Custom Holiday Dates"}),t.jsx(Se,{type:"text",placeholder:"2024-12-25, 2024-01-01 (comma-separated)",className:"bg-gray-900 border-gray-600 text-white mt-2",onChange:_e=>{const Ze=_e.target.value.split(",").map(Pt=>Pt.trim()).filter(Pt=>Pt);Te(Ze)}}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add custom dates in YYYY-MM-DD format"})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(ps,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",he]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Holiday Regions:"})," ",ue.length>0?ue.join(", "):"None"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Active Features:"})," ",[Ee&&"Holiday exclusion",Ue&&"DST adjustment"].filter(Boolean).join(", ")||"Basic scheduling only"]})]})]})]})]}),a===5&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Nt,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Team Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Invite team members to collaborate on this campaign with specific roles and permissions"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(Nt,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Z,{className:"text-white font-medium",children:"Enable Team Collaboration"}),t.jsx("button",{onClick:()=>ws("teamManagement"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Yt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Allow team members to collaborate on this campaign"})]})]}),t.jsx(Lr,{checked:gt,onCheckedChange:Ca})]}),gt?t.jsx(AU,{teamMembers:Ke,invitations:rs,onAddMember:async(_e,Ze)=>{const Pt={id:`inv-${Date.now()}`,email:_e,role:Ze,status:"pending",invitationToken:`token-${Date.now()}`,expiresAt:new Date(Date.now()+6048e5).toISOString(),createdAt:new Date().toISOString(),crmAccessLevel:Ze==="manager"?"all_leads":Ze==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:Ze==="manager"||Ze==="agent",delete:Ze==="manager",export:Ze==="manager"||Ze==="agent",assign:Ze==="manager"}};us(Lt=>[...Lt,Pt])},onRemoveMember:async _e=>{Ms(Ze=>Ze.filter(Pt=>Pt.id!==_e))},onUpdateRole:async(_e,Ze)=>{Ms(Pt=>Pt.map(Lt=>Lt.id===_e?{...Lt,role:Ze,crmAccessLevel:Ze==="manager"?"all_leads":Ze==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:Ze==="manager"||Ze==="agent",delete:Ze==="manager",export:Ze==="manager"||Ze==="agent",assign:Ze==="manager"}}:Lt))},onResendInvitation:async _e=>{console.log("Resending invitation:",_e)},onCancelInvitation:async _e=>{us(Ze=>Ze.filter(Pt=>Pt.id!==_e))},isEditable:!0}):t.jsxs("div",{className:"text-center py-12 bg-gray-800/20 rounded-lg border border-gray-700",children:[t.jsx(Nt,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Team Collaboration Disabled"}),t.jsx("p",{className:"text-gray-400 mb-4",children:"This campaign will only be accessible by you. Enable team management to invite collaborators."}),t.jsxs(q,{onClick:()=>Ca(!0),variant:"outline",className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(Nt,{className:"mr-2 h-4 w-4"}),"Enable Team Management"]})]}),gt&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(Nt,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Team Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-blue-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Members:"})," ",Ke.length]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Pending Invites:"})," ",rs.length]})]}),t.jsxs("div",{className:"pt-2 border-t border-blue-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Collaboration Level:"})," ",Ke.length+rs.length>0?"Multi-user campaign":"Single-user campaign"]})]})]})]}),a===6&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(ba,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Review & Launch"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Review your campaign estimates and costs before launching"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(dr,{className:"w-5 h-5 mr-2 text-emerald-400"}),"Campaign: ",i]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Total Leads"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:$.length.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Retry Strategy"}),t.jsx("p",{className:"text-xl font-semibold text-white capitalize",children:B})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Working Hours"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:ke?"8 hrs/day":"24/7"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Team Members"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:Ke.length+rs.length})]})]})]}),bt&&t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx(It,{className:"w-5 h-5 mr-2"}),"Timeline Estimates"]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Attempts"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:bt.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Including retries"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Minutes"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:bt.totalMinutes.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Call time"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Campaign Length"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[bt.campaignDays," days"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working hours"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Throughput"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[(vt/Dt).toFixed(1)," calls/min"]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Concurrent: ",vt]})]})]})]}),t.jsxs("div",{className:"bg-pink-900/20 border border-pink-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-pink-300 mb-4 flex items-center",children:[t.jsx(Ur,{className:"w-5 h-5 mr-2"}),"Cost Breakdown"]}),t.jsx("div",{className:"mb-4 flex items-center space-x-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Average Call Duration (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(Se,{type:"number",value:Dt,onChange:_e=>zt(Number(_e.target.value)),min:"0.5",max:"10",step:"0.5",className:"w-24 bg-gray-900 border-gray-600 text-white"}),t.jsx("span",{className:"text-xs text-gray-400",children:"Default based on industry average"})]})]})}),t.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-300 mb-3",children:"Cost per Minute Breakdown"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Vapi Hosting"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Transcription (STT)"}),t.jsx("span",{className:"text-white",children:"$0.01"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Text-to-Speech (TTS)"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Language Model (LLM)"}),t.jsx("span",{className:"text-white",children:"$0.07"})]}),t.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-700 font-medium",children:[t.jsx("span",{className:"text-white",children:"Total per Minute"}),t.jsxs("span",{className:"text-emerald-400",children:["$",Fe.toFixed(2)]})]})]})]}),bt&&t.jsxs("div",{className:"text-center py-4",children:[t.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Total Estimated Cost"}),t.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",bt.totalCost.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[bt.totalMinutes.toLocaleString()," minutes  $",Fe,"/min"]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(AS,{className:"w-5 h-5 mr-2 text-blue-400"}),"Credit Balance Check"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Current Vapi Credit Balance"}),t.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[t.jsx(Se,{type:"number",placeholder:"Enter your current balance",value:ne||"",onChange:_e=>ye(_e.target.value?Number(_e.target.value):null),className:"w-48 bg-gray-900 border-gray-600 text-white"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 text-sm flex items-center",children:["Check Balance",t.jsx(ji,{className:"w-3 h-3 ml-1"})]})]})]}),ne!==null&&bt&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:`p-4 rounded-lg border ${bt.balanceStatus==="healthy"?"bg-emerald-900/20 border-emerald-700/50":bt.balanceStatus==="warning"?"bg-yellow-900/20 border-yellow-700/50":"bg-red-900/20 border-red-700/50"}`,children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[bt.balanceStatus==="healthy"?t.jsx(yt,{className:"w-5 h-5 text-emerald-400"}):bt.balanceStatus==="warning"?t.jsx(va,{className:"w-5 h-5 text-yellow-400"}):t.jsx(Kt,{className:"w-5 h-5 text-red-400"}),t.jsx("p",{className:`font-medium ${bt.balanceStatus==="healthy"?"text-emerald-300":bt.balanceStatus==="warning"?"text-yellow-300":"text-red-300"}`,children:bt.balanceStatus==="healthy"?"Balance Healthy":bt.balanceStatus==="warning"?"Balance Warning":"Insufficient Balance"})]}),t.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Current: $",ne.toLocaleString()," | Required: $",bt.totalCost.toLocaleString()," |",bt.balanceStatus==="healthy"?` Surplus: $${(ne-bt.totalCost).toLocaleString()}`:` Deficit: $${(bt.totalCost-ne).toLocaleString()}`]})]}),bt.recommendedTopUp>0&&t.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-blue-300 mb-1",children:"Recommended Top-Up"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",bt.recommendedTopUp]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Includes 20% buffer for variations in call duration"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center text-sm text-blue-400 hover:text-blue-300",children:["Add Credits in Vapi Dashboard",t.jsx(ji,{className:"w-3 h-3 ml-1"})]})]})]})]})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(Yt,{className:"w-5 h-5 text-gray-400 mt-0.5"}),t.jsxs("div",{className:"text-sm text-gray-400",children:[t.jsx("p",{className:"font-medium text-gray-300 mb-2",children:"Important Notes:"}),t.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[t.jsx("li",{children:"Estimates assume scrubbed contact lists and may vary based on actual call outcomes"}),t.jsx("li",{children:"No-answer and voicemail attempts count toward total minutes but may be shorter"}),t.jsx("li",{children:"Consider upgrading your Vapi plan for better per-minute rates on high-volume campaigns"}),t.jsx("li",{children:"Monitor campaign progress to adjust estimates based on actual performance"})]})]})]})}),bt&&t.jsxs("div",{className:"bg-emerald-900/10 border border-emerald-700/30 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx($o,{className:"w-5 h-5 mr-2"}),"Launch Summary"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:bt.campaignDays}),t.jsx("p",{className:"text-sm text-gray-400",children:"Days to Complete"})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",bt.totalCost]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Cost"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:bt.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Call Attempts"})]})]})]})]})]}),t.jsx("div",{className:"p-6 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(q,{variant:"outline",onClick:Ia,disabled:N,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:a===1?"Cancel":"Back"}),t.jsx(q,{onClick:a===6?Xt:js,disabled:N,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:a===6?N?"Saving...":"Save Changes":"Next"})]})})]}),a===1&&t.jsx("div",{className:"w-1/2 bg-gray-950 border-l border-gray-800",children:v&&$.length>0?t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-800 bg-gray-900",children:t.jsxs("h3",{className:"text-lg font-semibold text-white",children:["CSV Preview (",$.length," contacts)"]})}),t.jsx("div",{className:"flex-1 overflow-hidden",children:t.jsx("div",{className:"h-full overflow-auto scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsxs("table",{className:"w-full border-separate border-spacing-0",children:[t.jsx("thead",{className:"sticky top-0 z-10",children:t.jsx("tr",{children:Object.keys($[0]||{}).map((_e,Ze)=>t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 bg-gray-800 border-b border-gray-700 first:pl-6 last:pr-6",children:_e},_e))})}),t.jsx("tbody",{children:$.map((_e,Ze)=>t.jsx("tr",{className:"group hover:bg-gray-800/30 transition-colors",children:Object.values(_e).map((Pt,Lt)=>t.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-300 border-b border-gray-800/50 first:pl-6 last:pr-6 group-hover:text-white transition-colors",children:t.jsx("div",{className:"truncate max-w-[200px]",title:Pt,children:Pt})},Lt))},Ze))})]})})}),$.length>100&&t.jsx("div",{className:"px-6 py-3 border-t border-gray-800 bg-gray-900",children:t.jsxs("p",{className:"text-xs text-gray-500",children:["Displaying all ",$.length," contacts  Scroll to view more"]})})]}):t.jsx("div",{className:"h-full flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx(Fl,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-sm",children:"Upload a CSV file to preview contacts"})]})})}),a>1&&t.jsx("div",{className:`${Yr?"w-1/2":"w-0"} flex flex-col border-l border-gray-800 bg-gray-950 transition-all duration-300 overflow-hidden`,children:Yr&&bs&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-6 border-b border-gray-800",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:(Ri=Nr[bs])==null?void 0:Ri.title}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:(Ft=Nr[bs])==null?void 0:Ft.description})]}),t.jsx("button",{onClick:()=>jr(!1),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:t.jsx(jt,{className:"w-4 h-4"})})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsx("div",{className:"prose prose-invert max-w-none",children:t.jsx("div",{className:"text-gray-300 text-sm leading-relaxed space-y-4",dangerouslySetInnerHTML:{__html:(nr=Nr[bs])==null?void 0:nr.content.replace(/## /g,'<h2 class="text-lg font-semibold text-white mt-6 mb-3">').replace(/### /g,'<h3 class="text-base font-medium text-white mt-5 mb-2">').replace(/\*\*(.*?)\*\*/g,'<strong class="text-white font-medium">$1</strong>').replace(/- (.*?)$/gm,'<li class="ml-4">$1</li>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2"><span class="text-green-400 text-sm"></span><span class="text-green-300 font-medium">$1</span></div>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2 p-3 bg-amber-900/20 border border-amber-700/50 rounded-lg"><span class="text-amber-400 text-sm"></span><span class="text-amber-200 font-medium">$1</span></div>').replace(/\n\n/g,'</div><div class="mt-4">').replace(/^/,"<div>").replace(/$/,"</div>")}})})}),t.jsx("div",{className:"p-4 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Need more help? Check our documentation"}),t.jsx("button",{onClick:()=>jr(!1),className:"px-3 py-1.5 text-xs text-gray-400 hover:text-white border border-gray-600 hover:border-gray-500 rounded transition-colors",children:"Close"})]})})]})})]})]})})};var v4="Progress",b4=100,[wje,ESe]=Vs(v4),[jje,Nje]=wje(v4),EU=p.forwardRef((e,r)=>{const{__scopeProgress:s,value:a=null,max:n,getValueLabel:i=Sje,...o}=e;(n||n===0)&&!lO(n)&&console.error(Cje(`${n}`,"Progress"));const l=lO(n)?n:b4;a!==null&&!cO(a,l)&&console.error(kje(`${a}`,"Progress"));const d=cO(a,l)?a:null,m=wx(d)?i(d,l):void 0;return t.jsx(jje,{scope:s,value:d,max:l,children:t.jsx(He.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":wx(d)?d:void 0,"aria-valuetext":m,role:"progressbar","data-state":MU(d,l),"data-value":d??void 0,"data-max":l,...o,ref:r})})});EU.displayName=v4;var TU="ProgressIndicator",OU=p.forwardRef((e,r)=>{const{__scopeProgress:s,...a}=e,n=Nje(TU,s);return t.jsx(He.div,{"data-state":MU(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...a,ref:r})});OU.displayName=TU;function Sje(e,r){return`${Math.round(e/r*100)}%`}function MU(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function wx(e){return typeof e=="number"}function lO(e){return wx(e)&&!isNaN(e)&&e>0}function cO(e,r){return wx(e)&&!isNaN(e)&&e<=r&&e>=0}function Cje(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${b4}\`.`}function kje(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${b4} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var RU=EU,_je=OU;const ar=p.forwardRef(({className:e,value:r,...s},a)=>t.jsx(RU,{ref:a,className:Re("relative h-2 w-full overflow-hidden rounded-full bg-gray-800",e),...s,children:t.jsx(_je,{className:"h-full w-full flex-1 bg-gradient-to-r from-pink-500 to-pink-600 transition-all duration-300",style:{transform:`translateX(-${100-(r||0)}%)`}})}));ar.displayName=RU.displayName;const Pje=Ef("relative w-full rounded-lg border border-zinc-200 px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-zinc-950 [&>svg~*]:pl-7 dark:border-zinc-800 dark:[&>svg]:text-zinc-50",{variants:{variant:{default:"bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 dark:border-red-900/50 dark:text-red-900 dark:dark:border-red-900 dark:[&>svg]:text-red-900"}},defaultVariants:{variant:"default"}}),qt=p.forwardRef(({className:e,variant:r,...s},a)=>t.jsx("div",{ref:a,role:"alert",className:Re(Pje({variant:r}),e),...s}));qt.displayName="Alert";const IU=p.forwardRef(({className:e,...r},s)=>t.jsx("h5",{ref:s,className:Re("mb-1 font-medium leading-none tracking-tight",e),...r}));IU.displayName="AlertTitle";const Ht=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Re("text-sm [&_p]:leading-relaxed",e),...r}));Ht.displayName="AlertDescription";const Aje=()=>{const[e,r]=p.useState({current:25,limit:50,queued:12,available:25,peak24h:47,averageUtilization:68,totalCallsToday:1247,estimatedCost:324.5}),[s,a]=p.useState([{id:"1",name:"Real Estate Outreach",activeCalls:15,queuedCalls:8,priority:"high",status:"active",budget:2e3,spent:845.3},{id:"2",name:"Insurance Follow-up",activeCalls:10,queuedCalls:4,priority:"medium",status:"active",budget:1500,spent:623.2},{id:"3",name:"Solar Panel Campaign",activeCalls:0,queuedCalls:0,priority:"low",status:"paused",budget:1e3,spent:267.8}]),[n,i]=p.useState({enabled:!0,minLimit:10,maxLimit:100,scaleUpThreshold:80,scaleDownThreshold:30,budgetLimit:1e3,peakHoursEnabled:!0,peakHours:{start:"09:00",end:"17:00"}}),[o,l]=p.useState(50),[d,m]=p.useState(!1);p.useEffect(()=>{const b=setInterval(()=>{r(N=>({...N,current:Math.max(0,N.current+Math.floor(Math.random()*6)-3),queued:Math.max(0,N.queued+Math.floor(Math.random()*4)-2),available:N.limit-N.current}))},3e3);return()=>clearInterval(b)},[]),p.useEffect(()=>{e.current/e.limit*100>85&&m(!0)},[e]);const h=()=>{const b=e.current/e.limit*100;if(b>n.scaleUpThreshold&&e.limit<n.maxLimit){const N=Math.min(n.maxLimit,e.limit+10);r(C=>({...C,limit:N,available:N-C.current})),l(N)}else if(b<n.scaleDownThreshold&&e.limit>n.minLimit){const N=Math.max(n.minLimit,e.limit-5);r(C=>({...C,limit:N,available:N-C.current})),l(N)}},f=b=>{const N=b[0];l(N),r(C=>({...C,limit:N,available:N-C.current}))},g=(b,N)=>{a(C=>C.map(S=>S.id===b?{...S,status:N==="pause"?"paused":"active"}:S))},y=b=>b<50?"text-emerald-400":b<80?"text-yellow-400":"text-red-400",w=b=>{switch(b){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-gray-500";default:return"bg-gray-500"}},v=e.current/e.limit*100;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Dynamic Concurrency Manager"}),t.jsx("p",{className:"text-gray-400",children:"Monitor and optimize Vapi org-level concurrency in real-time"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700",children:[t.jsx(ea,{className:"h-4 w-4 mr-2"}),"Refresh"]}),t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700",onClick:()=>window.open("https://dashboard.vapi.ai","_blank"),children:[t.jsx(ji,{className:"h-4 w-4 mr-2"}),"Vapi Dashboard"]})]})]}),d&&t.jsxs(qt,{className:"border-orange-500 bg-orange-500/10",children:[t.jsx(va,{className:"h-4 w-4"}),t.jsxs(Ht,{className:"flex items-center justify-between",children:[t.jsxs("span",{children:["Nearing concurrency limit (",v.toFixed(1),"% utilized). Consider upgrading your Vapi plan."]}),t.jsx(q,{size:"sm",onClick:()=>window.open("https://dashboard.vapi.ai/billing","_blank"),className:"bg-orange-600 hover:bg-orange-700",children:"Upgrade Now"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-2",children:t.jsxs(ge,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(xs,{className:"h-4 w-4 mr-2 text-emerald-500"}),"Active Calls"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.current}),t.jsxs("p",{className:"text-xs text-gray-500",children:["of ",e.limit," limit"]}),t.jsx(ar,{value:v,className:"mt-2 h-2"})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-2",children:t.jsxs(ge,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(Nt,{className:"h-4 w-4 mr-2 text-yellow-500"}),"Queued Calls"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.queued}),t.jsx("p",{className:"text-xs text-gray-500",children:"waiting for slots"}),e.queued>0&&t.jsx(je,{variant:"outline",className:"mt-2 text-xs text-yellow-400 border-yellow-400",children:"Auto-retry active"})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-2",children:t.jsxs(ge,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(QM,{className:"h-4 w-4 mr-2 text-blue-500"}),"Utilization"]})}),t.jsxs(X,{children:[t.jsxs("div",{className:`text-2xl font-bold ${y(v)}`,children:[v.toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["24h avg: ",e.averageUtilization,"%"]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-2",children:t.jsxs(ge,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(ba,{className:"h-4 w-4 mr-2 text-purple-500"}),"Today's Calls"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.totalCallsToday.toLocaleString()}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Est. cost: $",e.estimatedCost]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"text-white flex items-center",children:[t.jsx(is,{className:"h-5 w-5 mr-2"}),"Manual Controls"]})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Concurrency Limit"}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[o," sessions"]})]}),t.jsx(Ln,{value:[o],onValueChange:f,max:200,min:5,step:5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[t.jsx("span",{children:"5 min"}),t.jsxs("span",{children:["Current: ",o]}),t.jsx("span",{children:"200 max"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(q,{variant:"outline",onClick:h,className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(Kr,{className:"h-4 w-4 mr-2"}),"Auto Scale"]}),t.jsxs(q,{variant:"outline",className:"border-gray-700",onClick:()=>m(!1),children:[t.jsx(To,{className:"h-4 w-4 mr-2"}),"Clear Alerts"]})]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"text-white flex items-center",children:[t.jsx(oY,{className:"h-5 w-5 mr-2"}),"Auto-scaling Rules"]})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Enable Auto-scaling"}),t.jsx(Lr,{checked:n.enabled,onCheckedChange:b=>i(N=>({...N,enabled:b}))})]}),n.enabled&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Scale Up at"}),t.jsxs("div",{className:"text-sm text-white",children:[n.scaleUpThreshold,"% utilization"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Scale Down at"}),t.jsxs("div",{className:"text-sm text-white",children:[n.scaleDownThreshold,"% utilization"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Min Limit"}),t.jsxs("div",{className:"text-sm text-white",children:[n.minLimit," sessions"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Max Limit"}),t.jsxs("div",{className:"text-sm text-white",children:[n.maxLimit," sessions"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Peak Hours Boost"}),t.jsx(Lr,{checked:n.peakHoursEnabled,onCheckedChange:b=>i(N=>({...N,peakHoursEnabled:b}))})]})]})]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"text-white flex items-center",children:[t.jsx(dr,{className:"h-5 w-5 mr-2"}),"Campaign Queue Management"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"space-y-4",children:s.map(b=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${w(b.priority)}`}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-white",children:b.name}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(pt,{className:"h-3 w-3 mr-1"}),b.activeCalls," active"]}),b.queuedCalls>0&&t.jsxs("span",{className:"flex items-center text-yellow-400",children:[t.jsx(dr,{className:"h-3 w-3 mr-1"}),b.queuedCalls," queued"]}),t.jsxs("span",{children:["Priority: ",b.priority]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm text-white",children:["$",b.spent.toFixed(2)," / $",b.budget]}),t.jsxs("div",{className:"text-xs text-gray-400",children:[(b.spent/b.budget*100).toFixed(1),"% used"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[b.status==="active"?t.jsxs(q,{size:"sm",variant:"outline",onClick:()=>g(b.id,"pause"),className:"border-amber-600 text-amber-400 hover:bg-amber-600/20",children:[t.jsx(zu,{className:"h-3 w-3 mr-1"}),"Pause"]}):t.jsxs(q,{size:"sm",variant:"outline",onClick:()=>g(b.id,"resume"),className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(Wn,{className:"h-3 w-3 mr-1"}),"Resume"]}),t.jsx(je,{variant:"outline",className:b.status==="active"?"border-emerald-600 text-emerald-400":b.status==="paused"?"border-amber-600 text-amber-400":"border-gray-600 text-gray-400",children:b.status})]})]})]},b.id))}),t.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(Yt,{className:"h-5 w-5 text-blue-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-sm font-medium text-blue-400 mb-1",children:"Queue Management Tips"}),t.jsxs("ul",{className:"text-xs text-gray-300 space-y-1",children:[t.jsx("li",{children:" High priority campaigns get queue preference"}),t.jsx("li",{children:" Vapi automatically retries queued calls for up to 1 hour"}),t.jsx("li",{children:" Pause low-priority campaigns during peak hours to prevent bottlenecks"}),t.jsx("li",{children:" Monitor budget utilization to prevent overspending"})]})]})]})})]})]})]})},iN=()=>{console.log(" VapiDashboard component is rendering!");const[e,r]=p.useState(!0),[s,a]=p.useState([]),[n,i]=p.useState([]),[o,l]=p.useState(null),[d,m]=p.useState(!1),[h,f]=p.useState(!1),[g,y]=p.useState(null),[w,v]=p.useState("all"),[b,N]=p.useState([]),[C,S]=p.useState("all"),[_,A]=p.useState(!1),[T,E]=p.useState("campaigns"),{toast:R}=ts(),{userContext:$}=no(),K=br();nF(),p.useEffect(()=>{console.log(" VapiDashboard: Component mounted, starting data load..."),(async()=>{try{await M()}catch(O){console.error(" VapiDashboard: Critical error during initialization:",O),a([]),i([]),l({}),A(!0),r(!1)}})()},[_]);const M=async(L=!0)=>{console.log(" VapiDashboard: Starting data load, showLoader:",L),L&&r(!0);try{console.log(" VapiDashboard: Loading real campaigns data...");const O=await Ha.getCampaigns();console.log(" VapiDashboard: Real campaigns loaded:",O),O&&Array.isArray(O)?(a(O),console.log(" Set",O.length,"real campaigns")):(console.warn("Campaigns data is not an array:",O),a([]));const F=await Ha.getRecentCalls(10);console.log(" VapiDashboard: Recent calls loaded:",F),i(F||[]);const z=O.reduce((Y,B)=>({totalCalls:Y.totalCalls+(B.totalLeads||0),totalCost:Y.totalCost+(B.totalCost||0),successfulCalls:Y.successfulCalls+Math.floor((B.callsCompleted||0)*(B.successRate||0)/100),totalDuration:Y.totalDuration+(B.callsCompleted||0)*120,totalCompletedCalls:Y.totalCompletedCalls+(B.callsCompleted||0)}),{totalCalls:0,totalCost:0,successfulCalls:0,totalDuration:0,totalCompletedCalls:0});z.successRate=z.totalCalls>0?z.successfulCalls/z.totalCalls*100:0,z.averageDuration=z.totalCompletedCalls>0?z.totalDuration/z.totalCompletedCalls:0,z.sentimentBreakdown={positive:Math.round(z.successfulCalls*.6),neutral:Math.round(z.successfulCalls*.3),negative:Math.round(z.successfulCalls*.1)},z.sentimentBreakdown||(z.sentimentBreakdown={positive:0,neutral:0,negative:0}),z.outcomeBreakdown||(z.outcomeBreakdown={}),z.successRate||(z.successRate=0),z.totalCost||(z.totalCost=0),z.activeAssistants||(z.activeAssistants=0),l(z),A(!0)}catch(O){console.error("Error loading dashboard data:",O),a([]),i([]),l({}),R({title:"Error",description:"Failed to load dashboard data",variant:"destructive"})}finally{L&&r(!1)}},I=async(L,O)=>{try{let F;switch(O){case"start":F=await Ha.startCampaign(L);break;case"pause":F=await Ha.pauseCampaign(L);break;case"resume":F=await Ha.resumeCampaign(L);break;default:throw new Error(`Unknown action: ${O}`)}R({title:"Success",description:`Campaign ${O}ed successfully`}),M(!1)}catch(F){console.error(`Failed to ${O} campaign:`,F),R({title:"Error",description:`Failed to ${O} campaign. Please try again.`,variant:"destructive"})}},W=L=>{switch(L==null?void 0:L.toLowerCase()){case"active":return"text-emerald-400 bg-emerald-500/10 border-emerald-500/30";case"paused":return"text-amber-400 bg-amber-500/10 border-amber-500/30";case"completed":return"text-blue-400 bg-blue-500/10 border-blue-500/30";case"failed":return"text-red-400 bg-red-500/10 border-red-500/30";default:return"text-gray-400 bg-gray-500/10 border-gray-500/30"}},V=L=>{switch(L==null?void 0:L.toLowerCase()){case"active":return t.jsx(YG,{className:"h-3 w-3"});case"paused":return t.jsx(GG,{className:"h-3 w-3"});case"completed":return t.jsx(yt,{className:"h-3 w-3"});case"failed":return t.jsx(Kt,{className:"h-3 w-3"});default:return t.jsx(JG,{className:"h-3 w-3"})}},U=(s||[]).filter(L=>w==="all"?!0:w==="active"?L.status==="active":w==="paused"?L.status==="paused":!0);return e?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-400"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Loading campaigns dashboard..."})]})}):t.jsxs("div",{className:"w-full bg-black min-h-screen px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx("h1",{className:"text-2xl font-bold text-white",children:"VAPI Dashboard"})}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(q,{variant:"outline",onClick:()=>M(!1),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(ea,{className:"mr-2 h-4 w-4"}),"Refresh"]}),T==="campaigns"&&t.jsxs(q,{onClick:()=>m(!0),className:"bg-emerald-600 text-white hover:bg-emerald-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"New Campaign"]})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex space-x-1 bg-gray-900 p-1 rounded-lg w-fit",children:[t.jsxs("button",{onClick:()=>E("campaigns"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${T==="campaigns"?"bg-emerald-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[t.jsx(dr,{className:"mr-2 h-4 w-4 inline"}),"Campaigns"]}),t.jsxs("button",{onClick:()=>E("concurrency"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${T==="concurrency"?"bg-emerald-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[t.jsx(QM,{className:"mr-2 h-4 w-4 inline"}),"Concurrency Manager"]})]})}),T==="campaigns"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Campaigns"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.length})]}),t.jsx(dr,{className:"h-8 w-8 text-purple-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.filter(L=>L.status==="active").length})]}),t.jsx(Wn,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Paused"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.filter(L=>L.status==="paused").length})]}),t.jsx(zu,{className:"h-8 w-8 text-amber-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Draft"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.filter(L=>L.status==="draft").length})]})})})})]}),t.jsx("div",{className:"mb-8 border-b border-gray-700"}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"border-b border-gray-800/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ge,{className:"text-2xl font-bold text-white mb-2",children:"Campaigns"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Manage and monitor your voice AI campaigns"})]}),t.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800/50 rounded-lg p-1",children:[t.jsx(q,{variant:w==="all"?"default":"ghost",size:"sm",onClick:()=>v("all"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${w==="all"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"All"}),t.jsx(q,{variant:w==="active"?"default":"ghost",size:"sm",onClick:()=>v("active"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${w==="active"?"bg-gradient-to-r from-emerald-600 to-teal-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"Active"}),t.jsx(q,{variant:w==="paused"?"default":"ghost",size:"sm",onClick:()=>v("paused"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${w==="paused"?"bg-gradient-to-r from-amber-600 to-orange-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"Paused"})]})]})}),t.jsx(X,{className:"p-0",children:U.length===0?t.jsxs("div",{className:"py-12 text-center",children:[t.jsx(dr,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"mb-4 text-gray-400",children:"No campaigns found"}),t.jsxs(q,{onClick:()=>m(!0),className:"bg-emerald-600 text-white hover:bg-emerald-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Create Campaign"]})]}):t.jsx("div",{className:"space-y-6",children:U.map((L,O)=>{var F,z;return t.jsxs("div",{className:"group relative cursor-pointer overflow-hidden rounded-xl border border-gray-800 bg-gradient-to-r from-gray-900/80 to-gray-800/50 p-6 backdrop-blur-sm transition-all duration-300 hover:border-gray-600 hover:shadow-xl hover:shadow-black/20",onClick:()=>K(`/campaigns/${L.id}`),children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/5 via-transparent to-pink-400/5 opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"mb-6 flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-2 tracking-tight",children:L.name}),t.jsxs("p",{className:"text-sm text-gray-400 font-medium",children:["ID: ",L.apexId||"apex00000"]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(je,{variant:"outline",className:`${W(L.status)} px-3 py-1 text-xs font-semibold inline-flex items-center justify-center w-20`,children:[V(L.status),t.jsx("span",{className:"ml-2 capitalize",children:L.status})]}),t.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[L.status==="draft"&&t.jsxs(q,{size:"sm",variant:"outline",className:"border-emerald-500/30 bg-emerald-500/10 text-emerald-400 transition-all duration-200 hover:border-emerald-400 hover:bg-emerald-500/20 hover:text-emerald-300",onClick:Y=>{Y.stopPropagation(),I(L.id,"start")},children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Start"]}),L.status==="active"&&t.jsxs(q,{size:"sm",variant:"outline",className:"border-amber-500/30 bg-amber-500/10 text-amber-400 transition-all duration-200 hover:border-amber-400 hover:bg-amber-500/20 hover:text-amber-300",onClick:Y=>{Y.stopPropagation(),I(L.id,"pause")},children:[t.jsx(zu,{className:"mr-2 h-4 w-4"}),"Pause"]}),L.status==="paused"&&t.jsxs(q,{size:"sm",variant:"outline",className:"border-emerald-500/30 bg-emerald-500/10 text-emerald-400 transition-all duration-200 hover:border-emerald-400 hover:bg-emerald-500/20 hover:text-emerald-300",onClick:Y=>{Y.stopPropagation(),I(L.id,"resume")},children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Resume"]}),t.jsx(q,{size:"sm",variant:"ghost",onClick:Y=>{Y.stopPropagation(),y(L),f(!0)},className:"text-gray-400 hover:bg-gray-700/50 hover:text-white transition-all duration-200 rounded-lg p-2",children:t.jsx(is,{className:"h-4 w-4"})}),t.jsx(q,{size:"sm",variant:"ghost",onClick:Y=>{Y.stopPropagation(),K(`/campaigns/${L.id}/calls`)},className:"text-gray-400 hover:bg-gray-700/50 hover:text-white transition-all duration-200 rounded-lg p-2",children:t.jsx(ji,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6 md:grid-cols-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/10 border border-blue-500/20",children:t.jsx(Nt,{className:"h-5 w-5 text-blue-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Leads"}),t.jsx("p",{className:"text-lg font-bold text-white",children:L.totalLeads||0})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:t.jsx(yt,{className:"h-5 w-5 text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Completed"}),t.jsx("p",{className:"text-lg font-bold text-white",children:L.callsCompleted||0})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-500/10 border border-amber-500/20",children:t.jsx(Ur,{className:"h-5 w-5 text-amber-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Cost"}),t.jsxs("p",{className:"text-lg font-bold text-white",children:["$",((F=L.totalCost)==null?void 0:F.toFixed(2))||"0.00"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-pink-500/10 border border-pink-500/20",children:t.jsx(_s,{className:"h-5 w-5 text-pink-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Success"}),t.jsxs("p",{className:"text-lg font-bold text-white",children:[((z=L.successRate)==null?void 0:z.toFixed(1))||0,"%"]})]})]})]}),t.jsxs("div",{className:"mt-6 space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Progress"}),t.jsx("span",{className:"text-sm font-bold text-white",children:L.totalLeads?`${L.callsCompleted||0}/${L.totalLeads}`:"0/0"})]}),t.jsx("div",{className:"relative h-2 w-full rounded-full bg-gray-800 overflow-hidden",children:t.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-pink-500 to-pink-400 transition-all duration-700 ease-out relative overflow-hidden",style:{width:`${Math.min(L.totalLeads?(L.callsCompleted||0)/L.totalLeads*100:0,100)}%`},children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})})]})]})]},L.id)})})})]})]}),T==="concurrency"&&t.jsx(Aje,{}),d&&t.jsx(vje,{onCampaignCreated:L=>{m(!1),M(!1),R({title:"Campaign Created",description:`Campaign "${L.name}" has been created successfully!`})},onCancel:()=>m(!1)}),h&&g&&t.jsx(bje,{campaign:g,onCampaignUpdated:L=>{a(O=>O.map(F=>F.id===L.id?{...F,...L,updatedAt:new Date().toISOString()}:F)),f(!1),y(null),R({title:"Campaign Updated",description:`Campaign "${L.name}" has been updated successfully!`})},onCancel:()=>{f(!1),y(null)}})]})};function Eje(){const[e,r]=p.useState("overview"),s={organizations:{active:38,new:5,churn:2},tickets:{avgResolutionTime:2.4,satisfaction:98.2},usage:{totalCalls:125420},calls:{total:125420,successful:11e4,failed:15420}},a=[{date:"Jan 1",revenue:12500,organizations:32},{date:"Jan 7",revenue:13200,organizations:34},{date:"Jan 14",revenue:14800,organizations:37},{date:"Jan 21",revenue:15200,organizations:40},{date:"Jan 28",revenue:16900,organizations:42},{date:"Feb 4",revenue:17600,organizations:44},{date:"Feb 11",revenue:18450,organizations:45}],n=[{name:"Starter",value:18,color:"#3B82F6"},{name:"Professional",value:22,color:"#8B5CF6"},{name:"Enterprise",value:5,color:"#F59E0B"}],i=[{category:"Technical",tickets:67,avgTime:2.1},{category:"Billing",tickets:34,avgTime:1.8},{category:"Onboarding",tickets:28,avgTime:3.2},{category:"Feature Requests",tickets:27,avgTime:4.5}],o=[{name:"TechFlow Solutions",calls:12450,revenue:599,status:"active"},{name:"Digital Dynamics",calls:18200,revenue:1299,status:"active"},{name:"Growth Partners",calls:450,revenue:0,status:"trial"},{name:"Enterprise Corp",calls:25100,revenue:2499,status:"active"},{name:"StartupHub",calls:8200,revenue:299,status:"active"}];return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Comprehensive analytics and insights for your platform"})}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(q,{variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(ps,{className:"mr-2 h-4 w-4"}),"Export Report"]}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Custom Dashboard"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-3xl font-bold text-white",children:s.calls.total.toLocaleString()})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(pt,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("span",{className:"text-green-400",children:["+",s.calls.successful," successful"]}),t.jsxs("span",{className:"text-red-400",children:["-",s.calls.failed," failed"]})]})]})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Organizations"}),t.jsx("p",{className:"text-3xl font-bold text-white",children:s.organizations.active})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-500/20",children:t.jsx(Ox,{className:"h-6 w-6 text-blue-400"})})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("span",{className:"text-green-400",children:["+",s.organizations.new," new"]}),t.jsxs("span",{className:"text-red-400",children:["-",s.organizations.churn," churn"]})]})]})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Support Satisfaction"}),t.jsxs("p",{className:"text-3xl font-bold text-white",children:[s.tickets.satisfaction,"%"]})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(Xi,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(It,{className:"h-4 w-4"}),t.jsxs("span",{children:[s.tickets.avgResolutionTime,"h avg resolution"]})]})]})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Platform Usage"}),t.jsxs("p",{className:"text-3xl font-bold text-white",children:[(s.usage.totalCalls/1e3).toFixed(1),"k"]})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-orange-500/20",children:t.jsx(xs,{className:"h-6 w-6 text-orange-400"})})]}),t.jsx("div",{className:"text-sm text-gray-400",children:"Total calls this month"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(G,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center justify-between text-white",children:["Revenue & Growth Trend",t.jsxs(je,{className:"border-green-500/30 bg-green-500/20 text-green-400",children:[t.jsx(_s,{className:"mr-1 h-3 w-3"}),"+21.4%"]})]})}),t.jsx(X,{children:t.jsx(Un,{width:"100%",height:300,children:t.jsxs(Ly,{data:a,children:[t.jsx(Yi,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(bi,{dataKey:"date",stroke:"#9CA3AF"}),t.jsx(wi,{stroke:"#9CA3AF"}),t.jsx(Fn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#F3F4F6"}}),t.jsx(fd,{type:"monotone",dataKey:"revenue",stroke:"#8B5CF6",fill:"url(#colorRevenue)",strokeWidth:2}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#8B5CF6",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#8B5CF6",stopOpacity:0})]})})]})})})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Organization Distribution by Plan"})}),t.jsx(X,{children:t.jsx(Un,{width:"100%",height:300,children:t.jsxs(s4,{children:[t.jsx(Ry,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:l=>`${l.name}: ${l.value}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:n.map((l,d)=>t.jsx(kd,{fill:l.color},`cell-${d}`))}),t.jsx(Fn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"}})]})})})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Support Department Performance"})}),t.jsx(X,{children:t.jsx(Un,{width:"100%",height:300,children:t.jsxs(r4,{data:i,children:[t.jsx(Yi,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(bi,{dataKey:"category",stroke:"#9CA3AF"}),t.jsx(wi,{stroke:"#9CA3AF"}),t.jsx(Fn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#F3F4F6"}}),t.jsx(uf,{dataKey:"tickets",fill:"#8B5CF6"}),t.jsx(uf,{dataKey:"avgTime",fill:"#3B82F6"})]})})})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Top Organizations by Activity"})}),t.jsx(X,{children:t.jsx("div",{className:"space-y-4",children:o.map((l,d)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-700/50 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-r from-emerald-600 to-blue-600",children:t.jsx("span",{className:"font-bold text-white",children:d+1})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:l.name}),t.jsxs("p",{className:"text-sm text-gray-400",children:[l.calls.toLocaleString()," calls this month"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-semibold text-white",children:["$",l.revenue,"/mo"]}),t.jsx(je,{className:`text-xs ${l.status==="active"?"border-green-500/30 bg-green-500/20 text-green-400":"border-yellow-500/30 bg-yellow-500/20 text-yellow-400"}`,children:l.status})]})]},d))})})]})]})})}function Tje(){const[e,r]=p.useState(""),[s,a]=p.useState("all"),n=[{id:"1",name:"Sarah Johnson",company:"TechFlow Solutions",email:"sarah@techflow.com",phone:"+1 (555) 123-4567",status:"active",campaigns:3,leads:1247,calls:2847,spend:2847.5,lastActivity:"2 hours ago",rating:4.8},{id:"2",name:"Mike Chen",company:"Digital Dynamics",email:"mike@digitaldynamics.com",phone:"+1 (555) 987-6543",status:"active",campaigns:5,leads:2156,calls:4123,spend:5123.75,lastActivity:"1 hour ago",rating:4.9},{id:"3",name:"Emma Rodriguez",company:"Growth Partners",email:"emma@growthpartners.com",phone:"+1 (555) 456-7890",status:"active",campaigns:2,leads:892,calls:1654,spend:1987.25,lastActivity:"3 hours ago",rating:4.7},{id:"4",name:"David Thompson",company:"Innovate Labs",email:"david@innovatelabs.com",phone:"+1 (555) 321-6540",status:"pending",campaigns:1,leads:234,calls:456,spend:567.8,lastActivity:"1 day ago",rating:4.5},{id:"5",name:"Lisa Wang",company:"ScaleUp Ventures",email:"lisa@scaleupventures.com",phone:"+1 (555) 789-0123",status:"inactive",campaigns:0,leads:0,calls:0,spend:0,lastActivity:"1 week ago",rating:4.6}],i=n.filter(d=>{const m=d.name.toLowerCase().includes(e.toLowerCase())||d.company.toLowerCase().includes(e.toLowerCase())||d.email.toLowerCase().includes(e.toLowerCase()),h=s==="all"||d.status===s;return m&&h}),o={total:n.length,active:n.filter(d=>d.status==="active").length,pending:n.filter(d=>d.status==="pending").length,inactive:n.filter(d=>d.status==="inactive").length,totalSpend:n.reduce((d,m)=>d+m.spend,0),totalCalls:n.reduce((d,m)=>d+m.calls,0),totalLeads:n.reduce((d,m)=>d+m.leads,0)},l=d=>{switch(d){case"active":return"bg-green-500/10 text-green-400 border-green-500/20";case"pending":return"bg-yellow-500/10 text-yellow-400 border-yellow-500/20";case"inactive":return"bg-gray-500/10 text-gray-400 border-gray-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}};return t.jsx("div",{className:"mx-auto w-full max-w-7xl px-4",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col justify-between space-y-4 md:flex-row md:items-center md:space-y-0",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Clients"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Manage your agency clients and their campaigns"})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs(q,{className:"bg-gradient-to-r from-brand-pink to-brand-magenta transition-colors hover:from-brand-magenta hover:to-brand-pink",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Add New Client"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Clients"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:o.total})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-900/20",children:t.jsx(tr,{className:"h-6 w-6 text-blue-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+2 this month"})})]})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clients"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:o.active})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-900/20",children:t.jsx(Nt,{className:"h-6 w-6 text-green-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+1 this week"})})]})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:o.totalCalls.toLocaleString()})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-900/20",children:t.jsx(pt,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+12% this month"})})]})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",o.totalSpend.toLocaleString()]})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-900/20",children:t.jsx(Ur,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+8% this month"})})]})})]}),t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Se,{placeholder:"Search clients by name, company, or email...",value:e,onChange:d=>r(d.target.value),className:"border-gray-800 bg-gray-900 pl-10 text-white placeholder-gray-400"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(q,{variant:"outline",className:"border-gray-700 text-gray-300 hover:text-white",onClick:()=>a("all"),children:["All (",o.total,")"]}),t.jsxs(q,{variant:"outline",className:"border-gray-700 text-gray-300 hover:text-white",onClick:()=>a("active"),children:["Active (",o.active,")"]}),t.jsxs(q,{variant:"outline",className:"border-gray-700 text-gray-300 hover:text-white",onClick:()=>a("pending"),children:["Pending (",o.pending,")"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(d=>t.jsxs(G,{className:"border-gray-800 bg-gray-900 transition-colors hover:border-gray-700",children:[t.jsxs(fe,{className:"pb-4",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(od,{className:"h-12 w-12",children:[t.jsx(Uu,{src:d.avatar}),t.jsx(ld,{className:"bg-gray-800 text-white",children:d.name.split(" ").map(m=>m[0]).join("")})]}),t.jsxs("div",{children:[t.jsx(ge,{className:"text-lg text-white",children:d.name}),t.jsx(Rt,{className:"text-gray-400",children:d.company})]})]}),t.jsxs(ki,{children:[t.jsx(_i,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(sm,{className:"h-4 w-4"})})}),t.jsxs(Kn,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(Qt,{className:"text-gray-300 hover:text-white",children:[t.jsx(Ir,{className:"mr-2 h-4 w-4"}),"View Details"]}),t.jsxs(Qt,{className:"text-gray-300 hover:text-white",children:[t.jsx(Hl,{className:"mr-2 h-4 w-4"}),"Edit Client"]}),t.jsxs(Qt,{className:"text-gray-300 hover:text-white",children:[t.jsx(wa,{className:"mr-2 h-4 w-4"}),"Send Message"]}),t.jsxs(Qt,{className:"text-red-400 hover:text-red-300",children:[t.jsx(Bs,{className:"mr-2 h-4 w-4"}),"Remove Client"]})]})]})]}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsx(je,{className:l(d.status),children:d.status.charAt(0).toUpperCase()+d.status.slice(1)}),t.jsxs("div",{className:"flex items-center text-yellow-400",children:[t.jsx(Oo,{className:"h-4 w-4 fill-current"}),t.jsx("span",{className:"ml-1 text-sm",children:d.rating})]})]})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-white",children:d.campaigns}),t.jsx("p",{className:"text-xs text-gray-400",children:"Campaigns"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-white",children:d.leads.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-400",children:"Leads"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-white",children:d.calls.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-400",children:"Calls"})]})]}),t.jsxs("div",{className:"flex items-center justify-between border-t border-gray-800 pt-2",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-white",children:["$",d.spend.toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Total Spend"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Last Activity"}),t.jsx("p",{className:"text-xs text-gray-300",children:d.lastActivity})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(q,{variant:"outline",size:"sm",className:"flex-1 border-gray-700 text-gray-300 hover:text-white",children:[t.jsx(Ir,{className:"mr-2 h-4 w-4"}),"View"]}),t.jsxs(q,{variant:"outline",size:"sm",className:"flex-1 border-gray-700 text-gray-300 hover:text-white",children:[t.jsx(pt,{className:"mr-2 h-4 w-4"}),"Contact"]})]})]})]},d.id))}),i.length===0&&t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-12 text-center",children:[t.jsx(tr,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"No clients found"}),t.jsx("p",{className:"mb-4 text-gray-400",children:e?"Try adjusting your search terms":"Get started by adding your first client"}),t.jsxs(q,{className:"bg-gradient-to-r from-brand-pink to-brand-magenta hover:from-brand-magenta hover:to-brand-pink",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Add New Client"]})]})})]})})}const Oje=()=>t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Live Calls"}),t.jsx("p",{className:"text-gray-600",children:"Monitor active calls in real-time"})]}),t.jsxs("div",{className:"grid gap-4",children:[t.jsx("div",{className:"rounded-lg border p-4 bg-green-50 border-green-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(pt,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"John Doe"}),t.jsx("p",{className:"text-sm text-gray-600",children:"+1 (555) 123-4567"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(It,{className:"h-4 w-4"}),t.jsx("span",{children:"02:34"})]}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(Vl,{className:"h-4 w-4"}),t.jsx("span",{children:"New York, NY"})]}),t.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"})]})]})}),t.jsx("div",{className:"rounded-lg border p-4 bg-blue-50 border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(pt,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Jane Smith"}),t.jsx("p",{className:"text-sm text-gray-600",children:"+1 (555) 987-6543"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(It,{className:"h-4 w-4"}),t.jsx("span",{children:"01:12"})]}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(Vl,{className:"h-4 w-4"}),t.jsx("span",{children:"Los Angeles, CA"})]}),t.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-pulse"})]})]})}),t.jsxs("div",{className:"rounded-lg border p-8 text-center text-gray-500",children:[t.jsx(pt,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No More Active Calls"}),t.jsx("p",{children:"All other calls have been completed."})]})]})]});function dO(){var _,A,T;const e=br(),{getToken:r}=ja(),[s,a]=p.useState("7d"),[n,i]=p.useState(null),[o,l]=p.useState([]),[d,m]=p.useState(!0),[h,f]=p.useState(null),g="http://localhost:3001",y=async()=>{try{m(!0),f(null);const E=await r(),R=await fetch(`${g}/api/platform-analytics/overview`,{headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const $=await R.json();i($),console.log(" Platform analytics loaded:",$)}catch(E){console.error(" Error fetching platform analytics:",E),f("Failed to load platform analytics"),i({overview:{totalOrganizations:0,activeOrganizations:0,totalUsers:0,activeUsers:0,totalMRR:0,totalCalls:0,systemUptime:99.8,supportTickets:0,recentGrowth:{organizations:0,users:0,organizationGrowth:0,userGrowth:0}},charts:{weeklyGrowth:[],monthlyRevenue:[],planDistribution:{starter:0,professional:0,enterprise:0}},topOrganizations:[]})}finally{m(!1)}},w=async()=>{try{const E=await r(),R=await fetch(`${g}/api/platform-analytics/activity`,{headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(R.ok){const $=await R.json();l($.activity||[])}}catch(E){console.error(" Error fetching activity:",E),l([])}};p.useEffect(()=>{y(),w()},[]);const v=((_=n==null?void 0:n.charts)==null?void 0:_.weeklyGrowth)||[{date:"Mon",users:0,organizations:0},{date:"Tue",users:0,organizations:0},{date:"Wed",users:0,organizations:0},{date:"Thu",users:0,organizations:0},{date:"Fri",users:0,organizations:0},{date:"Sat",users:0,organizations:0},{date:"Sun",users:0,organizations:0}],b=((A=n==null?void 0:n.charts)==null?void 0:A.monthlyRevenue)||[{month:"Jan",revenue:0,mrr:0},{month:"Feb",revenue:0,mrr:0},{month:"Mar",revenue:0,mrr:0},{month:"Apr",revenue:0,mrr:0},{month:"May",revenue:0,mrr:0},{month:"Jun",revenue:0,mrr:0}],N=[{status:"Open",count:((T=n==null?void 0:n.overview)==null?void 0:T.supportTickets)||0,color:"#ef4444"},{status:"In Progress",count:0,color:"#eab308"},{status:"Resolved",count:0,color:"#22c55e"}],C=[{service:"API",uptime:99.9,status:"operational"},{service:"Database",uptime:99.95,status:"operational"},{service:"Auth",uptime:98.5,status:"degraded"},{service:"Storage",uptime:99.99,status:"operational"}],S=n!=null&&n.overview?{totalOrganizations:n.overview.totalOrganizations,activeUsers:n.overview.totalUsers,mrr:n.overview.totalMRR,supportTickets:n.overview.supportTickets,systemUptime:n.overview.systemUptime,activeSubscriptions:n.overview.activeOrganizations}:{totalOrganizations:0,activeUsers:0,mrr:0,supportTickets:0,systemUptime:99.8,activeSubscriptions:0};return d?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-6",children:t.jsxs("div",{className:"text-center text-white",children:[t.jsx("div",{className:"mx-auto mb-4 h-32 w-32 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-xl",children:"Loading platform analytics..."})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Platform Overview"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Monitor and manage your AI calling platform"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[h&&t.jsx("div",{className:"rounded-lg border border-red-500/20 bg-red-500/10 px-3 py-2",children:t.jsx("p",{className:"text-sm text-red-400",children:h})}),t.jsxs(q,{onClick:()=>{y(),w()},variant:"outline",size:"sm",className:"border-gray-600 text-white hover:bg-gray-700",children:[t.jsx(ea,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:[t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{className:"pb-2",children:t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Organizations"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.totalOrganizations}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"+8 this week"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{className:"pb-2",children:t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Active Users"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.activeUsers.toLocaleString()}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"+12% growth"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{className:"pb-2",children:t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"MRR"})}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",(S.mrr/1e3).toFixed(0),"k"]}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"+15% vs last month"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{className:"pb-2",children:t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Support Tickets"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.supportTickets}),t.jsx("p",{className:"mt-1 text-xs text-yellow-400",children:"12 open"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{className:"pb-2",children:t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"System Uptime"})}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:[S.systemUptime,"%"]}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"All systems operational"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{className:"pb-2",children:t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Subscriptions"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.activeSubscriptions}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"89% retention"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5",children:[t.jsxs(q,{onClick:()=>e("/organizations"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(tr,{className:"h-6 w-6"}),t.jsx("span",{children:"Manage Organizations"})]}),t.jsxs(q,{onClick:()=>e("/user-management"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(ad,{className:"h-6 w-6"}),t.jsx("span",{children:"User Management"})]}),t.jsxs(q,{onClick:()=>e("/support-tickets"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(Hh,{className:"h-6 w-6"}),t.jsx("span",{children:"Support Tickets"})]}),t.jsxs(q,{onClick:()=>e("/system-health"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(xs,{className:"h-6 w-6"}),t.jsx("span",{children:"System Health"})]}),t.jsxs(q,{onClick:()=>e("/platform-monitoring"),className:"flex h-auto flex-col items-center gap-2 bg-emerald-800 p-6 text-white hover:bg-emerald-700",children:[t.jsx(p0,{className:"h-6 w-6"}),t.jsx("span",{children:"Platform Monitoring"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(_s,{className:"h-5 w-5"}),"User & Organization Growth"]})}),t.jsx(X,{children:t.jsx(Un,{width:"100%",height:300,children:t.jsxs(Ez,{data:v,children:[t.jsx(Yi,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(bi,{dataKey:"date",stroke:"#9ca3af"}),t.jsx(wi,{stroke:"#9ca3af"}),t.jsx(Fn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(mx,{type:"monotone",dataKey:"users",stroke:"#10b981",strokeWidth:2,name:"Users"}),t.jsx(mx,{type:"monotone",dataKey:"organizations",stroke:"#8b5cf6",strokeWidth:2,name:"Organizations"})]})})})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(Ur,{className:"h-5 w-5"}),"Revenue Trends"]})}),t.jsx(X,{children:t.jsx(Un,{width:"100%",height:300,children:t.jsxs(Ly,{data:b,children:[t.jsx(Yi,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(bi,{dataKey:"month",stroke:"#9ca3af"}),t.jsx(wi,{stroke:"#9ca3af"}),t.jsx(Fn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(fd,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Total Revenue"}),t.jsx(fd,{type:"monotone",dataKey:"mrr",stackId:"2",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,name:"MRR"})]})})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(Hh,{className:"h-5 w-5"}),"Support Tickets"]})}),t.jsxs(X,{children:[t.jsx(Un,{width:"100%",height:200,children:t.jsxs(s4,{children:[t.jsx(Ry,{data:N,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"count",children:N.map((E,R)=>t.jsx(kd,{fill:E.color},`cell-${R}`))}),t.jsx(Fn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}})]})}),t.jsx("div",{className:"mt-4 space-y-2",children:N.map(E=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:E.color}}),t.jsx("span",{className:"text-gray-300",children:E.status})]}),t.jsx("span",{className:"font-medium text-white",children:E.count})]},E.status))})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(p0,{className:"h-5 w-5"}),"System Health"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"space-y-4",children:C.map(E=>t.jsxs("div",{children:[t.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:E.service}),t.jsxs("div",{className:"flex items-center gap-2",children:[E.status==="operational"?t.jsx(yt,{className:"h-4 w-4 text-green-500"}):t.jsx(Kt,{className:"h-4 w-4 text-yellow-500"}),t.jsxs("span",{className:"text-sm text-white",children:[E.uptime,"%"]})]})]}),t.jsx(ar,{value:E.uptime,className:"h-2"})]},E.service))}),t.jsx(q,{onClick:()=>e("/system-health"),className:"mt-4 w-full bg-gray-700 hover:bg-gray-600",children:"View Details"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(xs,{className:"h-5 w-5"}),"Recent Activity"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"space-y-3",children:o.length>0?o.slice(0,4).map((E,R)=>t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(je,{className:`${E.type==="organization"?"border-blue-500/30 bg-blue-500/20 text-blue-400":"border-emerald-500/30 bg-emerald-500/20 text-emerald-400"} mt-0.5`,children:E.type==="organization"?"ORG":"USER"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-white",children:E.title}),t.jsxs("p",{className:"text-xs text-gray-400",children:[E.description," - ",new Date(E.time).toLocaleDateString()]})]})]},R)):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(xs,{className:"mx-auto mb-2 h-8 w-8 text-gray-600"}),t.jsx("p",{className:"text-sm text-gray-400",children:"No recent activity"})]})}),t.jsx(q,{onClick:()=>e("/audit-logs"),className:"mt-4 w-full bg-gray-700 hover:bg-gray-600",children:"View All Activity"})]})]})]})]})})}function Mje(e){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Array(12).fill(0);let lS=1;class Rje{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const s=this.subscribers.indexOf(r);this.subscribers.splice(s,1)}),this.publish=r=>{this.subscribers.forEach(s=>s(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var s;const{message:a,...n}=r,i=typeof(r==null?void 0:r.id)=="number"||((s=r.id)==null?void 0:s.length)>0?r.id:lS++,o=this.toasts.find(d=>d.id===i),l=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...r,id:i,title:a}),{...d,...r,id:i,dismissible:l,title:a}):d):this.addToast({title:a,...n,dismissible:l,id:i}),i},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:r,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(a=>a({id:s.id,dismiss:!0}))}),r),this.message=(r,s)=>this.create({...s,message:r}),this.error=(r,s)=>this.create({...s,message:r,type:"error"}),this.success=(r,s)=>this.create({...s,type:"success",message:r}),this.info=(r,s)=>this.create({...s,type:"info",message:r}),this.warning=(r,s)=>this.create({...s,type:"warning",message:r}),this.loading=(r,s)=>this.create({...s,type:"loading",message:r}),this.promise=(r,s)=>{if(!s)return;let a;s.loading!==void 0&&(a=this.create({...s,promise:r,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const n=Promise.resolve(r instanceof Function?r():r);let i=a!==void 0,o;const l=n.then(async m=>{if(o=["resolve",m],oe.isValidElement(m))i=!1,this.create({id:a,type:"default",message:m});else if(Dje(m)&&!m.ok){i=!1;const f=typeof s.error=="function"?await s.error(`HTTP error! status: ${m.status}`):s.error,g=typeof s.description=="function"?await s.description(`HTTP error! status: ${m.status}`):s.description,w=typeof f=="object"&&!oe.isValidElement(f)?f:{message:f};this.create({id:a,type:"error",description:g,...w})}else if(m instanceof Error){i=!1;const f=typeof s.error=="function"?await s.error(m):s.error,g=typeof s.description=="function"?await s.description(m):s.description,w=typeof f=="object"&&!oe.isValidElement(f)?f:{message:f};this.create({id:a,type:"error",description:g,...w})}else if(s.success!==void 0){i=!1;const f=typeof s.success=="function"?await s.success(m):s.success,g=typeof s.description=="function"?await s.description(m):s.description,w=typeof f=="object"&&!oe.isValidElement(f)?f:{message:f};this.create({id:a,type:"success",description:g,...w})}}).catch(async m=>{if(o=["reject",m],s.error!==void 0){i=!1;const h=typeof s.error=="function"?await s.error(m):s.error,f=typeof s.description=="function"?await s.description(m):s.description,y=typeof h=="object"&&!oe.isValidElement(h)?h:{message:h};this.create({id:a,type:"error",description:f,...y})}}).finally(()=>{i&&(this.dismiss(a),a=void 0),s.finally==null||s.finally.call(s)}),d=()=>new Promise((m,h)=>l.then(()=>o[0]==="reject"?h(o[1]):m(o[1])).catch(h));return typeof a!="string"&&typeof a!="number"?{unwrap:d}:Object.assign(a,{unwrap:d})},this.custom=(r,s)=>{const a=(s==null?void 0:s.id)||lS++;return this.create({jsx:r(a),id:a,...s}),a},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Rn=new Rje,Ije=(e,r)=>{const s=(r==null?void 0:r.id)||lS++;return Rn.addToast({title:e,...r,id:s}),s},Dje=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Lje=Ije,$je=()=>Rn.toasts,zje=()=>Rn.getActiveToasts(),Fi=Object.assign(Lje,{success:Rn.success,info:Rn.info,warning:Rn.warning,error:Rn.error,custom:Rn.custom,message:Rn.message,promise:Rn.promise,dismiss:Rn.dismiss,loading:Rn.loading},{getHistory:$je,getToasts:zje});Mje("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const oN=(e,r)=>{switch(e){case"starter":return["1,000 monthly calls","3 team members","2 AI assistants","1 phone number","Basic analytics","Email support"];case"growth":return["10,000 monthly calls","10 team members","10 AI assistants","5 phone numbers","Advanced analytics","Priority support","Third-party integrations"];case"enterprise":return["Unlimited calls","Unlimited team members","Unlimited AI assistants","Unlimited phone numbers","Enterprise analytics","24/7 premium support","Custom SLA","Custom features"];default:return[]}},Fje=()=>[{id:"starter",name:"Starter",description:"Perfect for small teams getting started",price:99,interval:"month",features:oN("starter"),limits:{monthly_calls:1e3,team_members:3,ai_assistants:2,phone_numbers:1,api_calls:1e4}},{id:"growth",name:"Growth",description:"Scale your business with advanced features",price:299,interval:"month",recommended:!0,features:oN("growth"),limits:{monthly_calls:1e4,team_members:10,ai_assistants:10,phone_numbers:5,api_calls:1e5}},{id:"enterprise",name:"Enterprise",description:"Custom solutions for large organizations",price:999,interval:"month",features:oN("enterprise"),limits:{monthly_calls:-1,team_members:-1,ai_assistants:-1,phone_numbers:-1,api_calls:-1}}],Uje=()=>{br();const[e,r]=p.useState(!0),[s,a]=p.useState(null),[n,i]=p.useState([]),[o,l]=p.useState([]),[d,m]=p.useState(null);p.useEffect(()=>{h()},[]);const h=async()=>{try{r(!0);const[S,_,A]=await Promise.all([Et.get("/api/billing/subscription"),Et.get("/api/billing/payment-methods"),Et.get("/api/billing/history")]);a(S.data),i(_.data),l(A.data)}catch(S){console.error("Error fetching billing data:",S),Fi.error("Failed to load billing data. Please try again.")}finally{r(!1)}},f=async S=>{try{m(S);const _=await Et.post("/api/billing/upgrade",{plan_id:S});_.data.checkout_url?window.location.href=_.data.checkout_url:(await h(),Fi.success("Subscription upgraded successfully!"))}catch(_){console.error("Error upgrading subscription:",_),Fi.error("Failed to upgrade subscription. Please try again.")}finally{m(null)}},g=async()=>{if(confirm("Are you sure you want to cancel your subscription?"))try{await Et.post("/api/billing/cancel"),await h(),Fi.success("Subscription cancelled successfully.")}catch(S){console.error("Error cancelling subscription:",S),Fi.error("Failed to cancel subscription. Please try again.")}},y=async()=>{try{const S=await Et.post("/api/billing/payment-method/setup");S.data.setup_url&&(window.location.href=S.data.setup_url)}catch(S){console.error("Error setting up payment method:",S),Fi.error("Failed to add payment method. Please try again.")}},w=async S=>{if(confirm("Are you sure you want to remove this payment method?"))try{await Et.delete(`/api/billing/payment-method/${S}`),await h(),Fi.success("Payment method removed successfully.")}catch(_){console.error("Error removing payment method:",_),Fi.error("Failed to remove payment method. Please try again.")}},v=async S=>{try{await Et.post(`/api/billing/payment-method/${S}/default`),await h(),Fi.success("Default payment method updated.")}catch(_){console.error("Error updating default payment method:",_),Fi.error("Failed to update default payment method.")}},b=(S,_)=>_===-1?0:Math.min(S/_*100,100),N=S=>S===-1?"Unlimited":S.toLocaleString();if(e)return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsx($n,{className:"h-8 w-8 animate-spin text-emerald-500"})});const C=Fje();return t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsx("div",{className:"mb-8",children:t.jsx("p",{className:"text-zinc-400",children:"Manage your subscription and billing settings"})}),t.jsxs(Ei,{defaultValue:"subscription",className:"space-y-6",children:[t.jsxs(Qn,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(ut,{value:"subscription",children:"Subscription"}),t.jsx(ut,{value:"payment",children:"Payment Methods"}),t.jsx(ut,{value:"history",children:"Billing History"})]}),t.jsxs(mt,{value:"subscription",className:"space-y-6",children:[s&&t.jsxs(G,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(fe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ge,{className:"text-white",children:"Current Subscription"}),t.jsx(Rt,{className:"text-zinc-400",children:"Your current subscription details and usage"})]}),t.jsx(je,{className:`${s.status==="active"?"border-emerald-500/30 bg-emerald-500/20 text-emerald-400":"border-red-500/30 bg-red-500/20 text-red-400"}`,children:s.status})]})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-zinc-800 p-4",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-semibold text-white",children:[s.plan_name," Plan"]}),t.jsxs("p",{className:"text-zinc-400",children:["Renews on ",new Date(s.current_period_end).toLocaleDateString()]})]}),s.cancel_at_period_end&&t.jsxs(qt,{className:"border-red-500/30 bg-red-500/10",children:[t.jsx(Kt,{className:"h-4 w-4 text-red-400"}),t.jsx(Ht,{className:"text-red-400",children:"Your subscription will cancel at the end of the current period"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-white",children:"Usage This Period"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"flex items-center gap-2 text-zinc-400",children:[t.jsx(pt,{className:"h-4 w-4"}),"AI Calls"]}),t.jsxs("span",{className:"text-white",children:[s.usage.calls.toLocaleString()," /"," ",N(s.limits.monthly_calls)]})]}),t.jsx(ar,{value:b(s.usage.calls,s.limits.monthly_calls),className:"h-2"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"flex items-center gap-2 text-zinc-400",children:[t.jsx(Nt,{className:"h-4 w-4"}),"Team Members"]}),t.jsxs("span",{className:"text-white",children:[s.usage.team_members," /"," ",N(s.limits.team_members)]})]}),t.jsx(ar,{value:b(s.usage.team_members,s.limits.team_members),className:"h-2"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"flex items-center gap-2 text-zinc-400",children:[t.jsx(Kr,{className:"h-4 w-4"}),"AI Assistants"]}),t.jsxs("span",{className:"text-white",children:[s.usage.ai_assistants," /"," ",N(s.limits.ai_assistants)]})]}),t.jsx(ar,{value:b(s.usage.ai_assistants,s.limits.ai_assistants),className:"h-2"})]})]})]}),!s.cancel_at_period_end&&t.jsx(q,{variant:"outline",className:"w-full border-red-500/30 text-red-400 hover:bg-red-500/10",onClick:g,children:"Cancel Subscription"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Available Plans"}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:C.map(S=>{const _=(s==null?void 0:s.plan_id)===S.id,A=s&&C.findIndex(T=>T.id===s.plan_id)<C.findIndex(T=>T.id===S.id);return t.jsxs(G,{className:`relative border-zinc-800 bg-zinc-900 ${S.recommended?"ring-2 ring-emerald-500":""}`,children:[S.recommended&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 transform",children:t.jsx(je,{className:"bg-emerald-500 text-white",children:"Recommended"})}),t.jsxs(fe,{children:[t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[S.name,S.id==="enterprise"&&t.jsx(tr,{className:"h-5 w-5"}),S.id==="growth"&&t.jsx(_f,{className:"h-5 w-5 text-emerald-400"})]}),t.jsx(Rt,{className:"text-zinc-400",children:S.description}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("span",{className:"text-3xl font-bold text-white",children:["$",S.price]}),t.jsx("span",{className:"text-zinc-400",children:"/month"})]})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsx("ul",{className:"space-y-2",children:S.features.map((T,E)=>t.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[t.jsx(rm,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-emerald-400"}),t.jsx("span",{className:"text-zinc-300",children:T})]},E))}),_?t.jsx(q,{className:"w-full bg-zinc-800 text-zinc-400",disabled:!0,children:"Current Plan"}):t.jsx(q,{className:"w-full bg-emerald-600 text-white hover:bg-emerald-700",onClick:()=>f(S.id),disabled:d===S.id,children:d===S.id?t.jsx($n,{className:"h-4 w-4 animate-spin"}):t.jsxs(t.Fragment,{children:[A?`Upgrade to ${S.name}`:`Switch to ${S.name}`,t.jsx(io,{className:"ml-1 h-4 w-4"})]})})]})]},S.id)})})]})]}),t.jsx(mt,{value:"payment",className:"space-y-6",children:t.jsxs(G,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(fe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ge,{className:"text-white",children:"Payment Methods"}),t.jsx(Rt,{className:"text-zinc-400",children:"Manage your payment methods and billing information"})]}),t.jsx(q,{onClick:y,className:"bg-emerald-600 text-white hover:bg-emerald-700",children:"Add Payment Method"})]})}),t.jsx(X,{children:n.length===0?t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(qn,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:"No payment methods added yet"})]}):t.jsx("div",{className:"space-y-4",children:n.map(S=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-zinc-800 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(qn,{className:"h-8 w-8 text-zinc-400"}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[S.brand,"  ",S.last4]}),t.jsxs("p",{className:"text-sm text-zinc-400",children:["Expires ",S.exp_month,"/",S.exp_year]})]}),S.is_default&&t.jsx(je,{className:"border-emerald-500/30 bg-emerald-500/20 text-emerald-400",children:"Default"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!S.is_default&&t.jsx(q,{variant:"outline",size:"sm",onClick:()=>v(S.id),className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:"Set as Default"}),t.jsx(q,{variant:"outline",size:"sm",onClick:()=>w(S.id),className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:"Remove"})]})]},S.id))})})]})}),t.jsx(mt,{value:"history",className:"space-y-6",children:t.jsxs(G,{className:"border-zinc-800 bg-zinc-900",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Billing History"}),t.jsx(Rt,{className:"text-zinc-400",children:"View your past invoices and payment history"})]}),t.jsx(X,{children:o.length===0?t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(It,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:"No billing history available"})]}):t.jsx("div",{className:"space-y-4",children:o.map(S=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-zinc-800 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`rounded-lg p-2 ${S.status==="paid"?"bg-emerald-500/20":"bg-yellow-500/20"}`,children:t.jsx(ba,{className:`h-5 w-5 ${S.status==="paid"?"text-emerald-400":"text-yellow-400"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:S.description}),t.jsx("p",{className:"text-sm text-zinc-400",children:new Date(S.date).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium text-white",children:["$",S.amount.toFixed(2)]}),t.jsx(je,{className:`${S.status==="paid"?"border-emerald-500/30 bg-emerald-500/20 text-emerald-400":"border-yellow-500/30 bg-yellow-500/20 text-yellow-400"}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})]}),S.invoice_url&&t.jsx(q,{variant:"outline",size:"sm",onClick:()=>window.open(S.invoice_url,"_blank"),className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:t.jsx(Hn,{className:"h-4 w-4"})})]})]},S.id))})})]})})]})]})},Bje=(e,r,s,a)=>{var i,o,l,d;const n=[s,{code:r,...a||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(n,"warn","react-i18next::",!0);ed(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),(d=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&d.warn?e.services.logger.warn(...n):console!=null&&console.warn&&console.warn(...n)},uO={},cS=(e,r,s,a)=>{ed(s)&&uO[s]||(ed(s)&&(uO[s]=new Date),Bje(e,r,s,a))},DU=(e,r)=>()=>{if(e.isInitialized)r();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),r()};e.on("initialized",s)}},dS=(e,r,s)=>{e.loadNamespaces(r,DU(e,s))},mO=(e,r,s,a)=>{if(ed(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(r)>-1)return dS(e,s,a);s.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(r,DU(e,a))},Wje=(e,r,s={})=>!r.languages||!r.languages.length?(cS(r,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:r.languages}),!0):r.hasLoadedNamespace(e,{lng:s.lng,precheck:(a,n)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!n(a.isLanguageChangingTo,e))return!1}}),ed=e=>typeof e=="string",Vje=e=>typeof e=="object"&&e!==null,qje=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Hje={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Kje=e=>Hje[e],Gje=e=>e.replace(qje,Kje);let Yje={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Gje};const Jje=()=>Yje;let Xje;const Qje=()=>Xje,Zje=p.createContext();class eNe{constructor(){this.usedNamespaces={}}addUsedNamespaces(r){r.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const tNe=(e,r)=>{const s=p.useRef();return p.useEffect(()=>{s.current=e},[e,r]),s.current},LU=(e,r,s,a)=>e.getFixedT(r,s,a),rNe=(e,r,s,a)=>p.useCallback(LU(e,r,s,a),[e,r,s,a]),sNe=(e,r={})=>{var _,A,T,E;const{i18n:s}=r,{i18n:a,defaultNS:n}=p.useContext(Zje)||{},i=s||a||Qje();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new eNe),!i){cS(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const R=(K,M)=>ed(M)?M:Vje(M)&&ed(M.defaultValue)?M.defaultValue:Array.isArray(K)?K[K.length-1]:K,$=[R,{},!1];return $.t=R,$.i18n={},$.ready=!1,$}(_=i.options.react)!=null&&_.wait&&cS(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Jje(),...i.options.react,...r},{useSuspense:l,keyPrefix:d}=o;let m=e||n||((A=i.options)==null?void 0:A.defaultNS);m=ed(m)?[m]:m||["translation"],(E=(T=i.reportNamespaces).addUsedNamespaces)==null||E.call(T,m);const h=(i.isInitialized||i.initializedStoreOnce)&&m.every(R=>Wje(R,i,o)),f=rNe(i,r.lng||null,o.nsMode==="fallback"?m:m[0],d),g=()=>f,y=()=>LU(i,r.lng||null,o.nsMode==="fallback"?m:m[0],d),[w,v]=p.useState(g);let b=m.join();r.lng&&(b=`${r.lng}${b}`);const N=tNe(b),C=p.useRef(!0);p.useEffect(()=>{const{bindI18n:R,bindI18nStore:$}=o;C.current=!0,!h&&!l&&(r.lng?mO(i,r.lng,m,()=>{C.current&&v(y)}):dS(i,m,()=>{C.current&&v(y)})),h&&N&&N!==b&&C.current&&v(y);const K=()=>{C.current&&v(y)};return R&&(i==null||i.on(R,K)),$&&(i==null||i.store.on($,K)),()=>{C.current=!1,i&&R&&(R==null||R.split(" ").forEach(M=>i.off(M,K))),$&&i&&$.split(" ").forEach(M=>i.store.off(M,K))}},[i,b]),p.useEffect(()=>{C.current&&h&&v(g)},[i,d,h]);const S=[w,i,h];if(S.t=w,S.i18n=i,S.ready=h,h||!h&&!l)return S;throw new Promise(R=>{r.lng?mO(i,r.lng,m,()=>R()):dS(i,m,()=>R())})},o0=p.forwardRef(({checked:e,onCheckedChange:r,onClick:s},a)=>t.jsx("div",{ref:a,onClick:n=>{s==null||s(n),r==null||r(!e)},style:{width:"12px",height:"12px",border:"1px solid white",borderRadius:"0px",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0},children:e&&t.jsx(rm,{style:{width:"8px",height:"8px",color:"black",strokeWidth:3}})}));o0.displayName="SmallCheckbox";const Oc=({trigger:e,title:r,sortKey:s,onSort:a,onUnsort:n,onPinToggle:i,sortHistory:o=[],isPinned:l=!1,options:d,onOptionSelect:m,onHideColumn:h})=>{const[f,g]=p.useState(!1),y=p.useRef(null);p.useEffect(()=>{const v=b=>{y.current&&!y.current.contains(b.target)&&g(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const w=[];return d?d.forEach(v=>{w.push({label:v,icon:t.jsx("span",{className:"mr-2"}),onClick:()=>{m&&m(v),g(!1)}})}):(s&&a&&(w.push({label:"Sort ascending",icon:t.jsx("span",{className:"mr-2",children:""}),onClick:()=>{a(s,"asc"),g(!1)}},{label:"Sort descending",icon:t.jsx("span",{className:"mr-2",children:""}),onClick:()=>{a(s,"desc"),g(!1)}}),n&&w.push({label:"Unsort",icon:t.jsx("span",{className:"mr-2",children:""}),onClick:()=>{n(),g(!1)}})),i&&w.push({label:l?"Unpin column":"Pin column",icon:t.jsx("span",{className:"mr-2",children:l?"":""}),onClick:()=>{i(),g(!1)}}),w.push({label:`Filter by ${r.toLowerCase()}`,icon:t.jsx("span",{className:"mr-2",children:""}),onClick:()=>g(!1)},{label:"Hide column",icon:t.jsx("span",{className:"mr-2",children:""}),onClick:()=>{h&&h(),g(!1)}})),t.jsxs("div",{className:"relative",ref:y,children:[t.jsx("div",{onClick:()=>g(!f),children:e}),f&&t.jsx("div",{className:"absolute right-0 top-full z-[9999] mt-1 max-h-[300px] overflow-y-auto",style:{minWidth:"160px",backgroundColor:"#111827",border:"1px solid #374151",borderRadius:"8px",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.7)",padding:"6px"},children:w.map((v,b)=>t.jsxs(oe.Fragment,{children:[b===2&&s&&t.jsx("div",{style:{height:"1px",backgroundColor:"#374151",margin:"6px 8px"}}),t.jsxs("div",{onClick:v.onClick,className:"text-white",style:{display:"flex",alignItems:"center",padding:"6px 10px",cursor:"pointer",borderRadius:"6px",color:"#ffffff !important",fontSize:"10px",backgroundColor:"transparent",transition:"all 0.2s ease"},onMouseEnter:N=>{N.currentTarget.style.backgroundColor="rgba(55, 65, 81, 0.5)",N.currentTarget.style.color="#ffffff",N.currentTarget.style.transform="translateX(2px)"},onMouseLeave:N=>{N.currentTarget.style.backgroundColor="transparent",N.currentTarget.style.color="#ffffff",N.currentTarget.style.transform="translateX(0)"},children:[v.icon,v.label]})]},b))})]})},$U=p.createContext(void 0),aNe=()=>{const e=p.useContext($U);if(!e)throw new Error("useContacts must be used within ContactsProvider");return e},nNe=({children:e})=>{const[r,s]=p.useState([]),[a,n]=p.useState(!0),[i,o]=p.useState(null),{user:l,isSignedIn:d,isLoaded:m}=tm(),h=async()=>{try{if(n(!0),o(null),!d||!l||!l.organization_id){console.log(" No user logged in or no organization, skipping contacts fetch"),s([]);return}const y=l.organization_id;console.log(` Fetching contacts for organization: ${y}`),console.log(` User: ${l.email} (${l.role})`);const{data:w,error:v}=await qi.client.from("leads").select(`
          *,
          campaigns(name),
          uploaded_by:users!leads_uploaded_by_fkey(
            id,
            first_name,
            last_name
          )
        `).eq("organization_id",y).order("created_at",{ascending:!1});if(console.log(" Raw contacts data:",w),console.log(" Fetch error:",v),v)throw v;const b=(w||[]).map(N=>{var C,S;return{id:N.id,firstName:N.first_name||void 0,lastName:N.last_name||void 0,email:N.email||void 0,phone:N.phone||void 0,company:N.company||void 0,title:N.job_title||void 0,status:N.status||"new",priority:N.priority||"medium",source:N.lead_source||N.source||"ai_voice_call",campaign:((C=N.campaigns)==null?void 0:C.name)||"General",notes:N.notes||void 0,cid:N.id,date:N.created_at,value:N.conversion_value||N.value||0,assignedTo:N.uploaded_by?`${N.uploaded_by.first_name} ${N.uploaded_by.last_name}`:"Unassigned",assignedToId:((S=N.uploaded_by)==null?void 0:S.id)||void 0,owner:N.uploaded_by?`${N.uploaded_by.first_name} ${N.uploaded_by.last_name}`:"Unassigned",lastContactDate:N.last_call_at||N.last_contact_date||N.created_at,nextFollowUp:N.next_call_at||N.next_follow_up||void 0,lastActivity:N.last_call_at||N.last_activity||N.created_at,activities:N.call_attempts||N.activities_count||0,tags:N.tags||[]}});s(b),console.log(` Loaded ${b.length} contacts from database`)}catch(y){console.error(" Error fetching contacts:",y),o(y instanceof Error?y.message:"Failed to fetch contacts")}finally{n(!1)}},f=async()=>{await h()};p.useEffect(()=>{m&&(d&&l&&l.organization_id?h():(n(!1),s([])))},[m,d,l==null?void 0:l.organization_id]);const g=(y,w)=>{s(v=>v.find(N=>N.id===y)?v.map(N=>N.id===y?{...N,status:w}:N):(console.warn(`Contact with ID ${y} not found`),v))};return t.jsx($U.Provider,{value:{contacts:r,setContacts:s,updateContactStatus:g,loading:a,error:i,refreshContacts:f},children:e})},_d=iU,iNe=oU,oNe=lU,zU=p.forwardRef(({className:e,...r},s)=>t.jsx(f4,{ref:s,className:Re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));zU.displayName=f4.displayName;const uc=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(oNe,{children:[t.jsx(zU,{}),t.jsxs(p4,{ref:a,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dark:border-zinc-800 dark:bg-zinc-950 sm:rounded-lg",e),...s,children:[r,t.jsxs(y4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[t.jsx(jt,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));uc.displayName=p4.displayName;const mc=({className:e,...r})=>t.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});mc.displayName="DialogHeader";const jm=({className:e,...r})=>t.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});jm.displayName="DialogFooter";const hc=p.forwardRef(({className:e,...r},s)=>t.jsx(g4,{ref:s,className:Re("text-lg font-semibold leading-none tracking-tight",e),...r}));hc.displayName=g4.displayName;const Pd=p.forwardRef(({className:e,...r},s)=>t.jsx(x4,{ref:s,className:Re("text-sm text-zinc-500 dark:text-zinc-400",e),...r}));Pd.displayName=x4.displayName;const lN=[{key:"industry",title:"Industry",description:"Business sector classification",category:"Business Info",icon:Ox,width:"140px"},{key:"companySize",title:"Company Size",description:"Number of employees",category:"Business Info",icon:Nt,width:"120px"},{key:"location",title:"Location",description:"Geographic location",category:"Business Info",icon:Vl,width:"140px"},{key:"website",title:"Website",description:"Company website",category:"Business Info",icon:Ga,width:"140px"},{key:"pipelineValue",title:"Pipeline Value",description:"Estimated deal value",category:"Sales Data",icon:Ur,width:"130px"},{key:"leadScore",title:"Lead Score",description:"Lead quality rating (1-10)",category:"Sales Data",icon:_s,width:"110px"},{key:"interestLevel",title:"Interest Level",description:"Interest rating (1-10)",category:"Sales Data",icon:ba,width:"120px"},{key:"priority",title:"Priority",description:"Lead priority level",category:"Sales Data",icon:dr,width:"100px"},{key:"source",title:"Lead Source",description:"How lead was acquired",category:"Contact Data",icon:ZM,width:"130px"},{key:"nextFollowUp",title:"Next Follow-up",description:"Scheduled follow-up date",category:"Contact Data",icon:ps,width:"140px"},{key:"lastCallOutcome",title:"Last Call Outcome",description:"Result of last call",category:"Contact Data",icon:pt,width:"150px"},{key:"callDuration",title:"Call Duration",description:"Average call length",category:"Contact Data",icon:It,width:"120px"},{key:"owner",title:"Lead Owner",description:"Assigned team member",category:"Assignment",icon:ad,width:"130px"},{key:"title",title:"Job Title",description:"Contact job position",category:"Assignment",icon:qG,width:"130px"}];function lNe({isOpen:e,onClose:r,onSave:s,currentColumns:a}){const[n,i]=p.useState([]),[o,l]=p.useState({"Business Info":!0,"Sales Data":!0,"Contact Data":!0,Assignment:!0}),d=[...new Set(lN.map(w=>w.category))],m=lN.filter(w=>!a.includes(w.key)),h=w=>{i(v=>v.includes(w)?v.filter(b=>b!==w):[...v,w])},f=()=>{s(n),i([]),r()},g=()=>{i([]),r()},y=w=>{l(v=>({...v,[w]:!v[w]}))};return t.jsx(_d,{open:e,onOpenChange:r,children:t.jsxs(uc,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-gray-700",children:[t.jsxs(mc,{children:[t.jsx(hc,{className:"text-white",children:"Add Columns to CRM Table"}),t.jsx(Pd,{className:"text-gray-400",children:"Select additional fields to display in your CRM table. Choose from business information, sales data, and contact details."})]}),t.jsx("div",{className:"grid grid-cols-2 gap-6 overflow-y-auto max-h-[500px] py-4 pr-2",children:d.map(w=>{const v=m.filter(b=>b.category===w);return v.length===0?null:t.jsxs(G,{className:"bg-gray-800/60 border-gray-600 hover:border-gray-500 transition-colors",children:[t.jsx(fe,{className:"pb-3 cursor-pointer hover:bg-gray-700/30 rounded-t-lg transition-colors",onClick:()=>y(w),children:t.jsxs(ge,{className:"text-sm text-white flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:w}),t.jsx(je,{variant:"secondary",className:"bg-blue-600/20 text-blue-300 border border-blue-500/30",children:v.length})]})}),o[w]&&t.jsx(X,{className:"space-y-3",children:v.map(b=>{const N=b.icon,C=n.includes(b.key);return t.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg border cursor-pointer transition-all ${C?"border-blue-500 bg-blue-500/15 shadow-sm":"border-gray-600 hover:border-gray-500 hover:bg-gray-700/30"}`,onClick:()=>h(b.key),children:[t.jsx("div",{className:"mt-0.5",children:t.jsx("input",{type:"checkbox",checked:C,onChange:()=>h(b.key),className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer"})}),t.jsx(N,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-medium text-white mb-1",children:b.title}),t.jsx("div",{className:"text-xs text-gray-400 leading-relaxed",children:b.description})]})]},b.key)})})]},w)})}),n.length>0&&t.jsxs("div",{className:"border-t border-gray-700 pt-4 bg-gray-800/30 -mx-6 px-6 rounded-b-lg",children:[t.jsxs("div",{className:"text-sm text-gray-300 mb-3 font-medium",children:["Selected fields (",n.length,"):"]}),t.jsx("div",{className:"flex flex-wrap gap-2 max-h-20 overflow-y-auto",children:n.map(w=>{const v=lN.find(b=>b.key===w);return v?t.jsx(je,{variant:"secondary",className:"bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:v.title},w):null})})]}),t.jsxs(jm,{className:"gap-3",children:[t.jsx(q,{variant:"outline",onClick:g,className:"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:"Cancel"}),t.jsxs(q,{onClick:f,disabled:n.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Add ",n.length," Column",n.length!==1?"s":""]})]})]})})}const Qy=({isOpen:e,onClose:r,callData:s})=>{var I,W,V,U,L;const[a,n]=p.useState(!1),[i,o]=p.useState(0),[l,d]=p.useState(1),[m,h]=p.useState(-1),[f,g]=p.useState(!1),y=p.useRef(null),w=p.useRef(null),v=p.useRef([]),b=p.useRef(null);p.useEffect(()=>{console.log(" CallLogDetailsModal received callData:",{hasData:!!s,callDataKeys:s?Object.keys(s):[],hasTranscript:!!(s!=null&&s.transcript),transcriptType:s!=null&&s.transcript?typeof s.transcript:"no transcript",transcriptIsArray:Array.isArray(s==null?void 0:s.transcript),transcriptLength:Array.isArray(s==null?void 0:s.transcript)||typeof(s==null?void 0:s.transcript)=="string"?s.transcript.length:0,transcriptSample:s!=null&&s.transcript?Array.isArray(s.transcript)&&s.transcript.length>0?JSON.stringify(s.transcript[0]):typeof s.transcript=="string"?s.transcript.substring(0,100)+"...":"Unknown format":"No transcript",fullData:s})},[s]);const N=p.useRef([]);if(N.current.length===0)for(let O=0;O<100;O++){const z=Math.sin(O*.1)*20+Math.sin(O*.3)*15+Math.random()*25;N.current.push(30+Math.abs(z))}const[C,S]=p.useState(0),_=C||(s==null?void 0:s.duration)||0;p.useEffect(()=>{e&&s&&(console.log("CallLogDetailsModal opened with callData:"),console.log("  id:",s.id),console.log("  customerName:",s.customerName),console.log("  duration:",s.duration),console.log("  hasTranscript:",!!s.transcript),console.log("  transcriptType:",typeof s.transcript),console.log("  All callData keys:",Object.keys(s)),s.transcript?(console.log("  Transcript exists! Type:",typeof s.transcript),typeof s.transcript=="string"?(console.log("  Transcript (string) length:",s.transcript.length),console.log("  Transcript preview:",s.transcript.substring(0,100))):Array.isArray(s.transcript)&&(console.log("  Transcript (array) length:",s.transcript.length),console.log("  First item:",s.transcript[0]))):console.log("   NO TRANSCRIPT IN DATA!"))},[e,s]);const A=O=>{const F=Math.floor(O/60),z=Math.floor(O%60);return`${String(F).padStart(2,"0")}:${String(z).padStart(2,"0")}`},T=async()=>{if(y.current&&s&&s.recording)try{if(a)y.current.pause(),n(!1);else{let O=s.recording;(s.recording.includes("vapi.ai")||s.recording.includes("vapi-public-recordings"))&&(O=`https://apex-backend-august-production.up.railway.app/api/vapi-outbound/recording-proxy?url=${encodeURIComponent(s.recording)}`),(!y.current.src||!y.current.src.includes(encodeURIComponent(s.recording)))&&(y.current.src=O,await new Promise((F,z)=>{y.current.addEventListener("canplay",F,{once:!0}),y.current.addEventListener("error",z,{once:!0}),y.current.load()})),await y.current.play(),n(!0)}}catch(O){console.error("Playback error:",O),alert("Unable to play audio. The recording may not be available."),n(!1)}else s!=null&&s.recording||alert("No recording available for this call.")},E=()=>{if(y.current&&s&&!f){const O=y.current.currentTime;o(Math.floor(O));const F=Array.isArray(s.transcript)?s.transcript.findIndex(z=>z.startTime!==void 0&&z.endTime!==void 0&&O>=z.startTime&&O<=z.endTime):-1;if(F!==m&&F!==-1&&(h(F),v.current[F]&&w.current)){const z=v.current[F],Y=w.current,B=z.offsetTop,ee=z.offsetHeight,ke=Y.offsetHeight,H=Y.scrollTop;(B<H||B+ee>H+ke)&&Y.scrollTo({top:B-ke/2+ee/2,behavior:"smooth"})}}},R=O=>{if(!_||_===0||!b.current){console.log("Cannot seek: Duration is 0 or not available");return}const F=b.current.getBoundingClientRect(),Y=Math.max(0,Math.min(O.clientX-F.left,F.width))/F.width,B=Y*_;console.log(`Seeking to: ${B.toFixed(2)}s of ${_}s (${(Y*100).toFixed(1)}%)`),o(Math.floor(B)),y.current&&(s!=null&&s.recording)&&(y.current.currentTime=B)},$=O=>{f&&(O.preventDefault(),R(O))},K=()=>{f&&(g(!1),console.log("Stopped dragging"))};p.useEffect(()=>{if(f)return document.addEventListener("mousemove",$),document.addEventListener("mouseup",K),()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",K)}},[f,_]);const M=O=>{d(O),y.current&&(y.current.playbackRate=O)};return p.useEffect(()=>{if(y.current&&s){const O=y.current,F=()=>{n(!1),o(0),h(-1)};return O.addEventListener("timeupdate",E),O.addEventListener("ended",F),()=>{O.removeEventListener("timeupdate",E),O.removeEventListener("ended",F)}}},[m,s]),p.useEffect(()=>{e||(n(!1),o(0),h(-1),g(!1),y.current&&(y.current.pause(),y.current.currentTime=0))},[e]),p.useEffect(()=>{if(!e||!y.current||!_)return;const O=F=>{switch(F.key){case" ":F.preventDefault(),T();break;case"ArrowLeft":F.preventDefault();const z=Math.max(0,y.current.currentTime-5);y.current.currentTime=z,o(Math.floor(z)),console.log("Skipped back 5 seconds");break;case"ArrowRight":F.preventDefault();const Y=Math.min(_,y.current.currentTime+5);y.current.currentTime=Y,o(Math.floor(Y)),console.log("Skipped forward 5 seconds");break}};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[e,_,a]),!e||!s?null:(console.log(" DEBUG: CallLogDetailsModal received callData:",{id:s.id,duration:s.duration,cost:s.cost,recording:s.recording,customerName:s.customerName,effectiveDuration:_,audioDuration:C,hasTranscript:!!s.transcript,transcriptType:typeof s.transcript,transcriptIsArray:Array.isArray(s.transcript),transcriptLength:typeof s.transcript=="string"||Array.isArray(s.transcript)?s.transcript.length:0,transcriptPreview:typeof s.transcript=="string"?s.transcript.substring(0,100)+"...":Array.isArray(s.transcript)&&s.transcript.length>0?JSON.stringify(s.transcript[0]):"No transcript"}),t.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-end bg-black/60 p-0 backdrop-blur-sm",onClick:r,children:t.jsx("div",{className:"h-full w-[50%] overflow-hidden border-l border-gray-700/50 bg-[#1a1a1a] shadow-2xl",onClick:O=>O.stopPropagation(),children:t.jsxs("div",{className:"flex h-full flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700/50 bg-[#1a1a1a] p-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-xl border border-blue-500/30 bg-gradient-to-br from-blue-500/20 to-purple-500/20 p-3",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-6 w-6 text-blue-400",children:t.jsx("path",{d:"M237.2,151.87v0a47.1,47.1,0,0,0-2.35-5.45L193.26,51.8a7.82,7.82,0,0,0-1.66-2.44,32,32,0,0,0-45.26,0A8,8,0,0,0,144,55V80H112V55a8,8,0,0,0-2.34-5.66,32,32,0,0,0-45.26,0,7.82,7.82,0,0,0-1.66,2.44L21.15,146.4a47.1,47.1,0,0,0-2.35,5.45v0A48,48,0,1,0,112,168V96h32v72a48,48,0,1,0,93.2-16.13ZM76.71,59.75a16,16,0,0,1,19.29-1v73.51a47.9,47.9,0,0,0-46.79-9.92ZM64,200a32,32,0,1,1,32-32A32,32,0,0,1,64,200ZM160,58.74a16,16,0,0,1,19.29,1l27.5,62.58A47.9,47.9,0,0,0,160,132.25ZM192,200a32,32,0,1,1,32-32A32,32,0,0,1,192,200Z"})})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Call Log Details"}),s.customerName&&t.jsxs("p",{className:"text-sm text-gray-400 mt-0.5",children:["with ",s.customerName,"  ",A(_)]})]})]}),t.jsx("button",{onClick:r,className:"rounded-xl p-2 text-gray-400 transition-all duration-200 hover:bg-gray-700/50 hover:text-white",children:t.jsx(jt,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"overflow-y-auto flex-shrink-0 border-b border-gray-700/50 bg-[#1a1a1a] p-4",style:{maxHeight:"40%"},children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"font-medium text-white",children:"Call Details"}),t.jsx("div",{className:"flex items-center gap-2",children:s.status&&t.jsx("span",{className:`rounded px-2 py-1 text-xs font-medium ${s.status==="completed"?"bg-green-500/10 text-green-400":s.status==="failed"?"bg-red-500/10 text-red-400":"bg-gray-800/30 text-gray-400"}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})})]}),t.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-2 rounded-lg bg-gray-800/30 p-3",children:[t.jsx("h4",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider mb-2",children:"Contact"}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Name:"}),t.jsx("span",{className:"text-white font-medium",children:s.customerName||"Unknown"})]}),s.customerPhone&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Phone:"}),t.jsx("span",{className:"text-white font-mono text-xs",children:s.customerPhone})]}),s.customerCompany&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Company:"}),t.jsx("span",{className:"text-white",children:s.customerCompany})]}),s.customerEmail&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Email:"}),t.jsx("span",{className:"text-white text-xs",children:s.customerEmail})]})]})]}),t.jsxs("div",{className:"space-y-2 rounded-lg bg-gray-800/30 p-3",children:[t.jsx("h4",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider mb-2",children:"Call Stats"}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Duration:"}),t.jsx("span",{className:"text-lg font-mono text-white font-medium",children:A(_)})]}),s.cost!==void 0&&s.cost>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Cost:"}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:["$",s.cost.toFixed(3)]})]}),s.direction&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Direction:"}),t.jsx("span",{className:"text-white capitalize",children:s.direction})]})]})]})]}),(s.campaignName||s.startedAt||s.vapiCallId)&&t.jsxs("div",{className:"mb-4 space-y-2 rounded-lg bg-gray-800/30 p-3",children:[s.campaignName&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Campaign:"}),t.jsx("span",{className:"text-white",children:s.campaignName})]}),s.startedAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Started:"}),t.jsx("span",{className:"text-white",children:new Date(s.startedAt).toLocaleString()})]}),s.endedAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Ended:"}),t.jsx("span",{className:"text-white",children:new Date(s.endedAt).toLocaleString()})]}),s.vapiCallId&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"VAPI ID:"}),t.jsxs("span",{className:"text-white font-mono text-xs",children:[s.vapiCallId.substring(0,8),"..."]})]})]}),t.jsxs("div",{className:"mb-5",children:[t.jsx("div",{className:"overflow-hidden rounded-2xl border border-gray-700/50 bg-gradient-to-b from-gray-900/50 to-gray-800/30",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-medium text-white",children:"Recording"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Space: Play/Pause  : Skip 5s  Click/Drag: Seek"})]}),t.jsx("div",{className:"rounded-lg bg-gray-800/50 px-3 py-1.5",children:t.jsx("span",{className:"font-mono text-sm text-gray-300",children:A(_)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("button",{onClick:T,className:"group relative flex-shrink-0",children:t.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-green-600 shadow-lg transition-all duration-200 group-hover:scale-105 group-hover:shadow-green-500/30",children:a?t.jsx(zu,{className:"h-5 w-5 text-white",strokeWidth:2}):t.jsx(Wn,{className:"ml-0.5 h-5 w-5 text-white",strokeWidth:2})})}),t.jsxs("div",{className:"relative flex-1 overflow-hidden rounded-xl bg-gray-900/50 p-4 cursor-pointer select-none",onMouseDown:O=>{if(O.preventDefault(),O.stopPropagation(),!_||_===0){console.log("Cannot seek: Duration is 0 or not available");return}const F=O.currentTarget.getBoundingClientRect(),z=O.clientX-F.left,Y=Math.max(0,Math.min(1,z/F.width)),B=Y*_;y.current&&s.recording&&(console.log(`Waveform seek to: ${B.toFixed(2)}s of ${_}s (${(Y*100).toFixed(1)}%)`),y.current.currentTime=B,o(Math.floor(B)))},children:[t.jsx("div",{className:"relative flex h-14 items-end justify-between gap-0.5 pointer-events-none",children:N.current.map((O,F)=>{const z=_>0&&F/100*_<=i;return t.jsx("div",{className:"flex-1 rounded-t transition-all",style:{height:`${O}%`,backgroundColor:z?"#10b981":"#4b5563",opacity:z?1:.5,transition:"background-color 150ms ease-out"}},F)})}),t.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-green-400 opacity-50 pointer-events-none",style:{left:`${_>0?i/_*100:0}%`}}),t.jsx("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity",children:t.jsx("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 px-2 py-1 bg-gray-800 rounded text-xs text-white whitespace-nowrap",children:"Click to seek"})})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("select",{value:l,onChange:O=>M(Number(O.target.value)),className:"rounded-xl border border-gray-600/50 bg-gray-800/50 px-3 py-3 text-sm text-white transition-all focus:border-green-500/50 focus:ring-2 focus:ring-green-500/50 focus:outline-none",children:[t.jsx("option",{value:.5,children:"0.5x"}),t.jsx("option",{value:.75,children:"0.75x"}),t.jsx("option",{value:1,children:"1.0x"}),t.jsx("option",{value:1.25,children:"1.25x"}),t.jsx("option",{value:1.5,children:"1.5x"}),t.jsx("option",{value:1.75,children:"1.75x"}),t.jsx("option",{value:2,children:"2.0x"})]})}),t.jsxs("button",{onClick:()=>{if(s.recording){let O=s.recording;(s.recording.includes("vapi.ai")||s.recording.includes("vapi-public-recordings"))&&(O=`https://apex-backend-august-production.up.railway.app/api/vapi-outbound/recording-proxy?url=${encodeURIComponent(s.recording)}`);const F=document.createElement("a");F.href=O,F.download=`call-recording-${s.id}.wav`,F.target="_blank",document.body.appendChild(F),F.click(),document.body.removeChild(F)}},className:"group flex flex-shrink-0 items-center gap-2.5 rounded-xl border border-gray-600/50 bg-gray-800/50 px-5 py-3 transition-all duration-200 hover:border-gray-500/50 hover:bg-gray-700/50",children:[t.jsx(Hn,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-300",strokeWidth:2}),t.jsx("span",{className:"text-sm font-medium text-gray-300 group-hover:text-gray-200",children:"Audio"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"font-mono text-gray-400",children:A(i)}),t.jsxs("span",{className:"font-mono text-gray-500",children:["-",A(Math.max(0,_-i))]})]}),t.jsxs("div",{ref:b,className:"relative h-12 flex items-center cursor-pointer select-none",onMouseDown:O=>{if(O.preventDefault(),O.stopPropagation(),!_||_===0){console.log("Cannot seek: Duration is 0 or not available");return}g(!0),R(O),console.log("Started dragging")},onClick:O=>{O.preventDefault(),O.stopPropagation(),R(O)},style:{touchAction:"none"},children:[t.jsx("div",{className:"absolute inset-0"}),t.jsx("div",{className:"absolute inset-x-0 h-2 overflow-hidden rounded-full bg-gray-700/50",children:t.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-green-500 to-green-400",style:{width:`${_>0?i/_*100:0}%`,transition:f?"none":"width 100ms"}})}),t.jsx("div",{className:`absolute top-1/2 -translate-x-1/2 -translate-y-1/2 transform rounded-full bg-green-400 shadow-lg ${f?"h-5 w-5":"h-4 w-4"} transition-all`,style:{left:`${_>0?i/_*100:0}%`,boxShadow:f?"0 0 0 8px rgba(34, 197, 94, 0.3)":"0 0 0 4px rgba(34, 197, 94, 0.2)",cursor:f?"grabbing":"grab",transition:f?"none":"all 100ms"}}),t.jsx("div",{className:"absolute -top-8 left-0 right-0 flex justify-center pointer-events-none opacity-0 hover:opacity-100 transition-opacity",children:t.jsx("div",{className:"bg-gray-800 text-white text-xs px-2 py-1 rounded",children:f?"Drag to seek":"Click or drag to seek"})})]})]})]})]})}),s.recording&&t.jsx("audio",{ref:y,src:s.recording.includes("vapi.ai")||s.recording.includes("vapi-public-recordings")?`https://apex-backend-august-production.up.railway.app/api/vapi-outbound/recording-proxy?url=${encodeURIComponent(s.recording)}`:s.recording,preload:"metacallData",onError:O=>{console.error("Audio loading error:",O),console.error("Failed to load:",s.recording),n(!1)},onLoadedMetadata:O=>{const F=O.currentTarget;console.log("Audio metadata loaded:",{duration:F.duration,src:F.src}),F.duration&&!isNaN(F.duration)&&(S(F.duration),console.log("Set audio duration to:",F.duration))},onDurationChange:O=>{const F=O.currentTarget;F.duration&&!isNaN(F.duration)&&(S(F.duration),console.log("Duration changed to:",F.duration))},onCanPlay:()=>{console.log("Audio ready to play")}})]})]}),t.jsxs(Ei,{defaultValue:"transcripts",className:"flex flex-1 flex-col bg-[#1a1a1a] min-h-0",children:[t.jsx("div",{className:"border-b border-gray-700/50 bg-[#1a1a1a] px-6",children:t.jsxs(Qn,{className:"h-14 space-x-8 bg-transparent p-0",children:[t.jsxs(ut,{value:"transcripts",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M232,48H160a40,40,0,0,0-32,16A40,40,0,0,0,96,48H24a8,8,0,0,0-8,8V200a8,8,0,0,0,8,8H96a24,24,0,0,1,24,24,8,8,0,0,0,16,0,24,24,0,0,1,24-24h72a8,8,0,0,0,8-8V56A8,8,0,0,0,232,48ZM96,192H32V64H96a24,24,0,0,1,24,24V200A39.81,39.81,0,0,0,96,192Zm128,0H160a39.81,39.81,0,0,0-24,8V88a24,24,0,0,1,24-24h64Z"})}),"Transcripts"]}),t.jsxs(ut,{value:"logs",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M88,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H96A8,8,0,0,1,88,64Zm128,56H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM56,56H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Z"})}),"Logs"]}),t.jsxs(ut,{value:"analysis",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0v94.37L90.73,98a8,8,0,0,1,10.07-.38l58.81,44.11L218.73,90a8,8,0,1,1,10.54,12l-64,56a8,8,0,0,1-10.07.38L96.39,114.29,40,163.63V200H224A8,8,0,0,1,232,208Z"})}),"Analysis"]}),t.jsxs(ut,{value:"messages",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M93.31,70,28,128l65.27,58a8,8,0,1,1-10.62,12l-72-64a8,8,0,0,1,0-12l72-64A8,8,0,1,1,93.31,70Zm152,52-72-64a8,8,0,0,0-10.62,12L228,128l-65.27,58a8,8,0,1,0,10.62,12l72-64a8,8,0,0,0,0-12Z"})}),"Messages"]}),t.jsxs(ut,{value:"cost",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0V200H224A8,8,0,0,1,232,208ZM132,160a12,12,0,1,0-12-12A12,12,0,0,0,132,160Zm-24-56A12,12,0,1,0,96,92,12,12,0,0,0,108,104ZM76,176a12,12,0,1,0-12-12A12,12,0,0,0,76,176Zm96-48a12,12,0,1,0-12-12A12,12,0,0,0,172,128Zm24-40a12,12,0,1,0-12-12A12,12,0,0,0,196,88Zm-20,76a12,12,0,1,0,12-12A12,12,0,0,0,176,164Z"})}),"Call Cost"]})]})}),t.jsxs("div",{className:"mx-6 mb-6 mt-6 flex min-h-0 w-auto flex-1 flex-col rounded-2xl border border-gray-700/30 bg-gray-900/40 px-6 py-4 backdrop-blur-sm overflow-hidden",children:[t.jsx(mt,{value:"transcripts",className:"mt-2 flex flex-1 flex-col",children:t.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[t.jsx("div",{className:"mb-4 pb-3 border-b border-gray-700/30",children:t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Transcript"})}),t.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",style:{maxHeight:"500px"},children:s&&s.transcript&&Array.isArray(s.transcript)?t.jsx(t.Fragment,{children:s.transcript.map((O,F)=>t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("strong",{className:`text-sm font-bold ${O.speaker==="user"?"text-blue-400":"text-green-400"}`,children:O.speaker==="user"?"User":"AI"})}),t.jsx("div",{className:"rounded-lg border border-gray-700/10 bg-gray-800/20 p-3 text-sm text-gray-300",children:O.text})]},F))}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-8 text-gray-400",children:[t.jsx("p",{className:"text-lg",children:"No transcript available"}),t.jsxs("p",{className:"text-xs mt-2",children:["Debug: callData=",s?"exists":"null",", transcript=",s!=null&&s.transcript?"exists":"null",", isArray=",Array.isArray(s==null?void 0:s.transcript)?"yes":"no"]})]})})]})}),t.jsxs(mt,{value:"logs",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"logs-tab-content",children:[t.jsx("div",{className:"sticky top-0 z-10 mb-4 border-b border-gray-700/30 bg-gray-900/40 pb-3 backdrop-blur-sm",children:t.jsxs("div",{className:"flex flex-row items-center gap-3",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-5 w-5 text-gray-400",children:t.jsx("path",{d:"M88,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H96A8,8,0,0,1,88,64Zm128,56H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM56,56H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Z"})}),t.jsx("span",{className:"text-lg font-semibold text-white",children:"Logs"})]})}),t.jsxs("div",{className:"flex-1 space-y-1 overflow-y-auto pr-2",style:{scrollbarWidth:"thin",scrollbarColor:"#4a5568 #2d3748"},children:[t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:22:883"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech possibly starting"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:22:963"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech possibly starting"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:23:162"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech started"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:23:442"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech possibly stopping"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:200"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Endpointing timeout 600ms (rule: `heuristic`)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:200"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Transcriber output: Hello?"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:923"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech stopped"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:963"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request started"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:964"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request started (attempt #1, gpt-4.1-2025-04-14, azure-openai, westus)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:333"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request active (attempt #1, 0 buffered outputs)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:334"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model sent start token"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:336"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model output: Hello"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:380"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model output: , is it possible to speak to Harris please?"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:827"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request cost (attempt #1, $0.004544, 2228 prompt, 11 completion)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:26:090"}),t.jsx("span",{className:"rounded bg-blue-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-blue-400",children:"[INFO]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Turn latency: 1889ms (transcriber: 0ms, endpointing: 762ms, kb: n/a, model: 374ms, voice: 727ms)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:26:090"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Assistant speech started"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:28:489"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Assistant speech stopped"})]}),t.jsx("div",{className:"rounded-lg border border-gray-700/10 bg-gray-800/20 transition-colors hover:bg-gray-800/30",children:t.jsxs("div",{className:"flex items-start space-x-3 p-3",children:[t.jsx("span",{className:"w-20 rounded bg-gray-800/50 px-2 py-1 font-mono text-xs text-gray-500",children:"11:53:30:321"}),t.jsx("span",{className:"flex-shrink-0 rounded bg-cyan-400/10 px-2 py-1 text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-sm text-gray-300",children:"Transcriber output: Speaking."})]})})]})]}),t.jsx(mt,{value:"analysis",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"analysis-tab-content",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Call Analysis"}),t.jsxs("div",{className:"rounded-lg bg-gray-700/50 p-4",children:[t.jsx("h5",{className:"mb-3 font-medium text-white",children:"Sentiment Analysis"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Overall Sentiment:"}),t.jsx("span",{className:`${(I=s.analysis)!=null&&I.sentiment&&s.analysis.sentiment>.6?"text-green-400":"text-yellow-400"}`,children:(W=s.analysis)!=null&&W.sentiment&&s.analysis.sentiment>.6?"Positive":"Neutral"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Confidence:"}),t.jsxs("span",{className:"text-white",children:[((((V=s.analysis)==null?void 0:V.sentiment)||0)*100).toFixed(0),"%"]})]})]})]}),t.jsxs("div",{className:"rounded-lg bg-gray-700/50 p-4",children:[t.jsx("h5",{className:"mb-3 font-medium text-white",children:"Call Summary"}),t.jsx("div",{className:"text-sm text-gray-300",children:(U=s.analysis)==null?void 0:U.summary})]}),t.jsxs("div",{className:"rounded-lg bg-gray-700/50 p-4",children:[t.jsx("h5",{className:"mb-3 font-medium text-white",children:"Keywords"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(L=s.analysis)==null?void 0:L.keywords.map((O,F)=>t.jsx("span",{className:"rounded border border-gray-600 bg-gray-800 px-2 py-1 text-xs text-gray-300",children:O},F))})]})]})}),t.jsx(mt,{value:"messages",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"messages-tab-content",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Messages"}),t.jsx("div",{className:"text-sm text-gray-400",children:t.jsx("p",{children:"Messages and notifications related to this call."})})]})}),t.jsx(mt,{value:"cost",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"cost-breakdown-tab-content",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Call Cost Breakdown"}),t.jsxs("div",{className:"rounded-lg bg-gray-800/30 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Call Duration"}),t.jsx("span",{className:"text-2xl font-mono text-white font-medium",children:A(_)})]}),_>0&&t.jsxs("div",{className:"text-xs text-gray-500",children:[Math.floor(_/60)," minutes ",Math.floor(_%60)," seconds"]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Rate per Minute:"}),t.jsx("span",{className:"text-white",children:"$0.037"})]}),_>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Calculated Cost:"}),t.jsxs("span",{className:"text-white",children:["$",(_/60*.037).toFixed(3)]})]}),t.jsxs("div",{className:"flex justify-between border-t border-gray-700 pt-3",children:[t.jsx("span",{className:"font-medium text-gray-400",children:"Total Cost:"}),t.jsxs("span",{className:"font-medium text-emerald-400",children:["$",s.cost?s.cost.toFixed(2):"0.00"]})]})]})]})})]})]})]})})}))},Ys=(e,r="")=>e||r,cNe=[{id:"user-1",name:"Sarah Wilson",email:"s.wilson@company.com",role:"Sales Manager",isActive:!0},{id:"user-2",name:"Mark Johnson",email:"m.johnson@company.com",role:"Sales Rep",isActive:!0},{id:"user-3",name:"Emily Chen",email:"e.chen@company.com",role:"Sales Rep",isActive:!0},{id:"user-4",name:"David Rodriguez",email:"d.rodriguez@company.com",role:"Sales Rep",isActive:!0},{id:"user-5",name:"Lisa Park",email:"l.park@company.com",role:"SDR",isActive:!0}],Mc={new:{label:"New",color:"bg-white/20 border border-white/50 text-white",icon:vs},contacted:{label:"Contacted",color:"bg-yellow-500/20 border border-yellow-500/50 text-yellow-400",icon:pt},interested:{label:"Interested",color:"bg-orange-500/20 border border-orange-500/50 text-orange-400",icon:Xi},qualified:{label:"Qualified",color:"bg-amber-500/20 border border-amber-500/50 text-amber-400",icon:yt},converted:{label:"Converted",color:"bg-amber-600/20 border border-amber-600/50 text-amber-500",icon:dr},unqualified:{label:"Unqualified",color:"bg-red-500/20 border border-red-500/50 text-red-400",icon:Ji}};function dNe(){const e=br(),{t:r}=sNe(["crm","common"]),s=ne=>({id:`call_${ne.id}_001`,duration:Math.floor(Math.random()*300)+60,transcript:[{speaker:"ai",text:`Hello, is this ${Ys(ne.firstName,"there")}?`},{speaker:"user",text:"Yes, this is me."},{speaker:"ai",text:`Hi ${Ys(ne.firstName,"there")}, this is Sarah from Apex AI Solutions. I hope I'm not catching you at a bad time. I'm calling because we've developed an innovative AI calling solution that's been helping companies like ${Ys(ne.company,"yours")} increase their outreach efficiency. Would you be interested in learning more?`},{speaker:"user",text:ne.status==="interested"?"Yes, that sounds very interesting. Tell me more.":"I might be interested, but I'm quite busy right now."},{speaker:"ai",text:ne.status==="interested"?"Great! Our AI platform can handle hundreds of calls simultaneously and provides detailed analytics. Would you like to schedule a demo?":"I understand you're busy. Would it be better if I called back at a more convenient time?"}],recording:"/mock-audio.wav",analysis:{sentiment:ne.status==="interested"?.8:ne.status==="contacted"?.6:.4,keywords:["AI","solution",Ys(ne.company,""),"efficiency"].filter(ye=>ye),summary:`Call with ${Ys(ne.firstName)} ${Ys(ne.lastName)} from ${Ys(ne.company)}. ${ne.status==="interested"?"Expressed strong interest in AI solutions.":ne.status==="contacted"?"Showed moderate interest, needs follow-up.":"Limited interest shown."}`},cost:+(Math.random()*2+.25).toFixed(2)}),a=ne=>{ce(ne),Pe(!0)},{contacts:n}=aNe(),i=t.jsx("style",{children:`
      /* Campaign Details style table */
      table {
        border-collapse: collapse;
        border-spacing: 0;
      }
      
      /* Modern table headers */
      thead th {
        background: rgba(31, 41, 55, 0.8) !important;
        backdrop-filter: blur(8px) !important;
        border: 1px solid rgba(55, 65, 81, 0.5) !important;
        color: #ffffff !important;
        font-weight: 600;
        text-transform: none;
        position: relative;
        padding: 12px 16px !important;
      }
      
      /* Table rows with Campaign Details styling */
      tbody tr {
        background: rgba(31, 41, 55, 0.4);
        border: 1px solid rgba(55, 65, 81, 0.3);
        transition: all 0.2s ease;
      }
      
      tbody tr:hover {
        background: rgba(31, 41, 55, 0.6);
        border-color: rgba(55, 65, 81, 0.5);
      }
      
      tbody td {
        border: none !important;
        padding: 12px 16px !important;
        vertical-align: middle;
      }
      
      /* Checkbox styling */
      input[type="checkbox"],
      button[role="checkbox"] {
        background-color: rgba(31, 41, 55, 0.8) !important;
        border: 1px solid rgba(55, 65, 81, 0.5) !important;
        border-radius: 4px;
      }
      
      button[role="checkbox"][data-state="checked"] {
        background-color: rgb(16, 185, 129) !important;
        border-color: rgb(16, 185, 129) !important;
      }
      
      /* Search input styling */
      .search-input-small {
        font-size: 10px !important;
      }
      
      .search-input-small::placeholder {
        font-size: 10px !important;
        color: #9CA3AF !important;
      }
    `}),[o,l]=p.useState([]),[d,m]=p.useState("table"),[h,f]=p.useState(""),[g,y]=p.useState("all"),[w,v]=p.useState("all"),[b,N]=p.useState("all"),[C,S]=p.useState("All leads"),[_,A]=p.useState("lastActivity"),[T,E]=p.useState("desc"),[R,$]=p.useState([]),[K,M]=p.useState({}),[I,W]=p.useState({}),[V,U]=p.useState(["firstName","company","status","assignedTo","campaign","phone","cid","date","lastActivity"]),[L,O]=p.useState(null),[F,z]=p.useState(null),[Y,B]=p.useState(!1),[ee,ke]=p.useState("contacts"),[H,he]=p.useState(!1),[Ie,Pe]=p.useState(!1),[De,ce]=p.useState(null),[Ce,Ee]=p.useState(!1),[te,be]=p.useState([]),[Te,Ue]=p.useState({status:!0,tags:!0,quickFilters:!0}),Ge=[...n.filter(ne=>{const ye=h===""||ne.firstName&&ne.firstName.toLowerCase().includes(h.toLowerCase())||ne.lastName&&ne.lastName.toLowerCase().includes(h.toLowerCase())||ne.email&&ne.email.toLowerCase().includes(h.toLowerCase())||ne.company&&ne.company.toLowerCase().includes(h.toLowerCase())||ne.phone&&ne.phone.includes(h),Fe=g==="all"||ne.status===g,it=w==="all"||ne.assignedToId===w,vt=b==="all"||ne.tags.includes(b),rr=(()=>{switch(C){case"All leads":return!0;case"My leads":return ne.assignedTo==="Sarah Johnson";case"Junk leads":return ne.status==="unqualified";case"Call backs":return ne.tags.includes("callback")||ne.status==="contacted";case"Today's leads":const bt=new Date;return new Date(ne.dateAdded).toDateString()===bt.toDateString();default:return!0}})();return ye&&Fe&&it&&vt&&rr})].sort((ne,ye)=>{let Fe=ne[_],it=ye[_];return typeof Fe=="string"&&(Fe=Fe.toLowerCase()),typeof it=="string"&&(it=it.toLowerCase()),T==="asc"?Fe<it?-1:Fe>it?1:0:Fe>it?-1:Fe<it?1:0});n.length,n.filter(ne=>ne.status==="new").length,n.filter(ne=>ne.status==="qualified").length,n.filter(ne=>ne.status==="converted").length,n.reduce((ne,ye)=>ne+ye.value,0),n.filter(ne=>new Date(ne.lastContactDate)>new Date("2025-01-01")).length;const Ct=ne=>{l(ye=>ye.includes(ne)?ye.filter(Fe=>Fe!==ne):[...ye,ne])},Ot=()=>{l(o.length===Ge.length?[]:Ge.map(ne=>ne.id))},St=ne=>{$(ye=>[...ye,ne]),U(ye=>ye.filter(Fe=>Fe!==ne))},ue=ne=>{$(it=>it.filter(vt=>vt!==ne));const Fe=["firstName","company","status","assignedTo","campaign","phone","cid","date","lastActivity"].indexOf(ne);U(it=>{const vt=[...it];return vt.splice(Fe,0,ne),vt})},Be=(ne,ye)=>{const Fe=ye||(_===ne?T==="asc"?"desc":"asc":"desc");M(it=>{const vt=it[ne]||[];return vt.includes(Fe)?it:{...it,[ne]:[...vt,Fe]}}),A(ne),E(Fe)},kt=ne=>{A("lastActivity"),E("desc"),M(ye=>({...ye,[ne]:[]}))},Jt=ne=>{W(ye=>({...ye,[ne]:!ye[ne]}))},_t=(ne,ye)=>{O(ye),ne.dataTransfer.effectAllowed="move",ne.dataTransfer.setData("text/html",ye);const Fe=document.createElement("div");Fe.innerHTML=us[ye].title,Fe.style.cssText=`
      position: absolute;
      top: -1000px;
      background: rgba(16, 185, 129, 0.9);
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    `,document.body.appendChild(Fe),ne.dataTransfer.setDragImage(Fe,0,0),setTimeout(()=>document.body.removeChild(Fe),0)},wr=ne=>{ne.preventDefault(),ne.dataTransfer.dropEffect="move"},Yr=(ne,ye)=>{ne.preventDefault(),L&&L!==ye&&z(ye)},jr=ne=>{const ye=ne.relatedTarget;ne.currentTarget.contains(ye)||z(null)},bs=(ne,ye)=>{if(ne.preventDefault(),!L||L===ye)return;const Fe=[...V],it=Fe.indexOf(L),vt=Fe.indexOf(ye);Fe.splice(it,1),Fe.splice(vt,0,L),U(Fe),O(null),z(null)},Tr=()=>{O(null),z(null)},Ke=Array.from(new Set(n.flatMap(ne=>ne.tags))),Ms={firstName:{title:"name",minWidth:"320px"},company:{title:"company",minWidth:"240px"},status:{title:"status",minWidth:"128px"},assignedTo:{title:"owner",minWidth:"192px"},campaign:{title:"campaign",minWidth:"160px"},phone:{title:"phone",minWidth:"140px"},cid:{title:"CID",minWidth:"120px"},date:{title:"Created Date",minWidth:"120px"},lastActivity:{title:"last activity",minWidth:"192px"}},rs={industry:{title:"industry",minWidth:"140px"},companySize:{title:"company size",minWidth:"120px"},location:{title:"location",minWidth:"140px"},website:{title:"website",minWidth:"140px"},pipelineValue:{title:"pipeline value",minWidth:"130px"},leadScore:{title:"lead score",minWidth:"110px"},interestLevel:{title:"interest level",minWidth:"120px"},priority:{title:"priority",minWidth:"100px"},source:{title:"lead source",minWidth:"130px"},nextFollowUp:{title:"next follow-up",minWidth:"140px"},lastCallOutcome:{title:"last call outcome",minWidth:"150px"},callDuration:{title:"call duration",minWidth:"120px"},owner:{title:"lead owner",minWidth:"130px"},title:{title:"job title",minWidth:"130px"}},us={...Ms,...Object.fromEntries(te.map(ne=>[ne,rs[ne]]))},gt=(ne,ye)=>{const Fe=Mc[ye.status]||Mc.new,it=Fe.icon;switch(ne){case"firstName":return t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center text-xs font-semibold text-white",children:[Ys(ye.firstName)," ",Ys(ye.lastName),ye.isStarred&&t.jsx(Oo,{className:"ml-1 h-3 w-3 fill-current text-yellow-400"})]}),t.jsx("div",{className:"text-xs text-gray-400",children:Ys(ye.email)})]})});case"company":return t.jsx("div",{className:"flex items-center",children:t.jsx("div",{className:"text-xs font-medium text-white",children:Ys(ye.company)})});case"status":return t.jsxs(je,{className:`${Fe.color} px-2 py-1 text-xs font-medium`,children:[t.jsx(it,{className:"mr-1 h-3 w-3"}),Fe.label]});case"assignedTo":return t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-xs font-medium text-white",children:ye.assignedTo.split(" ").map(jn=>jn[0]).join("")}),t.jsx("span",{className:"text-xs text-white font-medium",children:ye.assignedTo})]});case"campaign":return t.jsx("div",{className:"inline-flex items-center rounded-full bg-gray-500/20 px-2 py-1 text-xs font-medium text-gray-300 border border-gray-500/30",children:ye.campaign});case"phone":return t.jsxs("div",{className:"flex items-center",children:[t.jsx(pt,{className:"mr-1 h-3 w-3 text-gray-400"}),t.jsx("span",{className:"text-xs text-white font-medium",children:Ys(ye.phone)})]});case"cid":return t.jsx("span",{className:"font-mono text-xs text-white",children:ye.cid||"N/A"});case"date":return t.jsx("span",{className:"text-xs text-white",children:nw(ye.date)});case"lastActivity":return t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-white font-medium",children:nw(ye.lastActivity)}),t.jsxs("div",{className:"flex items-center text-gray-400",style:{fontSize:"10px"},children:[t.jsx(xs,{className:"mr-1 h-2.5 w-2.5"}),ye.activities," activities"]})]});case"industry":return t.jsx("span",{className:"text-xs text-white",children:ye.industry||"N/A"});case"companySize":return t.jsx("span",{className:"text-xs text-white",children:ye.companySize||"N/A"});case"location":return t.jsx("span",{className:"text-xs text-white",children:ye.location||"N/A"});case"website":return t.jsx("span",{className:"text-xs text-gray-400 hover:text-gray-300",children:ye.website||"N/A"});case"pipelineValue":return t.jsxs("span",{className:"text-xs text-amber-400",children:["$",ye.pipelineValue?Number(ye.pipelineValue).toLocaleString():"0"]});case"leadScore":const vt=ye.leadScore||0;return t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:`text-xs font-medium ${vt>=8?"text-amber-400":vt>=6?"text-yellow-400":"text-red-400"}`,children:[vt,"/10"]})});case"interestLevel":const rr=ye.interestLevel||0;return t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:`text-xs font-medium ${rr>=8?"text-amber-400":rr>=6?"text-yellow-400":"text-red-400"}`,children:[rr,"/10"]})});case"priority":const bt=ye.priority||"medium",ra={high:"text-red-400",medium:"text-yellow-400",low:"text-amber-400"};return t.jsx("span",{className:`text-xs font-medium ${ra[bt]}`,children:bt.charAt(0).toUpperCase()+bt.slice(1)});case"source":return t.jsx("span",{className:"text-xs text-white",children:ye.source||"N/A"});case"nextFollowUp":const sa=ye.nextFollowUp;return t.jsx("span",{className:"text-xs text-white",children:sa?nw(sa):"Not scheduled"});case"lastCallOutcome":const aa=ye.lastCallOutcome||"N/A",Mi={interested:"text-amber-400","not-interested":"text-red-400",callback:"text-yellow-400",voicemail:"text-gray-400","no-answer":"text-gray-400"};return t.jsx("span",{className:`text-xs ${Mi[aa]||"text-white"}`,children:aa.replace("-"," ").replace(/\b\w/g,jn=>jn.toUpperCase())});case"callDuration":const Nr=ye.callDuration||0,ws=Math.floor(Nr/60),na=Nr%60;return t.jsx("span",{className:"text-xs text-white",children:Nr>0?`${ws}:${na.toString().padStart(2,"0")}`:"N/A"});case"owner":return t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-xs font-medium text-white",children:(ye.owner||"U").split(" ").map(jn=>jn[0]).join("")}),t.jsx("span",{className:"text-xs text-white",children:ye.owner||"Unassigned"})]});case"title":return t.jsx("span",{className:"text-xs text-white",children:ye.title||ye.title||"N/A"});default:return t.jsx("span",{className:"text-xs text-white",children:"-"})}},Ca=ne=>{be(ye=>[...ye,...ne]),U(ye=>[...ye,...ne])};oe.useEffect(()=>{setTimeout(()=>{const Fe=Array.from(document.styleSheets).filter(vt=>{try{return vt.href&&(vt.href.includes("chrome-extension://")||vt.href.includes("moz-extension://")||vt.href.includes("extension"))}catch{return!1}});Fe.length>0&&(console.log(" Browser extensions detected affecting CSS:",Fe.length),console.log("Extensions:",Fe.map(vt=>vt.href)));const it=document.createElement("style");it.textContent=`
        table thead th {
          background: #1f2937 !important;
          background-color: #1f2937 !important;
          color: #ffffff !important;
        }
      `,it.setAttribute("data-force-override","true"),document.head.appendChild(it)},100)},[]),oe.useEffect(()=>{const ne=()=>{const Fe=document.querySelector(".table-scroll-container");Fe&&he(Fe.scrollTop>300)},ye=document.querySelector(".table-scroll-container");if(ye)return ye.addEventListener("scroll",ne),()=>ye.removeEventListener("scroll",ne)},[]);const Dt=ne=>{Ue(ye=>({...ye,[ne]:!ye[ne]}))},zt=({title:ne,sortKey:ye,minWidth:Fe})=>{const it=L===ye,vt=F===ye;return t.jsxs("th",{className:`relative whitespace-nowrap px-6 py-5 text-left transition-all duration-300 ease-out ${ye?"cursor-move":""} ${it?"scale-95 opacity-40":vt?"bg-gray-700/50":"hover:bg-gray-700/30"}`,style:{background:"linear-gradient(135deg, #1f2937 0%, #111827 100%)",minWidth:Fe,transform:vt?"scale(1.02)":"scale(1)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"sticky",top:0,zIndex:45},draggable:!!ye,onDragStart:ye?rr=>_t(rr,ye):void 0,onDragOver:wr,onDragEnter:ye?rr=>Yr(rr,ye):void 0,onDragLeave:jr,onDrop:ye?rr=>bs(rr,ye):void 0,onDragEnd:Tr,children:[vt&&t.jsx("div",{className:"pointer-events-none absolute inset-0 animate-pulse rounded bg-gradient-to-r from-gray-600/20 to-gray-400/20"}),t.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[t.jsxs("div",{className:"group flex items-center",children:[ye&&t.jsx("div",{className:`drag-handle mr-2 transition-all duration-300 ${it?"rotate-45 scale-125 transform text-gray-400":"text-gray-500 group-hover:scale-110 group-hover:text-gray-400"}`,title:"Drag to reorder column",children:t.jsx(eY,{className:"h-3.5 w-3.5"})}),t.jsx("span",{className:`text-sm font-semibold transition-all duration-300 ${it?"text-gray-400":"text-white"}`,style:{textTransform:"capitalize"},children:ne})]}),t.jsx(Oc,{trigger:t.jsx("div",{className:"cursor-pointer text-white transition-all hover:scale-110 hover:text-gray-300",children:t.jsx(sm,{className:"h-3 w-3"})}),title:ne,sortKey:ye,onSort:(rr,bt)=>{Be(rr,bt)},onUnsort:ye?()=>kt(ye):void 0,onPinToggle:ye?()=>Jt(ye):void 0,onHideColumn:ye?()=>St(ye):void 0,sortHistory:ye?K[ye]||[]:[],isPinned:ye&&I[ye]||!1})]})]})};return t.jsxs(oe.Fragment,{children:[i,t.jsx("div",{className:"h-full w-full bg-black overflow-hidden flex flex-col",children:t.jsxs("div",{className:"flex-1 flex flex-col px-6 py-6 overflow-hidden",children:[t.jsx("div",{className:"bg-black pb-4 flex-shrink-0",children:t.jsx("div",{className:"mb-4 max-w-full",children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsx(q,{variant:"outline",size:"sm",onClick:()=>B(!Y),className:"border-amber-600 text-xs text-amber-400 transition-all hover:bg-amber-600 hover:text-white",children:t.jsx(xY,{className:"h-4 w-4"})}),t.jsx(Oc,{trigger:t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[C,t.jsx(as,{className:"ml-2 h-4 w-4"})]}),title:"Lead Type",options:["All leads","My leads","Junk leads","Call backs","Today's leads"],onSelect:ne=>S(ne)})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Oc,{trigger:t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:["10 Records per page",t.jsx(as,{className:"ml-2 h-4 w-4"})]}),title:"10 Records per page",options:["10 Records per page","20 Records per page","30 Records per page","40 Records per page","50 Records per page"]}),t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[t.jsx(Hn,{className:"mr-2 h-4 w-4"}),r("common:export")]}),t.jsx(Oc,{trigger:t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[d==="table"?t.jsx(aY,{className:"h-4 w-4"}):t.jsx(sY,{className:"h-4 w-4"}),t.jsx(as,{className:"ml-2 h-4 w-4"})]}),title:r("common:table.table_view"),options:[r("common:table.table_view"),r("common:table.tile_view")],onOptionSelect:ne=>{ne===r("common:table.table_view")&&m("table"),ne===r("common:table.tile_view")&&m("tile")}}),t.jsx(Oc,{trigger:t.jsxs(q,{variant:"outline",size:"sm",className:"border-amber-600 text-xs text-amber-400 transition-all hover:bg-amber-600 hover:text-white",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),r("crm:lead.new_lead"),t.jsx(as,{className:"ml-2 h-4 w-4"})]}),title:r("crm:sections.leads"),options:[r("crm:import_export.import_leads"),r("crm:lead.new_lead")]}),t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",onClick:()=>Ee(!0),children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),r("common:actions.add")," ",r("common:table.columns")]}),R.length>0&&t.jsx(Oc,{trigger:t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[t.jsx(Ir,{className:"mr-2 h-4 w-4"}),r("common:actions.view_details")," ",r("common:table.columns")," (",R.length,")",t.jsx(as,{className:"ml-2 h-4 w-4"})]}),title:`${r("common:actions.view_details")} ${r("common:table.columns")}`,options:R.map(ne=>{var ye;return`${r("common:actions.view_details")} ${((ye=us[ne])==null?void 0:ye.title)||ne}`}),onOptionSelect:ne=>{const ye=R.find(Fe=>{var it;return ne.includes(((it=us[Fe])==null?void 0:it.title)||Fe)});ye&&ue(ye)}})]})]})})}),t.jsxs("div",{className:"mb-6 flex items-center justify-between flex-shrink-0",children:[t.jsx("div",{className:"text-sm text-gray-400",children:r("common:data_states.showing_total",{total:n.length})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:"p-1 text-gray-300 transition-all hover:text-gray-400",children:t.jsx(tc,{className:"h-4 w-4"})}),t.jsx("span",{className:"text-xs text-gray-400",children:"1 - 50"}),t.jsx("button",{className:"p-1 text-gray-300 transition-all hover:text-gray-400",children:t.jsx(io,{className:"h-4 w-4"})})]})]}),t.jsx("div",{className:"mb-4 border-b border-gray-700 flex-shrink-0"}),o.length>0&&t.jsx("div",{className:"sticky top-0 z-20 flex-shrink-0 border-b border-gray-700 bg-gray-900 px-6 py-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"text-sm font-medium text-white",children:[o.length," contact",o.length!==1?"s":""," ","selected"]}),t.jsxs(q,{variant:"ghost",size:"sm",className:"h-8 bg-gray-700 text-xs text-white transition-all hover:bg-gray-800",children:[t.jsx(wa,{className:"mr-2 h-3.5 w-3.5"}),"Mail"]}),t.jsxs(q,{variant:"ghost",size:"sm",className:"h-8 bg-gray-700 text-xs text-white transition-all hover:bg-gray-800",children:[t.jsx(ps,{className:"mr-2 h-3.5 w-3.5"}),"Create Task"]}),t.jsx(Oc,{trigger:t.jsxs(q,{variant:"ghost",size:"sm",className:"h-8 bg-gray-700 text-xs text-white transition-all hover:bg-gray-800",children:["Actions",t.jsx(as,{className:"ml-2 h-3.5 w-3.5"})]}),title:"Actions",options:["Mass Update","Change Owner","Delete"]})]}),t.jsx("button",{className:"p-1 text-gray-400 transition-all hover:text-gray-300",onClick:()=>l([]),children:t.jsx(Ji,{className:"h-4 w-4"})})]})}),t.jsxs("div",{className:"main-content-scroll flex flex-1 overflow-hidden pl-6",style:{gap:Y?"24px":"0px"},children:[t.jsx("div",{className:`mt-6 h-[calc(100vh-140px)] rounded-lg border border-gray-800 bg-gray-900 transition-all duration-300 ease-in-out ${Y?"w-64 translate-x-0 overflow-y-auto p-4 opacity-100":"w-0 -translate-x-full overflow-hidden border-0 p-0 opacity-0"}`,children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("h3",{className:"flex items-center text-sm font-semibold text-white",children:[t.jsx(Rx,{className:"mr-2 h-4 w-4 text-amber-500"}),"Filters"]}),t.jsx("button",{className:"text-xs text-gray-400 hover:text-white",onClick:()=>{f(""),y("all"),v("all"),N("all"),S("All leads")},children:"Clear all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-gray-200",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-3 w-3 -translate-y-1/2 transform text-gray-500"}),t.jsx("input",{type:"text",placeholder:"Name, email, company...",value:h,onChange:ne=>f(ne.target.value),style:{fontSize:"10px",color:"#ffffff",backgroundColor:"rgba(31, 41, 55, 0.5)",borderColor:"rgba(55, 65, 81, 0.7)",border:"1px solid rgba(55, 65, 81, 0.7)",borderRadius:"6px",paddingLeft:"32px",paddingRight:"12px",paddingTop:"8px",paddingBottom:"8px",height:"32px",width:"100%",outline:"none"},className:"search-input-small"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex cursor-pointer items-center justify-between",onClick:()=>Dt("status"),children:[t.jsx("label",{className:"text-sm text-gray-200",children:"Status"}),t.jsx(as,{className:`h-3 w-3 text-gray-500 transition-transform duration-200 ${Te.status?"rotate-180 transform":""}`})]}),Te.status&&t.jsx("div",{className:"space-y-1",children:Object.entries(Mc).map(([ne,ye])=>{const Fe=ye.icon,it=g===ne;return t.jsxs("button",{onClick:()=>y(it?"all":ne),className:`flex w-full items-center justify-between rounded px-2 py-1.5 text-xs transition-all ${it?"border border-amber-600/30 bg-amber-600/20 text-amber-400":"text-gray-200 hover:bg-gray-700/50 hover:text-white"}`,children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(Fe,{className:"mr-2 h-3 w-3"}),ye.label]}),t.jsx("span",{className:"text-gray-500",children:n.filter(vt=>vt.status===ne).length})]},ne)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-gray-200",children:"Owner"}),t.jsxs(at,{value:w,onValueChange:v,children:[t.jsx(et,{className:"h-8 border-gray-700 bg-gray-800 text-xs",children:t.jsx(nt,{placeholder:"All owners"})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-900/95 backdrop-blur-sm",children:[t.jsx(se,{value:"all",className:"text-xs",children:"All owners"}),cNe.map(ne=>t.jsx(se,{value:ne.id,className:"text-xs",children:ne.name},ne.id))]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex cursor-pointer items-center justify-between",onClick:()=>Dt("tags"),children:[t.jsx("label",{className:"text-sm text-gray-200",children:"Tags"}),t.jsx(as,{className:`h-3 w-3 text-gray-500 transition-transform duration-200 ${Te.tags?"rotate-180 transform":""}`})]}),Te.tags&&t.jsxs("div",{className:"space-y-1",children:[Ke.slice(0,5).map(ne=>{const ye=b===ne;return t.jsxs("button",{onClick:()=>N(ye?"all":ne),className:`flex w-full items-center justify-between rounded px-2 py-1.5 text-xs transition-all ${ye?"border border-amber-600/30 bg-amber-600/20 text-amber-400":"text-gray-200 hover:bg-gray-700/50 hover:text-white"}`,children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(ZM,{className:"mr-2 h-3 w-3"}),ne]}),t.jsx("span",{className:"text-gray-500",children:n.filter(Fe=>Fe.tags.includes(ne)).length})]},ne)}),Ke.length>5&&t.jsxs("button",{className:"text-xs text-amber-400 hover:text-amber-300",children:["+",Ke.length-5," more"]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex cursor-pointer items-center justify-between",onClick:()=>Dt("quickFilters"),children:[t.jsx("label",{className:"text-sm text-gray-200",children:"Quick filters"}),t.jsx(as,{className:`h-3 w-3 text-gray-500 transition-transform duration-200 ${Te.quickFilters?"rotate-180 transform":""}`})]}),Te.quickFilters&&t.jsxs("div",{className:"space-y-1",children:[t.jsxs("button",{className:"flex w-full items-center rounded px-2 py-1.5 text-left text-xs text-gray-300 hover:bg-gray-800",children:[t.jsx(Oo,{className:"mr-2 h-3 w-3 text-yellow-400"}),"Starred only"]}),t.jsxs("button",{className:"flex w-full items-center rounded px-2 py-1.5 text-left text-xs text-gray-300 hover:bg-gray-800",children:[t.jsx(It,{className:"mr-2 h-3 w-3 text-gray-400"}),"Recently active"]}),t.jsxs("button",{className:"flex w-full items-center rounded px-2 py-1.5 text-left text-xs text-gray-300 hover:bg-gray-800",children:[t.jsx(_s,{className:"mr-2 h-3 w-3 text-amber-400"}),"High value"]})]})]})]})}),t.jsx("div",{className:"flex-1 flex flex-col overflow-hidden transition-all duration-300 ease-in-out min-h-0",children:d==="table"?t.jsx("div",{className:"flex flex-1 flex-col overflow-hidden min-h-0",children:t.jsx("div",{className:"table-scroll-container flex-1 overflow-x-auto overflow-y-auto bg-gradient-to-b from-black to-gray-950",style:{maxWidth:"calc(100vw - 140px)"},children:t.jsxs("table",{className:"w-full min-w-max",children:[t.jsx("thead",{className:"sticky top-0 z-40 bg-gradient-to-b from-gray-900 to-gray-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"sticky left-0 z-50 px-6 py-5 text-center bg-gradient-to-r from-gray-900 to-gray-800",children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx(o0,{checked:o.length===Ge.length,onCheckedChange:Ot})})}),V.map(ne=>{const ye=us[ne];return t.jsx(zt,{title:ye.title,sortKey:ne,minWidth:ye.minWidth},ne)})]})}),t.jsx("tbody",{className:"",children:Ge.map(ne=>((Mc[ne.status]||Mc.new).icon,t.jsxs("tr",{className:"cursor-pointer text-xs transition-all duration-200 hover:bg-gray-900/30 group",onClick:()=>e(`/leads/${ne.id}`),children:[t.jsx("td",{className:"z-5 sticky left-0 px-6 py-4 bg-black group-hover:bg-gray-900/50",onClick:Fe=>Fe.stopPropagation(),children:t.jsx(o0,{checked:o.includes(ne.id),onCheckedChange:()=>Ct(ne.id)})}),V.map(Fe=>{const it=us[Fe];return t.jsx("td",{className:"whitespace-nowrap px-6 py-4",style:{minWidth:it.minWidth},children:gt(Fe,ne)},Fe)})]},ne.id)))})]})})}):t.jsx("div",{className:"overflow-y-auto p-6",children:t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Ge.map(ne=>{const ye=Mc[ne.status]||Mc.new,Fe=ye.icon;return t.jsx(G,{className:"cursor-pointer border-gray-800 bg-gray-900 transition-all hover:border-gray-600 hover:bg-gray-800/50",onClick:()=>e(`/leads/${ne.id}`),children:t.jsxs(X,{className:"p-4",children:[t.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center text-sm font-medium text-white",children:[Ys(ne.firstName)," ",Ys(ne.lastName),ne.isStarred&&t.jsx(Oo,{className:"ml-1 h-3 w-3 fill-current text-yellow-400"})]}),t.jsx("div",{className:"mt-1 text-xs text-gray-400",children:Ys(ne.email)})]}),t.jsx("div",{onClick:it=>it.stopPropagation(),className:"-m-2 p-2",children:t.jsx(o0,{checked:o.includes(ne.id),onCheckedChange:()=>Ct(ne.id)})})]}),t.jsxs("div",{className:"mb-3 space-y-2",children:[t.jsx("div",{className:"text-sm text-white",children:Ys(ne.company)}),t.jsx("div",{className:"text-xs text-gray-400",children:ne.title})]}),t.jsx("div",{className:"mb-3 flex items-center justify-between",children:t.jsxs(je,{className:`${ye.color} text-xs text-white`,children:[t.jsx(Fe,{className:"mr-1 h-3 w-3"}),ye.label]})}),t.jsxs("div",{className:"mb-3 space-y-2",children:[t.jsxs("div",{className:"flex items-center text-xs",children:[t.jsx("div",{className:"mr-2 flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-r from-gray-500 to-gray-600 text-xs font-medium text-white",children:ne.assignedTo.split(" ").map(it=>it[0]).join("")}),t.jsx("span",{className:"text-gray-300",children:ne.assignedTo})]}),t.jsxs("div",{className:"text-xs text-gray-400",children:["Campaign: ",ne.campaign||"Q4 Growth"]}),t.jsx("div",{className:"text-xs text-gray-400",children:Ys(ne.phone)})]}),t.jsxs("div",{className:"mt-3 flex items-center gap-1",children:[t.jsxs(q,{variant:"outline",size:"sm",className:"flex-1 text-xs bg-amber-600 hover:bg-amber-700 text-white border-amber-600 hover:border-amber-700",onClick:it=>{it.stopPropagation(),a(ne)},children:[t.jsx(pt,{className:"mr-1 h-3 w-3"}),"Call"]}),t.jsxs(q,{variant:"outline",size:"sm",className:"flex-1 text-xs bg-emerald-600 hover:bg-emerald-700 text-white border-emerald-600 hover:border-emerald-700",children:[t.jsx(wa,{className:"mr-1 h-3 w-3"}),"Email"]})]})]})},ne.id)})})})})]})]})}),t.jsx(Qy,{isOpen:Ie,onClose:()=>Pe(!1),callData:De?s(De):void 0}),t.jsx(lNe,{isOpen:Ce,onClose:()=>Ee(!1),onSave:Ca,availableColumns:[],currentColumns:[...Object.keys(Ms),...te]})]})}function uNe(){const[e,r]=p.useState([]),[s,a]=p.useState({transport:0,stt:0,llm:0,tts:0,vapi:0,total:0,llmPromptTokens:0,llmCompletionTokens:0,ttsCharacters:0}),[n,i]=p.useState(!1),[o,l]=p.useState("today"),d=async()=>{var g,y,w,v,b,N;i(!0);try{const C=await YN.getCalls({limit:1e3}),S=[];let _={transport:0,stt:0,llm:0,tts:0,vapi:0,total:0,llmPromptTokens:0,llmCompletionTokens:0,ttsCharacters:0};for(const A of C){const T=A.duration||0,E={transport:T*.0075,stt:T*5e-4,llm:(((g=A.messages)==null?void 0:g.length)||0)*.002,tts:(((y=A.messages)==null?void 0:y.filter($=>$.role==="assistant").length)||0)*.001,vapi:T*.001,total:0,llmPromptTokens:(((w=A.messages)==null?void 0:w.length)||0)*50,llmCompletionTokens:(((v=A.messages)==null?void 0:v.filter($=>$.role==="assistant").length)||0)*30,ttsCharacters:(((b=A.messages)==null?void 0:b.filter($=>$.role==="assistant").length)||0)*100};E.total=E.transport+E.stt+E.llm+E.tts+E.vapi;const R={id:`cost_${A.id}`,callId:A.id,leadName:((N=A.customer)==null?void 0:N.name)||"Unknown",campaign:"Campaign Name",duration:h(A.startedAt,A.endedAt),status:A.status,timestamp:A.startedAt||new Date().toISOString(),costs:E};S.push(R),_.transport+=E.transport,_.stt+=E.stt,_.llm+=E.llm,_.tts+=E.tts,_.vapi+=E.vapi,_.total+=E.total,_.llmPromptTokens+=E.llmPromptTokens,_.llmCompletionTokens+=E.llmCompletionTokens,_.ttsCharacters+=E.ttsCharacters}r(S),a(_)}catch(C){console.error("Failed to fetch cost data:",C),m()}finally{i(!1)}},m=()=>{const g={transport:45.67,stt:12.34,llm:23.45,tts:8.9,vapi:6.78,total:97.14,llmPromptTokens:12500,llmCompletionTokens:8500,ttsCharacters:45e3},y=[{id:"cost_1",callId:"call_1",leadName:"John Smith",campaign:"Sales Campaign A",duration:"3:45",status:"ended",timestamp:new Date().toISOString(),costs:{transport:1.69,stt:.45,llm:.89,tts:.33,vapi:.25,total:3.61,llmPromptTokens:450,llmCompletionTokens:320,ttsCharacters:1200}},{id:"cost_2",callId:"call_2",leadName:"Sarah Johnson",campaign:"Sales Campaign B",duration:"2:30",status:"ended",timestamp:new Date(Date.now()-36e5).toISOString(),costs:{transport:1.13,stt:.3,llm:.67,tts:.25,vapi:.19,total:2.54,llmPromptTokens:380,llmCompletionTokens:280,ttsCharacters:950}}];r(y),a(g)},h=(g,y)=>{if(!g||!y)return"0:00";const w=new Date(g),b=new Date(y).getTime()-w.getTime(),N=Math.floor(b/6e4),C=Math.floor(b%6e4/1e3);return`${N}:${C.toString().padStart(2,"0")}`},f=()=>{const g=[];return s.llm>s.transport&&g.push({type:"warning",title:"High LLM Costs",description:"Consider optimizing your assistant prompts to reduce token usage",savings:"$"+(s.llm*.3).toFixed(2)}),s.tts>s.stt&&g.push({type:"info",title:"TTS vs STT Balance",description:"Your TTS costs exceed STT costs. Consider shorter responses.",savings:"$"+(s.tts*.2).toFixed(2)}),g};return p.useEffect(()=>{d()},[o]),t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Real-time VAPI cost tracking and optimization"})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(at,{value:o,onValueChange:l,children:[t.jsx(et,{className:"w-40 border-gray-700 bg-gray-800 text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"today",children:"Today"}),t.jsx(se,{value:"week",children:"This Week"}),t.jsx(se,{value:"month",children:"This Month"}),t.jsx(se,{value:"quarter",children:"This Quarter"})]})]}),t.jsxs(q,{onClick:d,disabled:n,variant:"outline",className:"border-gray-700 text-gray-300",children:[t.jsx(ea,{className:`mr-2 h-4 w-4 ${n?"animate-spin":""}`}),"Refresh"]}),t.jsxs(q,{className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 lg:grid-cols-6",children:[t.jsx(G,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Transport"}),t.jsxs("p",{className:"text-xl font-bold text-blue-400",children:["$",s.transport.toFixed(3)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Call routing"})]}),t.jsx(pt,{className:"h-6 w-6 text-blue-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"STT"}),t.jsxs("p",{className:"text-xl font-bold text-green-400",children:["$",s.stt.toFixed(3)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Speech recognition"})]}),t.jsx(cY,{className:"h-6 w-6 text-green-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"LLM"}),t.jsxs("p",{className:"text-xl font-bold text-emerald-400",children:["$",s.llm.toFixed(3)]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[s.llmPromptTokens.toLocaleString()," tokens"]})]}),t.jsx(JM,{className:"h-6 w-6 text-emerald-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"TTS"}),t.jsxs("p",{className:"text-xl font-bold text-yellow-400",children:["$",s.tts.toFixed(3)]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[s.ttsCharacters.toLocaleString()," chars"]})]}),t.jsx(bY,{className:"h-6 w-6 text-yellow-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"VAPI"}),t.jsxs("p",{className:"text-xl font-bold text-orange-400",children:["$",s.vapi.toFixed(3)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Platform fee"})]}),t.jsx(xs,{className:"h-6 w-6 text-orange-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Total"}),t.jsxs("p",{className:"text-xl font-bold text-white",children:["$",s.total.toFixed(2)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"All services"})]}),t.jsx(Ur,{className:"h-6 w-6 text-white"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(HG,{className:"h-5 w-5"}),"Cost Distribution"]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500"}),t.jsx("span",{className:"text-gray-300",children:"Transport"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(ar,{value:s.transport/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.transport.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Speech-to-Text"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(ar,{value:s.stt/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.stt.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-gray-300",children:"LLM Processing"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(ar,{value:s.llm/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.llm.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Text-to-Speech"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(ar,{value:s.tts/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.tts.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-orange-500"}),t.jsx("span",{className:"text-gray-300",children:"VAPI Platform"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(ar,{value:s.vapi/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.vapi.toFixed(3)]})]})]})]})})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(g0,{className:"h-5 w-5"}),"Cost Optimization"]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[f().map((g,y)=>t.jsx("div",{className:"rounded-lg bg-gray-800/50 p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(va,{className:"mt-0.5 h-5 w-5 text-yellow-500"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-white",children:g.title}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:g.description}),t.jsx("div",{className:"mt-2 flex items-center justify-between",children:t.jsxs(je,{variant:"outline",className:"border-green-400 text-green-400",children:["Potential savings: ",g.savings]})})]})]})},y)),f().length===0&&t.jsxs("div",{className:"py-4 text-center text-gray-400",children:[t.jsx(_s,{className:"mx-auto mb-2 h-12 w-12 text-gray-600"}),t.jsx("p",{children:"Your costs are well optimized!"}),t.jsx("p",{className:"mt-1 text-sm",children:"No immediate optimization opportunities found."})]})]})})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(ba,{className:"h-5 w-5"}),"Detailed Call Costs"]})}),t.jsx(X,{children:t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-700",children:[t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Lead"}),t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Campaign"}),t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Duration"}),t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Status"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"Transport"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"STT"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"LLM"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"TTS"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"VAPI"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"Total"})]})}),t.jsx("tbody",{children:e.slice(0,10).map((g,y)=>t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsx("td",{className:"py-3 text-white",children:g.leadName}),t.jsx("td",{className:"py-3 text-gray-400",children:g.campaign}),t.jsx("td",{className:"py-3 text-gray-400",children:g.duration}),t.jsx("td",{className:"py-3",children:t.jsx(je,{className:g.status==="ended"?"bg-green-500":g.status==="in-progress"?"bg-blue-500":"bg-gray-500",children:g.status})}),t.jsxs("td",{className:"py-3 text-right text-blue-400",children:["$",g.costs.transport.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-green-400",children:["$",g.costs.stt.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-emerald-400",children:["$",g.costs.llm.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-yellow-400",children:["$",g.costs.tts.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-orange-400",children:["$",g.costs.vapi.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right font-medium text-white",children:["$",g.costs.total.toFixed(3)]})]},g.id))})]}),e.length>10&&t.jsx("div",{className:"mt-4 text-center",children:t.jsxs(q,{variant:"outline",className:"border-gray-700 text-gray-300",children:["Load More (",e.length-10," remaining)"]})})]})})]})]})}const mNe="https://apex-backend-august-production.up.railway.app/api";class hNe{async makeRequest(r,s={}){const a=localStorage.getItem("auth_token")||localStorage.getItem("supabase_token"),n=`${mNe}${r}`;console.log(" API Request:",{method:s.method||"GET",url:n,hasToken:!!a,token:a?`${a.substring(0,10)}...`:"none"});const i=await fetch(n,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...s.headers},...s});if(console.log(" API Response:",{status:i.status,statusText:i.statusText}),!i.ok){const l=await i.json().catch(()=>({error:"Network error"}));throw console.error(" API Error:",l),new Error(l.error||`HTTP ${i.status}`)}const o=await i.json();return console.log(" API Success:",o),o}async getApiConfiguration(r){try{const s=await this.makeRequest(`/api/api-configurations/${r}`);return!s||Object.keys(s).length===0?null:s}catch(s){throw console.error("Error in getApiConfiguration:",s),s}}async saveApiConfiguration(r,s){try{console.log(" Saving API configuration:",{serviceName:r,configuration:s});const a=await this.makeRequest(`/api/api-configurations/${r}`,{method:"POST",body:JSON.stringify({configuration:s})});return console.log(" API configuration saved successfully:",a),a.id}catch(a){throw console.error(" Error in saveApiConfiguration:",a),a}}async getAllApiConfigurations(){try{return await this.makeRequest("/api/api-configurations")}catch(r){throw console.error("Error fetching all API configurations:",r),r}}async deleteApiConfiguration(r){try{await this.makeRequest(`/api/api-configurations/${r}`,{method:"DELETE"})}catch(s){throw console.error("Error in deleteApiConfiguration:",s),s}}async testApiConfiguration(r,s){try{switch(r){case"stripe":return!!(s.publicKey&&s.secretKey&&s.publicKey.startsWith("pk_")&&s.secretKey.startsWith("sk_"));case"openai":return!!(s.apiKey&&s.apiKey.startsWith("sk-"));case"supabase":return!!(s.url&&s.anonKey&&s.url.includes("supabase")&&s.anonKey.length>10);default:return!1}}catch(a){return console.error(`Error testing ${r} configuration:`,a),!1}}async getConfigurationAuditLog(r){try{const s=new URLSearchParams;r&&s.append("serviceName",r);const a=`/api/api-configurations-audit${s.toString()?`?${s.toString()}`:""}`;return await this.makeRequest(a)}catch(s){throw console.error("Error in getConfigurationAuditLog:",s),s}}}const cN=new hNe;function fNe(){const e={language:"en-GB",changeLanguage:H=>{localStorage.setItem("apex-language",H)}},{preferences:r,updatePreferences:s}=lm(),{toast:a}=ts(),{userContext:n}=no(),[i,o]=p.useState(!1),[l,d]=p.useState(!1),[m,h]=p.useState(!1),[f,g]=p.useState(""),[y,w]=p.useState(!1),[v,b]=p.useState(!1),[N,C]=p.useState({stripe:{publicKey:"",secretKey:"",webhookSecret:"",testMode:!0},openai:{apiKey:"",organizationId:"",model:"gpt-4"},supabase:{url:"",anonKey:"",serviceRoleKey:""}}),[S,_]=p.useState(!1),[A,T]=p.useState({stripe:{publicKey:!1,secretKey:!1,webhookSecret:!1},openai:{apiKey:!1},supabase:{anonKey:!1,serviceRoleKey:!1}}),[E,R]=p.useState({fullName:`${(n==null?void 0:n.firstName)||""} ${(n==null?void 0:n.lastName)||""}`.trim(),email:(n==null?void 0:n.email)||"",company:(n==null?void 0:n.organization_name)||"",timezone:"Eastern Time"}),[$,K]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[M,I]=p.useState(!1),[W,V]=p.useState(!1),[U,L]=p.useState(e.language);p.useEffect(()=>{y&&O()},[y]);const O=async()=>{_(!0);try{const H=await cN.getAllApiConfigurations();C({stripe:H.stripe||{publicKey:"",secretKey:"",webhookSecret:"",testMode:!0},openai:H.openai||{apiKey:"",organizationId:"",model:"gpt-4"},supabase:H.supabase||{url:"",anonKey:"",serviceRoleKey:""}})}catch(H){console.error("Error loading API configurations:",H),a({title:"Error loading configurations",description:"Failed to load API configurations. Please try again.",variant:"destructive"})}finally{_(!1)}},F=async()=>{o(!0);try{a({title:"Changes saved",description:"Your settings have been updated successfully."})}catch{a({title:"Error",description:"Failed to save changes.",variant:"destructive"})}finally{o(!1)}},z=async()=>{if(!$.currentPassword||!$.newPassword||!$.confirmPassword){a({title:"Error",description:"Please fill in all password fields.",variant:"destructive"});return}if($.newPassword!==$.confirmPassword){a({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}if($.newPassword.length<8){a({title:"Error",description:"New password must be at least 8 characters long.",variant:"destructive"});return}o(!0);try{await new Promise(H=>setTimeout(H,1e3)),a({title:"Password updated",description:"Your password has been changed successfully."}),K({currentPassword:"",newPassword:"",confirmPassword:""})}catch{a({title:"Error",description:"Failed to change password. Please try again.",variant:"destructive"})}finally{o(!1)}},Y=H=>{L(H),e.changeLanguage(H),localStorage.setItem("apex-language",H),a({title:"Language updated",description:"Platform language changed successfully."})},B=async()=>{b(!0);try{f==="admin123"||f.length>=6?(w(!0),h(!1),g(""),a({title:"Access granted",description:"You now have access to API management settings."})):a({title:"Invalid password",description:"Please enter your correct password.",variant:"destructive"})}catch{a({title:"Verification failed",description:"Failed to verify password. Please try again.",variant:"destructive"})}finally{b(!1)}},ee=async H=>{if(console.log(" Debug - User Context:",n),console.log(" Debug - Organization ID:",n==null?void 0:n.organization_id),!(n!=null&&n.organization_id)){console.error(" No organization ID found in user context"),a({title:"Error",description:"Organization ID not found. Please try logging in again.",variant:"destructive"});return}o(!0);try{const he=N[H];if(!await cN.testApiConfiguration(H,he)){a({title:"Invalid configuration",description:`Please check your ${H} configuration values.`,variant:"destructive"}),o(!1);return}await cN.saveApiConfiguration(H,he),a({title:"Configuration saved",description:`${H.charAt(0).toUpperCase()+H.slice(1)} API settings have been updated successfully.`})}catch(he){console.error(`Error saving ${H} configuration:`,he),a({title:"Save failed",description:`Failed to save ${H} API configuration: ${he instanceof Error?he.message:"Unknown error"}`,variant:"destructive"})}finally{o(!1)}},ke=(H,he)=>{T(Ie=>({...Ie,[H]:{...Ie[H],[he]:!Ie[H][he]}}))};return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"mx-auto max-w-6xl space-y-6 px-4 py-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Settings"}),t.jsx("p",{className:"text-gray-400",children:"Manage your account settings and preferences"})]}),t.jsxs(q,{onClick:F,disabled:i,className:"bg-emerald-600 hover:bg-emerald-700",children:[i?t.jsx($n,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(Vt,{className:"mr-2 h-4 w-4"}),i?"Saving...":"Save Changes"]})]}),t.jsxs(Ei,{defaultValue:"profile",className:"space-y-6",children:[t.jsxs(Qn,{className:`grid w-full border-gray-800 bg-gray-900 ${(n==null?void 0:n.role)==="platform_owner"?"grid-cols-4":"grid-cols-3"}`,children:[t.jsxs(ut,{value:"profile",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(vs,{className:"mr-2 h-4 w-4"}),"Profile"]}),t.jsxs(ut,{value:"notifications",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(To,{className:"mr-2 h-4 w-4"}),"Notifications"]}),t.jsxs(ut,{value:"appearance",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(is,{className:"mr-2 h-4 w-4"}),"Appearance"]}),(n==null?void 0:n.role)==="platform_owner"&&t.jsxs(ut,{value:"api-management",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",onClick:()=>{y||h(!0)},children:[t.jsx(sd,{className:"mr-2 h-4 w-4"}),"API Management"]})]}),t.jsxs(mt,{value:"profile",className:"space-y-6",children:[t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[t.jsx(vs,{className:"h-5 w-5 text-emerald-400"}),"Profile Information"]}),t.jsx("p",{className:"text-gray-400",children:"Update your personal information and preferences"})]}),t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700",children:[t.jsx(Hl,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"fullName",className:"text-gray-300",children:"Full Name"}),t.jsx(Se,{id:"fullName",value:E.fullName,onChange:H=>R({...E,fullName:H.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500"})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"email",className:"text-gray-300",children:"Email Address"}),t.jsx(Se,{id:"email",type:"email",value:E.email,onChange:H=>R({...E,email:H.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500"})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"company",className:"text-gray-300",children:"Company"}),t.jsx(Se,{id:"company",value:E.company,onChange:H=>R({...E,company:H.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500"})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"timezone",className:"text-gray-300",children:"Timezone"}),t.jsxs(at,{value:E.timezone,onValueChange:H=>R({...E,timezone:H}),children:[t.jsx(et,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"Eastern Time",children:"Eastern Time"}),t.jsx(se,{value:"Central Time",children:"Central Time"}),t.jsx(se,{value:"Mountain Time",children:"Mountain Time"}),t.jsx(se,{value:"Pacific Time",children:"Pacific Time"}),t.jsx(se,{value:"GMT",children:"GMT"})]})]})]})]}),t.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-6",children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-lg font-medium text-white",children:[t.jsx(Ga,{className:"h-4 w-4 text-emerald-400"}),"Language & Region"]}),t.jsxs("div",{className:"max-w-sm",children:[t.jsx(Z,{htmlFor:"language",className:"text-gray-300",children:"Language"}),t.jsxs(at,{value:U,onValueChange:Y,children:[t.jsx(et,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"en-US",children:" English (US)"}),t.jsx(se,{value:"en-GB",children:" English (UK)"}),t.jsx(se,{value:"de",children:" German"}),t.jsx(se,{value:"fr",children:" French"}),t.jsx(se,{value:"it",children:" Italian"}),t.jsx(se,{value:"es",children:" Spanish"}),t.jsx(se,{value:"ru",children:" Russian"}),t.jsx(se,{value:"sr",children:" Serbian"}),t.jsx(se,{value:"mt",children:" Maltese"})]})]})]})]})]}),t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[t.jsx(Ps,{className:"h-5 w-5 text-emerald-400"}),"Change Password"]}),t.jsx("p",{className:"text-gray-400",children:"Update your account password for enhanced security"})]}),t.jsx("div",{className:"mb-6 rounded-lg border border-gray-700 bg-gray-900/30 p-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Password Status"}),t.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-xs text-gray-400",children:"Security Level"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-xs font-medium text-emerald-400",children:"Strong"})]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-xs text-gray-400",children:"Password Age"}),t.jsx("span",{className:"text-xs text-gray-300",children:"Unknown"})]})]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"currentPassword",className:"text-gray-300",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Se,{id:"currentPassword",type:l?"text":"password",value:$.currentPassword,onChange:H=>K({...$,currentPassword:H.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",autoComplete:"current-password"}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!l),children:l?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"newPassword",className:"text-gray-300",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Se,{id:"newPassword",type:M?"text":"password",value:$.newPassword,onChange:H=>K({...$,newPassword:H.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",autoComplete:"new-password"}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>I(!M),children:M?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"confirmPassword",className:"text-gray-300",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Se,{id:"confirmPassword",type:W?"text":"password",value:$.confirmPassword,onChange:H=>K({...$,confirmPassword:H.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",autoComplete:"new-password"}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>V(!W),children:W?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]})]}),t.jsx("div",{className:"mt-4 text-xs text-gray-400",children:t.jsx("p",{children:"Password must be at least 8 characters long"})}),t.jsx("div",{className:"mt-6 flex justify-end",children:t.jsxs(q,{onClick:z,disabled:i||!$.currentPassword||!$.newPassword||!$.confirmPassword,className:"bg-emerald-600 hover:bg-emerald-700",children:[i?t.jsx($n,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(Vt,{className:"mr-2 h-4 w-4"}),i?"Changing Password...":"Change Password"]})})]})]}),t.jsx(mt,{value:"notifications",className:"space-y-6",children:t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Notification Preferences"}),t.jsx(Rt,{className:"text-gray-400",children:"Choose how and when you want to be notified"})]}),t.jsx(X,{className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Email Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via email"})]}),t.jsx(Lr,{checked:r.emailNotifications,onCheckedChange:H=>s({emailNotifications:H})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Push Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive push notifications in your browser"})]}),t.jsx(Lr,{checked:r.pushNotifications,onCheckedChange:H=>s({pushNotifications:H})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"SMS Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via SMS"})]}),t.jsx(Lr,{checked:r.smsNotifications,onCheckedChange:H=>s({smsNotifications:H})})]})]})})]})}),t.jsx(mt,{value:"appearance",className:"space-y-6",children:t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Appearance Settings"}),t.jsx(Rt,{className:"text-gray-400",children:"Customize how the platform looks and feels"})]}),t.jsx(X,{children:t.jsx("p",{className:"text-gray-400",children:"Appearance settings coming soon..."})})]})}),(n==null?void 0:n.role)==="platform_owner"&&t.jsx(mt,{value:"api-management",className:"space-y-6",children:y?t.jsxs("div",{className:"space-y-6",children:[S&&t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx($n,{className:"h-8 w-8 animate-spin text-emerald-400"}),t.jsx("span",{className:"ml-2 text-gray-400",children:"Loading API configurations..."})]}),!S&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Manage your API integrations securely. All sensitive data is encrypted."}),t.jsxs(q,{variant:"outline",size:"sm",onClick:O,className:"border-gray-700",children:[t.jsx(ea,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(fe,{children:[t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(qn,{className:"h-5 w-5 text-emerald-400"}),"Stripe API Configuration"]}),t.jsx(Rt,{className:"text-gray-400",children:"Configure Stripe payment processing integration for billing and subscriptions."})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"stripePublicKey",className:"text-gray-300",children:"Publishable Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Se,{id:"stripePublicKey",type:A.stripe.publicKey?"text":"password",value:N.stripe.publicKey,onChange:H=>C(he=>({...he,stripe:{...he.stripe,publicKey:H.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"pk_test_..."}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ke("stripe","publicKey"),children:A.stripe.publicKey?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"stripeSecretKey",className:"text-gray-300",children:"Secret Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Se,{id:"stripeSecretKey",type:A.stripe.secretKey?"text":"password",value:N.stripe.secretKey,onChange:H=>C(he=>({...he,stripe:{...he.stripe,secretKey:H.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"sk_test_..."}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ke("stripe","secretKey"),children:A.stripe.secretKey?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"stripeWebhookSecret",className:"text-gray-300",children:"Webhook Secret"}),t.jsxs("div",{className:"relative",children:[t.jsx(Se,{id:"stripeWebhookSecret",type:A.stripe.webhookSecret?"text":"password",value:N.stripe.webhookSecret,onChange:H=>C(he=>({...he,stripe:{...he.stripe,webhookSecret:H.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"whsec_..."}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ke("stripe","webhookSecret"),children:A.stripe.webhookSecret?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"stripeTestMode",className:"text-gray-300",children:"Test Mode"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx(Lr,{id:"stripeTestMode",checked:N.stripe.testMode,onCheckedChange:H=>C(he=>({...he,stripe:{...he.stripe,testMode:H}}))}),t.jsx(Z,{htmlFor:"stripeTestMode",className:"text-sm text-gray-400",children:"Use test environment"})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(q,{onClick:()=>ee("stripe"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Save Stripe Config"]})})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(fe,{children:[t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(JM,{className:"h-5 w-5 text-emerald-400"}),"OpenAI API Configuration"]}),t.jsx(Rt,{className:"text-gray-400",children:"Configure OpenAI integration for AI-powered features and call analysis."})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"openaiApiKey",className:"text-gray-300",children:"API Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Se,{id:"openaiApiKey",type:A.openai.apiKey?"text":"password",value:N.openai.apiKey,onChange:H=>C(he=>({...he,openai:{...he.openai,apiKey:H.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"sk-..."}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ke("openai","apiKey"),children:A.openai.apiKey?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"openaiOrgId",className:"text-gray-300",children:"Organization ID (Optional)"}),t.jsx(Se,{id:"openaiOrgId",value:N.openai.organizationId,onChange:H=>C(he=>({...he,openai:{...he.openai,organizationId:H.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500",placeholder:"org-..."})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(Z,{htmlFor:"openaiModel",className:"text-gray-300",children:"Default Model"}),t.jsxs(at,{value:N.openai.model,onValueChange:H=>C(he=>({...he,openai:{...he.openai,model:H}})),children:[t.jsx(et,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"gpt-4",children:"GPT-4"}),t.jsx(se,{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),t.jsx(se,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(q,{onClick:()=>ee("openai"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Save OpenAI Config"]})})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(fe,{children:[t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(Pf,{className:"h-5 w-5 text-emerald-400"}),"Supabase API Configuration"]}),t.jsxs(Rt,{className:"text-gray-400",children:["Configure external Supabase instances for client projects or multi-tenant features.",t.jsx("span",{className:"text-amber-500 text-xs block mt-1",children:"Note: This does NOT affect the main platform database connection."})]})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"supabaseUrl",className:"text-gray-300",children:"Project URL"}),t.jsx(Se,{id:"supabaseUrl",value:N.supabase.url,onChange:H=>C(he=>({...he,supabase:{...he.supabase,url:H.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500",placeholder:"https://xxx.supabase.co"})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"supabaseAnonKey",className:"text-gray-300",children:"Anon Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Se,{id:"supabaseAnonKey",type:A.supabase.anonKey?"text":"password",value:N.supabase.anonKey,onChange:H=>C(he=>({...he,supabase:{...he.supabase,anonKey:H.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"eyJ..."}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ke("supabase","anonKey"),children:A.supabase.anonKey?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"supabaseServiceKey",className:"text-gray-300",children:"Service Role Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Se,{id:"supabaseServiceKey",type:A.supabase.serviceRoleKey?"text":"password",value:N.supabase.serviceRoleKey,onChange:H=>C(he=>({...he,supabase:{...he.supabase,serviceRoleKey:H.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"eyJ..."}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ke("supabase","serviceRoleKey"),children:A.supabase.serviceRoleKey?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]})]}),t.jsx("div",{className:"rounded-lg border border-amber-700 bg-amber-900/20 p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"h-4 w-4 text-amber-500"}),t.jsxs("p",{className:"text-sm text-amber-200",children:[t.jsx("strong",{children:"Warning:"})," Service Role Key has full database access. Keep it secure."]})]})}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(q,{onClick:()=>ee("supabase"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Save Supabase Config"]})})]})]})]})]}):t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(G,{className:"w-full max-w-md border-gray-800 bg-gray-900",children:t.jsxs(fe,{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-amber-100 dark:bg-amber-900",children:t.jsx(h0,{className:"h-6 w-6 text-amber-600"})}),t.jsx(ge,{className:"text-white",children:"Password Required"}),t.jsx(Rt,{className:"text-gray-400",children:"Enter your password to access API management settings"})]})})})})]}),m&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:t.jsxs(G,{className:"w-full max-w-md border-gray-800 bg-gray-900",children:[t.jsxs(fe,{children:[t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(h0,{className:"h-5 w-5 text-amber-500"}),"Enter Password"]}),t.jsx(Rt,{className:"text-gray-400",children:"Please enter your account password to access API management settings."})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"apiPassword",className:"text-gray-300",children:"Password"}),t.jsx(Se,{id:"apiPassword",type:"password",value:f,onChange:H=>g(H.target.value),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500",placeholder:"Enter your password",onKeyPress:H=>{H.key==="Enter"&&B()}})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(q,{variant:"outline",onClick:()=>{h(!1),g("")},className:"border-gray-700",children:"Cancel"}),t.jsx(q,{onClick:B,disabled:v||!f,className:"bg-emerald-600 hover:bg-emerald-700",children:v?t.jsxs(t.Fragment,{children:[t.jsx($n,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:[t.jsx(sd,{className:"mr-2 h-4 w-4"}),"Unlock"]})})]})]})]})})]})})}var Zy="Checkbox",[pNe,TSe]=Vs(Zy),[gNe,w4]=pNe(Zy);function xNe(e){const{__scopeCheckbox:r,checked:s,children:a,defaultChecked:n,disabled:i,form:o,name:l,onCheckedChange:d,required:m,value:h="on",internal_do_not_use_render:f}=e,[g,y]=Ni({prop:s,defaultProp:n??!1,onChange:d,caller:Zy}),[w,v]=p.useState(null),[b,N]=p.useState(null),C=p.useRef(!1),S=w?!!o||!!w.closest("form"):!0,_={checked:g,disabled:i,setChecked:y,control:w,setControl:v,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:C,required:m,defaultChecked:Bl(n)?!1:n,isFormControl:S,bubbleInput:b,setBubbleInput:N};return t.jsx(gNe,{scope:r,..._,children:yNe(f)?f(_):a})}var FU="CheckboxTrigger",UU=p.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:s,...a},n)=>{const{control:i,value:o,disabled:l,checked:d,required:m,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:w}=w4(FU,e),v=ht(n,h),b=p.useRef(d);return p.useEffect(()=>{const N=i==null?void 0:i.form;if(N){const C=()=>f(b.current);return N.addEventListener("reset",C),()=>N.removeEventListener("reset",C)}},[i,f]),t.jsx(He.button,{type:"button",role:"checkbox","aria-checked":Bl(d)?"mixed":d,"aria-required":m,"data-state":HU(d),"data-disabled":l?"":void 0,disabled:l,value:o,...a,ref:v,onKeyDown:$e(r,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:$e(s,N=>{f(C=>Bl(C)?!0:!C),w&&y&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})})});UU.displayName=FU;var j4=p.forwardRef((e,r)=>{const{__scopeCheckbox:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:d,onCheckedChange:m,form:h,...f}=e;return t.jsx(xNe,{__scopeCheckbox:s,checked:n,defaultChecked:i,disabled:l,required:o,onCheckedChange:m,name:a,form:h,value:d,internal_do_not_use_render:({isFormControl:g})=>t.jsxs(t.Fragment,{children:[t.jsx(UU,{...f,ref:r,__scopeCheckbox:s}),g&&t.jsx(qU,{__scopeCheckbox:s})]})})});j4.displayName=Zy;var BU="CheckboxIndicator",WU=p.forwardRef((e,r)=>{const{__scopeCheckbox:s,forceMount:a,...n}=e,i=w4(BU,s);return t.jsx(Na,{present:a||Bl(i.checked)||i.checked===!0,children:t.jsx(He.span,{"data-state":HU(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...e.style}})})});WU.displayName=BU;var VU="CheckboxBubbleInput",qU=p.forwardRef(({__scopeCheckbox:e,...r},s)=>{const{control:a,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:o,required:l,disabled:d,name:m,value:h,form:f,bubbleInput:g,setBubbleInput:y}=w4(VU,e),w=ht(s,y),v=np(i),b=Rf(a);p.useEffect(()=>{const C=g;if(!C)return;const S=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(S,"checked").set,T=!n.current;if(v!==i&&A){const E=new Event("click",{bubbles:T});C.indeterminate=Bl(i),A.call(C,Bl(i)?!1:i),C.dispatchEvent(E)}},[g,v,i,n]);const N=p.useRef(Bl(i)?!1:i);return t.jsx(He.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:d,name:m,value:h,form:f,...r,tabIndex:-1,ref:w,style:{...r.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});qU.displayName=VU;function yNe(e){return typeof e=="function"}function Bl(e){return e==="indeterminate"}function HU(e){return Bl(e)?"indeterminate":e?"checked":"unchecked"}const Gc=p.forwardRef(({className:e,...r},s)=>t.jsx(j4,{ref:s,className:Re("peer h-4 w-4 shrink-0 rounded-sm border border-zinc-200 border-zinc-900 shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-zinc-900 data-[state=checked]:text-zinc-50 dark:border-zinc-50 dark:border-zinc-800 dark:focus-visible:ring-zinc-300 dark:data-[state=checked]:bg-zinc-50 dark:data-[state=checked]:text-zinc-900",e),...r,children:t.jsx(WU,{className:Re("flex items-center justify-center text-current"),children:t.jsx(rm,{className:"h-4 w-4"})})}));Gc.displayName=j4.displayName;const hO="https://apex-backend-august-production.up.railway.app/api";function vNe(){const[e,r]=p.useState([]),[s,a]=p.useState(!0),[n,i]=p.useState(!1),[o,l]=p.useState(!1),{toast:d}=ts(),[m,h]=p.useState({email:"",firstName:"",lastName:"",role:"support_agent",permissions:{canAccessAllOrganizations:!0,canManageClients:!1,canViewClientData:!0,canManageTeam:!1}});p.useEffect(()=>{f()},[]);const f=async()=>{try{const v=await fetch(`${hO}/team/members`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")||"mock-dev-token"}`}});if(v.ok){const b=await v.json();r(b.members||[])}}catch(v){console.error("Error fetching team:",v)}finally{a(!1)}},g=async()=>{l(!0);try{const v=await fetch(`${hO}/team/members`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")||"mock-dev-token"}`},body:JSON.stringify(m)}),b=await v.json();if(v.ok)d({title:"Team Member Added",description:`Invitation sent to ${m.email} successfully.`}),i(!1),f(),h({email:"",firstName:"",lastName:"",role:"support_agent",permissions:{canAccessAllOrganizations:!0,canManageClients:!1,canViewClientData:!0,canManageTeam:!1}});else throw new Error(b.error||"Failed to add team member")}catch(v){console.error("Error adding team member:",v),d({title:"Error",description:v.message||"Failed to add team member. Please try again.",variant:"destructive"})}finally{l(!1)}},y=(v,b)=>{h(N=>({...N,permissions:{...N.permissions,[v]:b}}))},w={support_admin:{canAccessAllOrganizations:!0,canManageClients:!0,canViewClientData:!0,canManageTeam:!0},support_agent:{canAccessAllOrganizations:!0,canManageClients:!1,canViewClientData:!0,canManageTeam:!1}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsx("div",{className:"mb-8",children:t.jsx("p",{className:"text-gray-400",children:"Manage your support team members and their permissions"})}),t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-3",children:[t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Total Members"}),t.jsx(Nt,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Active staff"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Support Admins"}),t.jsx(Ps,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(v=>v.role==="support_admin").length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Full access"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Pending Verification"}),t.jsx(wa,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(v=>v.verificationRequired).length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Awaiting setup"})]})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs(q,{onClick:()=>i(!0),className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Af,{className:"mr-2 h-4 w-4"}),"Add Team Member"]})}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Support Team Members"}),t.jsx(Rt,{className:"text-gray-400",children:"Manage your support team members who can access client organizations"})]}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[e.map(v=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-gray-900/50 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-r from-emerald-600 to-blue-600 font-semibold text-white",children:[v.firstName[0],v.lastName[0]]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("h4",{className:"font-medium text-white",children:[v.firstName," ",v.lastName]}),t.jsx(je,{variant:v.role==="support_admin"?"default":"secondary",children:v.role==="support_admin"?"Support Admin":"Support Agent"}),v.verificationRequired&&t.jsxs(je,{variant:"outline",className:"border-yellow-500 text-yellow-500",children:[t.jsx(Kt,{className:"mr-1 h-3 w-3"}),"Pending Verification"]})]}),t.jsx("p",{className:"text-sm text-gray-400",children:v.email})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"flex gap-2",children:[v.permissions.canAccessAllOrganizations&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[t.jsx(Ir,{className:"h-3 w-3"}),t.jsx("span",{children:"View All"})]}),v.permissions.canManageClients&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[t.jsx(tr,{className:"h-3 w-3"}),t.jsx("span",{children:"Manage"})]}),v.permissions.canManageTeam&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[t.jsx(is,{className:"h-3 w-3"}),t.jsx("span",{children:"Admin"})]})]}),t.jsx("div",{className:"text-right",children:v.isActive?t.jsxs(je,{className:"bg-green-600",children:[t.jsx(yt,{className:"mr-1 h-3 w-3"}),"Active"]}):t.jsx(je,{variant:"secondary",children:"Inactive"})})]})]},v.id)),e.length===0&&!s&&t.jsxs("div",{className:"py-8 text-center text-gray-400",children:[t.jsx(Nt,{className:"mx-auto mb-4 h-12 w-12 opacity-50"}),t.jsx("p",{children:"No team members yet"})]})]})})]}),t.jsx(_d,{open:n,onOpenChange:i,children:t.jsxs(uc,{className:"max-w-2xl border-gray-800 bg-gray-900 text-white",children:[t.jsxs(mc,{children:[t.jsx(hc,{children:"Add Team Member"}),t.jsx(Pd,{className:"text-gray-400",children:"Add a new member to your support team with custom permissions"})]}),t.jsxs("div",{className:"mt-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{children:"First Name"}),t.jsx(Se,{value:m.firstName,onChange:v=>h({...m,firstName:v.target.value}),className:"border-gray-700 bg-gray-800",placeholder:"John"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{children:"Last Name"}),t.jsx(Se,{value:m.lastName,onChange:v=>h({...m,lastName:v.target.value}),className:"border-gray-700 bg-gray-800",placeholder:"Doe"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{children:"Email Address"}),t.jsx(Se,{type:"email",value:m.email,onChange:v=>h({...m,email:v.target.value}),className:"border-gray-700 bg-gray-800",placeholder:"john@example.com"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{children:"Role"}),t.jsxs(at,{value:m.role,onValueChange:v=>{h({...m,role:v,permissions:w[v]})},children:[t.jsx(et,{className:"border-gray-700 bg-gray-800",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"support_admin",children:"Support Admin"}),t.jsx(se,{value:"support_agent",children:"Support Agent"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(Z,{children:"Permissions"}),t.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-700 bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ir,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:"Access all client organizations"})]}),t.jsx(Gc,{checked:m.permissions.canAccessAllOrganizations,onCheckedChange:v=>y("canAccessAllOrganizations",v)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tr,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:"Manage client organizations"})]}),t.jsx(Gc,{checked:m.permissions.canManageClients,onCheckedChange:v=>y("canManageClients",v)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ps,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:"View client data"})]}),t.jsx(Gc,{checked:m.permissions.canViewClientData,onCheckedChange:v=>y("canViewClientData",v)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(is,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:"Manage team members"})]}),t.jsx(Gc,{checked:m.permissions.canManageTeam,onCheckedChange:v=>y("canManageTeam",v)})]})]})]}),t.jsx("div",{className:"rounded-lg border border-blue-800 bg-blue-900/20 p-4",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx(wa,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-blue-400"}),t.jsxs("div",{className:"text-sm text-gray-300",children:[t.jsx("p",{className:"mb-1 font-medium text-blue-400",children:"Email Verification Required"}),t.jsx("p",{children:"The new team member will receive an email invitation to verify their account and set up their password."})]})]})}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx(q,{variant:"outline",onClick:()=>i(!1),className:"border-gray-700",children:"Cancel"}),t.jsx(q,{onClick:g,disabled:!m.email||!m.firstName||!m.lastName||o,className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 disabled:opacity-50",children:o?"Sending Invitation...":"Send Invitation"})]})]})]})})]})})}const bu={id:"",name:"",description:"",productDescription:"",status:"draft",progress:0,leadsCalled:0,answered:0,calledBack:0,opportunities:0,tags:[],phoneNumbers:[],voiceAgent:{name:"AI Assistant",voice:"default",language:"en-US",tone:"professional"},callingSchedule:{timezone:"America/New_York",startTime:"09:00",endTime:"17:00",daysOfWeek:["monday","tuesday","wednesday","thursday","friday"],startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0]},script:{introduction:"",mainContent:"",objections:"",closing:""},teamMembers:[],budget:{total:0,perCall:0,dailyLimit:0,spent:0},settings:{maxCallsPerDay:100,retryAttempts:3,callDuration:300,voicemailEnabled:!0},createdAt:new Date().toISOString(),lastModified:new Date().toISOString()},fO=[{value:"sarah",label:"Sarah (Professional)",language:"en-US"},{value:"mike",label:"Mike (Friendly)",language:"en-US"},{value:"emma",label:"Emma (Conversational)",language:"en-GB"},{value:"david",label:"David (Authoritative)",language:"en-US"},{value:"lisa",label:"Lisa (Warm)",language:"en-US"},{value:"james",label:"James (Confident)",language:"en-GB"}],bNe=[{value:"professional",label:"Professional"},{value:"friendly",label:"Friendly"},{value:"conversational",label:"Conversational"},{value:"authoritative",label:"Authoritative"},{value:"warm",label:"Warm"},{value:"confident",label:"Confident"}],pO=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"Eastern Time"},{value:"America/Chicago",label:"Central Time"},{value:"America/Denver",label:"Mountain Time"},{value:"America/Los_Angeles",label:"Pacific Time"},{value:"Europe/London",label:"London"},{value:"Europe/Paris",label:"Paris"},{value:"Asia/Tokyo",label:"Tokyo"}];function wNe(){var U,L;const{id:e}=wf(),r=br(),{toast:s}=ts(),[a,n]=p.useState(!1),[i,o]=p.useState(bu),[l,d]=p.useState(!0),[m,h]=p.useState("overview"),[f,g]=p.useState(!1),[y,w]=p.useState(null),v=async O=>{var F,z,Y,B,ee;if(console.log("Opening call modal with call:",O),console.log(" Call from list has transcript?",{hasTranscript:!!O.transcript,transcriptLength:(F=O.transcript)==null?void 0:F.length,transcriptPreview:(z=O.transcript)==null?void 0:z.substring(0,50)}),O.id)try{const H=(await Et.get(`/vapi-outbound/calls/${O.id}`)).data.call;console.log("Full call data from API:",H),console.log(" DEBUG - Transcript check:",{hasTranscript:!!H.transcript,transcriptType:typeof H.transcript,transcriptLength:(Y=H.transcript)==null?void 0:Y.length,transcriptPreview:(B=H.transcript)==null?void 0:B.substring(0,100)}),H.transcript?console.log(" TRANSCRIPT EXISTS! Length:",H.transcript.length):console.log(" NO TRANSCRIPT IN API RESPONSE!"),console.log(" DEBUG: Raw fullCallData fields:",{id:H.id,duration:H.duration,cost:H.cost,recording_url:H.recording_url,recordingUrl:H.recordingUrl,recording:H.recording,customerName:H.customerName,customer_name:H.customer_name});const he={id:H.id||H.callId,duration:H.duration||0,recording:H.recording||H.recording_url||H.recordingUrl,cost:H.cost||0,customerName:H.customerName||H.customer_name||"Unknown",customerPhone:H.customerPhone||H.customer_phone||H.phone_number,customerEmail:H.customerEmail||H.customer_email,customerCompany:H.customerCompany||H.customer_company,status:H.status||"unknown",startedAt:H.startedAt||H.started_at,endedAt:H.endedAt||H.ended_at,campaignName:H.campaignName||H.campaign_name,direction:H.direction||"outbound",vapiCallId:H.vapiCallId||H.vapi_call_id,transcript:H.transcript||O.transcript?(H.transcript||O.transcript).split(`
`).filter(Ie=>Ie.trim()).map((Ie,Pe)=>{const De=Ie.trim(),ce=/^(User|Customer):/i.test(De),Ce=/^(AI|Agent|Assistant|Voicemail System):/i.test(De);let Ee;ce?Ee="user":(Ce||console.warn("No speaker marker found for line:",De),Ee="ai");const te=De.replace(/^(User|Customer|AI|Agent|Assistant|Voicemail System):\s*/i,"").trim(),Ue=te.split(" ").length/2.5,ie=H.duration||0,Ge=ie>0?ie/((H.transcript||O.transcript).split(`
`).filter(St=>St.trim()).length||1):0,Ct=Pe*Ge,Ot=Ct+Math.min(Ue,Ge);return{speaker:Ee,text:te||De,timestamp:Date.now()-(H.duration||0)*1e3+Pe*1e3,startTime:Ct,endTime:Ot}}):[{speaker:"ai",text:"No transcript available",timestamp:Date.now()}],analysis:{sentiment:H.sentiment==="positive"?.8:H.sentiment==="negative"?.2:.5,keywords:H.keywords||[],summary:H.summary||"No summary available"},messages:[{type:"info",content:`Call ${H.status} - ${H.customerName}`,timestamp:Date.now()}]};console.log(" DEBUG: transformedCallData being passed to modal:",{id:he.id,duration:he.duration,cost:he.cost,recording:he.recording,customerName:he.customerName,hasTranscript:!!he.transcript,transcriptType:typeof he.transcript,transcriptIsArray:Array.isArray(he.transcript),transcriptLength:(ee=he.transcript)==null?void 0:ee.length,transcriptSample:Array.isArray(he.transcript)&&he.transcript.length>0?JSON.stringify(he.transcript[0]):"Not an array or empty",fullData:he}),console.log(" FINAL CHECK - Setting selectedCall with:",{hasTranscript:!!he.transcript,transcriptType:typeof he.transcript,transcriptIsArray:Array.isArray(he.transcript),transcriptLength:Array.isArray(he.transcript)?he.transcript.length:"not an array",allKeys:Object.keys(he)}),w(he),g(!0)}catch(ke){console.error("Error fetching full call details:",ke),s({title:"Error",description:"Failed to load call details",variant:"destructive"})}else{const ke={id:O.id||"unknown",duration:O.duration||0,recording:O.recording_url||O.recording,cost:O.cost||0,transcript:[{speaker:"ai",text:"Call data is loading...",timestamp:Date.now()}],analysis:{sentiment:.5,keywords:[],summary:"Loading..."}};w(ke),g(!0)}},[b,N]=p.useState([]),[C,S]=p.useState(!0);p.useEffect(()=>{_(),A()},[e]);const _=async()=>{var O,F,z,Y,B,ee,ke;if(e)try{d(!0);let H;try{H=(await Et.get(`/vapi-outbound/campaigns/${e}`)).data.campaign}catch(he){console.log(" API call failed, falling back to Supabase:",he);const{data:Ie,error:Pe}=await fs.from("campaigns").select("*").eq("id",e).single();if(Pe)throw Pe;H={...Ie,phoneNumbers:Ie.phone_numbers||[],phoneNumberDetails:[],totalLeads:Ie.total_leads||0,callsCompleted:Ie.calls_completed||0,successfulCalls:Ie.successful_calls||0,assistantName:Ie.assistant_name||"AI Assistant"}}console.log(" Campaign data from backend:",H),console.log(" Metrics:",{totalLeads:H.totalLeads,callsCompleted:H.callsCompleted,metrics:H.metrics}),o({...bu,id:H.id,name:H.name,status:H.status,phoneNumbers:H.phoneNumbers||[],phoneNumberId:H.phoneNumberId,phoneNumberDetails:H.phoneNumberDetails||[],voiceAgent:{...bu.voiceAgent,name:H.assistantName||"AI Assistant"},script:H.script||bu.script,team:H.team||[],budget:H.budget||bu.budget,settings:H.settings||bu.settings,createdAt:H.createdAt,lastModified:H.updatedAt,totalLeads:H.totalLeads||((O=H.metrics)==null?void 0:O.totalLeads)||0,callsCompleted:H.callsCompleted||((F=H.metrics)==null?void 0:F.callsCompleted)||0,leadsContacted:H.callsCompleted||((z=H.metrics)==null?void 0:z.callsCompleted)||0,leadsCalled:H.callsCompleted||((Y=H.metrics)==null?void 0:Y.callsCompleted)||H.totalCalls||0,callsToday:H.callsToday||((B=H.metrics)==null?void 0:B.callsToday)||0,callsConnected:H.successfulCalls||((ee=H.metrics)==null?void 0:ee.callsConnected)||0,answered:H.successfulCalls||((ke=H.metrics)==null?void 0:ke.callsConnected)||0,avgCallDuration:H.avgCallDuration||0,outcomes:H.outcomes||{answered:H.successfulCalls||0,voicemail:0,noAnswer:0,busy:0,failed:0},meetings:H.meetings||0,opportunities:H.meetings||0,callbacks:H.callbacks||0,calledBack:H.callbacks||0,progress:H.totalLeads>0?Math.round(H.callsCompleted/H.totalLeads*100):0})}catch(H){console.error("Error fetching campaign details:",H),s({title:"Error",description:"Failed to load campaign details",variant:"destructive"})}finally{d(!1)}},A=async()=>{if(e)try{S(!0),console.log(" Fetching calls for campaign:",e);let O=[];try{const z=await Et.get(`/vapi-outbound/campaigns/${e}/calls`);console.log(" Raw API response:",z),console.log(" Response data:",z.data),z.data&&(Array.isArray(z.data)?O=z.data:z.data.calls&&Array.isArray(z.data.calls)?O=z.data.calls:z.data.data&&Array.isArray(z.data.data)&&(O=z.data.data))}catch(z){console.error(" API call failed, falling back to Supabase:",z);const{vapiOutboundService:Y}=await fn(async()=>{const{vapiOutboundService:B}=await Promise.resolve().then(()=>hwe);return{vapiOutboundService:B}},void 0);O=await Y.getCampaignResults(e),console.log(" Fetched calls from Supabase fallback:",O)}console.log(" Extracted calls data:",O);const F=O.map(z=>{var Y;return{id:z.id,phoneNumber:z.customerPhone||z.customer_phone||z.phone_number||((Y=z.lead)==null?void 0:Y.phone),contactName:z.customerName||z.customer_name||(z.lead?`${z.lead.firstName||""} ${z.lead.lastName||""}`.trim():""),callTime:z.startedAt||z.started_at||z.created_at,duration:z.duration||0,cost:z.cost||0,outcome:z.outcome||(z.status==="completed"?"Completed":z.status==="initiated"?"In Progress":z.status==="failed"?"Failed":z.status),status:z.status,recording_url:z.recording||z.recording_url,recording:z.recording||z.recording_url,transcript:z.transcript,summary:z.summary,sentimentScore:z.sentiment==="positive"?.85:z.sentiment==="negative"?.15:.5,leadQuality:z.sentiment==="positive"?"hot":z.sentiment==="negative"?"cold":"warm"}});console.log(" Transformed calls:",F),console.log(" Setting",F.length,"calls in state"),N(F)}catch(O){console.error(" Error fetching campaign calls:",O),N([])}finally{console.log(" Setting isLoadingCalls to false"),S(!1)}},T=(O,F)=>{o(z=>({...z,[O]:F}))},E=(O,F,z)=>{o(Y=>({...Y,[O]:{...Y[O],[F]:z}}))},R=()=>{const O=prompt("Enter phone number:");O&&!i.phoneNumbers.includes(O)&&T("phoneNumbers",[...i.phoneNumbers,O])},$=O=>{T("phoneNumbers",i.phoneNumbers.filter((F,z)=>z!==O))},K=()=>{const O=prompt("Enter team member name:"),F=prompt("Enter email:"),z=prompt("Enter role (manager/agent/viewer):");O&&F&&z&&T("teamMembers",[...i.teamMembers,{id:Date.now().toString(),name:O,email:F,role:z}])},M=O=>{T("teamMembers",i.teamMembers.filter(F=>F.id!==O))},I=()=>{T("status",i.status==="active"?"paused":"active")},W=()=>{console.log("Saving campaign:",i),n(!1)},V=O=>{switch(O){case"active":return t.jsx(je,{className:"bg-green-500 hover:bg-green-600",children:"Active"});case"paused":return t.jsx(je,{className:"bg-yellow-500 hover:bg-yellow-600",children:"Paused"});case"draft":return t.jsx(je,{className:"bg-gray-500 hover:bg-gray-600",children:"Draft"});case"disabled":return t.jsx(je,{className:"bg-red-500 hover:bg-red-600",children:"Disabled"});default:return t.jsx(je,{variant:"secondary",children:O})}};return l?t.jsx("div",{className:"min-h-screen w-full bg-black flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading campaign details..."})]})}):t.jsxs("div",{className:"min-h-screen w-full overflow-x-hidden bg-black px-4",children:[t.jsxs("div",{className:"mx-auto mt-8 w-full max-w-7xl",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{className:"flex items-center text-lg font-semibold text-gray-400 transition-colors hover:text-white",onClick:()=>r("/campaigns"),children:[t.jsx(rd,{className:"mr-2 h-5 w-5"}),"Back to Campaigns"]}),t.jsx("div",{className:"h-6 w-px bg-gray-600"}),t.jsx("h1",{className:"text-3xl font-bold text-white",children:i.name}),V(i.status)]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(q,{variant:"outline",onClick:I,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:i.status==="active"?t.jsxs(t.Fragment,{children:[t.jsx(zu,{className:"mr-2 h-4 w-4"}),"Pause"]}):t.jsxs(t.Fragment,{children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Activate"]})}),t.jsxs(ki,{children:[t.jsx(_i,{asChild:!0,children:t.jsx(q,{variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:t.jsx(Mx,{className:"h-4 w-4"})})}),t.jsxs(Kn,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(Qt,{className:"text-white hover:bg-gray-700",children:[t.jsx(mn,{className:"mr-2 h-4 w-4"}),"Duplicate Campaign"]}),t.jsxs(Qt,{className:"text-white hover:bg-gray-700",children:[t.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Export Data"]}),t.jsxs(Qt,{className:"text-white hover:bg-gray-700",children:[t.jsx(gY,{className:"mr-2 h-4 w-4"}),"Share"]}),t.jsxs(Qt,{className:"text-red-400 hover:bg-gray-700",children:[t.jsx(Bs,{className:"mr-2 h-4 w-4"}),"Delete Campaign"]})]})]}),a?t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(q,{variant:"outline",onClick:()=>n(!1),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(jt,{className:"mr-2 h-4 w-4"}),"Cancel"]}),t.jsxs(q,{onClick:W,className:"bg-emerald-600 font-bold text-white hover:bg-emerald-700",children:[t.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]}):t.jsxs(q,{onClick:()=>n(!0),className:"bg-emerald-600 font-bold text-white hover:bg-emerald-700",children:[t.jsx(pr,{className:"mr-2 h-4 w-4"}),"Edit Campaign"]})]})]}),t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Leads Called"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:i.leadsCalled||i.callsCompleted||b.length||0})]}),t.jsx(pt,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Answered"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:i.answered||i.callsConnected||b.filter(O=>O.status==="completed"||O.outcome==="Completed").length||0})]}),t.jsx(yt,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Callbacks"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:i.callbacks||0})]}),t.jsx(It,{className:"h-8 w-8 text-amber-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Opportunities"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:i.meetings||0})]}),t.jsx(dr,{className:"h-8 w-8 text-purple-500"})]})})})]}),t.jsx("div",{className:"mb-8 border-b border-gray-700"}),t.jsx(G,{className:"mb-8 border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Campaign Progress"}),t.jsxs("span",{className:"text-gray-400",children:[i.totalLeads>0?Math.round((i.callsCompleted||b.length||0)/i.totalLeads*100):b.length>0?100:0,"%"]})]}),t.jsx(ar,{value:i.totalLeads>0?(i.callsCompleted||b.length||0)/i.totalLeads*100:b.length>0?100:0,className:"h-3"})]})}),t.jsxs(Ei,{value:m,onValueChange:h,className:"w-full",children:[t.jsxs(Qn,{className:"grid w-full grid-cols-9 bg-gray-800",children:[t.jsx(ut,{value:"overview",className:"text-white",children:"Overview"}),t.jsx(ut,{value:"calls",className:"text-white",children:"Calls"}),t.jsx(ut,{value:"phone-numbers",className:"text-white",children:"Phone Numbers"}),t.jsx(ut,{value:"voice-agent",className:"text-white",children:"Voice Agent"}),t.jsx(ut,{value:"schedule",className:"text-white",children:"Schedule"}),t.jsx(ut,{value:"script",className:"text-white",children:"Script"}),t.jsx(ut,{value:"team",className:"text-white",children:"Team"}),t.jsx(ut,{value:"budget",className:"text-white",children:"Budget"}),t.jsx(ut,{value:"settings",className:"text-white",children:"Settings"})]}),t.jsx(mt,{value:"overview",className:"mt-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Campaign Information"})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Campaign Name"}),a?t.jsx(Se,{value:i.name,onChange:O=>T("name",O.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.name})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Description"}),a?t.jsx(qa,{value:i.description,onChange:O=>T("description",O.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.description})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Product/Service Description"}),a?t.jsx(qa,{value:i.productDescription,onChange:O=>T("productDescription",O.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:4}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.productDescription})]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Budget Overview"})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Total Budget:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.total]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Spent:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.spent]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Remaining:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.total-i.budget.spent]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Cost per Call:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.perCall]})]}),t.jsx(ar,{value:i.budget.spent/i.budget.total*100,className:"h-2"})]})]})]})}),t.jsx(mt,{value:"calls",className:"mt-6",children:t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(pt,{className:"h-5 w-5"}),"Campaign Calls (",b.length,")"]})}),t.jsx(X,{children:C?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading calls..."})]})}):b.length===0?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(pt,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"text-gray-400",children:"No calls have been made for this campaign yet."}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Calls will appear here once the campaign starts making calls."})]})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-700",children:[t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Call ID"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Phone Number"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Contact Name"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Time"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Duration"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Cost"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Outcome"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Recording"})]})}),t.jsx("tbody",{children:b.map(O=>t.jsxs("tr",{className:"border-b border-gray-800 transition-colors hover:bg-gray-800/50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"font-mono text-sm text-emerald-400",children:O.id})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"font-medium text-white",children:O.phoneNumber})}),t.jsx("td",{className:"px-4 py-3",children:O.contactName?t.jsx("span",{className:"text-white",children:O.contactName}):t.jsx("span",{className:"italic text-gray-500",children:"Name not confirmed"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"text-gray-300",children:new Date(O.callTime).toLocaleString()})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"text-gray-300",children:O.duration>0?`${Math.floor(O.duration/60)}m ${O.duration%60}s`:O.status==="completed"?"Unknown":"0m 0s"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:"font-medium text-green-400",children:["$",(O.cost||0).toFixed(2)]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(je,{variant:"outline",className:O.outcome==="interested"||O.outcome.includes("Interested")?"border-green-500 text-green-400":O.outcome==="callback"||O.outcome.includes("Callback")?"border-yellow-500 text-yellow-400":O.outcome==="not_interested"||O.outcome.includes("Not Interested")?"border-red-500 text-red-400":O.outcome==="failed"?"border-orange-500 text-orange-400":O.outcome==="no_answer"||O.outcome.includes("No Answer")?"border-gray-500 text-gray-400":O.outcome==="voicemail"?"border-purple-500 text-purple-400":O.outcome==="completed"||O.outcome==="Completed"?"border-emerald-500 text-emerald-400":"border-blue-500 text-blue-400",children:O.outcome==="failed"?"Unsuccessful":O.outcome==="no_answer"?"No Answer":O.outcome==="interested"?"Interested":O.outcome==="not_interested"?"Not Interested":O.outcome==="voicemail"?"Voicemail":O.outcome==="completed"?"Completed":O.outcome||"Unknown"})}),t.jsx("td",{className:"px-4 py-3",children:O.status==="in_progress"||O.status==="initiated"?t.jsx("span",{className:"text-sm text-yellow-500",children:"In progress..."}):O.status==="failed"?t.jsx("span",{className:"text-sm text-gray-500",children:"Call failed"}):O.status==="completed"||O.outcome==="Completed"?t.jsxs(q,{size:"sm",variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10",onClick:F=>{F.stopPropagation(),console.log(" Opening call modal for:",O.id),v(O)},children:[t.jsx(Wn,{className:"mr-1 h-4 w-4"}),"Play"]}):t.jsx("span",{className:"text-sm text-gray-500",children:"No recording"})})]},O.id))})]})})})]})}),t.jsx(mt,{value:"phone-numbers",className:"mt-6",children:t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Phone Numbers"}),t.jsx(Rt,{className:"text-gray-400",children:"Phone numbers used for making calls in this campaign"})]}),t.jsxs(X,{className:"space-y-4",children:[i.phoneNumbers&&i.phoneNumbers.length>0?i.phoneNumbers.map((O,F)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Se,{value:O,readOnly:!0,className:"flex-1 text-white bg-gray-800 border-gray-700"}),a&&t.jsx(q,{variant:"outline",size:"sm",onClick:()=>$(F),children:t.jsx(jt,{className:"h-4 w-4"})})]},F)):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("p",{className:"text-gray-400 mb-4",children:"No phone numbers configured for this campaign"}),i.phoneNumberId&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Phone Number ID: ",i.phoneNumberId]})]}),a&&t.jsxs(q,{onClick:R,variant:"outline",className:"w-full",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Add Phone Number"]})]})]})}),t.jsx(mt,{value:"voice-agent",className:"mt-6",children:t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Voice Agent Configuration"})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Voice Agent Name"}),a?t.jsx(Se,{value:i.voiceAgent.name,onChange:O=>E("voiceAgent","name",O.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.voiceAgent.name})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Voice Selection"}),a?t.jsxs(at,{value:i.voiceAgent.voice,onValueChange:O=>E("voiceAgent","voice",O),children:[t.jsx(et,{className:"mt-2",children:t.jsx(nt,{})}),t.jsx(tt,{children:fO.map(O=>t.jsx(se,{value:O.value,children:O.label},O.value))})]}):t.jsx("p",{className:"mt-2 text-gray-300",children:(U=fO.find(O=>O.value===i.voiceAgent.voice))==null?void 0:U.label})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Tone"}),a?t.jsxs(at,{value:i.voiceAgent.tone,onValueChange:O=>E("voiceAgent","tone",O),children:[t.jsx(et,{className:"mt-2",children:t.jsx(nt,{})}),t.jsx(tt,{children:bNe.map(O=>t.jsx(se,{value:O.value,children:O.label},O.value))})]}):t.jsx("p",{className:"mt-2 capitalize text-gray-300",children:i.voiceAgent.tone})]})]})]})}),t.jsx(mt,{value:"schedule",className:"mt-6",children:t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Calling Schedule"})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Timezone"}),a?t.jsxs(at,{value:i.callingSchedule.timezone,onValueChange:O=>E("callingSchedule","timezone",O),children:[t.jsx(et,{className:"mt-2",children:t.jsx(nt,{})}),t.jsx(tt,{children:pO.map(O=>t.jsx(se,{value:O.value,children:O.label},O.value))})]}):t.jsx("p",{className:"mt-2 text-gray-300",children:(L=pO.find(O=>O.value===i.callingSchedule.timezone))==null?void 0:L.label})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Start Time"}),a?t.jsx(Se,{type:"time",value:i.callingSchedule.startTime,onChange:O=>E("callingSchedule","startTime",O.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.startTime})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"End Time"}),a?t.jsx(Se,{type:"time",value:i.callingSchedule.endTime,onChange:O=>E("callingSchedule","endTime",O.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.endTime})]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Days of Week"}),t.jsx("div",{className:"mt-2 grid grid-cols-7 gap-2",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(O=>t.jsx(q,{variant:i.callingSchedule.daysOfWeek.includes(O)?"default":"outline",size:"sm",disabled:!a,onClick:()=>{if(a){const F=i.callingSchedule.daysOfWeek.includes(O)?i.callingSchedule.daysOfWeek.filter(z=>z!==O):[...i.callingSchedule.daysOfWeek,O];E("callingSchedule","daysOfWeek",F)}},children:O.slice(0,3).toUpperCase()},O))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Start Date"}),a?t.jsx(Se,{type:"date",value:i.callingSchedule.startDate,onChange:O=>E("callingSchedule","startDate",O.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.startDate})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"End Date"}),a?t.jsx(Se,{type:"date",value:i.callingSchedule.endDate,onChange:O=>E("callingSchedule","endDate",O.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.endDate})]})]})]})]})}),t.jsx(mt,{value:"script",className:"mt-6",children:t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Calling Script"})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Introduction"}),a?t.jsx(qa,{value:i.script.introduction,onChange:O=>E("script","introduction",O.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.introduction})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Main Content"}),a?t.jsx(qa,{value:i.script.mainContent,onChange:O=>E("script","mainContent",O.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:4}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.mainContent})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Objection Handling"}),a?t.jsx(qa,{value:i.script.objections,onChange:O=>E("script","objections",O.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.objections})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Closing"}),a?t.jsx(qa,{value:i.script.closing,onChange:O=>E("script","closing",O.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.closing})]})]})]})}),t.jsx(mt,{value:"team",className:"mt-6",children:t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ge,{className:"text-white",children:"Team Members"}),a&&t.jsxs(q,{onClick:K,variant:"outline",size:"sm",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Add Member"]})]})}),t.jsxs(X,{className:"space-y-4",children:[i.teamMembers.map(O=>t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:O.name}),t.jsx("p",{className:"text-sm text-gray-400",children:O.email}),t.jsx(je,{variant:"secondary",className:"mt-1",children:O.role})]}),a&&t.jsx(q,{variant:"outline",size:"sm",onClick:()=>M(O.id),children:t.jsx(jt,{className:"h-4 w-4"})})]})})},O.id)),i.teamMembers.length===0&&t.jsx("p",{className:"py-8 text-center text-gray-400",children:"No team members assigned to this campaign."})]})]})}),t.jsx(mt,{value:"budget",className:"mt-6",children:t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Budget Management"})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Total Budget ($)"}),a?t.jsx(Se,{type:"number",value:i.budget.total,onChange:O=>E("budget","total",parseFloat(O.target.value)||0),className:"mt-2"}):t.jsxs("p",{className:"mt-2 text-gray-300",children:["$",i.budget.total]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Cost Per Call ($)"}),a?t.jsx(Se,{type:"number",step:"0.01",value:i.budget.perCall,onChange:O=>E("budget","perCall",parseFloat(O.target.value)||0),className:"mt-2"}):t.jsxs("p",{className:"mt-2 text-gray-300",children:["$",i.budget.perCall]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Daily Budget Limit ($)"}),a?t.jsx(Se,{type:"number",value:i.budget.dailyLimit,onChange:O=>E("budget","dailyLimit",parseFloat(O.target.value)||0),className:"mt-2"}):t.jsxs("p",{className:"mt-2 text-gray-300",children:["$",i.budget.dailyLimit]})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Budget Usage"}),t.jsxs("span",{className:"text-sm text-gray-400",children:["$",i.budget.spent," / $",i.budget.total]})]}),t.jsx(ar,{value:i.budget.spent/i.budget.total*100,className:"h-2"}),t.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:["Estimated calls remaining:"," ",Math.floor((i.budget.total-i.budget.spent)/i.budget.perCall)]})]})]})]})}),t.jsx(mt,{value:"settings",className:"mt-6",children:t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Advanced Settings"})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Max Calls Per Day"}),a?t.jsx(Se,{type:"number",value:i.settings.maxCallsPerDay,onChange:O=>E("settings","maxCallsPerDay",parseInt(O.target.value)||0),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.settings.maxCallsPerDay})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Retry Attempts"}),a?t.jsx(Se,{type:"number",value:i.settings.retryAttempts,onChange:O=>E("settings","retryAttempts",parseInt(O.target.value)||0),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.settings.retryAttempts})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-white",children:"Max Call Duration (seconds)"}),a?t.jsx(Se,{type:"number",value:i.settings.callDuration,onChange:O=>E("settings","callDuration",parseInt(O.target.value)||0),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.settings.callDuration})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Lr,{id:"voicemail",checked:i.settings.voicemailEnabled,onCheckedChange:O=>E("settings","voicemailEnabled",O),disabled:!a}),t.jsx(Z,{htmlFor:"voicemail",className:"text-white",children:"Enable Voicemail"})]})]})]})})]})]}),t.jsx(Qy,{isOpen:f,onClose:()=>g(!1),callData:y})]})}function jNe(){const[e,r]=p.useState(""),s=[{id:"1",name:"Sales Qualifier Bot",type:"outbound",status:"active",model:"GPT-4",voice:"ElevenLabs - Rachel",calls:1234,avgDuration:"3:45",successRate:78},{id:"2",name:"Customer Support Agent",type:"inbound",status:"active",model:"GPT-3.5 Turbo",voice:"OpenAI - Alloy",calls:5678,avgDuration:"5:12",successRate:92},{id:"3",name:"Appointment Scheduler",type:"web",status:"inactive",model:"Claude 3",voice:"Deepgram - Nova",calls:890,avgDuration:"2:30",successRate:85}];return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Manage your VAPI-powered voice assistants"})}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Create Assistant"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Assistants"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"3"})]}),t.jsx(Wl,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Active Assistants"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"2"})]}),t.jsx(xs,{className:"h-8 w-8 text-green-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"7,802"})]}),t.jsx(pt,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Avg Success Rate"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"85%"})]}),t.jsx(Xi,{className:"h-8 w-8 text-orange-500"})]})})})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Se,{type:"text",placeholder:"Search assistants...",value:e,onChange:a=>r(a.target.value),className:"border-gray-700 bg-gray-900/50 pl-10 text-white placeholder-gray-500 focus:border-emerald-500"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(a=>t.jsxs(G,{className:"border-gray-800 bg-gray-900 transition-shadow hover:shadow-lg",children:[t.jsx(fe,{children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx(ge,{className:"text-lg text-white",children:a.name}),t.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[t.jsx(je,{variant:a.type==="outbound"?"default":"secondary",children:a.type}),t.jsx(je,{variant:a.status==="active"?"default":"outline",children:a.status})]})]}),t.jsx(Wl,{className:"h-6 w-6 text-gray-400"})]})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Model:"}),t.jsx("span",{className:"font-medium text-white",children:a.model})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Voice:"}),t.jsx("span",{className:"font-medium text-white",children:a.voice})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Total Calls:"}),t.jsx("span",{className:"font-medium text-white",children:a.calls.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Avg Duration:"}),t.jsx("span",{className:"font-medium text-white",children:a.avgDuration})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Success Rate:"}),t.jsxs("span",{className:"font-medium text-emerald-400",children:[a.successRate,"%"]})]})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsxs(q,{size:"sm",variant:"outline",className:"flex-1 border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(Hl,{className:"mr-1 h-4 w-4"}),"Edit"]}),t.jsx(q,{size:"sm",variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:t.jsx(mn,{className:"h-4 w-4"})}),t.jsx(q,{size:"sm",variant:"outline",className:"border-gray-700 bg-gray-900 text-red-400 hover:bg-red-900/20",children:t.jsx(Bs,{className:"h-4 w-4"})})]})]})]},a.id))})]})})}const NNe=()=>{var n,i;const[e,r]=p.useState(null),s=[{id:"1",contact:"John Doe",phone:"+1 (555) 123-4567",lastMessage:"Thanks for the follow-up call!",timestamp:"2 hours ago",unread:2,status:"active"},{id:"2",contact:"Jane Smith",phone:"+1 (555) 987-6543",lastMessage:"When can we schedule the next meeting?",timestamp:"5 hours ago",unread:0,status:"pending"},{id:"3",contact:"Mike Johnson",phone:"+1 (555) 456-7890",lastMessage:"Received the proposal, reviewing now.",timestamp:"1 day ago",unread:1,status:"completed"}],a=e?[{id:"1",sender:"contact",text:"Hi, I received your call earlier today.",timestamp:"10:30 AM"},{id:"2",sender:"agent",text:"Great! Thanks for getting back to me. How did you find the information we discussed?",timestamp:"10:35 AM"},{id:"3",sender:"contact",text:"Very helpful! I'm interested in moving forward.",timestamp:"10:40 AM"},{id:"4",sender:"agent",text:"Excellent! I'll send you the next steps via email.",timestamp:"10:42 AM"}]:[];return t.jsxs("div",{className:"p-6 h-full",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Messaging"}),t.jsx("p",{className:"text-gray-600",children:"Manage conversations and follow-ups with leads"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[t.jsxs(G,{className:"lg:col-span-1",children:[t.jsxs(fe,{children:[t.jsxs(ge,{className:"flex items-center gap-2",children:[t.jsx(Xi,{className:"h-5 w-5"}),"Conversations"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(Se,{placeholder:"Search conversations...",className:"pl-10"})]}),t.jsx(q,{variant:"outline",size:"icon",children:t.jsx(Rx,{className:"h-4 w-4"})})]})]}),t.jsx(X,{className:"p-0",children:t.jsx("div",{className:"divide-y",children:s.map(o=>t.jsxs("div",{className:`p-4 cursor-pointer hover:bg-gray-50 transition-colors ${e===o.id?"bg-blue-50 border-r-2 border-blue-500":""}`,onClick:()=>r(o.id),children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vs,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"font-medium",children:o.contact})]}),o.unread>0&&t.jsx(je,{variant:"destructive",className:"h-5 w-5 p-0 flex items-center justify-center text-xs",children:o.unread})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:o.phone}),t.jsx("p",{className:"text-sm text-gray-500 truncate mb-2",children:o.lastMessage}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-400",children:o.timestamp}),t.jsx(je,{variant:o.status==="active"?"default":o.status==="pending"?"secondary":"outline",className:"text-xs",children:o.status})]})]},o.id))})})]}),t.jsx(G,{className:"lg:col-span-2",children:e?t.jsxs(t.Fragment,{children:[t.jsx(fe,{className:"border-b",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(ge,{className:"flex items-center gap-2",children:[t.jsx(vs,{className:"h-5 w-5"}),(n=s.find(o=>o.id===e))==null?void 0:n.contact]}),t.jsxs(Rt,{className:"flex items-center gap-2 mt-1",children:[t.jsx(pt,{className:"h-4 w-4"}),(i=s.find(o=>o.id===e))==null?void 0:i.phone]})]}),t.jsxs(q,{variant:"outline",size:"sm",children:[t.jsx(pt,{className:"h-4 w-4 mr-2"}),"Call"]})]})}),t.jsxs(X,{className:"flex flex-col h-full p-0",children:[t.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:a.map(o=>t.jsx("div",{className:`flex ${o.sender==="agent"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg ${o.sender==="agent"?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:[t.jsx("p",{className:"text-sm",children:o.text}),t.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[t.jsx(It,{className:"h-3 w-3 opacity-70"}),t.jsx("span",{className:"text-xs opacity-70",children:o.timestamp})]})]})},o.id))}),t.jsx("div",{className:"border-t p-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(qa,{placeholder:"Type your message...",className:"resize-none min-h-[60px]"}),t.jsx(q,{size:"icon",className:"self-end",children:t.jsx(ql,{className:"h-4 w-4"})})]})})]})]}):t.jsx(X,{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Xi,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Conversation"}),t.jsx("p",{className:"text-gray-500",children:"Choose a conversation from the list to start messaging"})]})})})]})]})},jh=[{id:1,name:"Campaign Type",icon:dr},{id:2,name:"Name & Objective",icon:dr},{id:3,name:"Phone Numbers",icon:pt},{id:4,name:"Voice Agent",icon:Wl},{id:5,name:"Test Agent",icon:Wn},{id:6,name:"Import Leads",icon:Fl},{id:7,name:"Budget & Credits",icon:Ur},{id:8,name:"Team Assignment",icon:Nt},{id:9,name:"Final Review",icon:hs}],gO=[{id:"sales",name:"Sales Outreach",description:"Generate new sales opportunities"},{id:"qualification",name:"Lead Qualification",description:"Qualify and score leads"},{id:"followup",name:"Follow-up",description:"Re-engage existing leads"},{id:"survey",name:"Survey",description:"Collect feedback and insights"},{id:"appointment",name:"Appointment Setting",description:"Schedule meetings"},{id:"custom",name:"Custom",description:"Define your own objective"}],Kg=[{id:"emma",name:"Emma - Sales Specialist",description:"Friendly and persuasive, great for B2C sales",avatar:"",languages:["English","Spanish"],specialties:["Sales","Product Demos","Objection Handling"]},{id:"marcus",name:"Marcus - Enterprise Sales",description:"Professional and consultative for B2B",avatar:"",languages:["English"],specialties:["Enterprise Sales","Technical Discussions","ROI Analysis"]},{id:"sophia",name:"Sophia - Lead Qualifier",description:"Efficient at gathering information and scoring leads",avatar:"",languages:["English","French"],specialties:["Lead Qualification","Data Collection","Scheduling"]},{id:"alex",name:"Alex - Customer Success",description:"Warm and helpful for follow-ups and support",avatar:"",languages:["English"],specialties:["Follow-ups","Customer Support","Satisfaction Surveys"]}],xO=[{id:"1",name:"Sarah Johnson",role:"Sales Manager",avatar:"SJ"},{id:"2",name:"Mike Davis",role:"Senior Sales Rep",avatar:"MD"},{id:"3",name:"Emily Wilson",role:"Sales Rep",avatar:"EW"},{id:"4",name:"John Smith",role:"Sales Rep",avatar:"JS"},{id:"5",name:"Lisa Chen",role:"Sales Coordinator",avatar:"LC"}];function SNe(){const e=br(),r=p.useRef(null),[s,a]=p.useState(1),[n,i]=p.useState(!1),[o,l]=p.useState({}),[d,m]=p.useState(!1),[h,f]=p.useState(null),[g,y]=p.useState(!1),[w,v]=p.useState(!1),[b,N]=p.useState({name:"",objective:"",description:"",phoneNumber:"",twilioIntegration:!1,vapiPhoneId:"",voiceAgent:"",voiceSettings:{speed:1,pitch:1,temperature:.7},testCompleted:!1,testNotes:"",leads:[],csvFileName:"",budget:100,callCredits:1e3,autoReload:!1,autoReloadThreshold:100,assignedTeam:[],teamLeader:"",immediateStart:!0,campaignType:""}),C="campaign-wizard-draft",S=()=>localStorage.getItem(C)!==null,_=()=>{const te=b.name.trim()!==""||b.objective.trim()!==""||b.description.trim()!==""||b.phoneNumber.trim()!==""||b.voiceAgent.trim()!==""||b.leads.length>0||b.csvFileName.trim()!==""||b.campaignType!==""||s>1||w||Object.keys(o).length>0;return console.log(" Draft check:",{name:b.name.trim(),objective:b.objective.trim(),description:b.description.trim(),phoneNumber:b.phoneNumber.trim(),voiceAgent:b.voiceAgent.trim(),leadsCount:b.leads.length,csvFileName:b.csvFileName.trim(),campaignType:b.campaignType,currentStep:s,hasChanges:te}),te},A=async()=>{if(_()){y(!0);try{const te={campaignData:b,currentStep:s,timestamp:new Date().toISOString(),version:"1.0"};localStorage.setItem(C,JSON.stringify(te)),console.log("Draft saved successfully")}catch(te){console.error("Failed to save draft:",te)}finally{y(!1)}}},T=()=>{try{const te=localStorage.getItem(C);if(te){const be=JSON.parse(te);return N(be.campaignData),a(be.currentStep),!0}}catch(te){console.error("Failed to load draft:",te),localStorage.removeItem(C)}return!1},E=()=>{localStorage.removeItem(C)},R=te=>{console.log(" Exit attempt to:",te);const be=_();console.log(" Has unsaved changes:",be),be?(console.log(" Showing exit dialog"),f(te),m(!0)):(console.log(" No changes, navigating directly"),e(te))},$=async()=>{await A(),m(!1),h&&(H.state==="blocked"?H.proceed():e(h),f(null))},K=()=>{E(),m(!1),h&&(H.state==="blocked"?H.proceed():e(h),f(null))},[M,I]=p.useState([]),[W,V]=p.useState([]),[U,L]=p.useState(!1),[O,F]=p.useState(!1),[z,Y]=p.useState([]),[B,ee]=p.useState(!1),ke=s/jh.length*100;p.useEffect(()=>{(async()=>{try{L(!0),F(!0),Y([]),console.log(" Loading VAPI data..."),console.log(" Campaign Wizard: Loading VAPI data from backend..."),console.log(" Campaign Wizard: API Base URL:","https://apex-backend-august-production.up.railway.app/api");const[be,Te]=await Promise.all([Ha.getAssistants().catch(Ge=>{var Ct;return console.error(" Failed to load assistants:",Ge),console.error(" Error details:",((Ct=Ge.response)==null?void 0:Ct.data)||Ge.message),{assistants:[]}}),Ha.getPhoneNumbers().catch(Ge=>{var Ct;return console.error(" Failed to load phone numbers:",Ge),console.error(" Error details:",((Ct=Ge.response)==null?void 0:Ct.data)||Ge.message),{phoneNumbers:[]}})]);console.log(" Loaded assistants:",be),console.log(" Loaded phone numbers:",Te);const Ue=Array.isArray(be)?be:be.assistants||[],ie=Array.isArray(Te)?Te:Te.phoneNumbers||[];I(Ue),V(ie),ee(!0),(Ue.length>0||ie.length>0)&&Y([])}catch(be){console.error(" Error loading VAPI data:",be),Y(["Failed to connect to VAPI service. Please check your VAPI credentials in Settings."]),ee(!1)}finally{L(!1),F(!1)}})()},[]),p.useEffect(()=>{S()&&T()},[]),p.useEffect(()=>{if(_()){const te=setTimeout(()=>{A()},2e3);return()=>clearTimeout(te)}},[b,s]),p.useEffect(()=>{const te=be=>{if(_())return be.preventDefault(),be.returnValue="You have unsaved changes. Do you want to save your progress as a draft?",be.returnValue};return window.addEventListener("beforeunload",te),()=>window.removeEventListener("beforeunload",te)},[b,s]);const H=SW(({currentLocation:te,nextLocation:be})=>{console.log(" Router blocker triggered:",{currentLocation:te.pathname,nextLocation:be.pathname,hasChanges:_()});const Te=_()&&te.pathname!==be.pathname;return console.log(" Should block navigation:",Te),Te});p.useEffect(()=>{var te;H.state==="blocked"&&(console.log(" Navigation blocked, showing dialog"),f(((te=H.location)==null?void 0:te.pathname)||"/campaigns"),m(!0))},[H.state]),p.useEffect(()=>{const te=()=>{console.log(" User interaction detected"),v(!0)};return document.addEventListener("input",te),document.addEventListener("click",te),document.addEventListener("keydown",te),()=>{document.removeEventListener("input",te),document.removeEventListener("click",te),document.removeEventListener("keydown",te)}},[]);const he=te=>{const be={};switch(te){case 1:b.name.trim()||(be.name="Campaign name is required"),b.objective||(be.objective="Please select an objective");break;case 2:b.phoneNumber||(be.phoneNumber="Phone number is required");break;case 3:b.voiceAgent||(be.voiceAgent="Please select a voice agent");break;case 4:b.testCompleted||(be.test="Please test the voice agent before proceeding");break;case 5:b.leads.length===0&&(be.leads="Please import at least one lead");break;case 6:b.budget<10&&(be.budget="Minimum budget is $10");break;case 7:b.assignedTeam.length===0&&(be.team="Please assign at least one team member"),b.teamLeader||(be.teamLeader="Please select a team leader");break}return l(be),Object.keys(be).length===0},Ie=()=>{he(s)&&s<jh.length&&a(s+1)},Pe=()=>{s>1&&(a(s-1),l({}))},De=te=>{te<s?(a(te),l({})):te===s+1&&Ie()},ce=te=>{N(be=>({...be,...te}))},Ce=()=>{var te,be,Te,Ue;switch(s){case 1:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Select Campaign Type"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Choose whether you're targeting businesses or individual consumers"})]}),t.jsx($l,{value:b.campaignType,onValueChange:ie=>N({...b,campaignType:ie}),children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:`cursor-pointer rounded-lg border p-6 transition-all ${b.campaignType==="b2b"?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,children:[t.jsx(Qs,{value:"b2b",id:"b2b",className:"sr-only"}),t.jsx(Z,{htmlFor:"b2b",className:"cursor-pointer",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"rounded-lg bg-blue-900/30 p-3",children:t.jsx(tr,{className:"h-6 w-6 text-blue-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"mb-1 font-medium text-white",children:"B2B (Business to Business)"}),t.jsx("p",{className:"mb-3 text-sm text-gray-400",children:"Target business decision makers and companies"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Required fields:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(je,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Company Name"}),t.jsx(je,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Contact Title"}),t.jsx(je,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Industry"}),t.jsx(je,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Company Size"})]})]})]})]})})]}),t.jsxs("div",{className:`cursor-pointer rounded-lg border p-6 transition-all ${b.campaignType==="b2c"?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,children:[t.jsx(Qs,{value:"b2c",id:"b2c",className:"sr-only"}),t.jsx(Z,{htmlFor:"b2c",className:"cursor-pointer",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"rounded-lg bg-emerald-900/30 p-3",children:t.jsx(vs,{className:"h-6 w-6 text-emerald-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"mb-1 font-medium text-white",children:"B2C (Business to Consumer)"}),t.jsx("p",{className:"mb-3 text-sm text-gray-400",children:"Target individual consumers with personalized offers"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Required fields:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(je,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Age Range"}),t.jsx(je,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Interests"}),t.jsx(je,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Location"}),t.jsx(je,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Consent Status"})]})]})]})]})})]})]})}),b.campaignType&&t.jsxs(qt,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(Yt,{className:"h-4 w-4 text-blue-400"}),t.jsx(Ht,{className:"text-gray-300",children:b.campaignType==="b2b"?"B2B campaigns focus on ROI, efficiency, and business value propositions. Your AI agent will be configured to speak professionally about business benefits.":"B2C campaigns require consent management and focus on personal benefits. Your AI agent will use a more conversational tone appropriate for consumers."})]})]});case 2:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Campaign Details"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Give your campaign a name and select your primary objective"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Campaign Name *"}),t.jsx(Se,{value:b.name,onChange:ie=>ce({name:ie.target.value}),placeholder:"e.g., Q4 Enterprise Sales Outreach",className:"border-gray-700 bg-gray-800 text-white"}),o.name&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.name})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"mb-3 block text-gray-300",children:"Campaign Objective *"}),t.jsx($l,{value:b.objective,onValueChange:ie=>ce({objective:ie}),children:t.jsx("div",{className:"grid grid-cols-2 gap-4",children:gO.map(ie=>t.jsxs("div",{className:`relative flex cursor-pointer items-start space-x-3 rounded-lg border p-4 transition-all ${b.objective===ie.id?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,children:[t.jsx(Qs,{value:ie.id,id:ie.id,className:"mt-1"}),t.jsxs(Z,{htmlFor:ie.id,className:"cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:ie.name}),t.jsx("div",{className:"text-sm text-gray-400",children:ie.description})]})]},ie.id))})}),o.objective&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.objective})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Campaign Description (Optional)"}),t.jsx(qa,{value:b.description,onChange:ie=>ce({description:ie.target.value}),placeholder:"Describe your campaign goals, target audience, and any special instructions...",className:"border-gray-700 bg-gray-800 text-white",rows:4})]})]})]});case 3:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Configure Phone Numbers"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Select your calling phone number and configure integrations"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"mb-3 block text-gray-300",children:"Phone Number Source"}),t.jsx($l,{value:b.twilioIntegration?"twilio":"vapi",onValueChange:ie=>ce({twilioIntegration:ie==="twilio"}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Qs,{value:"vapi",id:"vapi"}),t.jsxs(Z,{htmlFor:"vapi",className:"cursor-pointer",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx(pt,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"font-medium text-white",children:"VAPI Phone Numbers"}),t.jsx(je,{className:"bg-emerald-600 text-white",children:"Recommended"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Use phone numbers provisioned through VAPI"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Qs,{value:"twilio",id:"twilio"}),t.jsxs(Z,{htmlFor:"twilio",className:"cursor-pointer",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx(pt,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"font-medium text-white",children:"Twilio Integration"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Use your existing Twilio phone numbers"})]})]})]})})]}),b.twilioIntegration?t.jsxs("div",{className:"space-y-4",children:[t.jsxs(qt,{className:"border-yellow-500 bg-yellow-900/20",children:[t.jsx(Kt,{className:"h-4 w-4 text-yellow-500"}),t.jsx(Ht,{className:"text-yellow-300",children:"Twilio integration requires API credentials. Make sure your Twilio account is connected in Settings."})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Twilio Phone Number *"}),t.jsx(Se,{value:b.phoneNumber,onChange:ie=>ce({phoneNumber:ie.target.value}),placeholder:"+1234567890",className:"border-gray-700 bg-gray-800 text-white"}),o.phoneNumber&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.phoneNumber})]})]}):t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Select VAPI Phone Number *"}),O&&t.jsxs("div",{className:"mb-2 flex items-center gap-2 text-blue-400",children:[t.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-blue-400"}),t.jsx("span",{children:"Loading phone numbers..."})]}),t.jsxs(at,{value:b.phoneNumber,onValueChange:ie=>ce({phoneNumber:ie,vapiPhoneId:ie}),children:[t.jsx(et,{className:"border-gray-700 bg-gray-800 text-white",children:t.jsx(nt,{placeholder:O?"Loading phone numbers...":"Choose a phone number"})}),t.jsx(tt,{className:"border-gray-700 bg-gray-800",children:W.length>0?W.map(ie=>t.jsxs(se,{value:ie.id||ie.number,children:[ie.number," - ",ie.country||ie.region||"Unknown"]},ie.id||ie.number)):t.jsxs(t.Fragment,{children:[t.jsx(se,{value:"+1-555-0123",children:"+1 (555) 012-3456 - US"}),t.jsx(se,{value:"+1-555-0124",children:"+1 (555) 012-3457 - US"}),t.jsx(se,{value:"+44-7482-792343",children:"+44 7482 792343 - UK"})]})})]}),o.phoneNumber&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.phoneNumber}),W.length===0&&!O&&t.jsx("p",{className:"mt-1 text-sm text-yellow-400",children:"No VAPI phone numbers found. Using demo numbers. Please configure VAPI in Settings."})]}),z.length>0&&t.jsxs(qt,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Kt,{className:"h-4 w-4 text-red-500"}),t.jsxs(Ht,{className:"text-red-300",children:["VAPI Connection Issue: ",z.join(", ")]})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[t.jsx("h4",{className:"font-medium text-white",children:"Phone Number Features"}),B&&t.jsx(je,{className:"bg-green-600 text-xs text-white",children:"VAPI Connected"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(hs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Automatic caller ID registration"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(hs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Call recording and transcription"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(hs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Real-time call monitoring"})]})]})]})]})]});case 4:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Select Voice Agent"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Choose the AI voice agent that best fits your campaign objective"})]}),t.jsxs("div",{className:"space-y-4",children:[z.length>0&&t.jsxs(qt,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Kt,{className:"h-4 w-4 text-red-500"}),t.jsx(Ht,{className:"text-red-300",children:z.join(", ")})]}),U&&t.jsxs("div",{className:"flex items-center gap-2 text-blue-400",children:[t.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-blue-400"}),t.jsx("span",{children:"Loading voice agents..."})]}),M.length===0&&!U&&t.jsxs(qt,{className:"border-yellow-500 bg-yellow-900/20",children:[t.jsx(Kt,{className:"h-4 w-4 text-yellow-500"}),t.jsx(Ht,{className:"text-yellow-300",children:"No VAPI assistants found. Using demo agents. Please configure VAPI credentials in Settings."})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:(M.length>0?M:Kg).map(ie=>{var Ge,Ct;return t.jsx("div",{className:`cursor-pointer rounded-lg border p-4 transition-all ${b.voiceAgent===ie.id?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,onClick:()=>ce({voiceAgent:ie.id}),children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"text-4xl",children:ie.avatar||""}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"mb-1 font-medium text-white",children:ie.name}),t.jsx("p",{className:"mb-3 text-sm text-gray-400",children:ie.description||"AI Assistant"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ga,{className:"h-3 w-3 text-gray-500"}),t.jsx("span",{className:"text-xs text-gray-400",children:ie.languages?`Languages: ${ie.languages.join(", ")}`:`Voice: ${((Ge=ie.voice)==null?void 0:Ge.provider)||"Default"}`})]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:ie.specialties?ie.specialties.map((Ot,St)=>t.jsx(je,{variant:"secondary",className:"bg-gray-800 text-xs text-gray-300",children:Ot},St)):t.jsx(je,{variant:"secondary",className:"bg-gray-800 text-xs text-gray-300",children:((Ct=ie.model)==null?void 0:Ct.provider)||"AI Model"})})]})]})]})},ie.id)})}),o.voiceAgent&&t.jsx("p",{className:"text-sm text-red-400",children:o.voiceAgent}),b.voiceAgent&&t.jsxs("div",{className:"space-y-4 rounded-lg bg-gray-800/50 p-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Voice Settings"}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(Z,{className:"text-gray-300",children:"Speaking Speed"}),t.jsxs("span",{className:"text-sm text-gray-400",children:[b.voiceSettings.speed,"x"]})]}),t.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:b.voiceSettings.speed,onChange:ie=>ce({voiceSettings:{...b.voiceSettings,speed:parseFloat(ie.target.value)}}),className:"w-full"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(Z,{className:"text-gray-300",children:"Voice Pitch"}),t.jsxs("span",{className:"text-sm text-gray-400",children:[b.voiceSettings.pitch,"x"]})]}),t.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:b.voiceSettings.pitch,onChange:ie=>ce({voiceSettings:{...b.voiceSettings,pitch:parseFloat(ie.target.value)}}),className:"w-full"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(Z,{className:"text-gray-300",children:"Response Creativity"}),t.jsx("span",{className:"text-sm text-gray-400",children:b.voiceSettings.temperature})]}),t.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:b.voiceSettings.temperature,onChange:ie=>ce({voiceSettings:{...b.voiceSettings,temperature:parseFloat(ie.target.value)}}),className:"w-full"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lower = More consistent, Higher = More creative"})]})]})]})]});case 5:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Test Your Voice Agent"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Make a test call to ensure your voice agent is configured correctly"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[t.jsx("div",{className:"text-4xl",children:((te=(M.length>0?M:Kg).find(ie=>ie.id===b.voiceAgent))==null?void 0:te.avatar)||""}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-white",children:((be=(M.length>0?M:Kg).find(ie=>ie.id===b.voiceAgent))==null?void 0:be.name)||"Selected Agent"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Ready for testing"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Test Phone Number"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Se,{placeholder:"Enter your phone number",className:"border-gray-600 bg-gray-700 text-white"}),t.jsxs(q,{className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(pt,{className:"mr-2 h-4 w-4"}),"Start Test Call"]})]})]}),b.testCompleted&&t.jsxs(qt,{className:"border-green-500 bg-green-900/20",children:[t.jsx(hs,{className:"h-4 w-4 text-green-500"}),t.jsx(Ht,{className:"text-green-300",children:"Test call completed successfully!"})]})]})]})}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-6",children:[t.jsx("h4",{className:"mb-4 font-medium text-white",children:"Test Call Checklist"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${b.testCompleted?"border-green-600 bg-green-600":"border-gray-600"}`,children:b.testCompleted&&t.jsx(hs,{className:"h-3 w-3 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-gray-300",children:"Voice clarity and quality"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Ensure the voice sounds natural and clear"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${b.testCompleted?"border-green-600 bg-green-600":"border-gray-600"}`,children:b.testCompleted&&t.jsx(hs,{className:"h-3 w-3 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-gray-300",children:"Script accuracy"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Verify the agent follows your intended script"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${b.testCompleted?"border-green-600 bg-green-600":"border-gray-600"}`,children:b.testCompleted&&t.jsx(hs,{className:"h-3 w-3 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-gray-300",children:"Response handling"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Test different responses and objections"})]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx(Z,{className:"text-gray-300",children:"Test Notes (Optional)"}),t.jsx(qa,{value:b.testNotes,onChange:ie=>ce({testNotes:ie.target.value}),placeholder:"Any observations or adjustments needed...",className:"mt-2 border-gray-600 bg-gray-700 text-white",rows:3})]}),!b.testCompleted&&t.jsx(q,{variant:"outline",className:"mt-4 w-full border-gray-600 text-gray-300 hover:bg-gray-700",onClick:()=>ce({testCompleted:!0}),children:"Mark Test as Completed"})]}),o.test&&t.jsxs(qt,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Kt,{className:"h-4 w-4 text-red-500"}),t.jsx(Ht,{className:"text-red-300",children:o.test})]})]})]});case 6:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Import Your Leads"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Upload a CSV file with your lead data"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"cursor-pointer rounded-lg border-2 border-dashed border-gray-700 p-8 text-center transition-colors hover:border-gray-600",onClick:()=>{var ie;return(ie=r.current)==null?void 0:ie.click()},children:[t.jsx(Fl,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),t.jsx("p",{className:"mb-2 text-gray-300",children:"Drag and drop your CSV file here"}),t.jsx("p",{className:"text-sm text-gray-500",children:"or click to browse"}),t.jsx("input",{ref:r,type:"file",accept:".csv",onChange:ie=>{var Ct;const Ge=(Ct=ie.target.files)==null?void 0:Ct[0];Ge&&ce({leads:[{id:"1",firstName:"John",lastName:"Doe",phone:"+1234567890",email:"john@example.com"},{id:"2",firstName:"Jane",lastName:"Smith",phone:"+1234567891",email:"jane@example.com"},{id:"3",firstName:"Bob",lastName:"Johnson",phone:"+1234567892",email:"bob@example.com"}],csvFileName:Ge.name})},className:"hidden"})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsx("h4",{className:"mb-2 font-medium text-white",children:"CSV Format Requirements"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[t.jsx("p",{children:" Required columns: firstName, lastName, phone"}),t.jsx("p",{children:" Optional columns: email, company, title, custom fields"}),t.jsx("p",{children:" Phone numbers should include country code"}),t.jsx("p",{children:" Maximum 10,000 leads per file"})]}),t.jsxs(q,{variant:"outline",size:"sm",className:"mt-3 border-gray-600 text-gray-300 hover:bg-gray-700",children:[t.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Download Template"]})]}),b.leads.length>0&&t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-white",children:b.csvFileName}),t.jsxs("p",{className:"text-sm text-gray-400",children:[b.leads.length," leads imported"]})]}),t.jsx(q,{variant:"outline",size:"sm",onClick:()=>ce({leads:[],csvFileName:""}),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Remove"})]}),t.jsxs("div",{className:"overflow-hidden rounded border border-gray-700",children:[t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-gray-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-2 text-left text-gray-300",children:"Name"}),t.jsx("th",{className:"p-2 text-left text-gray-300",children:"Phone"}),t.jsx("th",{className:"p-2 text-left text-gray-300",children:"Email"})]})}),t.jsx("tbody",{children:b.leads.slice(0,5).map((ie,Ge)=>t.jsxs("tr",{className:"border-t border-gray-700",children:[t.jsxs("td",{className:"p-2 text-gray-300",children:[ie.firstName," ",ie.lastName]}),t.jsx("td",{className:"p-2 text-gray-400",children:ie.phone}),t.jsx("td",{className:"p-2 text-gray-400",children:ie.email||"-"})]},ie.id))})]}),b.leads.length>5&&t.jsxs("div",{className:"bg-gray-800 p-2 text-center text-sm text-gray-500",children:["And ",b.leads.length-5," more..."]})]})]}),o.leads&&t.jsxs(qt,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Kt,{className:"h-4 w-4 text-red-500"}),t.jsx(Ht,{className:"text-red-300",children:o.leads})]})]})]});case 7:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Budget Allocation & Call Credits"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Set your campaign budget and configure credit management"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(Ur,{className:"h-5 w-5 text-green-500"}),"Campaign Budget"]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Total Budget ($)"}),t.jsx(Se,{type:"number",value:b.budget,onChange:ie=>ce({budget:parseFloat(ie.target.value)||0,callCredits:Math.floor((parseFloat(ie.target.value)||0)/.1)}),className:"border-gray-600 bg-gray-700 text-white",min:"10",step:"10"}),o.budget&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.budget})]}),t.jsxs("div",{className:"space-y-2 rounded bg-gray-900/50 p-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Cost per call"}),t.jsx("span",{className:"text-white",children:"$0.10"})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Estimated calls"}),t.jsx("span",{className:"text-white",children:b.callCredits})]})]})]})})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(qn,{className:"h-5 w-5 text-emerald-500"}),"Call Credits"]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"py-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-white",children:b.callCredits}),t.jsx("p",{className:"text-sm text-gray-400",children:"Available Credits"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Z,{className:"text-gray-300",children:"Auto-reload"}),t.jsx("input",{type:"checkbox",checked:b.autoReload,onChange:ie=>ce({autoReload:ie.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-emerald-600"})]}),b.autoReload&&t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-300",children:"Reload when below"}),t.jsx(Se,{type:"number",value:b.autoReloadThreshold,onChange:ie=>ce({autoReloadThreshold:parseInt(ie.target.value)||0}),className:"mt-1 border-gray-600 bg-gray-700 text-white",min:"10",step:"10"})]})]})]})})]})]}),t.jsxs(qt,{className:"border-blue-500 bg-blue-900/20",children:[t.jsx(Kt,{className:"h-4 w-4 text-blue-500"}),t.jsxs(Ht,{className:"text-blue-300",children:[t.jsx("strong",{children:"Billing Note:"})," You'll only be charged for completed calls. Failed or unanswered calls don't consume credits."]})]})]})]});case 8:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Assign Team Members"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Select team members who will manage this campaign"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"mb-3 block text-gray-300",children:"Team Leader *"}),t.jsxs(at,{value:b.teamLeader,onValueChange:ie=>ce({teamLeader:ie}),children:[t.jsx(et,{className:"border-gray-700 bg-gray-800 text-white",children:t.jsx(nt,{placeholder:"Select team leader"})}),t.jsx(tt,{className:"border-gray-700 bg-gray-800",children:xO.filter(ie=>ie.role.includes("Manager")).map(ie=>t.jsx(se,{value:ie.id,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-emerald-600 text-xs text-white",children:ie.avatar}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:ie.name}),t.jsx("div",{className:"text-xs text-gray-400",children:ie.role})]})]})},ie.id))})]}),o.teamLeader&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.teamLeader})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"mb-3 block text-gray-300",children:"Team Members *"}),t.jsx("div",{className:"space-y-2",children:xO.map(ie=>t.jsxs("div",{className:`flex cursor-pointer items-center justify-between rounded-lg border p-3 transition-all ${b.assignedTeam.includes(ie.id)?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,onClick:()=>{const Ge=b.assignedTeam.includes(ie.id);ce({assignedTeam:Ge?b.assignedTeam.filter(Ct=>Ct!==ie.id):[...b.assignedTeam,ie.id]})},children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-700 text-sm text-white",children:ie.avatar}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:ie.name}),t.jsx("div",{className:"text-sm text-gray-400",children:ie.role})]})]}),t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${b.assignedTeam.includes(ie.id)?"border-emerald-600 bg-emerald-600":"border-gray-600"}`,children:b.assignedTeam.includes(ie.id)&&t.jsx(hs,{className:"h-3 w-3 text-white"})})]},ie.id))}),o.team&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.team})]}),t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900 p-4",children:[t.jsx("h4",{className:"mb-2 font-medium text-white",children:"Team Permissions"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(hs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"View campaign performance and analytics"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(hs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Access lead details and call recordings"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(hs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Update lead status and add notes"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(hs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Receive real-time notifications"})]})]})]})]})]});case 9:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Review & Launch"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Review your campaign settings before launching"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsx("h3",{className:"mb-4 font-medium text-white",children:"Campaign Summary"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Campaign Name"}),t.jsx("span",{className:"font-medium text-white",children:b.name})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Objective"}),t.jsx("span",{className:"text-white",children:(Te=gO.find(ie=>ie.id===b.objective))==null?void 0:Te.name})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Phone Number"}),t.jsx("span",{className:"text-white",children:b.phoneNumber})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Voice Agent"}),t.jsx("span",{className:"text-white",children:((Ue=(M.length>0?M:Kg).find(ie=>ie.id===b.voiceAgent))==null?void 0:Ue.name)||"Selected Agent"})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Total Leads"}),t.jsx("span",{className:"text-white",children:b.leads.length})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Budget"}),t.jsxs("span",{className:"text-white",children:["$",b.budget]})]}),t.jsxs("div",{className:"flex items-center justify-between py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Team Size"}),t.jsxs("span",{className:"text-white",children:[b.assignedTeam.length," members"]})]})]})]})}),t.jsxs("div",{children:[t.jsx(Z,{className:"mb-3 block text-gray-300",children:"Launch Timing"}),t.jsx($l,{value:b.immediateStart?"now":"schedule",onValueChange:ie=>ce({immediateStart:ie==="now"}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Qs,{value:"now",id:"now"}),t.jsxs(Z,{htmlFor:"now",className:"cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"Launch Immediately"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Start calling as soon as you click launch"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Qs,{value:"schedule",id:"schedule"}),t.jsxs(Z,{htmlFor:"schedule",className:"cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"Schedule for Later"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Set a specific date and time to start"})]})]})]})}),!b.immediateStart&&t.jsxs("div",{className:"mt-4",children:[t.jsx(Z,{className:"text-gray-300",children:"Schedule Date & Time"}),t.jsx(Se,{type:"datetime-local",value:b.scheduledStart,onChange:ie=>ce({scheduledStart:ie.target.value}),className:"mt-2 border-gray-700 bg-gray-800 text-white"})]})]}),t.jsxs(qt,{className:"border-green-500 bg-green-900/20",children:[t.jsx(hs,{className:"h-4 w-4 text-green-500"}),t.jsxs(Ht,{className:"text-green-300",children:[t.jsx("strong",{children:"Ready to Launch!"})," Your campaign is configured and ready to go. Click the launch button below to start."]})]})]})]})}},Ee=()=>{switch(s){case 1:return b.campaignType!=="";case 2:return b.name&&b.objective;case 3:return b.phoneNumber.length>0;case 4:return b.voiceAgent.length>0;case 5:return b.testCompleted;case 6:return b.leads.length>0;case 7:return b.budget>0&&b.callCredits>0;case 8:return b.teamLeader.length>0&&b.assignedTeam.length>0;case 9:return!0;default:return!1}};return t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx($o,{className:"h-8 w-8 text-emerald-500"}),t.jsx("div",{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-gray-400",children:"Create your AI calling campaign step by step"}),g&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-emerald-400",children:[t.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-emerald-400"}),"Saving draft..."]}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Step: ",s," | Changes: ",_()?"Yes":"No"," | Blocker: ",H.state]})]})})]}),t.jsx(q,{variant:"outline",onClick:()=>R("/campaigns"),className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:"Cancel"})]}),t.jsx(ar,{value:ke,className:"h-2 bg-gray-800"})]}),S()&&_()&&t.jsxs(qt,{className:"border-emerald-500/20 bg-emerald-500/10 text-emerald-400",children:[t.jsx(Yt,{className:"h-4 w-4"}),t.jsx(Ht,{children:"Your draft has been automatically loaded. You can continue where you left off."})]}),t.jsx("div",{className:"space-y-6",children:t.jsx("div",{className:"flex items-center justify-between",children:jh.map((te,be)=>{const Te=te.icon,Ue=te.id===s,ie=te.id<s,Ge=te.id<=s+1;return t.jsxs(oe.Fragment,{children:[t.jsxs("div",{className:`flex cursor-pointer flex-col items-center transition-all ${Ge?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>Ge&&De(te.id),children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full transition-all ${Ue?"bg-emerald-600 text-white":ie?"bg-green-600 text-white":"bg-gray-800 text-gray-400"}`,children:ie?t.jsx(hs,{className:"h-6 w-6"}):t.jsx(Te,{className:"h-6 w-6"})}),t.jsx("span",{className:`mt-2 text-sm ${Ue?"font-medium text-white":"text-gray-400"}`,children:te.name})]}),be<jh.length-1&&t.jsx("div",{className:`mx-2 h-0.5 flex-1 ${ie?"bg-green-600":"bg-gray-800"}`})]},te.id)})})}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(X,{className:"p-8",children:Ce()}),t.jsx("div",{className:"border-t border-gray-800 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(q,{variant:"outline",onClick:Pe,disabled:s===1,className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(tc,{className:"mr-2 h-4 w-4"}),"Previous"]}),s<jh.length?t.jsxs(q,{onClick:Ie,className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:["Next",t.jsx(io,{className:"ml-2 h-4 w-4"})]}):t.jsx(q,{onClick:()=>{Ee()&&(i(!0),setTimeout(()=>{i(!1),E(),e("/campaigns")},2e3))},disabled:n,className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:from-green-700 hover:to-emerald-700",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Launching Campaign..."]}):t.jsxs(t.Fragment,{children:[t.jsx($o,{className:"mr-2 h-4 w-4"}),"Launch Campaign"]})})]})})]}),t.jsx(_d,{open:d,onOpenChange:te=>{m(te),!te&&H.state==="blocked"&&(H.reset(),f(null))},children:t.jsxs(uc,{className:"border-gray-800 bg-gray-900 text-white",children:[t.jsxs(mc,{children:[t.jsx(hc,{className:"text-white",children:"Save Your Progress?"}),t.jsx(Pd,{className:"text-gray-400",children:"You have unsaved changes in your campaign setup. Would you like to save your progress as a draft before leaving?"})]}),t.jsxs(jm,{className:"gap-2",children:[t.jsx(q,{variant:"outline",onClick:K,className:"border-gray-700 bg-gray-800 text-gray-300 hover:bg-gray-700",children:"Exit Without Saving"}),t.jsx(q,{onClick:$,disabled:g,className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:g?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Saving..."]}):"Save Draft & Exit"})]})]})})]})}const N4=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:s,className:Re("w-full caption-bottom text-sm",e),...r})}));N4.displayName="Table";const S4=p.forwardRef(({className:e,...r},s)=>t.jsx("thead",{ref:s,className:Re("[&_tr]:border-b",e),...r}));S4.displayName="TableHeader";const C4=p.forwardRef(({className:e,...r},s)=>t.jsx("tbody",{ref:s,className:Re("[&_tr:last-child]:border-0",e),...r}));C4.displayName="TableBody";const CNe=p.forwardRef(({className:e,...r},s)=>t.jsx("tfoot",{ref:s,className:Re("border-t bg-zinc-100/50 font-medium dark:bg-zinc-800/50 [&>tr]:last:border-b-0",e),...r}));CNe.displayName="TableFooter";const bf=p.forwardRef(({className:e,...r},s)=>t.jsx("tr",{ref:s,className:Re("border-b transition-colors hover:bg-zinc-100/50 data-[state=selected]:bg-zinc-100 dark:hover:bg-zinc-800/50 dark:data-[state=selected]:bg-zinc-800",e),...r}));bf.displayName="TableRow";const fa=p.forwardRef(({className:e,...r},s)=>t.jsx("th",{ref:s,className:Re("h-10 px-2 text-left align-middle font-medium text-zinc-500 dark:text-zinc-400 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));fa.displayName="TableHead";const pa=p.forwardRef(({className:e,...r},s)=>t.jsx("td",{ref:s,className:Re("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));pa.displayName="TableCell";const kNe=p.forwardRef(({className:e,...r},s)=>t.jsx("caption",{ref:s,className:Re("mt-4 text-sm text-zinc-500 dark:text-zinc-400",e),...r}));kNe.displayName="TableCaption";const _Ne=[{id:"1",timestamp:new Date().toISOString(),user:{id:"user1",name:"Sarah Johnson",email:"sarah@example.com",role:"admin"},action:"user.login",resource:"Authentication",details:{method:"email",mfa:!0},ipAddress:"192.168.1.1",userAgent:"Chrome/120.0.0.0",status:"success",category:"auth"},{id:"2",timestamp:new Date(Date.now()-36e5).toISOString(),user:{id:"user2",name:"Mike Davis",email:"mike@example.com",role:"manager"},action:"campaign.create",resource:"Campaign",resourceId:"camp123",details:{name:"Q4 Sales Outreach",leads:500},ipAddress:"192.168.1.2",userAgent:"Firefox/121.0",status:"success",category:"campaign"},{id:"3",timestamp:new Date(Date.now()-72e5).toISOString(),user:{id:"user1",name:"Sarah Johnson",email:"sarah@example.com",role:"admin"},action:"user.update_role",resource:"User",resourceId:"user3",details:{oldRole:"agent",newRole:"manager",targetUser:"John Smith"},ipAddress:"192.168.1.1",userAgent:"Chrome/120.0.0.0",status:"success",category:"user"},{id:"4",timestamp:new Date(Date.now()-108e5).toISOString(),user:{id:"user3",name:"John Smith",email:"john@example.com",role:"agent"},action:"api.key_create",resource:"API Key",details:{keyName:"Production API",permissions:["read","write"]},ipAddress:"192.168.1.3",userAgent:"Safari/17.0",status:"success",category:"api"},{id:"5",timestamp:new Date(Date.now()-144e5).toISOString(),user:{id:"user2",name:"Mike Davis",email:"mike@example.com",role:"manager"},action:"billing.payment_failed",resource:"Payment",details:{amount:599,reason:"Insufficient funds"},ipAddress:"192.168.1.2",userAgent:"Chrome/120.0.0.0",status:"failed",category:"billing"}],PNe={"user.login":h0,"user.logout":nY,"user.create":Af,"user.delete":yY,"user.update":Hl,"user.update_role":Ps,"campaign.create":pt,"campaign.update":Hl,"campaign.delete":Bs,"campaign.launch":Wl,"billing.payment":qn,"billing.payment_failed":Ji,"api.key_create":sd,"api.key_delete":Bs,"settings.update":is};function ANe(){const[e,r]=p.useState(_Ne),[s,a]=p.useState(""),[n,i]=p.useState("all"),[o,l]=p.useState("all"),[d,m]=p.useState("7days"),[h,f]=p.useState("all"),g=e.filter(N=>{const C=s===""||N.action.toLowerCase().includes(s.toLowerCase())||N.user.name.toLowerCase().includes(s.toLowerCase())||N.resource.toLowerCase().includes(s.toLowerCase())||JSON.stringify(N.details).toLowerCase().includes(s.toLowerCase()),S=n==="all"||N.category===n,_=o==="all"||N.status===o,A=h==="all"||N.user.id===h;return C&&S&&_&&A}),y=N=>{const C=PNe[N]||xs;return t.jsx(C,{className:"h-4 w-4"})},w=N=>{const C={success:"bg-green-900/20 text-green-400 border-green-800",failed:"bg-red-900/20 text-red-400 border-red-800",warning:"bg-yellow-900/20 text-yellow-400 border-yellow-800"},S={success:t.jsx(yt,{className:"h-3 w-3"}),failed:t.jsx(Ji,{className:"h-3 w-3"}),warning:t.jsx(Kt,{className:"h-3 w-3"})};return t.jsx(je,{className:C[N],children:t.jsxs("span",{className:"flex items-center gap-1",children:[S[N],N]})})},v=N=>N.split(".").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" "),b=()=>{const N=[["Timestamp","User","Action","Resource","Status","IP Address","Details"].join(","),...g.map(A=>[A.timestamp,`${A.user.name} (${A.user.email})`,v(A.action),A.resource,A.status,A.ipAddress,JSON.stringify(A.details)].join(","))].join(`
`),C=new Blob([N],{type:"text/csv"}),S=window.URL.createObjectURL(C),_=document.createElement("a");_.href=S,_.download=`audit-logs-${xw(new Date,"yyyy-MM-dd")}.csv`,_.click()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ps,{className:"h-8 w-8 text-emerald-500"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-white",children:"Audit Logs"}),t.jsx("p",{className:"text-gray-400",children:"Track all actions and changes in your system"})]})]}),t.jsxs(q,{onClick:b,className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Export Logs"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Total Actions"}),t.jsx(xs,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"In selected period"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Active Users"}),t.jsx(vs,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:new Set(e.map(N=>N.user.id)).size}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Unique users"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Success Rate"}),t.jsx(yt,{className:"h-4 w-4 text-green-400"})]}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.round(e.filter(N=>N.status==="success").length/e.length*100),"%"]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Successful actions"})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(fe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Failed Actions"}),t.jsx(Ji,{className:"h-4 w-4 text-red-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(N=>N.status==="failed").length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Require attention"})]})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(Rx,{className:"h-5 w-5"}),"Filters"]})}),t.jsx(X,{children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Search"}),t.jsxs("div",{className:"relative mt-2",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Se,{value:s,onChange:N=>a(N.target.value),placeholder:"Search logs...",className:"border-gray-700 bg-gray-900 pl-10 text-white"})]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Category"}),t.jsxs(at,{value:n,onValueChange:i,children:[t.jsx(et,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"all",children:"All Categories"}),t.jsx(se,{value:"auth",children:"Authentication"}),t.jsx(se,{value:"user",children:"User Management"}),t.jsx(se,{value:"campaign",children:"Campaigns"}),t.jsx(se,{value:"lead",children:"Leads"}),t.jsx(se,{value:"billing",children:"Billing"}),t.jsx(se,{value:"settings",children:"Settings"}),t.jsx(se,{value:"api",children:"API"})]})]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Status"}),t.jsxs(at,{value:o,onValueChange:l,children:[t.jsx(et,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"success",children:"Success"}),t.jsx(se,{value:"failed",children:"Failed"}),t.jsx(se,{value:"warning",children:"Warning"})]})]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"User"}),t.jsxs(at,{value:h,onValueChange:f,children:[t.jsx(et,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"all",children:"All Users"}),Array.from(new Set(e.map(N=>N.user.id))).map(N=>{var S;const C=(S=e.find(_=>_.user.id===N))==null?void 0:S.user;return t.jsx(se,{value:N,children:C==null?void 0:C.name},N)})]})]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Date Range"}),t.jsxs(at,{value:d,onValueChange:m,children:[t.jsx(et,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"today",children:"Today"}),t.jsx(se,{value:"7days",children:"Last 7 Days"}),t.jsx(se,{value:"30days",children:"Last 30 Days"}),t.jsx(se,{value:"90days",children:"Last 90 Days"}),t.jsx(se,{value:"all",children:"All Time"})]})]})]})]})})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Audit Log Entries"}),t.jsxs(Rt,{className:"text-gray-400",children:["Showing ",g.length," of ",e.length," total entries"]})]}),t.jsx(X,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(N4,{children:[t.jsx(S4,{children:t.jsxs(bf,{className:"border-gray-700",children:[t.jsx(fa,{className:"text-gray-400",children:"Timestamp"}),t.jsx(fa,{className:"text-gray-400",children:"User"}),t.jsx(fa,{className:"text-gray-400",children:"Action"}),t.jsx(fa,{className:"text-gray-400",children:"Resource"}),t.jsx(fa,{className:"text-gray-400",children:"Details"}),t.jsx(fa,{className:"text-gray-400",children:"IP Address"}),t.jsx(fa,{className:"text-gray-400",children:"Status"})]})}),t.jsx(C4,{children:g.map(N=>t.jsxs(bf,{className:"border-gray-700 hover:bg-gray-900/50",children:[t.jsx(pa,{className:"text-gray-300",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(It,{className:"h-4 w-4 text-gray-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm",children:xw(new Date(N.timestamp),"MMM dd, yyyy")}),t.jsx("div",{className:"text-xs text-gray-500",children:xw(new Date(N.timestamp),"HH:mm:ss")})]})]})}),t.jsx(pa,{children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-300",children:N.user.name}),t.jsx("div",{className:"text-xs text-gray-500",children:N.user.role})]})}),t.jsx(pa,{children:t.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[y(N.action),t.jsx("span",{className:"text-sm",children:v(N.action)})]})}),t.jsx(pa,{children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-300",children:N.resource}),N.resourceId&&t.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",N.resourceId]})]})}),t.jsx(pa,{children:t.jsx("div",{className:"max-w-xs truncate text-xs text-gray-400",children:Object.entries(N.details).map(([C,S])=>t.jsxs("div",{children:[t.jsxs("span",{className:"text-gray-500",children:[C,":"]})," ",String(S)]},C))})}),t.jsx(pa,{className:"text-sm text-gray-400",children:N.ipAddress}),t.jsx(pa,{children:w(N.status)})]},N.id))})]})})})]})]})})}function ENe(){const[e,r]=p.useState(30),[s,a]=p.useState(!0);return p.useEffect(()=>{const n=async()=>{await new Promise(i=>setTimeout(i,500))};if(n(),s){const i=setInterval(n,e*1e3);return()=>clearInterval(i)}},[e,s]),t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"System Health"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Monitor system status and performance metrics"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(q,{variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(To,{className:"mr-2 h-4 w-4"}),"Alerts"]}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(is,{className:"mr-2 h-4 w-4"}),"Configure"]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(Ps,{className:"h-5 w-5 text-emerald-400"}),"Platform Status"]})}),t.jsxs(X,{children:[t.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-500"}),t.jsx("span",{className:"font-medium text-emerald-400",children:"All Systems Operational"})]}),t.jsxs("div",{className:"text-sm text-gray-400",children:["Last updated: ",new Date().toLocaleString()]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"99.9%"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Uptime"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"12ms"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Response Time"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"0"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Active Issues"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"47"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Services"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-2",children:t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"API Gateway"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"99.99%"}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Uptime"}),t.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-sm text-emerald-400",children:"Operational"})]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-2",children:t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Database"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"99.95%"}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Uptime"}),t.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-sm text-emerald-400",children:"Operational"})]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-2",children:t.jsx(ge,{className:"text-sm font-medium text-gray-400",children:"Avg Response Time"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"45ms"}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Last 24 hours"}),t.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[t.jsx(xs,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm text-gray-500",children:"Stable"})]})]})]})]})]})})}const dN="https://apex-backend-august-production.up.railway.app/api",TNe={connected:"bg-green-500",interested:"bg-emerald-500",callback:"bg-blue-500",voicemail:"bg-yellow-500",no_answer:"bg-orange-500",busy:"bg-red-500",failed:"bg-red-600",not_interested:"bg-gray-500"},ONe={positive:"bg-green-500",neutral:"bg-gray-500",negative:"bg-red-500"};function MNe(){const e=br(),[r,s]=p.useState(!1),[a,n]=p.useState(null),{getToken:i}=ja(),{toast:o}=ts(),[l,d]=p.useState([]),[m,h]=p.useState(!0),[f,g]=p.useState({totalCalls:0,connectedCalls:0,totalDuration:0,totalCost:0,averageDuration:0,connectionRate:0,positiveRate:0}),[y,w]=p.useState(1),[v,b]=p.useState(50),[N,C]=p.useState(""),[S,_]=p.useState({type:"all",outcome:"all",sentiment:"all",agent:"all",campaign:"all",dateRange:"all"}),[A,T]=p.useState("startTime"),[E,R]=p.useState("desc"),$=async()=>{try{h(!0);const L=await i(),O=new URLSearchParams({page:y.toString(),limit:v.toString(),search:N,sortBy:A,sortOrder:E,...S}),F=await fetch(`${dN}/calls?${O}`,{headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});if(F.ok){const z=await F.json();console.log(" Calls fetched from API:",z),d(z.calls||[]),g(z.metrics||f)}else{const z=await F.json();throw new Error(z.message||"Failed to fetch calls")}}catch(L){console.error(" Error fetching calls:",L),o({title:"Error",description:"Failed to fetch calls. Please try again.",variant:"destructive"}),d([])}finally{h(!1)}},K=async()=>{try{const L=await i(),O=await fetch(`${dN}/calls/metrics`,{headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});if(O.ok){const F=await O.json();g(F)}}catch(L){console.error(" Error fetching metrics:",L)}};p.useEffect(()=>{$(),K()},[y,v,N,S,A,E]);const M=async()=>{try{const L=await i(),O=await fetch(`${dN}/calls/export`,{method:"POST",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"},body:JSON.stringify({filters:S,searchTerm:N})});if(O.ok){const F=await O.blob(),z=window.URL.createObjectURL(F),Y=document.createElement("a");Y.href=z,Y.download=`calls-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Y),Y.click(),window.URL.revokeObjectURL(z),document.body.removeChild(Y),o({title:"Success",description:"Data exported successfully."})}else throw new Error("Export failed")}catch(L){console.error(" Error exporting calls:",L),o({title:"Error",description:"Failed to export data. Please try again.",variant:"destructive"})}},I=L=>{const O=Math.floor(L/60),F=L%60;return`${O}:${F.toString().padStart(2,"0")}`},W=L=>`$${L.toFixed(2)}`,V=L=>{n(L),s(!0)},U=l.filter(L=>{var ke;const O=L.contact.name.toLowerCase().includes(N.toLowerCase())||L.contact.phone.includes(N)||L.contact.company&&L.contact.company.toLowerCase().includes(N.toLowerCase())||L.agent.name.toLowerCase().includes(N.toLowerCase()),F=S.type==="all"||L.type===S.type,z=S.outcome==="all"||L.outcome===S.outcome,Y=S.sentiment==="all"||L.sentiment===S.sentiment,B=S.agent==="all"||L.agent.name===S.agent,ee=S.campaign==="all"||((ke=L.campaign)==null?void 0:ke.id)===S.campaign;return O&&F&&z&&Y&&B&&ee});return m?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between"}),t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsx("div",{className:"text-zinc-400",children:"Loading call data..."})})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-zinc-400",children:"View and manage all your calls"})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(q,{onClick:$,variant:"outline",size:"sm",children:[t.jsx(ea,{className:"mr-2 h-4 w-4"}),"Refresh"]}),t.jsxs(q,{onClick:M,variant:"outline",size:"sm",children:[t.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(G,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:f.totalCalls.toLocaleString()})]}),t.jsx(pt,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(G,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Connected"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:f.connectedCalls.toLocaleString()}),t.jsxs("p",{className:"text-xs text-zinc-500",children:[f.connectionRate.toFixed(1),"% connection rate"]})]}),t.jsx(f0,{className:"h-8 w-8 text-green-500"})]})})}),t.jsx(G,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Duration"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:I(f.totalDuration)}),t.jsxs("p",{className:"text-xs text-zinc-500",children:["Avg: ",I(f.averageDuration)]})]})})})}),t.jsx(G,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Cost"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:W(f.totalCost)}),t.jsxs("p",{className:"text-xs text-zinc-500",children:[f.positiveRate.toFixed(1),"% positive rate"]})]}),t.jsx(Ur,{className:"h-8 w-8 text-yellow-500"})]})})})]}),t.jsx(G,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-zinc-400"}),t.jsx(Se,{placeholder:"Search calls...",value:N,onChange:L=>C(L.target.value),className:"border-zinc-700 bg-zinc-800 pl-10 text-white"})]})}),t.jsxs(at,{value:S.type,onValueChange:L=>_({...S,type:L}),children:[t.jsx(et,{className:"w-32 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:"Filter by type"})}),t.jsxs(tt,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:"All Types"}),t.jsx(se,{value:"inbound",children:"Inbound"}),t.jsx(se,{value:"outbound",children:"Outbound"}),t.jsx(se,{value:"missed",children:"Missed"})]})]}),t.jsxs(at,{value:S.outcome,onValueChange:L=>_({...S,outcome:L}),children:[t.jsx(et,{className:"w-40 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:"Filter by outcome"})}),t.jsxs(tt,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:"All Outcomes"}),t.jsx(se,{value:"connected",children:"Connected"}),t.jsx(se,{value:"interested",children:"Interested"}),t.jsx(se,{value:"callback",children:"Callback"}),t.jsx(se,{value:"voicemail",children:"Voicemail"}),t.jsx(se,{value:"no_answer",children:"No Answer"}),t.jsx(se,{value:"busy",children:"Busy"}),t.jsx(se,{value:"failed",children:"Failed"})]})]}),t.jsxs(at,{value:S.sentiment,onValueChange:L=>_({...S,sentiment:L}),children:[t.jsx(et,{className:"w-32 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:"Filter by sentiment"})}),t.jsxs(tt,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:"All Sentiments"}),t.jsx(se,{value:"positive",children:"Positive"}),t.jsx(se,{value:"neutral",children:"Neutral"}),t.jsx(se,{value:"negative",children:"Negative"})]})]})]})})}),t.jsxs(G,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"text-white",children:["Call Records (",U.length,")"]})}),t.jsx(X,{children:U.length===0?t.jsxs("div",{className:"py-12 text-center",children:[t.jsx(pt,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:"No calls found"}),t.jsx("p",{className:"text-sm text-zinc-500",children:"Try adjusting your search criteria"})]}):t.jsx("div",{className:"space-y-3",children:U.map(L=>t.jsxs("div",{className:"flex cursor-pointer items-center justify-between rounded-lg border border-zinc-700 bg-zinc-800 p-4 transition-all duration-200 hover:bg-zinc-700/50",onClick:()=>V(L),children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex-shrink-0",children:L.type==="inbound"?t.jsx(pt,{className:"h-5 w-5 text-green-500"}):L.type==="outbound"?t.jsx(f0,{className:"h-5 w-5 text-blue-500"}):t.jsx(hY,{className:"h-5 w-5 text-red-500"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("p",{className:"font-medium text-white",children:L.contact.name}),t.jsx(je,{className:`${TNe[L.outcome]} text-white`,children:L.outcome.replace(/_/g," ").replace(/\b\w/g,O=>O.toUpperCase())}),t.jsx(je,{className:`${ONe[L.sentiment]} text-white`,children:L.sentiment.charAt(0).toUpperCase()+L.sentiment.slice(1)})]}),t.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-zinc-400",children:[t.jsx("span",{children:L.contact.phone}),L.contact.company&&t.jsx("span",{children:L.contact.company}),t.jsxs("span",{children:[L.agent.name," (",L.agent.type.charAt(0).toUpperCase()+L.agent.type.slice(1),")"]}),L.campaign&&t.jsx("span",{children:L.campaign.name})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-6 text-sm text-zinc-400",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-white",children:new Date(L.startTime).toLocaleDateString()}),t.jsx("p",{children:new Date(L.startTime).toLocaleTimeString()})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-white",children:I(L.duration)}),t.jsx("p",{children:W(L.cost)})]}),t.jsxs(ki,{children:[t.jsx(_i,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"text-zinc-400 hover:text-white",onClick:O=>O.stopPropagation(),children:t.jsx(Mx,{className:"h-4 w-4"})})}),t.jsxs(Kn,{align:"end",className:"border-zinc-700 bg-zinc-800",children:[t.jsxs(Qt,{onClick:()=>V(L),className:"text-zinc-300 hover:text-white",children:[t.jsx(Po,{className:"mr-2 h-4 w-4"}),"View Details"]}),L.recording&&t.jsxs(Qt,{onClick:()=>V(L),className:"text-zinc-300 hover:text-white",children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Play Recording"]}),L.transcript&&t.jsxs(Qt,{onClick:()=>V(L),className:"text-zinc-300 hover:text-white",children:[t.jsx(Po,{className:"mr-2 h-4 w-4"}),"View Transcript"]}),L.leadId&&t.jsxs(Qt,{onClick:()=>e(`/leads/${L.leadId}`),className:"text-zinc-300 hover:text-white",children:[t.jsx(Nt,{className:"mr-2 h-4 w-4"}),"View Lead"]})]})]})]})]},L.id))})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-zinc-400",children:"Show"}),t.jsxs(at,{value:v.toString(),onValueChange:L=>b(parseInt(L)),children:[t.jsx(et,{className:"w-20 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"25",children:"25"}),t.jsx(se,{value:"50",children:"50"}),t.jsx(se,{value:"100",children:"100"})]})]}),t.jsx("span",{className:"text-sm text-zinc-400",children:"per page"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(q,{variant:"outline",size:"sm",onClick:()=>w(Math.max(1,y-1)),disabled:y===1,children:t.jsx(tc,{className:"h-4 w-4"})}),t.jsxs("span",{className:"text-sm text-zinc-400",children:["Page ",y]}),t.jsx(q,{variant:"outline",size:"sm",onClick:()=>w(y+1),disabled:U.length<v,children:t.jsx(io,{className:"h-4 w-4"})})]})]}),t.jsx(Qy,{isOpen:r,onClose:()=>s(!1),callData:a?{id:a.id,duration:a.duration,transcript:a.transcript?[{speaker:"ai",text:"Call transcript would be parsed and displayed here..."},{speaker:"user",text:"User responses would be shown alternately."}]:[],recording:a.recording,cost:a.cost,analysis:{sentiment:a.sentiment==="positive"?.8:a.sentiment==="negative"?.2:.5,keywords:["inquiry","interested","follow-up"],summary:`Call with ${a.contact.name} resulted in ${a.outcome}.`}}:void 0})]})}const RNe=()=>{const e=br(),{notifications:r,markAsRead:s,markAllAsRead:a,deleteNotification:n,clearAll:i}=lm(),[o,l]=p.useState(""),[d,m]=p.useState("all"),[h,f]=p.useState("all"),[g,y]=p.useState([]),[w,v]=p.useState(1),b=10,N=p.useMemo(()=>{const I=r.length,W=r.filter(U=>!U.read).length,V=r.reduce((U,L)=>(U[L.type]=(U[L.type]||0)+1,U),{});return{total:I,unread:W,byType:V}},[r]),C=I=>{switch(I){case"success":return t.jsx(yt,{className:"h-4 w-4 text-emerald-400"});case"error":return t.jsx(Kt,{className:"h-4 w-4 text-red-400"});case"warning":return t.jsx(va,{className:"h-4 w-4 text-yellow-400"});case"info":default:return t.jsx(Yt,{className:"h-4 w-4 text-blue-400"})}},S=I=>{switch(I){case"success":return"border-l-emerald-400";case"error":return"border-l-red-400";case"warning":return"border-l-yellow-400";case"info":default:return"border-l-blue-400"}},_=I=>{const W=new Date;let V;if(I instanceof Date)V=I;else if(typeof I=="string"||typeof I=="number")V=new Date(I);else return"Unknown";if(isNaN(V.getTime()))return"Unknown";const U=W.getTime()-V.getTime(),L=Math.floor(U/6e4),O=Math.floor(U/36e5),F=Math.floor(U/864e5);return F>0?`${F}d ago`:O>0?`${O}h ago`:L>0?`${L}m ago`:"Just now"},A=p.useMemo(()=>r.filter(I=>{const W=I.title.toLowerCase().includes(o.toLowerCase())||I.message.toLowerCase().includes(o.toLowerCase()),V=d==="all"||I.type===d,U=h==="all"||h==="unread"&&!I.read||h==="read"&&I.read;return W&&V&&U}),[r,o,d,h]),T=p.useMemo(()=>{const I=(w-1)*b,W=I+b;return A.slice(I,W)},[A,w]),E=Math.ceil(A.length/b),R=I=>{y(I?T.map(W=>W.id):[])},$=(I,W)=>{y(W?[...g,I]:g.filter(V=>V!==I))},K=I=>{g.forEach(W=>{I==="read"?s(W):n(W)}),y([])},M=I=>{var W,V,U,L;s(I.id),(W=I.metadata)!=null&&W.leadId?e(`/leads/${I.metadata.leadId}`):(V=I.metadata)!=null&&V.campaignId?e(`/campaigns/${I.metadata.campaignId}`):(U=I.metadata)!=null&&U.ticketId?e(`/support-tickets/${I.metadata.ticketId}`):(L=I.action)!=null&&L.href&&e(I.action.href)};return t.jsxs("div",{className:"space-y-6 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-3",children:t.jsx(To,{className:"h-8 w-8 text-emerald-400"})}),t.jsxs("div",{className:"flex gap-2",children:[N.unread>0&&t.jsxs(q,{onClick:a,className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(zN,{className:"mr-2 h-4 w-4"}),"Mark All Read"]}),t.jsx(q,{variant:"outline",onClick:()=>e("/settings"),className:"border-gray-700 hover:bg-gray-800",children:"Settings"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:N.total})]}),t.jsx(To,{className:"h-8 w-8 text-gray-600"})]})})}),t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Unread"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:N.unread})]}),t.jsx(It,{className:"h-8 w-8 text-emerald-600"})]})})}),t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Success"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:N.byType.success||0})]}),t.jsx(yt,{className:"h-8 w-8 text-emerald-600"})]})})}),t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Warnings"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:N.byType.warning||0})]}),t.jsx(va,{className:"h-8 w-8 text-yellow-600"})]})})})]}),t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(X,{className:"p-4",children:[t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Se,{type:"search",placeholder:"Search notifications...",value:o,onChange:I=>l(I.target.value),className:"border-gray-600 bg-gray-900/50 pl-10 text-white"})]})}),t.jsxs(at,{value:d,onValueChange:m,children:[t.jsx(et,{className:"w-[180px] border-gray-600 bg-gray-900/50",children:t.jsx(nt,{placeholder:"Filter by type"})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All Types"}),t.jsx(se,{value:"success",children:"Success"}),t.jsx(se,{value:"error",children:"Error"}),t.jsx(se,{value:"warning",children:"Warning"}),t.jsx(se,{value:"info",children:"Info"})]})]}),t.jsxs(at,{value:h,onValueChange:f,children:[t.jsx(et,{className:"w-[180px] border-gray-600 bg-gray-900/50",children:t.jsx(nt,{placeholder:"Filter by status"})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"unread",children:"Unread"}),t.jsx(se,{value:"read",children:"Read"})]})]})]}),g.length>0&&t.jsxs("div",{className:"mt-4 flex items-center gap-4 rounded-lg border border-emerald-700/30 bg-emerald-900/20 p-3",children:[t.jsxs("span",{className:"text-sm text-emerald-400",children:[g.length," selected"]}),t.jsxs(q,{size:"sm",variant:"ghost",onClick:()=>K("read"),className:"text-emerald-400 hover:text-emerald-300",children:[t.jsx(zN,{className:"mr-1 h-4 w-4"}),"Mark as Read"]}),t.jsxs(q,{size:"sm",variant:"ghost",onClick:()=>K("delete"),className:"text-red-400 hover:text-red-300",children:[t.jsx(Bs,{className:"mr-1 h-4 w-4"}),"Delete"]}),t.jsx(q,{size:"sm",variant:"ghost",onClick:()=>y([]),className:"ml-auto text-gray-400 hover:text-gray-300",children:"Clear Selection"})]})]})}),t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-0",children:A.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[t.jsx(To,{className:"mb-4 h-12 w-12 opacity-50"}),t.jsx("p",{className:"text-lg",children:"No notifications found"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o?"Try adjusting your search":"You're all caught up!"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-4 border-b border-gray-700 p-4",children:[t.jsx(Gc,{checked:g.length===T.length&&T.length>0,onCheckedChange:R,className:"border-gray-600"}),t.jsx("span",{className:"text-sm text-gray-400",children:"Select all on this page"})]}),t.jsx("div",{className:"divide-y divide-gray-700",children:T.map(I=>t.jsxs("div",{className:Re("group relative flex cursor-pointer items-start border-l-4 p-4 transition-colors hover:bg-gray-700/50",S(I.type),!I.read&&"bg-gray-700/30"),children:[t.jsx(Gc,{checked:g.includes(I.id),onCheckedChange:W=>$(I.id,W),onClick:W=>W.stopPropagation(),className:"mr-4 mt-1 border-gray-600"}),t.jsx("div",{className:"min-w-0 flex-1",onClick:()=>M(I),children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex-shrink-0",children:C(I.type)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx("p",{className:Re("text-sm font-medium",I.read?"text-gray-300":"text-white"),children:I.title}),!I.read&&t.jsx(je,{className:"border-emerald-500/30 bg-emerald-500/20 text-xs text-emerald-400",children:"New"})]}),t.jsx("p",{className:"mb-2 text-sm text-gray-400",children:I.message}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[t.jsx("span",{children:_(I.timestamp)}),I.category&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{className:"capitalize",children:I.category})]}),I.source&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:I.source})]})]}),I.action&&t.jsxs(q,{variant:"ghost",size:"sm",className:"mt-2 h-auto p-0 text-xs text-emerald-400 hover:text-emerald-300",onClick:W=>{var V;W.stopPropagation(),(V=I.action)!=null&&V.href&&e(I.action.href)},children:[I.action.label,t.jsx(ji,{className:"ml-1 h-3 w-3"})]})]})]}),t.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[!I.read&&t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400"}),t.jsx(io,{className:"h-4 w-4 text-gray-600 opacity-0 transition-opacity group-hover:opacity-100"})]})]})})]},I.id))}),E>1&&t.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 p-4",children:[t.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(w-1)*b+1," to"," ",Math.min(w*b,A.length)," of"," ",A.length," notifications"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(q,{variant:"outline",size:"sm",onClick:()=>v(w-1),disabled:w===1,className:"border-gray-600 hover:bg-gray-700",children:"Previous"}),Array.from({length:Math.min(5,E)},(I,W)=>{let V;return E<=5||w<=3?V=W+1:w>=E-2?V=E-4+W:V=w-2+W,t.jsx(q,{variant:w===V?"default":"outline",size:"sm",onClick:()=>v(V),className:Re("w-10",w===V?"bg-emerald-600 hover:bg-emerald-700":"border-gray-600 hover:bg-gray-700"),children:V},V)}),t.jsx(q,{variant:"outline",size:"sm",onClick:()=>v(w+1),disabled:w===E,className:"border-gray-600 hover:bg-gray-700",children:"Next"})]})]})]})})})]})};function INe(){const[e,r]=p.useState([]),[s,a]=p.useState(!0),[n,i]=p.useState(""),[o,l]=p.useState("all"),[d,m]=p.useState("all"),{getToken:h}=ja(),{toast:f}=ts(),g=br(),y=async()=>{try{a(!0);const{supabaseService:E}=await fn(async()=>{const{supabaseService:K}=await Promise.resolve().then(()=>Au);return{supabaseService:K}},void 0);console.log(" Fetching organizations from Supabase...");const R=await E.getOrganizations();if(console.log(" Organizations fetched:",R),!R||R.length===0){console.warn(" No organizations returned from Supabase"),r([]);return}const $=R.map(K=>({id:K.id,name:K.name,domain:K.custom_domain||void 0,contact_name:void 0,contact_email:K.billing_email,contact_phone:K.phone,address:K.address,status:K.status==="active"?"active":"inactive",subscription_plan:K.plan==="professional"?"growth":K.plan==="starter"?"starter":"enterprise",subscription_status:K.status==="active"?"active":"cancelled",subscription_mrr:K.monthly_cost,users_count:0,campaigns_count:0,total_calls:0,created_at:K.created_at,updated_at:K.updated_at}));console.log(" Skipping stats fetch to avoid rate limiting"),r($)}catch(E){console.error(" Error fetching organizations:",E),console.error("Error details:",{message:E instanceof Error?E.message:"Unknown error",stack:E instanceof Error?E.stack:void 0}),f({title:"Error",description:`Failed to fetch organizations: ${E instanceof Error?E.message:"Unknown error"}`,variant:"destructive"}),r([])}finally{a(!1)}},w=async(E,R)=>{try{const $=await h();if(!(await fetch(`http://localhost:3001/api/organizations/${E}`,{method:"PUT",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify(R)})).ok)throw new Error("Failed to update organization");f({title:"Success",description:"Organization updated successfully"}),y()}catch($){console.error("Error updating organization:",$),f({title:"Error",description:"Failed to update organization. Please try again.",variant:"destructive"})}},v=async E=>{if(confirm("Are you sure you want to delete this organization? This action cannot be undone."))try{const R=await h();if(!(await fetch(`http://localhost:3001/api/organizations/${E}`,{method:"DELETE",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete organization");f({title:"Success",description:"Organization deleted successfully"}),y()}catch(R){console.error("Error deleting organization:",R),f({title:"Error",description:"Failed to delete organization. Please try again.",variant:"destructive"})}},b=e.filter(E=>{var M,I;const R=E.name.toLowerCase().includes(n.toLowerCase())||((M=E.contact_name)==null?void 0:M.toLowerCase().includes(n.toLowerCase()))||((I=E.contact_email)==null?void 0:I.toLowerCase().includes(n.toLowerCase())),$=o==="all"||E.status&&E.status===o,K=d==="all"||E.subscription_plan&&E.subscription_plan===d;return R&&$&&K}),C={totalOrgs:e.length,activeOrgs:e.filter(E=>E.status==="active").length,totalRevenue:e.reduce((E,R)=>E+(R.subscription_mrr||0),0),totalCalls:e.reduce((E,R)=>E+(R.total_calls||0),0)};p.useEffect(()=>{y()},[]);const S=E=>{if(!E)return"bg-gray-500/10 text-gray-400 border-gray-500/20";switch(E){case"active":return"bg-emerald-500/10 text-emerald-400 border-emerald-500/20";case"inactive":return"bg-red-500/10 text-red-400 border-red-500/20";case"pending":return"bg-yellow-500/10 text-yellow-400 border-yellow-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}},_=E=>{if(!E)return"bg-gray-500/10 text-gray-400 border-gray-500/20";switch(E){case"enterprise":return"bg-emerald-500/10 text-emerald-400 border-emerald-500/20";case"growth":return"bg-blue-500/10 text-blue-400 border-blue-500/20";case"starter":return"bg-gray-500/10 text-gray-400 border-gray-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}},A=E=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(E),T=E=>new Date(E).toLocaleDateString();return s?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsx("div",{className:"text-lg text-white",children:"Loading organizations..."})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-semibold text-white",children:"Organizations"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Manage client organizations and their subscriptions"})]}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800",onClick:()=>g("/organization-setup"),children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Setup Wizard"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Organizations"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:C.totalOrgs})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/10",children:t.jsx(tr,{className:"h-6 w-6 text-emerald-500"})})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clients"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:C.activeOrgs})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-500/10",children:t.jsx(_s,{className:"h-6 w-6 text-blue-500"})})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Monthly Revenue"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:A(C.totalRevenue)})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-yellow-500/10",children:t.jsx(Ur,{className:"h-6 w-6 text-yellow-500"})})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:C.totalCalls.toLocaleString()})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/10",children:t.jsx(f0,{className:"h-6 w-6 text-emerald-500"})})]})})})]}),t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 transform text-gray-400"}),t.jsx(Se,{type:"text",placeholder:"Search organizations by name, contact, or email...",value:n,onChange:E=>i(E.target.value),className:"border-gray-800 bg-gray-900/90 pl-10 text-white placeholder-gray-500 focus:border-emerald-600"})]}),t.jsxs("select",{value:o,onChange:E=>l(E.target.value),className:"rounded-md border border-gray-800 bg-gray-900/90 px-3 py-2 text-white focus:border-emerald-600",children:[t.jsx("option",{value:"all",children:"All Statuses"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"pending",children:"Pending"})]}),t.jsxs("select",{value:d,onChange:E=>m(E.target.value),className:"rounded-md border border-gray-800 bg-gray-900/90 px-3 py-2 text-white focus:border-emerald-600",children:[t.jsx("option",{value:"all",children:"All Plans"}),t.jsx("option",{value:"starter",children:"Starter"}),t.jsx("option",{value:"growth",children:"Growth"}),t.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),t.jsx("div",{className:"space-y-4",children:b.length===0?t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsxs(X,{className:"p-8 text-center",children:[t.jsxs("div",{className:"mb-4 text-gray-400",children:[t.jsx(tr,{className:"mx-auto mb-4 h-12 w-12"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"No organizations found"}),t.jsx("p",{children:"Create your first organization to get started."})]}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800",onClick:()=>g("/organization-setup"),children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Setup Wizard"]})]})}):b.map(E=>t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm transition-all duration-200 hover:bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/10",children:t.jsx(tr,{className:"h-6 w-6 text-emerald-500"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white hover:text-emerald-400 cursor-pointer transition-colors",onClick:()=>g(`/organizations/${E.id}`),children:E.name}),t.jsx("p",{className:"text-sm text-gray-400",children:E.contact_name||"No contact assigned"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(je,{className:S(E.status),children:E.status?E.status.charAt(0).toUpperCase()+E.status.slice(1):"Unknown"}),t.jsx(je,{className:_(E.subscription_plan),children:E.subscription_plan?E.subscription_plan.charAt(0).toUpperCase()+E.subscription_plan.slice(1):"No Plan"}),t.jsxs(ki,{children:[t.jsx(_i,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(sm,{className:"h-4 w-4"})})}),t.jsxs(Kn,{align:"end",className:"border-gray-800 bg-gray-900",children:[t.jsx(VI,{className:"text-gray-300",children:"Actions"}),t.jsx(ZS,{className:"bg-gray-800"}),t.jsxs(Qt,{className:"text-gray-300 hover:bg-gray-800 hover:text-white",children:[t.jsx(Ir,{className:"mr-2 h-4 w-4"}),"View Details"]}),t.jsxs(Qt,{className:"text-gray-300 hover:bg-gray-800 hover:text-white",onClick:()=>{const R=prompt("Enter new organization name:",E.name);R&&R!==E.name&&w(E.id,{name:R})},children:[t.jsx(Hl,{className:"mr-2 h-4 w-4"}),"Edit Organization"]}),t.jsxs(Qt,{className:"text-red-400 hover:bg-gray-800 hover:text-red-300",onClick:()=>v(E.id),children:[t.jsx(Bs,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 md:grid-cols-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(wa,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:E.contact_email||"No email"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(pt,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:E.contact_phone||"No phone"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(Vl,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:E.address||"No address"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(ps,{className:"h-4 w-4 text-gray-400"}),t.jsxs("span",{className:"text-gray-300",children:["Since ",T(E.created_at)]})]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 border-t border-gray-800 pt-4 md:grid-cols-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Users"}),t.jsxs("p",{className:"flex items-center gap-1 text-sm font-medium text-white",children:[t.jsx(Nt,{className:"h-3 w-3"}),E.users_count||0]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Campaigns"}),t.jsx("p",{className:"text-sm font-medium text-white",children:E.campaigns_count||0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-sm font-medium text-white",children:(E.total_calls||0).toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Monthly Revenue"}),t.jsx("p",{className:"text-sm font-medium text-emerald-400",children:A(E.subscription_mrr||0)})]})]})]})},E.id))})]})})}var DNe="Separator",yO="horizontal",LNe=["horizontal","vertical"],KU=p.forwardRef((e,r)=>{const{decorative:s,orientation:a=yO,...n}=e,i=$Ne(a)?a:yO,l=s?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return t.jsx(He.div,{"data-orientation":i,...l,...n,ref:r})});KU.displayName=DNe;function $Ne(e){return LNe.includes(e)}var GU=KU;const Bn=p.forwardRef(({className:e,orientation:r="horizontal",decorative:s=!0,...a},n)=>t.jsx(GU,{ref:n,decorative:s,orientation:r,className:Re("shrink-0 bg-zinc-200 dark:bg-zinc-800",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Bn.displayName=GU.displayName;const YU=p.createContext(void 0);function zNe({children:e}){const{user:r}=tm(),[s,a]=p.useState(null),[n,i]=p.useState(null),[o,l]=p.useState(!1),[d,m]=p.useState(null),[h,f]=p.useState(0),[g,y]=p.useState(!1),w=()=>r!=null&&r.organization_id?(console.log(" Using organization_id from user:",r.organization_id),r.organization_id):(r==null?void 0:r.email)==="sean@artificialmedia.co.uk"?"00000000-0000-0000-0000-000000000000":(r==null?void 0:r.email)==="seanwentz99@gmail.com"?"2566d8c5-2245-4a3c-b539-4cea21a07d9b":(console.warn(" No organization ID found for user:",r==null?void 0:r.email),null),v=async()=>{if(console.log(" fetchOrganization called",{user:r==null?void 0:r.email,userId:r==null?void 0:r.id,orgId:r==null?void 0:r.organization_id,retryCount:h}),h>=3){console.warn(" Max retry attempts reached for fetching organization"),l(!1);return}try{l(!0),m(null);const N=w();if(console.log(" Organization ID resolved to:",N),!N)throw console.error(" No organization ID found for user:",r==null?void 0:r.email),new Error("No organization ID found");console.log(" Starting Supabase fetch for org:",N);const C=await qi.getOrganization(N);if(console.log(" Organization data received from service:",C),!C)throw new Error("Organization not found");console.log(" Organization data received:",C),a(C);try{const S=await qi.getOrganizationStats(N);i({totalUsers:S.totalUsers,totalCampaigns:S.totalCampaigns,totalCalls:S.totalCalls,totalLeads:S.totalLeads,monthlySpend:C.monthly_cost||0,creditsUsed:S.completedCalls*10,creditsRemaining:Math.max(0,(C.call_limit||5e3)-S.completedCalls)})}catch(S){console.warn(" Could not fetch organization stats:",S),i({totalUsers:0,totalCampaigns:0,totalCalls:0,totalLeads:0,monthlySpend:C.monthly_cost||0,creditsUsed:0,creditsRemaining:C.call_limit||5e3})}f(0)}catch(N){console.error("Error fetching organization:",N),m(N instanceof Error?N.message:"Failed to fetch organization"),a(null),i(null),f(C=>C+1)}finally{l(!1)}},b=async N=>{try{if(!s)return;a({...s,...N});const C=await qi.updateOrganization(s.id,N);console.log(" Updated organization data:",C),a(C),console.log("Organization updated successfully:",N)}catch(C){throw console.error("Error updating organization:",C),await v(),C}};return p.useEffect(()=>{console.log(" OrganizationContext useEffect triggered",{user:r,isLoading:o,organization:s,hasFetched:g,condition:r&&!o&&!s&&!g}),r&&!o&&(!g||!s)&&(console.log(" Triggering fetchOrganization from useEffect"),y(!0),v())},[r,g,s,o]),t.jsx(YU.Provider,{value:{organization:s,stats:n,isLoading:o,error:d,refreshOrganization:v,updateOrganization:b},children:e})}function FNe(){const e=p.useContext(YU);if(!e)throw new Error("useOrganization must be used within OrganizationProvider");return e}class UNe{async getOrganizationUsers(r){try{return[{id:"1",clerk_id:"clerk_user_1",email:"john.doe@example.com",first_name:"John",last_name:"Doe",role:"client_admin",organization_id:r,created_at:"2024-07-01T00:00:00Z",updated_at:"2024-07-01T00:00:00Z",is_active:!0,last_login:"2024-07-29T10:00:00Z"},{id:"2",clerk_id:"clerk_user_2",email:"jane.smith@example.com",first_name:"Jane",last_name:"Smith",role:"client_user",organization_id:r,created_at:"2024-07-15T00:00:00Z",updated_at:"2024-07-15T00:00:00Z",is_active:!0,last_login:"2024-07-28T14:30:00Z"},{id:"3",clerk_id:"clerk_user_3",email:"bob.wilson@example.com",first_name:"Bob",last_name:"Wilson",role:"client_user",organization_id:r,created_at:"2024-07-20T00:00:00Z",updated_at:"2024-07-20T00:00:00Z",is_active:!1,last_login:"2024-07-25T09:15:00Z"}]}catch(s){throw console.error("Error fetching organization users:",s),s}}async getOrganizationCampaigns(r){try{return[{id:"1",name:"Summer Sales Outreach",status:"active",created_at:"2024-07-01T00:00:00Z",total_calls:1250,successful_calls:375,conversion_rate:30},{id:"2",name:"Q4 Lead Generation",status:"paused",created_at:"2024-07-15T00:00:00Z",total_calls:800,successful_calls:200,conversion_rate:25},{id:"3",name:"Product Launch Campaign",status:"completed",created_at:"2024-06-01T00:00:00Z",total_calls:2e3,successful_calls:600,conversion_rate:30},{id:"4",name:"Holiday Special Offers",status:"draft",created_at:"2024-07-28T00:00:00Z",total_calls:0,successful_calls:0,conversion_rate:0}]}catch(s){throw console.error("Error fetching organization campaigns:",s),s}}async getOrganizationLeads(r,s=10){try{return[{id:"1",name:"Alice Johnson",email:"alice@company.com",phone:"+1 555-0123",status:"qualified",source:"Summer Sales Outreach",created_at:"2024-07-28T10:00:00Z",last_contacted:"2024-07-28T10:30:00Z",assigned_to:"John Doe"},{id:"2",name:"Bob Martinez",email:"bob@enterprise.com",phone:"+1 555-0124",status:"contacted",source:"Q4 Lead Generation",created_at:"2024-07-27T14:00:00Z",last_contacted:"2024-07-27T14:15:00Z",assigned_to:"Jane Smith"},{id:"3",name:"Carol Davis",email:"carol@startup.com",phone:"+1 555-0125",status:"new",source:"Website Form",created_at:"2024-07-29T08:00:00Z",assigned_to:"John Doe"},{id:"4",name:"David Lee",phone:"+1 555-0126",status:"interested",source:"Summer Sales Outreach",created_at:"2024-07-26T11:00:00Z",last_contacted:"2024-07-28T09:00:00Z",assigned_to:"Jane Smith"},{id:"5",name:"Eva Wilson",email:"eva@tech.com",phone:"+1 555-0127",status:"qualified",source:"Product Launch Campaign",created_at:"2024-07-25T16:00:00Z",last_contacted:"2024-07-29T10:00:00Z",assigned_to:"Bob Wilson"}].slice(0,s)}catch(a){throw console.error("Error fetching organization leads:",a),a}}async updateOrganization(r,s){try{console.log("Updating organization:",r,s)}catch(a){throw console.error("Error updating organization:",a),a}}async updateUserRole(r,s){try{console.log("Updating user role:",r,s)}catch(a){throw console.error("Error updating user role:",a),a}}async deactivateUser(r){try{console.log("Deactivating user:",r)}catch(s){throw console.error("Error deactivating user:",s),s}}async activateUser(r){try{console.log("Activating user:",r)}catch(s){throw console.error("Error activating user:",s),s}}async inviteUser(r,s,a){try{console.log("Inviting user:",s,"to organization:",r,"with role:",a)}catch(n){throw console.error("Error inviting user:",n),n}}}const Nh=new UNe,BNe=({organizationId:e,onComplete:r})=>{const[s,a]=p.useState(""),[n,i]=p.useState(!1),[o,l]=p.useState("idle"),[d,m]=p.useState(null),[h,f]=p.useState(""),g=async()=>{if(!s.trim()){f("Please enter your VAPI API key");return}i(!0),l("configuring"),f("");try{const y=await uwe.post("/vapi-auto-setup",{organizationId:e,vapiApiKey:s});m(y),l("success"),r&&r()}catch(y){f(y.message||"Failed to configure VAPI"),l("error")}finally{i(!1)}};return t.jsxs(G,{className:"w-full max-w-2xl",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2",children:[t.jsx(Kr,{className:"h-5 w-5 text-yellow-500"}),"One-Click VAPI Setup"]})}),t.jsxs(X,{className:"space-y-4",children:[o==="idle"&&t.jsxs(t.Fragment,{children:[t.jsx(qt,{children:t.jsxs(Ht,{children:["Enter your VAPI API key below and we'll automatically:",t.jsxs("ul",{className:"mt-2 list-disc pl-5 space-y-1",children:[t.jsx("li",{children:"Configure ALL your assistants with our webhook"}),t.jsx("li",{children:"Import your phone numbers"}),t.jsx("li",{children:"Enable call tracking and lead capture"}),t.jsx("li",{children:"Set up real-time analytics"})]})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"VAPI API Key"}),t.jsx(Se,{type:"password",placeholder:"da8956d4-0508-474e-bd96-...",value:s,onChange:y=>a(y.target.value),className:"font-mono"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Find this in your VAPI dashboard under API Keys"})]}),h&&t.jsxs(qt,{variant:"destructive",children:[t.jsx(Kt,{className:"h-4 w-4"}),t.jsx(Ht,{children:h})]}),t.jsx(q,{onClick:g,disabled:!s.trim(),size:"lg",className:"w-full",children:"Configure My VAPI Account"})]}),o==="configuring"&&t.jsxs("div",{className:"text-center py-8 space-y-4",children:[t.jsx($n,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Configuring your VAPI assistants..."}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"This usually takes 10-30 seconds"})]}),o==="success"&&d&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs(qt,{className:"border-green-200 bg-green-50",children:[t.jsx(yt,{className:"h-4 w-4 text-green-600"}),t.jsx(Ht,{className:"text-green-800",children:"VAPI account configured successfully!"})]}),t.jsxs("div",{className:"bg-muted rounded-lg p-4 space-y-2",children:[t.jsx("h4",{className:"font-medium",children:"Setup Complete:"}),t.jsxs("ul",{className:"text-sm space-y-1",children:[t.jsxs("li",{children:[" ",d.stats.assistantsConfigured," assistants configured"]}),t.jsxs("li",{children:[" ",d.stats.phoneNumbersImported," phone numbers imported"]}),t.jsxs("li",{children:[" Webhook URL: ",t.jsx("code",{className:"text-xs bg-background px-1 py-0.5 rounded",children:d.stats.webhookUrl})]})]})]}),t.jsx(q,{onClick:()=>window.location.reload(),className:"w-full",children:"Start Using VAPI"})]}),o==="error"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs(qt,{variant:"destructive",children:[t.jsx(Kt,{className:"h-4 w-4"}),t.jsx(Ht,{children:h})]}),t.jsx(q,{onClick:()=>{l("idle"),f("")},variant:"outline",className:"w-full",children:"Try Again"})]})]})]})},WNe=({organizationId:e})=>{const{toast:r}=ts(),[s,a]=p.useState([]),[n,i]=p.useState(!0),[o,l]=p.useState(""),[d,m]=p.useState("client_user"),[h,f]=p.useState(!1);p.useEffect(()=>{g()},[e]);const g=async()=>{try{i(!0);const C=await Nh.getOrganizationUsers(e);a(C)}catch{r({title:"Error",description:"Failed to load team members",variant:"destructive"})}finally{i(!1)}},y=async(C,S)=>{try{await Nh.updateUserRole(C,S),r({title:"Success",description:"User role updated successfully"}),g()}catch{r({title:"Error",description:"Failed to update user role",variant:"destructive"})}},w=async C=>{try{C.is_active?await Nh.deactivateUser(C.id):await Nh.activateUser(C.id),r({title:"Success",description:`User ${C.is_active?"deactivated":"activated"} successfully`}),g()}catch{r({title:"Error",description:"Failed to update user status",variant:"destructive"})}},v=async()=>{try{await Nh.inviteUser(e,o,d),r({title:"Success",description:"Invitation sent successfully"}),f(!1),l(""),m("client_user")}catch{r({title:"Error",description:"Failed to send invitation",variant:"destructive"})}},b=C=>{switch(C){case"client_admin":return"border-purple-500 text-purple-400";case"client_user":return"border-blue-500 text-blue-400";default:return"border-gray-500 text-gray-400"}},N=C=>C?"border-emerald-500 text-emerald-400":"border-red-500 text-red-400";return n?t.jsx(G,{className:"border-gray-800 bg-gray-900/50",children:t.jsxs(X,{className:"p-12 text-center",children:[t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-emerald-500 border-t-transparent mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"Loading team members..."})]})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(fe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ge,{className:"text-white",children:"Team Members"}),t.jsx(Rt,{children:"Manage your organization's team members and their permissions"})]}),t.jsxs(q,{onClick:()=>f(!0),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Invite Member"]})]})}),t.jsx(X,{children:t.jsx("div",{className:"space-y-4",children:s.map(C=>{var S,_;return t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(od,{className:"h-10 w-10",children:t.jsxs(ld,{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white",children:[(S=C.first_name)==null?void 0:S[0],(_=C.last_name)==null?void 0:_[0]]})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:C.first_name&&C.last_name?`${C.first_name} ${C.last_name}`:C.email}),t.jsx("p",{className:"text-sm text-gray-400",children:C.email}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(je,{variant:"outline",className:Re("text-xs",b(C.role)),children:C.role.replace("client_","").replace("_"," ").toUpperCase()}),t.jsx(je,{variant:"outline",className:Re("text-xs",N(C.is_active)),children:C.is_active?"Active":"Inactive"}),C.last_login&&t.jsxs("span",{className:"text-xs text-gray-500",children:["Last login: ",new Date(C.last_login).toLocaleDateString()]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(at,{value:C.role,onValueChange:A=>y(C.id,A),children:[t.jsx(et,{className:"w-32 bg-gray-800 border-gray-700",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"client_admin",children:"Admin"}),t.jsx(se,{value:"client_user",children:"User"})]})]}),t.jsxs(vx,{children:[t.jsx(oS,{asChild:!0,children:t.jsx(q,{variant:"outline",size:"sm",className:Re("border-gray-700",C.is_active?"text-red-400 hover:bg-red-600/20":"text-emerald-400 hover:bg-emerald-600/20"),children:C.is_active?"Deactivate":"Activate"})}),t.jsxs(hf,{className:"bg-gray-900 border-gray-800",children:[t.jsxs(ff,{children:[t.jsx(gf,{className:"text-white",children:C.is_active?"Deactivate User":"Activate User"}),t.jsxs(xf,{className:"text-gray-400",children:["Are you sure you want to ",C.is_active?"deactivate":"activate"," ",C.email,"? ",C.is_active?"They will no longer be able to access the platform.":"They will be able to access the platform again."]})]}),t.jsxs(pf,{children:[t.jsx(vf,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsx(yf,{onClick:()=>w(C),className:C.is_active?"bg-red-600 text-white hover:bg-red-700":"bg-emerald-600 text-white hover:bg-emerald-700",children:C.is_active?"Deactivate":"Activate"})]})]})]})]})]},C.id)})})})]}),t.jsx(vx,{open:h,onOpenChange:f,children:t.jsxs(hf,{className:"bg-gray-900 border-gray-800",children:[t.jsxs(ff,{children:[t.jsx(gf,{className:"text-white",children:"Invite Team Member"}),t.jsx(xf,{className:"text-gray-400",children:"Send an invitation to a new team member"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{className:"text-gray-400",children:"Email Address"}),t.jsx(Se,{type:"email",value:o,onChange:C=>l(C.target.value),placeholder:"user@example.com",className:"bg-gray-800 border-gray-700"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{className:"text-gray-400",children:"Role"}),t.jsxs(at,{value:d,onValueChange:m,children:[t.jsx(et,{className:"bg-gray-800 border-gray-700",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"client_admin",children:"Admin"}),t.jsx(se,{value:"client_user",children:"User"})]})]})]})]}),t.jsxs(pf,{children:[t.jsx(vf,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsx(yf,{onClick:v,disabled:!o,className:"bg-emerald-600 text-white hover:bg-emerald-700",children:"Send Invitation"})]})]})})]})},VNe=()=>{const{organization:e,stats:r,isLoading:s,updateOrganization:a}=FNe(),{toast:n}=ts(),[i,o]=p.useState("overview"),[l,d]=p.useState(!1),[m,h]=p.useState(e),[f,g]=p.useState(!1),[y,w]=p.useState(!1),[v,b]=p.useState((e==null?void 0:e.vapi_private_key)||""),[N,C]=p.useState((e==null?void 0:e.vapi_api_key)||"");p.useEffect(()=>{e?(console.log(" Full organization data loaded:",e),console.log(" Organization fields:",{name:e.name,billing_email:e.billing_email,phone:e.phone,website:e.website,industry:e.industry,address:e.address,vapi_api_key:e.vapi_api_key,vapi_private_key:e.vapi_private_key}),b(e.vapi_private_key||""),C(e.vapi_api_key||""),h(e)):console.log(" No organization data available")},[e]);const S=async R=>{try{await a(R==="private"?{vapi_private_key:v}:{vapi_api_key:N}),n({title:"Success",description:`VAPI ${R} key updated successfully`})}catch{n({title:"Error",description:`Failed to update VAPI ${R} key`,variant:"destructive"})}};if(s||!e)return t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-emerald-500 border-t-transparent"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Loading organization settings..."})]})});const _=async()=>{try{m&&(await a(m),d(!1),n({title:"Success",description:"Organization settings updated successfully"}))}catch{n({title:"Error",description:"Failed to update organization settings",variant:"destructive"})}},A=R=>{switch(R){case"enterprise":return t.jsx(_f,{className:"h-5 w-5 text-purple-400"});case"professional":return t.jsx(Kr,{className:"h-5 w-5 text-blue-400"});default:return t.jsx(xs,{className:"h-5 w-5 text-gray-400"})}},T=R=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(R),E=R=>R===-1?"Unlimited":R.toLocaleString();return t.jsx("div",{className:"min-h-screen bg-black p-6",children:t.jsxs("div",{className:"mx-auto max-w-7xl",children:[t.jsx("div",{className:"mb-8 flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-500/20 to-emerald-600/20 backdrop-blur-sm",children:t.jsx(tr,{className:"h-8 w-8 text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:e.name}),t.jsx("p",{className:"text-gray-400",children:"Organization Settings & Management"})]})]})}),t.jsxs(Ei,{value:i,onValueChange:o,className:"space-y-6",children:[t.jsxs(Qn,{className:"flex w-full justify-start bg-black p-0 h-auto border-b border-gray-800",children:[t.jsxs(ut,{value:"overview",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all mr-2",children:[t.jsx(tr,{className:"h-4 w-4"}),"Overview"]}),t.jsxs(ut,{value:"details",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all mr-2",children:[t.jsx(is,{className:"h-4 w-4"}),"Details"]}),t.jsxs(ut,{value:"usage",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all mr-2",children:[t.jsx(xs,{className:"h-4 w-4"}),"Usage & Limits"]}),t.jsxs(ut,{value:"billing",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all mr-2",children:[t.jsx(qn,{className:"h-4 w-4"}),"Billing"]}),t.jsxs(ut,{value:"team",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all mr-2",children:[t.jsx(Nt,{className:"h-4 w-4"}),"Team"]}),t.jsxs(ut,{value:"security",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all",children:[t.jsx(Ps,{className:"h-4 w-4"}),"Security"]})]}),t.jsxs(mt,{value:"overview",className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(fe,{className:"pb-3",children:t.jsxs(ge,{className:"flex items-center justify-between text-sm font-medium text-gray-400",children:[t.jsx("span",{children:"Total Users"}),t.jsx(Nt,{className:"h-4 w-4 text-gray-600"})]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:(r==null?void 0:r.totalUsers)||0}),t.jsxs("p",{className:"text-xs text-gray-500",children:["of ",E(e.user_limit)," allowed"]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(fe,{className:"pb-3",children:t.jsxs(ge,{className:"flex items-center justify-between text-sm font-medium text-gray-400",children:[t.jsx("span",{children:"Active Campaigns"}),t.jsx(_s,{className:"h-4 w-4 text-gray-600"})]})}),t.jsx(X,{children:t.jsx("div",{className:"text-2xl font-bold text-white",children:(r==null?void 0:r.totalCampaigns)||0})})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(fe,{className:"pb-3",children:t.jsxs(ge,{className:"flex items-center justify-between text-sm font-medium text-gray-400",children:[t.jsx("span",{children:"Total Calls"}),t.jsx(pt,{className:"h-4 w-4 text-gray-600"})]})}),t.jsx(X,{children:t.jsx("div",{className:"text-2xl font-bold text-white",children:(r==null?void 0:r.totalCalls)||0})})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(fe,{className:"pb-3",children:t.jsxs(ge,{className:"flex items-center justify-between text-sm font-medium text-gray-400",children:[t.jsx("span",{children:"Monthly Spend"}),t.jsx(AS,{className:"h-4 w-4 text-gray-600"})]})}),t.jsx(X,{children:t.jsx("div",{className:"text-2xl font-bold text-white",children:T((r==null?void 0:r.monthlySpend)||0)})})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(fe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ge,{className:"text-white",children:"Organization Information"}),l?t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(q,{variant:"outline",size:"sm",onClick:()=>{d(!1),h(e)},className:"border-gray-700 hover:bg-gray-800",children:[t.jsx(jt,{className:"mr-2 h-4 w-4"}),"Cancel"]}),t.jsxs(q,{size:"sm",onClick:_,className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Save"]})]}):t.jsxs(q,{variant:"outline",size:"sm",onClick:()=>{d(!0),h(e)},className:"border-gray-700 hover:bg-gray-800",children:[t.jsx(Hl,{className:"mr-2 h-4 w-4"}),"Edit"]})]})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{className:"text-gray-400",children:"Organization Name"}),l?t.jsx(Se,{value:(m==null?void 0:m.name)||"",onChange:R=>h($=>$?{...$,name:R.target.value}:null),className:"bg-gray-800 border-gray-700"}):t.jsx("p",{className:"text-white",children:e.name})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{className:"text-gray-400",children:"Industry"}),l?t.jsx(Se,{value:(m==null?void 0:m.industry)||"",onChange:R=>h($=>$?{...$,industry:R.target.value}:null),className:"bg-gray-800 border-gray-700"}):t.jsx("p",{className:"text-white",children:e.industry||"Not specified"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{className:"text-gray-400",children:"Billing Email"}),l?t.jsx(Se,{type:"email",value:(m==null?void 0:m.billing_email)||"",onChange:R=>h($=>$?{...$,billing_email:R.target.value}:null),className:"bg-gray-800 border-gray-700"}):t.jsxs("p",{className:"text-white flex items-center",children:[t.jsx(wa,{className:"mr-2 h-4 w-4 text-gray-600"}),e.billing_email||"Not specified"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{className:"text-gray-400",children:"Phone"}),l?t.jsx(Se,{value:(m==null?void 0:m.phone)||"",onChange:R=>h($=>$?{...$,phone:R.target.value}:null),className:"bg-gray-800 border-gray-700"}):t.jsxs("p",{className:"text-white flex items-center",children:[t.jsx(pt,{className:"mr-2 h-4 w-4 text-gray-600"}),e.phone||"Not specified"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{className:"text-gray-400",children:"Website"}),l?t.jsx(Se,{value:(m==null?void 0:m.website)||"",onChange:R=>h($=>$?{...$,website:R.target.value}:null),className:"bg-gray-800 border-gray-700"}):t.jsxs("p",{className:"text-white flex items-center",children:[t.jsx(Ga,{className:"mr-2 h-4 w-4 text-gray-600"}),e.website?t.jsxs("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 flex items-center",children:[e.website,t.jsx(ji,{className:"ml-1 h-3 w-3"})]}):"Not specified"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{className:"text-gray-400",children:"Created"}),t.jsxs("p",{className:"text-white flex items-center",children:[t.jsx(ps,{className:"mr-2 h-4 w-4 text-gray-600"}),new Date(e.created_at).toLocaleDateString()]})]})]}),e.address&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{className:"text-gray-400",children:"Address"}),t.jsxs("p",{className:"text-white flex items-start",children:[t.jsx(Vl,{className:"mr-2 h-4 w-4 text-gray-600 mt-0.5"}),e.address]})]})]})]})]}),t.jsx(mt,{value:"usage",className:"space-y-6",children:t.jsxs(G,{className:"border-gray-800 bg-gray-900/50",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Resource Usage & Limits"}),t.jsx(Rt,{children:"Monitor your organization's resource consumption"})]}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Z,{className:"text-gray-400",children:"Users"}),t.jsxs("span",{className:"text-sm text-gray-500",children:[(r==null?void 0:r.totalUsers)||0," / ",E(e.user_limit)]})]}),t.jsx(ar,{value:e.user_limit===-1?0:((r==null?void 0:r.totalUsers)||0)/e.user_limit*100,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Z,{className:"text-gray-400",children:"Monthly Calls"}),t.jsxs("span",{className:"text-sm text-gray-500",children:[(r==null?void 0:r.totalCalls)||0," / ",E(e.call_limit)]})]}),t.jsx(ar,{value:e.call_limit===-1?0:((r==null?void 0:r.totalCalls)||0)/e.call_limit*100,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Z,{className:"text-gray-400",children:"Storage"}),t.jsxs("span",{className:"text-sm text-gray-500",children:["0 GB / ",E(e.storage_limit_gb)," GB"]})]}),t.jsx(ar,{value:e.storage_limit_gb===-1?0:0/e.storage_limit_gb*100,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Z,{className:"text-gray-400",children:"VAPI Credits"}),t.jsxs("span",{className:"text-sm text-gray-500",children:[(r==null?void 0:r.creditsUsed)||0," used / ",(r==null?void 0:r.creditsRemaining)||0," remaining"]})]}),t.jsx(ar,{value:((r==null?void 0:r.creditsUsed)||0)/(((r==null?void 0:r.creditsUsed)||0)+((r==null?void 0:r.creditsRemaining)||0))*100,className:"h-2 bg-gray-800"})]}),t.jsx(Bn,{className:"bg-gray-800"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"API Requests"}),t.jsx("p",{className:"text-xl font-bold text-white",children:"0"})]}),t.jsx(QG,{className:"h-8 w-8 text-gray-600"})]})})}),t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Database Size"}),t.jsx("p",{className:"text-xl font-bold text-white",children:"0 GB"})]}),t.jsx(Pf,{className:"h-8 w-8 text-gray-600"})]})})}),t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Bandwidth"}),t.jsx("p",{className:"text-xl font-bold text-white",children:"0 GB"})]}),t.jsx(tY,{className:"h-8 w-8 text-gray-600"})]})})})]})]})]})}),t.jsxs(mt,{value:"details",className:"space-y-6",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900/50",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"API Configuration"}),t.jsx(Rt,{children:"Configure API keys and webhooks for external integrations"})]}),t.jsxs(X,{className:"space-y-6",children:[(!(e!=null&&e.vapi_webhook_configured)||!v)&&t.jsx("div",{className:"mb-6",children:t.jsx(BNe,{organizationId:(e==null?void 0:e.id)||"",onComplete:()=>window.location.reload()})}),(e==null?void 0:e.vapi_webhook_configured)&&v&&t.jsxs(qt,{className:"border-green-800 bg-green-900/20",children:[t.jsx(yt,{className:"h-4 w-4 text-green-400"}),t.jsx(Ht,{className:"text-green-400",children:"VAPI is configured and ready to use. Your assistants are sending calls to our webhook."})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{className:"text-gray-400",children:"VAPI Private Key"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Se,{type:f?"text":"password",placeholder:"Enter your VAPI Private Key",className:"bg-gray-800 border-gray-700 text-white",value:v,onChange:R=>b(R.target.value)}),t.jsx(q,{variant:"outline",className:"border-gray-700",onClick:()=>g(!f),children:f?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})}),t.jsx(q,{variant:"outline",className:"bg-emerald-600 hover:bg-emerald-700 border-emerald-600",onClick:()=>S("private"),children:t.jsx(Vt,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Your VAPI Private key for making calls"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{className:"text-gray-400",children:"VAPI Public Key"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Se,{type:y?"text":"password",placeholder:"Enter your VAPI Public Key",className:"bg-gray-800 border-gray-700 text-white",value:N,onChange:R=>C(R.target.value)}),t.jsx(q,{variant:"outline",className:"border-gray-700",onClick:()=>w(!y),children:y?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})}),t.jsx(q,{variant:"outline",className:"bg-emerald-600 hover:bg-emerald-700 border-emerald-600",onClick:()=>S("public"),children:t.jsx(Vt,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Your VAPI Public key for webhooks"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{className:"text-gray-400",children:"Webhook URL"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Se,{value:`${window.location.origin}/api/webhooks/vapi`,readOnly:!0,className:"bg-gray-800 border-gray-700 text-gray-400"}),t.jsx(q,{variant:"outline",className:"border-gray-700",children:t.jsx(mn,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Configure this URL in your VAPI dashboard"})]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900/50",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Notification Settings"}),t.jsx(Rt,{children:"Configure how you receive notifications"})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Email Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive email updates for important events"})]}),t.jsx(Lr,{defaultChecked:!0})]}),t.jsx(Bn,{className:"bg-gray-800"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"SMS Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Get SMS alerts for critical issues"})]}),t.jsx(Lr,{})]}),t.jsx(Bn,{className:"bg-gray-800"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Weekly Reports"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive weekly performance summaries"})]}),t.jsx(Lr,{defaultChecked:!0})]})]})]})]}),t.jsx(mt,{value:"billing",className:"space-y-6",children:t.jsxs(G,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(fe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ge,{className:"text-white",children:"Current Plan"}),t.jsx(Rt,{children:"Manage your subscription and billing"})]}),t.jsxs(je,{className:"flex items-center space-x-1 px-3 py-1",children:[A(e.plan),t.jsx("span",{className:"text-xs font-medium uppercase",children:e.plan})]})]})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(X,{className:"p-4",children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Monthly Cost"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:T(e.monthly_cost)}),t.jsx("p",{className:"text-xs text-gray-500",children:"Billed monthly"})]})}),t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(X,{className:"p-4",children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Next Payment"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:e.last_payment_at?new Date(new Date(e.last_payment_at).setMonth(new Date(e.last_payment_at).getMonth()+1)).toLocaleDateString():"N/A"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Auto-renewal"})]})}),t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(X,{className:"p-4",children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Payment Method"}),t.jsxs("p",{className:"text-lg font-bold text-white flex items-center",children:[t.jsx(qn,{className:"mr-2 h-4 w-4"})," 4242"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Visa"})]})})]}),t.jsx(Bn,{className:"bg-gray-800"}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-medium mb-4",children:"Payment History"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white",children:"December 2024"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Professional Plan"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-white font-medium",children:T(299)}),t.jsx(je,{variant:"outline",className:"text-xs border-emerald-500 text-emerald-400",children:"Paid"})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white",children:"November 2024"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Professional Plan"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-white font-medium",children:T(299)}),t.jsx(je,{variant:"outline",className:"text-xs border-emerald-500 text-emerald-400",children:"Paid"})]})]})]})]}),t.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-lg border border-purple-500/20",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Upgrade to Enterprise"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Get unlimited resources and priority support"})]}),t.jsx(q,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Upgrade Plan"})]})]})]})}),t.jsx(mt,{value:"team",children:t.jsx(WNe,{organizationId:e.id})}),t.jsx(mt,{value:"security",children:t.jsx(G,{className:"border-gray-800 bg-gray-900/50",children:t.jsxs(X,{className:"p-12 text-center",children:[t.jsx(Ps,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"Security Settings"}),t.jsx("p",{className:"text-gray-400",children:"Configure security and compliance settings"})]})})})]})]})})},Sh=[{id:1,name:"Organization",icon:tr},{id:2,name:"Admin User",icon:vs},{id:3,name:"Team Setup",icon:Nt},{id:4,name:"VAPI Setup",icon:is},{id:5,name:"Review & Submit",icon:hs}],Ch=[{code:"US",name:"United States",flag:""},{code:"UK",name:"United Kingdom",flag:""},{code:"CA",name:"Canada",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""},{code:"ES",name:"Spain",flag:""},{code:"IT",name:"Italy",flag:""},{code:"NL",name:"Netherlands",flag:""},{code:"SE",name:"Sweden",flag:""},{code:"NO",name:"Norway",flag:""},{code:"DK",name:"Denmark",flag:""},{code:"FI",name:"Finland",flag:""},{code:"CH",name:"Switzerland",flag:""},{code:"AT",name:"Austria",flag:""},{code:"BE",name:"Belgium",flag:""},{code:"IE",name:"Ireland",flag:""},{code:"PT",name:"Portugal",flag:""},{code:"NZ",name:"New Zealand",flag:""},{code:"SG",name:"Singapore",flag:""}],qNe=["Technology","Healthcare","Finance","Real Estate","Marketing & Advertising","Consulting","E-commerce","Manufacturing","Education","Legal","Insurance","Telecommunications","Media & Entertainment","Non-profit","Other"],vO=[{id:"admin",name:"Admin",description:"Full access to all features and settings"},{id:"user",name:"User",description:"Can create and manage campaigns"},{id:"viewer",name:"Viewer",description:"Read-only access to campaigns and reports"}];function HNe(){var W,V,U;const e=br(),{getToken:r}=ja(),[s,a]=p.useState(1),[n,i]=p.useState(!1),[o,l]=p.useState({}),[d,m]=p.useState(!1),[h,f]=p.useState(!1),[g,y]=p.useState(null),[w,v]=p.useState({businessName:"",email:"",country:"",website:"",industry:"",adminFirstName:"",adminLastName:"",adminEmail:"",adminPhone:"",teamSize:"",addTeamMembers:!1,teamMembers:[],vapiApiKey:"",vapiPrivateKey:"",vapiSetupComplete:!1,isDraft:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),b=s/Sh.length*100,N=L=>{const O={};switch(L){case 1:w.businessName.trim()||(O.businessName="Business name is required"),w.email.trim()||(O.email="Email is required"),w.email.includes("@")||(O.email="Please enter a valid email address"),w.country||(O.country="Please select a country");break;case 2:w.adminFirstName.trim()||(O.adminFirstName="First name is required"),w.adminLastName.trim()||(O.adminLastName="Last name is required"),w.adminEmail.trim()||(O.adminEmail="Admin email is required"),w.adminEmail.includes("@")||(O.adminEmail="Please enter a valid email address");break;case 3:w.teamSize||(O.teamSize="Please select team size"),w.addTeamMembers&&w.teamMembers.length===0&&(O.teamMembers="Please add at least one team member or disable team member addition"),w.teamMembers.forEach((F,z)=>{F.firstName.trim()||(O[`teamMember${z}FirstName`]="First name is required"),F.lastName.trim()||(O[`teamMember${z}LastName`]="Last name is required"),F.email.trim()||(O[`teamMember${z}Email`]="Email is required"),F.email.includes("@")||(O[`teamMember${z}Email`]="Please enter a valid email"),F.role||(O[`teamMember${z}Role`]="Please select a role")});break;case 4:w.vapiPrivateKey.trim()||(O.vapiPrivateKey="VAPI Private Key is required"),w.vapiApiKey.trim()||(O.vapiApiKey="VAPI Public Key is required");break}return l(O),Object.keys(O).length===0},C=()=>{N(s)&&s<Sh.length&&(a(s+1),v(L=>({...L,updatedAt:new Date().toISOString()})))},S=()=>{s>1&&(a(s-1),l({}))},_=L=>{L<s?(a(L),l({})):L===s+1&&C()},A=L=>{v(O=>({...O,...L,updatedAt:new Date().toISOString()}))},T=()=>{const L={id:`member_${Date.now()}`,firstName:"",lastName:"",email:"",role:"user"};A({teamMembers:[...w.teamMembers,L]})},E=(L,O)=>{const F=[...w.teamMembers];F[L]={...F[L],...O},A({teamMembers:F})},R=L=>{const O=w.teamMembers.filter((F,z)=>z!==L);A({teamMembers:O})},$=async()=>{i(!0);try{const L={...w,isDraft:!0};localStorage.setItem("organizationDraft",JSON.stringify(L)),alert(" Organization setup saved as draft!")}catch(L){console.error("Error saving draft:",L),alert(" Failed to save draft. Please try again.")}finally{i(!1)}},K=async()=>{if(console.log(" Complete Setup button clicked - Starting process..."),!N(s)){console.log(" Validation failed for current step:",s);return}i(!0),console.log(" Loading state set to true");try{console.log(" Getting authentication token...");const L=await r();if(console.log(" Token received:",L?"Yes":"No"),!L)throw console.error(" No authentication token received"),new Error("Authentication required. Please sign in.");console.log(" Authentication token received:",L?"Token exists":"No token");const O={businessName:w.businessName,email:w.email,country:w.country,website:w.website,industry:w.industry,adminFirstName:w.adminFirstName,adminLastName:w.adminLastName,adminEmail:w.adminEmail,adminPhone:w.adminPhone,useBusinessEmail:w.adminEmail===w.email,teamSize:w.teamSize,addTeamMembers:w.addTeamMembers,teamMembers:w.teamMembers,vapiApiKey:w.vapiApiKey,vapiPrivateKey:w.vapiPrivateKey};console.log(" Submitting organization setup:",O);const z="https://apex-backend-august-production.up.railway.app/api/api/organization-setup/setup";console.log(" Making API call to:",z),console.log(" Request headers:",{"Content-Type":"application/json",Authorization:`Bearer ${L.substring(0,20)}...`});const Y=await fetch(z,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify(O)});console.log(" Response status:",Y.status,Y.statusText);const B=await Y.json();if(console.log(" Response body:",B),!Y.ok)throw console.error(" API call failed:",B),new Error(B.error||`HTTP error! status: ${Y.status}`);console.log(" Organization setup completed:",B),console.log(" Setting setup result and showing success screen..."),y(B),f(!0),A({vapiApiKey:"",vapiPrivateKey:""}),console.log(" Success screen should now be visible!")}catch(L){console.error(" Error completing setup:",L),console.log(" Setting error result and showing error screen..."),y({success:!1,error:L instanceof Error?L.message:"Failed to complete setup",details:"If the problem persists, please contact support."}),f(!0),console.log(" Error screen should now be visible!")}finally{i(!1),console.log(" Loading state set to false")}},M=()=>{var L,O,F,z;switch(s){case 1:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Organization Details"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Tell us about your business to get started with the Apex AI Calling Platform"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Business Name *"}),t.jsx(Se,{value:w.businessName,onChange:Y=>A({businessName:Y.target.value}),placeholder:"e.g., Acme Marketing Agency",className:"border-gray-700 bg-gray-800 text-white"}),o.businessName&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.businessName})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Business Email *"}),t.jsx(Se,{type:"email",value:w.email,onChange:Y=>A({email:Y.target.value}),placeholder:"contact@acmemarketing.com",className:"border-gray-700 bg-gray-800 text-white"}),o.email&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.email})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Country of Residence *"}),t.jsxs(at,{value:w.country,onValueChange:Y=>A({country:Y}),children:[t.jsx(et,{className:"hover:bg-gray-750 border-gray-700 bg-gray-800 text-white transition-colors",children:t.jsx(nt,{placeholder:"Select your country",children:w.country?t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-lg",children:(L=Ch.find(Y=>Y.code===w.country))==null?void 0:L.flag}),t.jsx("span",{className:"text-white",children:(O=Ch.find(Y=>Y.code===w.country))==null?void 0:O.name})]}):t.jsx("span",{className:"text-gray-400",children:"Select your country"})})}),t.jsx(tt,{className:"max-h-60 overflow-y-auto border-gray-700 bg-gray-800",children:Ch.map(Y=>t.jsx(se,{value:Y.code,className:"cursor-pointer text-white hover:bg-gray-700 focus:bg-gray-700",children:t.jsxs("div",{className:"flex items-center gap-3 py-1",children:[t.jsx("span",{className:"min-w-[24px] text-lg",children:Y.flag}),t.jsx("span",{className:"text-white",children:Y.name})]})},Y.code))})]}),o.country&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.country})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Website (Optional)"}),t.jsx(Se,{type:"url",value:w.website,onChange:Y=>A({website:Y.target.value}),placeholder:"https://www.acmemarketing.com",className:"border-gray-700 bg-gray-800 text-white"})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Industry (Optional)"}),t.jsxs(at,{value:w.industry,onValueChange:Y=>A({industry:Y}),children:[t.jsx(et,{className:"hover:bg-gray-750 border-gray-700 bg-gray-800 text-white transition-colors",children:t.jsx(nt,{placeholder:"Select your industry"})}),t.jsx(tt,{className:"max-h-60 overflow-y-auto border-gray-700 bg-gray-800",children:qNe.map(Y=>t.jsx(se,{value:Y,className:"cursor-pointer text-white hover:bg-gray-700 focus:bg-gray-700",children:t.jsx("span",{className:"text-white",children:Y})},Y))})]})]})]}),t.jsxs(qt,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(Yt,{className:"h-4 w-4 text-blue-400"}),t.jsx(Ht,{className:"text-gray-300",children:"This information helps us customize your experience and ensure compliance with local regulations."})]})]});case 2:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Admin User Setup"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Create the primary administrator account for your organization"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"First Name *"}),t.jsx(Se,{value:w.adminFirstName,onChange:Y=>A({adminFirstName:Y.target.value}),placeholder:"John",className:"border-gray-700 bg-gray-800 text-white"}),o.adminFirstName&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.adminFirstName})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Last Name *"}),t.jsx(Se,{value:w.adminLastName,onChange:Y=>A({adminLastName:Y.target.value}),placeholder:"Smith",className:"border-gray-700 bg-gray-800 text-white"}),o.adminLastName&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.adminLastName})]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Email Address *"}),t.jsx(Se,{type:"email",value:w.adminEmail,onChange:Y=>A({adminEmail:Y.target.value}),placeholder:"john.smith@acmemarketing.com",className:"border-gray-700 bg-gray-800 text-white"}),o.adminEmail&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.adminEmail})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Telephone Number (Optional)"}),t.jsx(Se,{type:"tel",value:w.adminPhone,onChange:Y=>A({adminPhone:Y.target.value}),placeholder:"+1 (555) 123-4567",className:"border-gray-700 bg-gray-800 text-white"})]})]}),t.jsxs(qt,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(vs,{className:"h-4 w-4 text-emerald-400"}),t.jsx(Ht,{className:"text-gray-300",children:"The admin user will have full access to all platform features and will be able to manage other team members."})]})]});case 3:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Team Setup"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Configure your team size and add team members to your organization"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"mb-3 block text-gray-300",children:"Team Size *"}),t.jsx($l,{value:w.teamSize,onValueChange:Y=>A({teamSize:Y}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Qs,{value:"0-5",id:"small"}),t.jsxs(Z,{htmlFor:"small",className:"flex-1 cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"0 - 5 members"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Small team or startup"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Qs,{value:"6-9",id:"medium"}),t.jsxs(Z,{htmlFor:"medium",className:"flex-1 cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"6 - 9 members"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Growing team"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Qs,{value:"10+",id:"large"}),t.jsxs(Z,{htmlFor:"large",className:"flex-1 cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"10+ members"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Large team or enterprise"})]})]})]})}),o.teamSize&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.teamSize})]}),t.jsx(Bn,{className:"bg-gray-700"}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx(Z,{className:"text-gray-300",children:"Add Team Members (Optional)"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"addTeamMembers",checked:w.addTeamMembers,onChange:Y=>A({addTeamMembers:Y.target.checked}),className:"rounded border-gray-600 bg-gray-700"}),t.jsx(Z,{htmlFor:"addTeamMembers",className:"cursor-pointer text-gray-300",children:"Enable team member setup"})]})]}),w.addTeamMembers&&t.jsxs("div",{className:"space-y-4",children:[w.teamMembers.map((Y,B)=>t.jsx(G,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(X,{className:"p-4",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("h4",{className:"font-medium text-white",children:["Team Member ",B+1]}),t.jsx(q,{variant:"outline",size:"sm",onClick:()=>R(B),className:"border-red-600 text-red-400 hover:bg-red-900/20",children:t.jsx(Bs,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"First Name *"}),t.jsx(Se,{value:Y.firstName,onChange:ee=>E(B,{firstName:ee.target.value}),placeholder:"Jane",className:"border-gray-600 bg-gray-700 text-white"}),o[`teamMember${B}FirstName`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${B}FirstName`]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Last Name *"}),t.jsx(Se,{value:Y.lastName,onChange:ee=>E(B,{lastName:ee.target.value}),placeholder:"Doe",className:"border-gray-600 bg-gray-700 text-white"}),o[`teamMember${B}LastName`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${B}LastName`]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Email *"}),t.jsx(Se,{type:"email",value:Y.email,onChange:ee=>E(B,{email:ee.target.value}),placeholder:"jane.doe@acmemarketing.com",className:"border-gray-600 bg-gray-700 text-white"}),o[`teamMember${B}Email`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${B}Email`]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"Role *"}),t.jsxs(at,{value:Y.role,onValueChange:ee=>E(B,{role:ee}),children:[t.jsx(et,{className:"hover:bg-gray-650 border-gray-600 bg-gray-700 text-white transition-colors",children:t.jsx(nt,{placeholder:"Select role"})}),t.jsx(tt,{className:"border-gray-600 bg-gray-700",children:vO.map(ee=>t.jsx(se,{value:ee.id,className:"cursor-pointer text-white hover:bg-gray-600 focus:bg-gray-600",children:t.jsxs("div",{className:"py-1",children:[t.jsx("div",{className:"font-medium text-white",children:ee.name}),t.jsx("div",{className:"text-xs text-gray-300",children:ee.description})]})},ee.id))})]}),o[`teamMember${B}Role`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${B}Role`]})]})]})]})},Y.id)),t.jsxs(q,{variant:"outline",onClick:T,className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Add Another Team Member"]}),o.teamMembers&&t.jsx("p",{className:"text-sm text-red-400",children:o.teamMembers})]})]})]})]});case 4:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"VAPI Integration Setup"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Configure your VAPI account to enable AI calling functionality"})]}),t.jsxs(qt,{className:"border-blue-700 bg-blue-900/20",children:[t.jsx(Yt,{className:"h-4 w-4 text-blue-400"}),t.jsx(Ht,{className:"text-blue-300",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:"How to set up your VAPI account:"}),t.jsxs("ol",{className:"list-inside list-decimal space-y-1 text-sm",children:[t.jsxs("li",{children:["Visit"," ",t.jsxs("a",{href:"https://vapi.ai",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-400 hover:underline",children:["vapi.ai ",t.jsx(ji,{className:"h-3 w-3"})]})," ","and create an account"]}),t.jsx("li",{children:'Navigate to your dashboard and go to "API Keys"'}),t.jsx("li",{children:"Generate a new API key and copy it"}),t.jsx("li",{children:"Also copy your Private Key from the account settings"}),t.jsx("li",{children:"Paste both keys below to connect your account"})]})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Z,{className:"text-gray-300",children:"VAPI Private Key (Bearer Token) *"}),t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>m(!d),className:"text-gray-400 hover:text-white",children:d?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]}),t.jsx(Se,{type:d?"text":"password",value:w.vapiPrivateKey,onChange:Y=>A({vapiPrivateKey:Y.target.value}),placeholder:"sk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"border-gray-700 bg-gray-800 font-mono text-white"}),o.vapiPrivateKey&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.vapiPrivateKey})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-300",children:"VAPI Public Key *"}),t.jsx(Se,{type:d?"text":"password",value:w.vapiApiKey,onChange:Y=>A({vapiApiKey:Y.target.value}),placeholder:"vapi_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"border-gray-700 bg-gray-800 font-mono text-white"}),o.vapiApiKey&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.vapiApiKey})]})]}),t.jsxs(qt,{className:"border-green-700 bg-green-900/20",children:[t.jsx(hs,{className:"h-4 w-4 text-green-400"}),t.jsx(Ht,{className:"text-green-300",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:"What happens next:"}),t.jsxs("ul",{className:"list-inside list-disc space-y-1 text-sm",children:[t.jsx("li",{children:"Your VAPI account will be connected to the platform"}),t.jsx("li",{children:"You'll be able to create AI voice agents"}),t.jsx("li",{children:"Phone numbers can be purchased and configured"}),t.jsx("li",{children:"AI calling campaigns can be launched"})]})]})})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsx("h4",{className:"mb-2 font-medium text-white",children:"Security Note"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Your API keys are encrypted and stored securely. They are only used to authenticate with VAPI services and are never shared with third parties."})]})]});case 5:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Review & Submit"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Please review all information before submitting. Once submitted, your organization and user accounts will be created."})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(tr,{className:"h-5 w-5 text-emerald-500"}),"Organization Details"]})}),t.jsx(X,{className:"space-y-3",children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Business Name"}),t.jsx("p",{className:"font-medium text-white",children:w.businessName})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Email"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(wa,{className:"h-4 w-4 text-gray-400"}),w.email]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Country"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx("span",{className:"text-lg",children:(F=Ch.find(Y=>Y.code===w.country))==null?void 0:F.flag}),((z=Ch.find(Y=>Y.code===w.country))==null?void 0:z.name)||w.country]})]}),w.website&&t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Website"}),t.jsx("p",{className:"font-medium text-white",children:w.website})]}),w.industry&&t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Industry"}),t.jsx("p",{className:"font-medium text-white",children:w.industry})]})]})})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(vs,{className:"h-5 w-5 text-blue-500"}),"Administrator Account"]})}),t.jsx(X,{className:"space-y-3",children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Full Name"}),t.jsxs("p",{className:"font-medium text-white",children:[w.adminFirstName," ",w.adminLastName]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Email"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(wa,{className:"h-4 w-4 text-gray-400"}),w.adminEmail]})]}),w.adminPhone&&t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Phone"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(pt,{className:"h-4 w-4 text-gray-400"}),w.adminPhone]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Role"}),t.jsx(je,{variant:"secondary",className:"bg-blue-900 text-blue-300",children:"Organization Administrator"})]})]})})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(Nt,{className:"h-5 w-5 text-purple-500"}),"Team Setup"]})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Team Size"}),t.jsxs("p",{className:"font-medium text-white",children:[w.teamSize," members"]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Additional Team Members"}),t.jsx("p",{className:"font-medium text-white",children:w.addTeamMembers?`${w.teamMembers.length} added`:"None"})]})]}),w.addTeamMembers&&w.teamMembers.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsx(Z,{className:"mb-2 block text-sm text-gray-400",children:"Team Members"}),t.jsx("div",{className:"space-y-2",children:w.teamMembers.map((Y,B)=>{var ee;return t.jsx("div",{className:"rounded-lg bg-gray-700 p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[Y.firstName," ",Y.lastName]}),t.jsx("p",{className:"text-sm text-gray-400",children:Y.email})]}),t.jsx(je,{variant:"outline",className:"border-gray-600 text-gray-300",children:((ee=vO.find(ke=>ke.id===Y.role))==null?void 0:ee.name)||Y.role})]})},Y.id)})})]})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(is,{className:"h-5 w-5 text-orange-500"}),"VAPI Integration"]})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"API Key Status"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(yt,{className:"h-4 w-4 text-green-500"}),"Connected"]})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-sm text-gray-400",children:"Private Key Status"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(yt,{className:"h-4 w-4 text-green-500"}),"Configured"]})]})]}),t.jsxs(qt,{className:"border-green-700 bg-green-900/20",children:[t.jsx(hs,{className:"h-4 w-4 text-green-400"}),t.jsx(Ht,{className:"text-green-300",children:"VAPI integration is ready. You'll be able to create AI voice agents and launch calling campaigns immediately after setup."})]})]})]}),t.jsx(G,{className:"border-emerald-700 bg-gradient-to-r from-emerald-900/20 to-blue-900/20",children:t.jsxs(X,{className:"p-6",children:[t.jsx("h4",{className:"mb-4 font-medium text-white",children:"Setup Summary"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"1"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Organization"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:1+(w.addTeamMembers?w.teamMembers.length:0)}),t.jsx("div",{className:"text-sm text-gray-400",children:"Users"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:w.teamSize}),t.jsx("div",{className:"text-sm text-gray-400",children:"Team Size"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-400",children:""}),t.jsx("div",{className:"text-sm text-gray-400",children:"VAPI Ready"})]})]})]})}),t.jsxs(qt,{className:"border-blue-700 bg-blue-900/20",children:[t.jsx(Yt,{className:"h-4 w-4 text-blue-400"}),t.jsx(Ht,{className:"text-blue-300",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:"What happens when you submit:"}),t.jsxs("ul",{className:"list-inside list-disc space-y-1 text-sm",children:[t.jsxs("li",{children:['Your organization "',w.businessName,'" will be created']}),t.jsxs("li",{children:["Admin account for ",w.adminFirstName," ",w.adminLastName," will be set up"]}),w.addTeamMembers&&w.teamMembers.length>0&&t.jsxs("li",{children:[w.teamMembers.length," team member account(s) will be created"]}),t.jsx("li",{children:"VAPI integration will be activated for AI calling"}),t.jsx("li",{children:"You'll receive login credentials via email"})]})]})})]})]});default:return null}},I=()=>{switch(s){case 1:return w.businessName&&w.email&&w.country;case 2:return w.adminFirstName&&w.adminLastName&&w.adminEmail;case 3:return w.teamSize&&(!w.addTeamMembers||w.teamMembers.length>0);case 4:return w.vapiApiKey&&w.vapiPrivateKey;case 5:return!0;default:return!1}};return h&&g?t.jsx("div",{className:"min-h-screen bg-gray-900 p-6",children:t.jsxs("div",{className:"mx-auto max-w-4xl",children:[t.jsxs("div",{className:"mb-8 text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-emerald-500",children:g.success?t.jsx(yt,{className:"h-8 w-8 text-white"}):t.jsx(jt,{className:"h-8 w-8 text-white"})}),t.jsx("h1",{className:"mb-2 text-3xl font-bold text-white",children:g.success?"Setup Complete!":"Setup Failed"}),t.jsx("p",{className:"text-gray-400",children:g.success?"Your organization has been created successfully":"There was an issue creating your organization"})]}),g.success?t.jsxs("div",{className:"space-y-6",children:[t.jsxs(qt,{className:"border-emerald-600 bg-emerald-900",children:[t.jsx(yt,{className:"h-4 w-4 text-emerald-500"}),t.jsx(Ht,{className:"text-emerald-100",children:g.message})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(tr,{className:"h-5 w-5 text-emerald-500"}),"Organization Created"]})}),t.jsx(X,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-400",children:"Organization Name"}),t.jsx("p",{className:"font-medium text-white",children:g.organizationName})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-400",children:"Organization ID"}),t.jsx("p",{className:"font-mono text-sm text-white",children:g.organizationId})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-400",children:"Admin Email"}),t.jsx("p",{className:"text-white",children:g.adminEmail})]}),t.jsxs("div",{children:[t.jsx(Z,{className:"text-gray-400",children:"Team Members"}),t.jsxs("p",{className:"text-white",children:[g.teamMembersCreated||0," created"]})]})]})})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx($o,{className:"h-5 w-5 text-emerald-500"}),"Next Steps"]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-emerald-500",children:t.jsx("span",{className:"text-sm font-bold text-white",children:"1"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Check Your Email"}),t.jsx("p",{className:"text-sm text-gray-400",children:(W=g.nextSteps)==null?void 0:W.emailVerification})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-emerald-500",children:t.jsx("span",{className:"text-sm font-bold text-white",children:"2"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Team Setup"}),t.jsx("p",{className:"text-sm text-gray-400",children:(V=g.nextSteps)==null?void 0:V.accountSetup})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-emerald-500",children:t.jsx("span",{className:"text-sm font-bold text-white",children:"3"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Start Calling"}),t.jsxs("p",{className:"text-sm text-gray-400",children:["VAPI Status:"," ",(U=g.vapiStatus)!=null&&U.connected?" Ready":" Needs Configuration"]})]})]})]})})]}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsxs(q,{onClick:()=>e("/organizations"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(tr,{className:"mr-2 h-4 w-4"}),"View Organizations"]}),t.jsxs(q,{variant:"outline",onClick:()=>e("/dashboard"),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[t.jsx($N,{className:"mr-2 h-4 w-4"}),"Go to Dashboard"]})]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs(qt,{className:"border-red-600 bg-red-900",children:[t.jsx(jt,{className:"h-4 w-4 text-red-500"}),t.jsx(Ht,{className:"text-red-100",children:g.error})]}),g.details&&t.jsx(G,{className:"border-gray-700 bg-gray-800",children:t.jsx(X,{className:"pt-6",children:t.jsx("p",{className:"text-gray-400",children:g.details})})}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsxs(q,{onClick:()=>{f(!1),y(null),a(1)},className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(rd,{className:"mr-2 h-4 w-4"}),"Try Again"]}),t.jsxs(q,{variant:"outline",onClick:()=>e("/organizations"),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[t.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Organizations"]})]})]})]})}):t.jsx("div",{className:"min-h-screen bg-gray-950 p-6",children:t.jsxs("div",{className:"mx-auto max-w-6xl",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(tr,{className:"h-8 w-8 text-emerald-500"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Organization Setup"}),t.jsx("p",{className:"text-gray-400",children:"Set up your organization on the Apex AI Calling Platform"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(q,{variant:"outline",onClick:$,disabled:n,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Save as Draft"]}),t.jsx(q,{variant:"outline",onClick:()=>e("/organizations"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"})]})]}),t.jsx(ar,{value:b,className:"h-2 bg-gray-800"})]}),t.jsx("div",{className:"mb-8",children:t.jsx("div",{className:"flex items-center justify-between",children:Sh.map((L,O)=>{const F=L.icon,z=L.id===s,Y=L.id<s,B=L.id<=s+1;return t.jsxs(oe.Fragment,{children:[t.jsxs("div",{className:`flex cursor-pointer flex-col items-center transition-all ${B?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>B&&_(L.id),children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full transition-all ${z?"bg-emerald-600 text-white":Y?"bg-green-600 text-white":"bg-gray-800 text-gray-400"}`,children:Y?t.jsx(hs,{className:"h-6 w-6"}):t.jsx(F,{className:"h-6 w-6"})}),t.jsx("span",{className:`mt-2 text-sm ${z?"font-medium text-white":"text-gray-400"}`,children:L.name})]}),O<Sh.length-1&&t.jsx("div",{className:`mx-2 h-0.5 flex-1 ${Y?"bg-green-600":"bg-gray-800"}`})]},L.id)})})}),t.jsxs(G,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(X,{className:"p-8",children:M()}),t.jsx("div",{className:"border-t border-gray-800 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(q,{variant:"outline",onClick:S,disabled:s===1,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(tc,{className:"mr-2 h-4 w-4"}),"Previous"]}),s<Sh.length?t.jsxs(q,{onClick:C,className:"bg-emerald-600 hover:bg-emerald-700",children:["Next",t.jsx(io,{className:"ml-2 h-4 w-4"})]}):t.jsx(q,{onClick:K,disabled:n||!I(),className:"bg-green-600 hover:bg-green-700",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Setting up Organization..."]}):t.jsxs(t.Fragment,{children:[t.jsx($o,{className:"mr-2 h-4 w-4"}),"Complete Setup"]})})]})})]})]})})}function KNe({user:e,isOpen:r,onClose:s,onResendInvitation:a,onSuspendUser:n,onActivateUser:i}){if(!e)return null;const o=(N,C)=>{const S={active:{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",icon:yt,label:"Active"},invited:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:wa,label:C||"Invited"},"Invitation Pending":{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:It,label:"Invitation Pending"},"Invitation Expired":{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:Kt,label:"Invitation Expired"},"Never Logged In":{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:vs,label:"Never Logged In"},inactive:{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:ku,label:"Inactive"},suspended:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:ku,label:"Suspended"}},_=S[C||N]||S.invited,A=_.icon;return t.jsxs(je,{variant:"outline",className:_.className,children:[t.jsx(A,{className:"mr-1 h-3 w-3"}),_.label]})},l=N=>{const C=N.replace("client_","").replace("_"," ").split(" ").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" ");return t.jsxs(je,{variant:"outline",className:"border-blue-500/20 bg-blue-500/10 text-blue-400",children:[t.jsx(Ps,{className:"mr-1 h-3 w-3"}),C]})},d=N=>N?new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",h=(N=>{if(!N)return{text:"Never logged in",className:"text-gray-400"};const C=Math.floor((Date.now()-new Date(N).getTime())/(1e3*60*60*24));return C===0?{text:"Today",className:"text-emerald-400"}:C===1?{text:"Yesterday",className:"text-emerald-400"}:C<7?{text:`${C} days ago`,className:"text-blue-400"}:C<30?{text:`${Math.floor(C/7)} weeks ago`,className:"text-yellow-400"}:{text:`${Math.floor(C/30)} months ago`,className:"text-red-400"}})(e.last_login_at),f=e.status==="suspended"?"suspended":e.status==="invited"||!e.last_login_at?"invited":e.status==="active"&&e.last_login_at?"active":e.status,g=e.status==="suspended"?"Suspended":!e.last_login_at&&(e.status==="invited"||e.status==="active")?"Invitation Pending":e.status==="active"&&e.last_login_at?"Active":e.display_status||e.status,y=!e.last_login_at&&(e.status==="invited"||e.status==="active"),w=y,v=e.status==="active"&&e.last_login_at,b=e.status==="suspended"||e.status==="inactive";return t.jsx(_d,{open:r,onOpenChange:s,children:t.jsxs(uc,{className:"bg-gray-900 border-gray-800 max-w-2xl",children:[t.jsx(mc,{children:t.jsx(hc,{className:"text-xl font-semibold text-white",children:"User Profile"})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-emerald-500/10",children:t.jsx(vs,{className:"h-8 w-8 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-white",children:[e.first_name," ",e.last_name]}),t.jsx("p",{className:"text-sm text-gray-400",children:e.email}),e.phone&&t.jsxs("p",{className:"text-sm text-gray-400 flex items-center gap-1 mt-1",children:[t.jsx(pt,{className:"h-3 w-3"}),e.phone]})]})]}),t.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[o(f,g),l(e.role)]})]}),y&&t.jsxs(qt,{className:"border-yellow-700 bg-yellow-900/20",children:[t.jsx(Kt,{className:"h-4 w-4 text-yellow-400"}),t.jsxs(Ht,{className:"text-yellow-200",children:["This user has been invited but hasn't set up their account yet.",e.display_status==="Invitation Expired"?" Their invitation has expired and needs to be resent.":" They need to check their email and complete the signup process."]})]}),e.status==="suspended"&&t.jsxs(qt,{className:"border-red-700 bg-red-900/20",children:[t.jsx(ku,{className:"h-4 w-4 text-red-400"}),t.jsx(Ht,{className:"text-red-200",children:"This user account is suspended and cannot access the platform."})]}),t.jsx(Bn,{className:"bg-gray-800"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Account Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Created"}),t.jsx("p",{className:"text-white",children:d(e.created_at)})]}),e.invited_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Invited"}),t.jsx("p",{className:"text-white",children:d(e.invited_at)}),e.invited_by_name&&t.jsxs("p",{className:"text-xs text-gray-500",children:["by ",e.invited_by_name]})]}),e.invitation_accepted_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Invitation Accepted"}),t.jsx("p",{className:"text-white",children:d(e.invitation_accepted_at)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Email Verified"}),t.jsx("p",{className:"text-white flex items-center gap-1",children:e.email_verified?t.jsxs(t.Fragment,{children:[t.jsx(yt,{className:"h-4 w-4 text-emerald-400"}),"Verified"]}):t.jsxs(t.Fragment,{children:[t.jsx(Kt,{className:"h-4 w-4 text-yellow-400"}),"Not Verified"]})})]})]})]}),t.jsx(Bn,{className:"bg-gray-800"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Login Activity"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"First Login"}),t.jsx("p",{className:"text-white",children:d(e.first_login_at)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Last Login"}),t.jsx("p",{className:`font-medium ${h.className}`,children:h.text}),e.last_login_at&&t.jsx("p",{className:"text-xs text-gray-500",children:d(e.last_login_at)})]}),e.login_count!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Logins"}),t.jsx("p",{className:"text-white",children:e.login_count})]}),e.last_activity_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Last Activity"}),t.jsx("p",{className:"text-white",children:C0(new Date(e.last_activity_at),{addSuffix:!0})})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[w&&a&&t.jsxs(q,{onClick:()=>a(e.id),variant:"outline",className:"border-yellow-700 text-yellow-400 hover:bg-yellow-900/20",children:[t.jsx(ql,{className:"mr-2 h-4 w-4"}),"Resend Invitation"]}),v&&n&&t.jsxs(q,{onClick:()=>n(e.id),variant:"outline",className:"border-red-700 text-red-400 hover:bg-red-900/20",children:[t.jsx(ku,{className:"mr-2 h-4 w-4"}),"Suspend User"]}),b&&i&&t.jsxs(q,{onClick:()=>i(e.id),variant:"outline",className:"border-emerald-700 text-emerald-400 hover:bg-emerald-900/20",children:[t.jsx(ad,{className:"mr-2 h-4 w-4"}),"Activate User"]}),t.jsx(q,{onClick:s,variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Close"})]})]})]})})}const bO=[{id:1,name:"Details",icon:tr},{id:2,name:"Team",icon:Nt},{id:3,name:"Settings",icon:is}],GNe=[{code:"US",name:"United States",flag:""},{code:"UK",name:"United Kingdom",flag:""},{code:"CA",name:"Canada",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""}],YNe=["Technology","Healthcare","Finance","Real Estate","Retail","Manufacturing","Education","Marketing & Advertising","Other"],JNe=[{value:"client_admin",label:"Admin",description:"Full access to organization"},{value:"client_user",label:"User",description:"Can manage campaigns"}];function XNe(){const{id:e}=wf(),r=br(),{getToken:s}=ja(),{toast:a}=ts(),[n,i]=p.useState(2),[o,l]=p.useState(null),[d,m]=p.useState([]),[h,f]=p.useState([]),[g,y]=p.useState(!0),[w,v]=p.useState(!1),[b,N]=p.useState(null),[C,S]=p.useState(!1),[_,A]=p.useState(""),[T,E]=p.useState(""),[R,$]=p.useState(""),[K,M]=p.useState("client_user"),[I,W]=p.useState(!1),[V,U]=p.useState({}),[L,O]=p.useState(""),[F,z]=p.useState(""),[Y,B]=p.useState("https://api.apexai.com/webhooks/vapi"),[ee,ke]=p.useState(!1),[H,he]=p.useState(!1),[Ie,Pe]=p.useState(!1),[De,ce]=p.useState(null),[Ce,Ee]=p.useState(!1);p.useEffect(()=>{te()},[e]),p.useEffect(()=>{o&&(console.log(" Updating VAPI fields from organization data:",{vapi_api_key:o.vapi_api_key,vapi_private_key:o.vapi_private_key,fullOrg:o}),O(o.vapi_private_key||""),z(o.vapi_api_key||""),ke(!!o.vapi_api_key||!!o.vapi_private_key))},[o]);const te=async()=>{var ue,Be;try{y(!0);const{supabaseService:kt}=await fn(async()=>{const{supabaseService:Ke}=await Promise.resolve().then(()=>Au);return{supabaseService:Ke}},void 0);console.log(" Fetching organization data for ID:",e);try{const Ke=await kt.getOrganization(e);if(!Ke)throw new Error("Organization not found");const Ms={id:Ke.id,name:Ke.name,slug:Ke.slug,type:Ke.type,status:Ke.status,plan:Ke.plan,monthly_cost:Ke.monthly_cost,primary_color:Ke.primary_color,secondary_color:Ke.secondary_color,website:Ke.website,phone:Ke.phone,address:Ke.address,country:Ke.country,industry:Ke.industry,contact_name:Ke.contact_name,contact_email:Ke.billing_email||Ke.contact_email,contact_phone:Ke.contact_phone,vapi_api_key:Ke.vapi_api_key,vapi_private_key:Ke.vapi_private_key,created_at:Ke.created_at,updated_at:Ke.updated_at};l(Ms),U(Ms),console.log(" Loading VAPI settings from Supabase:",{vapi_api_key:Ke.vapi_api_key,vapi_private_key:Ke.vapi_private_key,fullOrgData:Ke}),O(Ke.vapi_private_key||""),z(Ke.vapi_api_key||""),ke(!!(Ke.vapi_api_key||Ke.vapi_private_key)),B("https://api.apexai.com/webhooks/vapi");try{const us=(await kt.getUsers(e)).map(gt=>({id:gt.id,email:gt.email,first_name:gt.first_name,last_name:gt.last_name,phone:gt.phone,role:gt.role,status:gt.status,email_verified:gt.email_verified,created_at:gt.created_at,invited_at:gt.invited_at,last_login_at:gt.last_login_at}));m(us)}catch(rs){console.warn("Failed to fetch users:",rs),m([])}N(null),y(!1);return}catch(Ke){console.error(" Error fetching from Supabase:",Ke),N("Organization not found"),y(!1);return}const Jt=await s(),_t={"Content-Type":"application/json",...Jt&&{Authorization:`Bearer ${Jt}`}},wr=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/organizations/${e}`,{headers:_t});if(!wr.ok)throw new Error("Failed to fetch organization");const Yr=await wr.json(),jr=Yr.organization||Yr;if(l(jr),U(jr),jr.vapi_settings||(ue=jr.settings)!=null&&ue.vapi){const Ke=jr.vapi_settings?typeof jr.vapi_settings=="string"?JSON.parse(jr.vapi_settings):jr.vapi_settings:(Be=jr.settings)==null?void 0:Be.vapi;O(Ke.privateKey||Ke.apiKey||""),z(Ke.publicKey||""),B(Ke.webhookUrl||"https://api.apexai.com/webhooks/vapi"),ke(Ke.enabled!==void 0?Ke.enabled:!0)}const bs=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/organizations/${e}/users`,{headers:_t});if(bs.ok){const Ke=await bs.json();m(Ke.users||[])}const Tr=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/organizations/${e}/invitations`,{headers:_t});if(Tr.ok){const Ke=await Tr.json();f(Ke.invitations||[])}}catch(kt){console.error("Error fetching organization data:",kt),a({title:"Error",description:"Failed to load organization data",variant:"destructive"})}finally{y(!1)}},be=async()=>{try{v(!0);const{supabaseService:ue}=await fn(async()=>{const{supabaseService:Jt}=await Promise.resolve().then(()=>Au);return{supabaseService:Jt}},void 0),Be={name:V.name,billing_email:V.contact_email,phone:V.phone,address:V.address,country:V.country,website:V.website,industry:V.industry,updated_at:new Date().toISOString()};n===3&&(Be.vapi_private_key=L,Be.vapi_api_key=F,console.log(" Including VAPI settings in update")),console.log(" Attempting to save organization with data:",{id:e,updateData:Be,currentStep:n});const kt=await ue.updateOrganization(e,Be);console.log(" Update result:",kt),a({title:"Success",description:"Organization details saved successfully"}),console.log(" Save completed successfully - skipping refresh to avoid errors")}catch(ue){console.error(" Error saving changes:",ue),console.error("Error details:",{message:ue instanceof Error?ue.message:"Unknown error",error:ue}),a({title:"Error",description:ue instanceof Error?ue.message:"Failed to save changes",variant:"destructive"})}finally{v(!1)}},Te=async()=>{try{W(!0);const ue=await s(),Be=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/organizations/${e}/invite`,{method:"POST",headers:{"Content-Type":"application/json",...ue&&{Authorization:`Bearer ${ue}`}},body:JSON.stringify({email:_,firstName:T,lastName:R,role:K,inviterName:"Admin"})});if(!Be.ok){const kt=await Be.json();throw new Error(kt.error||"Failed to send invitation")}a({title:"Success",description:`Invitation sent to ${_}`}),A(""),E(""),$(""),M("client_user"),S(!1),await te()}catch(ue){console.error("Error sending invitation:",ue),a({title:"Error",description:ue instanceof Error?ue.message:"Failed to send invitation",variant:"destructive"})}finally{W(!1)}},Ue=async ue=>{try{const Be=await s();if(!(await fetch(`https://apex-backend-august-production.up.railway.app/api/api/invitations/${ue}/resend`,{method:"POST",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}}})).ok)throw new Error("Failed to resend invitation");a({title:"Success",description:"Invitation resent successfully"}),await te()}catch(Be){console.error("Error resending invitation:",Be),a({title:"Error",description:"Failed to resend invitation",variant:"destructive"})}},ie=async ue=>{if(confirm("Are you sure you want to cancel this invitation?"))try{const Be=await s();if(!(await fetch(`https://apex-backend-august-production.up.railway.app/api/api/invitations/${ue}`,{method:"DELETE",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}}})).ok)throw new Error("Failed to cancel invitation");a({title:"Success",description:"Invitation cancelled"}),await te()}catch(Be){console.error("Error cancelling invitation:",Be),a({title:"Error",description:"Failed to cancel invitation",variant:"destructive"})}},Ge=ue=>{const Be=`${window.location.origin}/accept-invitation?token=${ue}`;navigator.clipboard.writeText(Be),a({title:"Copied!",description:"Invitation link copied to clipboard"})},Ct=ue=>ue.status==="active"&&ue.last_login_at?{status:"active",label:"Active"}:ue.status==="invited"&&!ue.invitation_accepted_at?{status:"invited",label:"Invitation Pending"}:ue.status==="active"&&!ue.last_login_at?{status:"never_logged_in",label:"Never Logged In"}:ue.status==="suspended"?{status:"suspended",label:"Suspended"}:ue.status==="inactive"?{status:"inactive",label:"Inactive"}:{status:ue.status,label:ue.status},Ot=(ue,Be)=>{const kt={active:{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",icon:yt},invited:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:wa},never_logged_in:{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:It},pending:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:It},cancelled:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:jt},accepted:{className:"bg-blue-500/10 text-blue-400 border-blue-500/20",icon:hs},suspended:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:ku},inactive:{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:ku}},Jt=kt[ue]||kt.pending,_t=Jt.icon;return t.jsxs(je,{variant:"outline",className:Jt.className,children:[t.jsx(_t,{className:"mr-1 h-3 w-3"}),Be||ue.charAt(0).toUpperCase()+ue.slice(1)]})},St=ue=>{const Be=Ct(ue),kt={...ue,display_status:Be.label};ce(kt),Ee(!0)};return g?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx($n,{className:"h-8 w-8 animate-spin text-emerald-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"Loading organization..."})]})}):o?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-black to-gray-950",children:[t.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 mx-auto max-w-6xl",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(tr,{className:"h-8 w-8 text-emerald-500"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:o.name}),t.jsx("p",{className:"text-gray-400",children:"Manage organization settings and team members"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(q,{variant:"outline",onClick:()=>r("/organizations"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(rd,{className:"mr-2 h-4 w-4"}),"Back to Organizations"]}),t.jsx(q,{onClick:be,disabled:w,className:"bg-emerald-600 hover:bg-emerald-700",children:w?t.jsxs(t.Fragment,{children:[t.jsx($n,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Save as Draft"]})}),t.jsx(q,{variant:"outline",onClick:()=>r("/organizations"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"})]})]}),t.jsx("div",{className:"flex items-center justify-center gap-4 mb-8",children:bO.map((ue,Be)=>{const kt=ue.icon,Jt=ue.id===n,_t=ue.id<n;return t.jsxs(oe.Fragment,{children:[t.jsxs("button",{onClick:()=>i(ue.id),className:`flex items-center gap-3 rounded-lg px-4 py-3 transition-all ${Jt?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":_t?"bg-gray-800/50 text-gray-300 hover:bg-gray-800":"bg-gray-900/50 text-gray-500 hover:bg-gray-900"}`,children:[t.jsx("div",{className:`rounded-full p-2 ${Jt?"bg-emerald-500/20":_t?"bg-gray-700":"bg-gray-800"}`,children:t.jsx(kt,{className:"h-5 w-5"})}),t.jsx("span",{className:"font-medium",children:ue.name})]}),Be<bO.length-1&&t.jsx(io,{className:"h-5 w-5 text-gray-600"})]},ue.id)})})]}),t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsxs(X,{className:"p-8",children:[n===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Organization Details"}),t.jsx("p",{className:"text-gray-400",children:"Update your organization's basic information"})]}),t.jsx(Bn,{className:"bg-gray-800"}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"name",className:"text-gray-300",children:"Business Name *"}),t.jsx(Se,{id:"name",value:V.name||"",onChange:ue=>U({...V,name:ue.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"e.g., Acme Marketing Agency"})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"contact_email",className:"text-gray-300",children:"Business Email *"}),t.jsx(Se,{id:"contact_email",type:"email",value:V.contact_email||"",onChange:ue=>U({...V,contact_email:ue.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"contact@acmemarketing.com"})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"country",className:"text-gray-300",children:"Country of Residence *"}),t.jsxs(at,{value:V.country||"",onValueChange:ue=>U({...V,country:ue}),children:[t.jsx(et,{className:"mt-2 bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:"Select your country"})}),t.jsx(tt,{children:GNe.map(ue=>t.jsx(se,{value:ue.code,children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{children:ue.flag}),t.jsx("span",{children:ue.name})]})},ue.code))})]})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"phone",className:"text-gray-300",children:"Phone Number"}),t.jsx(Se,{id:"phone",type:"tel",value:V.phone||"",onChange:ue=>U({...V,phone:ue.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"+1 (555) 123-4567"})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"website",className:"text-gray-300",children:"Website (Optional)"}),t.jsx(Se,{id:"website",type:"url",value:V.website||"",onChange:ue=>U({...V,website:ue.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"https://www.acmemarketing.com"})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"industry",className:"text-gray-300",children:"Industry (Optional)"}),t.jsxs(at,{value:V.industry||"",onValueChange:ue=>U({...V,industry:ue}),children:[t.jsx(et,{className:"mt-2 bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:"Select your industry"})}),t.jsx(tt,{children:YNe.map(ue=>t.jsx(se,{value:ue,children:ue},ue))})]})]})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"address",className:"text-gray-300",children:"Business Address"}),t.jsx(qa,{id:"address",value:V.address||"",onChange:ue=>U({...V,address:ue.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:`123 Main Street, Suite 100
City, State 12345`,rows:3})]}),t.jsxs(qt,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(Yt,{className:"h-4 w-4 text-blue-400"}),t.jsx(Ht,{className:"text-gray-300",children:"This information helps us customize your experience and ensure compliance with local regulations."})]})]}),n===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Team Members"}),t.jsx("p",{className:"text-gray-400",children:"Manage who has access to your organization"})]}),t.jsxs(q,{onClick:()=>S(!0),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Af,{className:"mr-2 h-4 w-4"}),"Invite Member"]})]}),t.jsx(Bn,{className:"bg-gray-800"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Active Members"}),d.length>0?t.jsx("div",{className:"space-y-3",children:d.map(ue=>{const Be=Ct(ue);return t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800/50 p-4 cursor-pointer hover:bg-gray-800/70 transition-colors",onClick:()=>St(ue),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-500/10",children:t.jsx(vs,{className:"h-5 w-5 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[ue.first_name," ",ue.last_name]}),t.jsx("p",{className:"text-sm text-gray-400",children:ue.email}),ue.last_login_at&&t.jsxs("p",{className:"text-xs text-gray-500",children:["Last login: ",new Date(ue.last_login_at).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(je,{variant:"outline",className:"border-gray-700 text-gray-400",children:ue.role.replace("client_","")}),Ot(Be.status,Be.label)]})]},ue.id)})}):t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-8 text-center",children:[t.jsx(Nt,{className:"mx-auto mb-3 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"text-gray-400",children:"No team members yet. Start by inviting someone!"})]})]}),h.filter(ue=>ue.status==="pending").length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Pending Invitations"}),t.jsx("div",{className:"space-y-3",children:h.filter(ue=>ue.status==="pending").map(ue=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-yellow-500/10",children:t.jsx(wa,{className:"h-5 w-5 text-yellow-400"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[ue.first_name," ",ue.last_name]}),t.jsx("p",{className:"text-sm text-gray-400",children:ue.email}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Expires ",new Date(ue.expires_at).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>Ge(ue.id),className:"text-gray-400 hover:text-white",children:t.jsx(mn,{className:"h-4 w-4"})}),t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>Ue(ue.id),className:"text-gray-400 hover:text-white",children:t.jsx(ql,{className:"h-4 w-4"})}),t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>ie(ue.id),className:"text-red-400 hover:text-red-300",children:t.jsx(Bs,{className:"h-4 w-4"})})]})]},ue.id))})]})]}),n===3&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"VAPI Integration"}),t.jsx("p",{className:"text-gray-400",children:"Configure your VAPI settings for AI calling capabilities"})]}),t.jsx(Bn,{className:"bg-gray-800"}),t.jsxs(qt,{className:"border-emerald-700 bg-emerald-900/20",children:[t.jsx(yt,{className:"h-4 w-4 text-emerald-400"}),t.jsxs(Ht,{className:"text-emerald-200",children:["VAPI integration enables AI-powered outbound calling. Get your API keys from"," ",t.jsx("a",{href:"https://vapi.ai",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline",children:"vapi.ai"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"vapiPrivateKey",className:"text-gray-300",children:"VAPI Private Key"}),t.jsxs("div",{className:"relative mt-2",children:[t.jsx(Se,{id:"vapiPrivateKey",type:H?"text":"password",value:L,onChange:ue=>O(ue.target.value),className:"bg-gray-800 border-gray-700 text-white pr-10",placeholder:"Enter your VAPI Private Key"}),t.jsx("button",{type:"button",onClick:()=>he(!H),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:H?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"vapiPublicKey",className:"text-gray-300",children:"VAPI Public Key"}),t.jsxs("div",{className:"relative mt-2",children:[t.jsx(Se,{id:"vapiPublicKey",type:Ie?"text":"password",value:F,onChange:ue=>z(ue.target.value),className:"bg-gray-800 border-gray-700 text-white pr-10",placeholder:"Enter your VAPI Public Key"}),t.jsx("button",{type:"button",onClick:()=>Pe(!Ie),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:Ie?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"vapiWebhookUrl",className:"text-gray-300",children:"Webhook URL"}),t.jsx(Se,{id:"vapiWebhookUrl",value:Y,onChange:ue=>B(ue.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"https://api.apexai.com/webhooks/vapi"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Enable VAPI Integration"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Allow AI-powered calling for your campaigns"})]}),t.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[t.jsx("input",{type:"checkbox",checked:ee,onChange:ue=>ke(ue.target.checked),className:"peer sr-only"}),t.jsx("div",{className:"peer h-6 w-11 rounded-full bg-gray-700 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:bg-white after:transition-all after:content-[''] peer-checked:bg-emerald-500 peer-checked:after:translate-x-full peer-focus:outline-none"})]})]})]}),t.jsxs(qt,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(sd,{className:"h-4 w-4 text-gray-400"}),t.jsx(Ht,{className:"text-gray-300",children:"Your API keys are encrypted and stored securely. Never share them publicly."})]})]})]})})]}),t.jsx(_d,{open:C,onOpenChange:S,children:t.jsxs(uc,{className:"bg-gray-900 border-gray-800",children:[t.jsxs(mc,{children:[t.jsx(hc,{className:"text-white",children:"Invite Team Member"}),t.jsx(Pd,{className:"text-gray-400",children:"Send an invitation to add a new member to your organization"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"inviteFirstName",className:"text-gray-300",children:"First Name"}),t.jsx(Se,{id:"inviteFirstName",value:T,onChange:ue=>E(ue.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"John"})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"inviteLastName",className:"text-gray-300",children:"Last Name"}),t.jsx(Se,{id:"inviteLastName",value:R,onChange:ue=>$(ue.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"Doe"})]})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"inviteEmail",className:"text-gray-300",children:"Email Address"}),t.jsx(Se,{id:"inviteEmail",type:"email",value:_,onChange:ue=>A(ue.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"john.doe@example.com"})]}),t.jsxs("div",{children:[t.jsx(Z,{htmlFor:"inviteRole",className:"text-gray-300",children:"Role"}),t.jsxs(at,{value:K,onValueChange:M,children:[t.jsx(et,{className:"mt-2 bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{})}),t.jsx(tt,{children:JNe.map(ue=>t.jsx(se,{value:ue.value,children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:ue.label}),t.jsx("p",{className:"text-sm text-gray-400",children:ue.description})]})},ue.value))})]})]})]}),t.jsxs(jm,{children:[t.jsx(q,{variant:"outline",onClick:()=>S(!1),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsx(q,{onClick:Te,disabled:!_||!T||!R||I,className:"bg-emerald-600 hover:bg-emerald-700",children:I?t.jsxs(t.Fragment,{children:[t.jsx($n,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ql,{className:"mr-2 h-4 w-4"}),"Send Invitation"]})})]})]})}),t.jsx(KNe,{user:De,isOpen:Ce,onClose:()=>{Ee(!1),ce(null)},onResendInvitation:async ue=>{try{const Be=await s(),kt=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/users/${ue}/resend-invitation`,{method:"POST",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}},body:JSON.stringify({inviterName:"Admin"})});if(!kt.ok){const _t=await kt.json();throw new Error(_t.error||"Failed to resend invitation")}const Jt=await kt.json();Jt.inviteLink&&Jt.warning?a({title:"Invitation Link Generated",description:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:Jt.message}),t.jsx("div",{className:"mt-2 p-2 bg-gray-800 rounded text-xs break-all",children:Jt.inviteLink}),t.jsx("p",{className:"text-xs text-gray-400",children:Jt.warning}),t.jsxs("div",{className:"mt-3 p-2 bg-blue-900/20 border border-blue-800 rounded text-xs",children:[t.jsx("p",{className:"font-semibold text-blue-400 mb-1",children:"To enable automatic email sending:"}),t.jsx("p",{className:"text-gray-300",children:"1. Get a free Resend API key at resend.com"}),t.jsx("p",{className:"text-gray-300",children:"2. Add to your /apps/backend/.env file:"}),t.jsx("p",{className:"text-gray-300 font-mono bg-gray-800 p-1 rounded mt-1",children:"RESEND_API_KEY=re_your_api_key"}),t.jsx("p",{className:"text-gray-300",children:"3. Restart the backend server"})]})]}),duration:15e3}):a({title:"Success",description:Jt.message}),await te()}catch(Be){console.error("Error resending invitation:",Be),a({title:"Error",description:Be instanceof Error?Be.message:"Failed to resend invitation",variant:"destructive"})}},onSuspendUser:async ue=>{if(confirm("Are you sure you want to suspend this user? They will lose access to the platform."))try{const Be=await s(),kt=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/users/${ue}/suspend`,{method:"POST",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}},body:JSON.stringify({reason:"Suspended by administrator"})});if(!kt.ok){const Jt=await kt.json();throw new Error(Jt.error||"Failed to suspend user")}a({title:"User Suspended",description:"The user has been suspended and can no longer access the platform."}),await te(),Ee(!1)}catch(Be){console.error("Error suspending user:",Be),a({title:"Error",description:Be instanceof Error?Be.message:"Failed to suspend user",variant:"destructive"})}},onActivateUser:async ue=>{try{const Be=await s(),kt=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/users/${ue}/activate`,{method:"POST",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}}});if(!kt.ok){const _t=await kt.json();throw new Error(_t.error||"Failed to activate user")}const Jt=await kt.json();a({title:"User Activated",description:Jt.message}),await te(),Ee(!1)}catch(Be){console.error("Error activating user:",Be),a({title:"Error",description:Be instanceof Error?Be.message:"Failed to activate user",variant:"destructive"})}}})]}):t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsx(G,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:t.jsx(X,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Kt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Organization not found"}),t.jsx("p",{className:"text-gray-400 mb-6",children:"The organization you're looking for doesn't exist or you don't have access."}),t.jsx(q,{onClick:()=>r("/organizations"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Back to Organizations"})]})})})})}const QNe=[{month:"Jan",revenue:45e3,mrr:38e3,growth:12},{month:"Feb",revenue:52e3,mrr:41e3,growth:15},{month:"Mar",revenue:48e3,mrr:43e3,growth:8},{month:"Apr",revenue:61e3,mrr:47e3,growth:18},{month:"May",revenue:58e3,mrr:51e3,growth:14},{month:"Jun",revenue:67e3,mrr:56e3,growth:22}],kh=[{name:"TechCorp Solutions",revenue:12500,calls:8420,leads:342},{name:"Global Fitness Inc",revenue:9800,calls:6230,leads:287},{name:"Healthcare Partners",revenue:8200,calls:5140,leads:198},{name:"Real Estate Pro",revenue:7600,calls:4890,leads:176},{name:"E-commerce Plus",revenue:6400,calls:3920,leads:145}],wu={totalCalls:128450,totalLeads:3847,avgSuccessRate:74.3,activeClients:47,totalAgents:156,avgCallDuration:"3:24"},ZNe=[{name:"API Gateway",status:"operational",uptime:99.98,latency:42},{name:"Database",status:"operational",uptime:99.95,latency:18},{name:"AI Processing",status:"operational",uptime:99.92,latency:156},{name:"Voice Services",status:"degraded",uptime:98.76,latency:234},{name:"Analytics Engine",status:"operational",uptime:99.89,latency:67}],e1e=[{id:1,timestamp:"2024-01-07 14:23:45",service:"Voice API",error:"Connection timeout",severity:"warning"},{id:2,timestamp:"2024-01-07 13:45:12",service:"Database",error:"Slow query detected",severity:"info"},{id:3,timestamp:"2024-01-07 12:18:33",service:"AI Engine",error:"Rate limit exceeded",severity:"error"},{id:4,timestamp:"2024-01-07 11:02:45",service:"Analytics",error:"Data sync delayed",severity:"warning"}];function t1e(){const[e,r]=p.useState("last30days"),[s,a]=p.useState("all"),[n,i]=p.useState("all"),[o,l]=p.useState(!1),{toast:d}=ts(),m=br(),f="admin"==="admin";p.useEffect(()=>{},[f,m,d]);const g=v=>{l(!0),setTimeout(()=>{d({title:"Export Started",description:`Exporting platform analytics as ${v.toUpperCase()}...`}),l(!1)},1e3)},y=v=>{switch(v){case"operational":return"text-emerald-400";case"degraded":return"text-yellow-400";case"down":return"text-red-400";default:return"text-gray-400"}},w=v=>{switch(v){case"error":return"bg-red-600/20 text-red-400 border-red-600/30";case"warning":return"bg-yellow-600/20 text-yellow-400 border-yellow-600/30";case"info":return"bg-blue-600/20 text-blue-400 border-blue-600/30";default:return"bg-gray-600/20 text-gray-400 border-gray-600/30"}};return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Platform Analytics"}),t.jsxs(je,{className:"border-red-600/30 bg-red-600/20 text-red-400",children:[t.jsx(h0,{className:"mr-1 h-3 w-3"}),"Admin Only"]})]}),t.jsx("p",{className:"text-gray-400",children:"Comprehensive platform metrics and system health monitoring"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",onClick:()=>g("csv"),disabled:o,children:[t.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",onClick:()=>g("pdf"),disabled:o,children:[t.jsx(ZG,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center text-white",children:[t.jsx(Rx,{className:"mr-2 h-5 w-5 text-emerald-500"}),"Data Filters"]})}),t.jsx(X,{children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Date Range"}),t.jsxs(at,{value:e,onValueChange:r,children:[t.jsx(et,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"last7days",children:"Last 7 Days"}),t.jsx(se,{value:"last30days",children:"Last 30 Days"}),t.jsx(se,{value:"last90days",children:"Last 90 Days"}),t.jsx(se,{value:"thisYear",children:"This Year"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Client Organization"}),t.jsxs(at,{value:s,onValueChange:a,children:[t.jsx(et,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"all",children:"All Clients"}),kh.map(v=>t.jsx(se,{value:v.name,children:v.name},v.name))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Campaign Type"}),t.jsxs(at,{value:n,onValueChange:i,children:[t.jsx(et,{className:"border-gray-700 bg-gray-950/50",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"all",children:"All Types"}),t.jsx(se,{value:"outbound",children:"Outbound"}),t.jsx(se,{value:"inbound",children:"Inbound"}),t.jsx(se,{value:"hybrid",children:"Hybrid"})]})]})]})]})})]}),t.jsxs(Ei,{defaultValue:"revenue",className:"space-y-6",children:[t.jsxs(Qn,{className:"grid w-full grid-cols-4 border border-gray-800 bg-gray-900/90",children:[t.jsxs(ut,{value:"revenue",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Revenue Overview"]}),t.jsxs(ut,{value:"usage",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(xs,{className:"mr-2 h-4 w-4"}),"Usage Metrics"]}),t.jsxs(ut,{value:"clients",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(tr,{className:"mr-2 h-4 w-4"}),"Top Clients"]}),t.jsxs(ut,{value:"health",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(p0,{className:"mr-2 h-4 w-4"}),"System Health"]})]}),t.jsxs(mt,{value:"revenue",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Revenue"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"$321,000"}),t.jsxs("div",{className:"mt-2 flex items-center text-emerald-400",children:[t.jsx(YM,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"+18.5% from last month"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(Ur,{className:"h-5 w-5 text-emerald-400"})})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"MRR"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"$56,000"}),t.jsxs("div",{className:"mt-2 flex items-center text-emerald-400",children:[t.jsx(_s,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"+12.3% growth"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/20",children:t.jsx(qn,{className:"h-5 w-5 text-blue-400"})})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Revenue/Client"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"$6,830"}),t.jsxs("div",{className:"mt-2 flex items-center text-orange-400",children:[t.jsx(Nt,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"47 active clients"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(tr,{className:"h-5 w-5 text-emerald-400"})})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Churn Rate"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"2.1%"}),t.jsxs("div",{className:"mt-2 flex items-center text-emerald-400",children:[t.jsx(g0,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"-0.5% from last month"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-red-500/20",children:t.jsx(g0,{className:"h-5 w-5 text-red-400"})})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Revenue & MRR Trends"}),t.jsx(Rt,{className:"text-gray-400",children:"Monthly revenue and recurring revenue"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-80",children:t.jsx(Un,{width:"100%",height:"100%",children:t.jsxs(Ly,{data:QNe,children:[t.jsx(Yi,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(bi,{dataKey:"month",stroke:"#9ca3af"}),t.jsx(wi,{stroke:"#9ca3af"}),t.jsx(Fn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(fd,{type:"monotone",dataKey:"revenue",stroke:"#10b981",fill:"#10b981",fillOpacity:.3,name:"Total Revenue"}),t.jsx(fd,{type:"monotone",dataKey:"mrr",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,name:"MRR"})]})})})})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Revenue by Client"}),t.jsx(Rt,{className:"text-gray-400",children:"Top 5 revenue generating clients"})]}),t.jsx(X,{children:t.jsx("div",{className:"space-y-4",children:kh.map((v,b)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-600/20 font-semibold text-emerald-400",children:b+1}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:v.name}),t.jsxs("p",{className:"text-sm text-gray-400",children:[v.calls.toLocaleString()," calls"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-semibold text-white",children:["$",v.revenue.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-emerald-400",children:[(v.revenue/321e3*100).toFixed(1),"% of total"]})]})]},v.name))})})]})]})]}),t.jsxs(mt,{value:"usage",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 lg:grid-cols-6",children:[t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:wu.totalCalls.toLocaleString()})]}),t.jsx(pt,{className:"h-8 w-8 text-emerald-400"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Leads"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:wu.totalLeads.toLocaleString()})]}),t.jsx(dr,{className:"h-8 w-8 text-blue-400"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Success Rate"}),t.jsxs("p",{className:"mt-1 text-2xl font-bold text-white",children:[wu.avgSuccessRate,"%"]})]}),t.jsx(yt,{className:"h-8 w-8 text-emerald-400"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clients"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:wu.activeClients})]}),t.jsx(tr,{className:"h-8 w-8 text-emerald-400"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Agents"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:wu.totalAgents})]}),t.jsx(Nt,{className:"h-8 w-8 text-orange-400"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Duration"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:wu.avgCallDuration})]}),t.jsx(It,{className:"h-8 w-8 text-yellow-400"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Call Volume by Hour"}),t.jsx(Rt,{className:"text-gray-400",children:"Platform-wide call distribution"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-80",children:t.jsx(Un,{width:"100%",height:"100%",children:t.jsxs(r4,{data:[{hour:"8AM",calls:1200},{hour:"9AM",calls:2800},{hour:"10AM",calls:3400},{hour:"11AM",calls:3100},{hour:"12PM",calls:2200},{hour:"1PM",calls:2600},{hour:"2PM",calls:3200},{hour:"3PM",calls:3500},{hour:"4PM",calls:2900},{hour:"5PM",calls:1800}],children:[t.jsx(Yi,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(bi,{dataKey:"hour",stroke:"#9ca3af"}),t.jsx(wi,{stroke:"#9ca3af"}),t.jsx(Fn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(uf,{dataKey:"calls",fill:"#10b981",radius:[8,8,0,0]})]})})})})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Lead Conversion Funnel"}),t.jsx(Rt,{className:"text-gray-400",children:"Platform-wide conversion metrics"})]}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Calls Made"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"128,450"})]}),t.jsx(ar,{value:100,className:"h-3 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Connected"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"95,414 (74.3%)"})]}),t.jsx(ar,{value:74.3,className:"h-3 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Interested"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"28,624 (22.3%)"})]}),t.jsx(ar,{value:22.3,className:"h-3 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Qualified Leads"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"3,847 (3.0%)"})]}),t.jsx(ar,{value:3,className:"h-3 bg-gray-800"})]})]})})]})]})]}),t.jsxs(mt,{value:"clients",className:"space-y-6",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsx(fe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ge,{className:"text-white",children:"Top Performing Clients"}),t.jsx(Rt,{className:"text-gray-400",children:"Ranked by revenue contribution and performance metrics"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(q,{size:"sm",variant:"outline",className:"border-gray-700 hover:border-emerald-600 hover:bg-emerald-600/10",children:[t.jsx(ba,{className:"mr-2 h-4 w-4"}),"View Charts"]}),t.jsxs(q,{size:"sm",variant:"outline",className:"border-gray-700 hover:border-emerald-600 hover:bg-emerald-600/10",children:[t.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Export"]})]})]})}),t.jsx(X,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Rank"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Client Organization"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Revenue"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Call Volume"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Leads Generated"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Conversion Rate"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Status"})]})}),t.jsx("tbody",{children:kh.map((v,b)=>t.jsxs("tr",{className:"border-b border-gray-800 transition-colors hover:bg-gray-800/50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-lg font-semibold ${b===0?"bg-yellow-600/20 text-yellow-400":b===1?"bg-gray-600/20 text-gray-300":b===2?"bg-orange-600/20 text-orange-400":"bg-gray-800 text-gray-400"}`,children:b+1})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:v.name}),t.jsx("p",{className:"text-xs text-gray-400",children:"Active since Jan 2023"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-white",children:["$",v.revenue.toLocaleString()]}),t.jsx("p",{className:"text-xs text-emerald-400",children:"+12% MoM"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-white",children:v.calls.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-400",children:"calls/month"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-white",children:v.leads}),t.jsx("p",{className:"text-xs text-gray-400",children:"qualified leads"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ar,{value:v.leads/v.calls*100,className:"h-2 w-16"}),t.jsxs("span",{className:"text-sm text-white",children:[(v.leads/v.calls*100).toFixed(1),"%"]})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(je,{className:"border-emerald-600/30 bg-emerald-600/20 text-emerald-400",children:"Active"})})]},v.name))})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Revenue Distribution"}),t.jsx(Rt,{className:"text-gray-400",children:"Client revenue share"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-80",children:t.jsx(Un,{width:"100%",height:"100%",children:t.jsxs(s4,{children:[t.jsx(Ry,{data:kh,cx:"50%",cy:"50%",outerRadius:100,dataKey:"revenue",label:({name:v,value:b})=>`${v}: $${b.toLocaleString()}`,children:kh.map((v,b)=>t.jsx(kd,{fill:b===0?"#10b981":b===1?"#3b82f6":b===2?"#8b5cf6":b===3?"#f59e0b":"#ef4444"},`cell-${b}`))}),t.jsx(Fn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}})]})})})})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Client Growth Trends"}),t.jsx(Rt,{className:"text-gray-400",children:"Monthly client acquisition"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-80",children:t.jsx(Un,{width:"100%",height:"100%",children:t.jsxs(Ez,{data:[{month:"Jan",clients:32},{month:"Feb",clients:35},{month:"Mar",clients:38},{month:"Apr",clients:42},{month:"May",clients:45},{month:"Jun",clients:47}],children:[t.jsx(Yi,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(bi,{dataKey:"month",stroke:"#9ca3af"}),t.jsx(wi,{stroke:"#9ca3af"}),t.jsx(Fn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(mx,{type:"monotone",dataKey:"clients",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:4}})]})})})})]})]})]}),t.jsxs(mt,{value:"health",className:"space-y-6",children:[t.jsxs(qt,{className:"border-gray-800 bg-gray-900/90",children:[t.jsx(Kt,{className:"h-4 w-4 text-yellow-400"}),t.jsx(IU,{className:"text-white",children:"System Status"}),t.jsx(Ht,{className:"text-gray-300",children:"Voice Services experiencing minor degradation. All other systems operational."})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:ZNe.map(v=>t.jsx(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h3",{className:"font-medium text-white",children:v.name}),t.jsx(je,{className:v.status==="operational"?"border-emerald-600/30 bg-emerald-600/20 text-emerald-400":v.status==="degraded"?"border-yellow-600/30 bg-yellow-600/20 text-yellow-400":"border-red-600/30 bg-red-600/20 text-red-400",children:v.status})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Uptime"}),t.jsxs("span",{className:`text-sm font-medium ${y(v.status)}`,children:[v.uptime,"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Latency"}),t.jsxs("span",{className:"text-sm font-medium text-white",children:[v.latency,"ms"]})]}),t.jsx(ar,{value:v.uptime,className:"h-2 bg-gray-800"})]})]})},v.name))}),t.jsxs(G,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsx(fe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ge,{className:"text-white",children:"Recent Error Logs"}),t.jsx(Rt,{className:"text-gray-400",children:"System errors and warnings"})]}),t.jsxs(q,{size:"sm",variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(Po,{className:"mr-2 h-4 w-4"}),"View Full Logs"]})]})}),t.jsx(X,{children:t.jsx("div",{className:"space-y-3",children:e1e.map(v=>t.jsx("div",{className:"rounded-lg border border-gray-800 bg-gray-950/50 p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx(je,{className:w(v.severity),children:v.severity}),t.jsx("span",{className:"text-sm text-gray-400",children:v.timestamp})]}),t.jsx("p",{className:"font-medium text-white",children:v.service}),t.jsx("p",{className:"mt-1 text-sm text-gray-300",children:v.error})]}),t.jsx(q,{size:"sm",variant:"ghost",className:"hover:bg-gray-800",children:t.jsx(Ir,{className:"h-4 w-4"})})]})},v.id))})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900/90",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"API Usage Stats"}),t.jsx(Rt,{className:"text-gray-400",children:"Last 24 hours"})]}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Kr,{className:"h-5 w-5 text-emerald-400"}),t.jsx("span",{className:"text-white",children:"Total API Calls"})]}),t.jsx("span",{className:"font-semibold text-white",children:"2.4M"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yt,{className:"h-5 w-5 text-emerald-400"}),t.jsx("span",{className:"text-white",children:"Success Rate"})]}),t.jsx("span",{className:"font-semibold text-white",children:"99.7%"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(It,{className:"h-5 w-5 text-yellow-400"}),t.jsx("span",{className:"text-white",children:"Avg Response Time"})]}),t.jsx("span",{className:"font-semibold text-white",children:"142ms"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ji,{className:"h-5 w-5 text-red-400"}),t.jsx("span",{className:"text-white",children:"Failed Requests"})]}),t.jsx("span",{className:"font-semibold text-white",children:"7,234"})]})]})})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Database Performance"}),t.jsx(Rt,{className:"text-gray-400",children:"Current metrics"})]}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"CPU Usage"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"42%"})]}),t.jsx(ar,{value:42,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Memory Usage"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"68%"})]}),t.jsx(ar,{value:68,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Storage Used"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"234 GB / 500 GB"})]}),t.jsx(ar,{value:46.8,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Active Connections"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"127 / 200"})]}),t.jsx(ar,{value:63.5,className:"h-2 bg-gray-800"})]})]})})]})]})]})]})]})})}function r1e(){const e=br(),{getToken:r}=ja(),{toast:s}=ts(),[a,n]=p.useState(!0),[i,o]=p.useState([]),[l,d]=p.useState({}),[m,h]=p.useState(!1),[f,g]=p.useState(""),[y,w]=p.useState(["read"]),[v,b]=p.useState("never"),[N,C]=p.useState(""),[S,_]=p.useState(!1);p.useEffect(()=>{A()},[]);const A=async()=>{try{const M=await r(),I=await fetch("/api/user/api-keys",{headers:{Authorization:`Bearer ${M}`}});if(I.ok){const W=await I.json();o(W)}}catch{s({title:"Error",description:"Failed to fetch API keys",variant:"destructive"})}finally{n(!1)}},T=async()=>{if(!f.trim()){s({title:"Error",description:"Please enter a name for the API key",variant:"destructive"});return}h(!0);try{const M=await r(),I=await fetch("/api/user/api-keys",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({name:f,permissions:y,expiry:v})});if(I.ok){const W=await I.json();C(W.key),_(!0),g(""),w(["read"]),b("never"),A(),s({title:"API Key Created",description:"Your new API key has been generated successfully."})}}catch{s({title:"Error",description:"Failed to create API key",variant:"destructive"})}finally{h(!1)}},E=async M=>{try{const I=await r();(await fetch(`/api/user/api-keys/${M}`,{method:"DELETE",headers:{Authorization:`Bearer ${I}`}})).ok&&(A(),s({title:"API Key Revoked",description:"The API key has been revoked successfully."}))}catch{s({title:"Error",description:"Failed to revoke API key",variant:"destructive"})}},R=M=>{navigator.clipboard.writeText(M),s({title:"Copied",description:"API key copied to clipboard"})},$=M=>{switch(M){case"active":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"expired":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"revoked":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},K=M=>M?new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Never";return t.jsx("div",{className:"min-h-screen bg-gray-900 p-6",children:t.jsxs("div",{className:"mx-auto max-w-6xl",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(q,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"text-gray-400 hover:text-white",children:t.jsx(rd,{className:"h-5 w-5"})}),t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Manage your API keys and access tokens"})})]}),t.jsxs(_d,{children:[t.jsx(iNe,{asChild:!0,children:t.jsxs(q,{className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Create New Key"]})}),t.jsxs(uc,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(mc,{children:[t.jsx(hc,{className:"text-white",children:"Create New API Key"}),t.jsx(Pd,{children:"Generate a new API key for accessing the Apex AI platform"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{htmlFor:"name",children:"Key Name"}),t.jsx(Se,{id:"name",value:f,onChange:M=>g(M.target.value),placeholder:"e.g., Production App",className:"border-gray-600 bg-gray-700 text-white"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{children:"Permissions"}),t.jsx("div",{className:"space-y-2",children:["read","write","delete"].map(M=>t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:y.includes(M),onChange:I=>{I.target.checked?w([...y,M]):w(y.filter(W=>W!==M))},className:"rounded border-gray-600 bg-gray-700 text-emerald-600"}),t.jsx("span",{className:"capitalize text-white",children:M})]},M))})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{htmlFor:"expiry",children:"Expiration"}),t.jsxs(at,{value:v,onValueChange:b,children:[t.jsx(et,{className:"border-gray-600 bg-gray-700",children:t.jsx(nt,{})}),t.jsxs(tt,{children:[t.jsx(se,{value:"never",children:"Never"}),t.jsx(se,{value:"30",children:"30 days"}),t.jsx(se,{value:"60",children:"60 days"}),t.jsx(se,{value:"90",children:"90 days"}),t.jsx(se,{value:"365",children:"1 year"})]})]})]})]}),t.jsx(jm,{children:t.jsx(q,{onClick:T,disabled:m,className:"bg-emerald-600 hover:bg-emerald-700",children:m?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Creating..."]}):"Create API Key"})})]})]})]}),S&&t.jsxs(qt,{className:"mb-6 border-emerald-700 bg-emerald-900/20",children:[t.jsx(sd,{className:"h-4 w-4"}),t.jsx(Ht,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-semibold text-white",children:"Your new API key has been created!"}),t.jsx("p",{className:"text-sm text-gray-300",children:"Make sure to copy it now. You won't be able to see it again."}),t.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[t.jsx("code",{className:"flex-1 rounded bg-gray-800 p-2 font-mono text-sm text-white",children:N}),t.jsx(q,{size:"sm",variant:"outline",onClick:()=>R(N),className:"border-gray-600",children:t.jsx(mn,{className:"h-4 w-4"})})]}),t.jsx(q,{size:"sm",variant:"ghost",onClick:()=>_(!1),className:"mt-2",children:"Close"})]})})]}),t.jsxs(Ei,{defaultValue:"active",className:"space-y-6",children:[t.jsxs(Qn,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ut,{value:"active",children:"Active Keys"}),t.jsx(ut,{value:"all",children:"All Keys"}),t.jsx(ut,{value:"usage",children:"Usage Analytics"})]}),t.jsx(mt,{value:"active",className:"space-y-4",children:a?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"})}):i.filter(M=>M.status==="active").map(M=>t.jsx(G,{className:"border-gray-700 bg-gray-800",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:M.name}),t.jsx(je,{className:$(M.status),children:M.status})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ps,{className:"h-4 w-4"}),t.jsxs("span",{children:["Created ",K(M.createdAt)]})]}),M.lastUsed&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(It,{className:"h-4 w-4"}),t.jsxs("span",{children:["Last used ",K(M.lastUsed)]})]}),M.expiresAt&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Kt,{className:"h-4 w-4"}),t.jsxs("span",{children:["Expires ",K(M.expiresAt)]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("code",{className:"rounded bg-gray-700 px-3 py-1 font-mono text-sm text-gray-300",children:[M.prefix,"...",l[M.id]?M.key.slice(-8):""]}),t.jsx(q,{size:"sm",variant:"ghost",onClick:()=>d({...l,[M.id]:!l[M.id]}),className:"text-gray-400 hover:text-white",children:l[M.id]?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})}),t.jsx(q,{size:"sm",variant:"ghost",onClick:()=>R(M.key),className:"text-gray-400 hover:text-white",children:t.jsx(mn,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Permissions:"}),M.permissions.map(I=>t.jsx(je,{variant:"secondary",className:"bg-gray-700",children:I},I))]})]}),t.jsxs(ki,{children:[t.jsx(_i,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(sm,{className:"h-4 w-4"})})}),t.jsxs(Kn,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(Qt,{className:"text-gray-300 hover:text-white",children:[t.jsx(mY,{className:"mr-2 h-4 w-4"}),"Edit Permissions"]}),t.jsxs(Qt,{className:"text-gray-300 hover:text-white",children:[t.jsx(ea,{className:"mr-2 h-4 w-4"}),"Regenerate Key"]}),t.jsxs(Qt,{className:"text-red-400 hover:text-red-300",onClick:()=>E(M.id),children:[t.jsx(Bs,{className:"mr-2 h-4 w-4"}),"Revoke Key"]})]})]})]})})},M.id))}),t.jsx(mt,{value:"all",className:"space-y-4",children:a?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"})}):i.map(M=>t.jsx(G,{className:"border-gray-700 bg-gray-800",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:M.name}),t.jsx(je,{className:$(M.status),children:M.status})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ps,{className:"h-4 w-4"}),t.jsxs("span",{children:["Created ",K(M.createdAt)]})]}),M.lastUsed&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(It,{className:"h-4 w-4"}),t.jsxs("span",{children:["Last used ",K(M.lastUsed)]})]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("code",{className:"rounded bg-gray-700 px-3 py-1 font-mono text-sm text-gray-300",children:[M.prefix,"..."]})})]}),M.status==="active"&&t.jsx(q,{variant:"outline",size:"sm",onClick:()=>E(M.id),className:"border-red-600 text-red-400 hover:bg-red-600/20",children:"Revoke"})]})})},M.id))}),t.jsx(mt,{value:"usage",className:"space-y-6",children:t.jsxs(G,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"API Usage Overview"}),t.jsx(Rt,{children:"Monitor your API key usage and performance"})]}),t.jsxs(X,{children:[t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:"24,567"}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Total API Calls"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:"98.5%"}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Success Rate"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:"145ms"}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Avg Response Time"})]})]}),t.jsx(Bn,{className:"my-6 bg-gray-700"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-white",children:"Usage by Key"}),i.filter(M=>M.status==="active").map(M=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(sd,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-white",children:M.name})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("span",{className:"text-sm text-gray-400",children:[M.usage.calls," calls"]}),t.jsx(xs,{className:"h-4 w-4 text-emerald-400"})]})]},M.id))]}),t.jsx("div",{className:"mt-6 flex justify-end",children:t.jsxs(q,{variant:"outline",className:"border-gray-600",children:[t.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Export Usage Report"]})})]})]})})]}),t.jsxs(G,{className:"mt-6 border-gray-700 bg-gray-800",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center gap-2 text-white",children:[t.jsx(Ps,{className:"h-5 w-5 text-emerald-400"}),"API Key Best Practices"]})}),t.jsx(X,{children:t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Never share your API keys publicly or commit them to version control"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Use environment variables to store API keys in your applications"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Rotate your API keys regularly and revoke unused keys"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Use different keys for different environments (development, staging, production)"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Monitor API key usage and set up alerts for unusual activity"})]})]})})]})]})})}const s1e=()=>{const{isLoaded:e,isSignedIn:r,user:s}=ja();return t.jsxs("div",{className:"p-8 bg-gray-900 text-white min-h-screen",children:[t.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Test Page"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{children:["Dev Mode: ","Disabled"]}),t.jsxs("p",{children:["Auth Loaded: ",e?"Yes":"No"]}),t.jsxs("p",{children:["Signed In: ",r?"Yes":"No"]}),t.jsxs("p",{children:["User: ",s?JSON.stringify(s,null,2):"None"]}),t.jsxs("p",{children:["Backend URL: ","Not set"]})]})]})},a1e={error:(e,r)=>{},warn:(e,r)=>{},info:(e,r)=>{}},n1e=e=>{if(!e.response)return!0;const r=e.response.status;return r>=500||r===429},i1e=e=>new Promise(r=>setTimeout(r,e));async function wO(e,r){var o,l,d,m,h,f,g;const{maxRetries:s=3,showErrorToast:a=!0,retryDelay:n=1e3}={};let i=null;for(let y=0;y<=s;y++)try{return{ok:!0,data:(await es(e)).data}}catch(w){const v=w;if(i=v,a1e.error(`API request failed (attempt ${y+1}/${s+1})`,{url:e.url,method:e.method,status:(o=v.response)==null?void 0:o.status,error:v.message}),y<s&&n1e(v)){const N=n*Math.pow(2,y);await i1e(N);continue}const b={message:((d=(l=v.response)==null?void 0:l.data)==null?void 0:d.message)||v.message||"An unexpected error occurred",status:(m=v.response)==null?void 0:m.status,code:v.code,details:(h=v.response)==null?void 0:h.data};return a&&bD({title:"Error",description:b.message,variant:"destructive"}),{ok:!1,error:b}}return{ok:!1,error:{message:(i==null?void 0:i.message)||"Maximum retries exceeded",status:(f=i==null?void 0:i.response)==null?void 0:f.status,code:i==null?void 0:i.code,details:(g=i==null?void 0:i.response)==null?void 0:g.data}}}class o1e{constructor(){mi(this,"baseUrl","/api/leads")}async getLeads(r,s={},a=1,n=50){var i;try{const o=new URLSearchParams({page:a.toString(),limit:n.toString()});r&&o.append("clientId",r),(i=s.status)!=null&&i.length&&o.append("status",s.status.join(",")),s.search&&o.append("search",s.search);const l=await fetch(`${this.baseUrl}?${o}`);if(!l.ok)throw new Error(`Failed to fetch leads: ${l.statusText}`);return await l.json()}catch(o){throw console.error("Error fetching leads:",o),o}}async getLead(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}?${a}`);if(!n.ok)throw new Error(`Failed to fetch lead: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching lead:",a),a}}async createLead(r,s){try{const a={...r,clientId:s},n=await fetch(this.baseUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to create lead: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error creating lead:",a),a}}async updateLead(r,s,a){try{const n={...s,clientId:a},i=await fetch(`${this.baseUrl}/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error(`Failed to update lead: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error updating lead:",n),n}}async deleteLead(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}?${a}`,{method:"DELETE"});if(!n.ok)throw new Error(`Failed to delete lead: ${n.statusText}`)}catch(a){throw console.error("Error deleting lead:",a),a}}async bulkUpdateLeads(r,s,a){try{const n={leadIds:r,updates:s,clientId:a},i=await fetch(`${this.baseUrl}/bulk-update`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error(`Failed to bulk update leads: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error bulk updating leads:",n),n}}async getLeadStats(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/stats?${s}`);if(!a.ok)throw new Error(`Failed to fetch lead stats: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching lead stats:",s),s}}async getCampaignPerformance(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/campaigns/performance?${s}`);if(!a.ok)throw new Error(`Failed to fetch campaign performance: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching campaign performance:",s),s}}async importLeads(r,s,a,n={}){try{const i=new FormData;i.append("file",r),s&&i.append("campaignId",s),a&&i.append("clientId",a),n.skipDuplicates&&i.append("skipDuplicates","true"),n.updateExisting&&i.append("updateExisting","true"),n.campaignType&&i.append("campaignType",n.campaignType);const o=await fetch(`${this.baseUrl}/import`,{method:"POST",body:i});if(!o.ok)throw new Error(`Failed to import leads: ${o.statusText}`);return await o.json()}catch(i){throw console.error("Error importing leads:",i),i}}async exportLeads(r,s={}){try{const a=new URLSearchParams;r&&a.append("clientId",r),Object.entries(s).forEach(([i,o])=>{o!=null&&(Array.isArray(o)?a.append(i,o.join(",")):typeof o=="object"&&"start"in o?(a.append("startDate",o.start),a.append("endDate",o.end)):a.append(i,o.toString()))});const n=await fetch(`${this.baseUrl}/export?${a}`);if(!n.ok)throw new Error(`Failed to export leads: ${n.statusText}`);return await n.blob()}catch(a){throw console.error("Error exporting leads:",a),a}}async downloadTemplate(){try{const r=await fetch(`${this.baseUrl}/template`);if(!r.ok)throw new Error(`Failed to download template: ${r.statusText}`);return await r.blob()}catch(r){throw console.error("Error downloading template:",r),r}}async getCallHistory(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/calls?${a}`);if(!n.ok)throw new Error(`Failed to fetch call history: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching call history:",a),a}}async addCallRecord(r,s){try{const a={...r,clientId:s},n=await fetch(`${this.baseUrl}/calls`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to add call record: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error adding call record:",a),a}}async getActivities(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/activities?${a}`);if(!n.ok)throw new Error(`Failed to fetch activities: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching activities:",a),a}}async addActivity(r,s){try{const a={...r,clientId:s},n=await fetch(`${this.baseUrl}/activities`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to add activity: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error adding activity:",a),a}}async calculateLeadScore(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/score?${a}`,{method:"POST"});if(!n.ok)throw new Error(`Failed to calculate lead score: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error calculating lead score:",a),a}}async getLeadInsights(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/insights?${a}`);if(!n.ok)throw new Error(`Failed to fetch lead insights: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching lead insights:",a),a}}async searchLeads(r,s,a=20){try{const n=new URLSearchParams({search:r,limit:a.toString()});s&&n.append("clientId",s);const i=await fetch(`${this.baseUrl}/search?${n}`);if(!i.ok)throw new Error(`Failed to search leads: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error searching leads:",n),n}}async getCampaigns(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/campaigns?${s}`);if(!a.ok)throw new Error(`Failed to fetch campaigns: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching campaigns:",s),s}}async getSources(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/sources?${s}`);if(!a.ok)throw new Error(`Failed to fetch sources: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching sources:",s),s}}}const uS=new o1e;class l1e{async getCallDetails(r){const a=await wO({method:"GET",url:`https://apex-backend-august-production.up.railway.app/api/api/vapi-outbound/calls/${r}`});if(!a.ok)throw new Error(a.error.message||"Failed to fetch call details");if(!a.data.call)throw new Error("Call not found");return a.data.call}async getCampaignCalls(r){const a=await wO({method:"GET",url:`https://apex-backend-august-production.up.railway.app/api/api/vapi-outbound/campaigns/${r}/calls`});if(!a.ok)throw new Error(a.error.message||"Failed to fetch campaign calls");return a.data}getStatusInfo(r){return{initiated:{label:"Initiated",color:"blue",icon:""},ringing:{label:"Ringing",color:"yellow",icon:""},answered:{label:"Answered",color:"green",icon:""},completed:{label:"Completed",color:"emerald",icon:""},failed:{label:"Failed",color:"red",icon:""},busy:{label:"Busy",color:"orange",icon:""},no_answer:{label:"No Answer",color:"gray",icon:""}}[r]||{label:r,color:"gray",icon:""}}formatDuration(r){if(!r||r===0)return"0s";if(r<60)return`${Math.round(r)}s`;if(r<3600){const s=Math.floor(r/60),a=Math.round(r%60);return`${s}m ${a}s`}else{const s=Math.floor(r/3600),a=Math.floor(r%3600/60);return`${s}h ${a}m`}}formatCost(r){return!r||r===0?"$0.00":`$${r.toFixed(3)}`}isPositiveOutcome(r,s){const a=["interested","scheduled","follow-up","demo","meeting","callback","positive","qualified","hot","warm","opportunity","conversion","wants","needs","looking for","considering","evaluating"],n=(r+" "+(s||"")).toLowerCase();return a.some(i=>n.includes(i))}extractSentiment(r,s){if(this.isPositiveOutcome(r,s))return"positive";const a=["not interested","declined","refused","busy","no thank you","unqualified"],n=(r+" "+(s||"")).toLowerCase();return a.some(i=>n.includes(i))?"negative":"neutral"}async createLeadFromCall(r){try{if(!this.isPositiveOutcome(r.summary||"",r.transcript))return console.log("Call outcome not positive, skipping lead creation"),null;const[s,a]=this.extractNameFromCall(r),n={firstName:s||"Unknown",lastName:a||"Contact",email:r.customerEmail||"",phone:r.customerPhone,company:r.customerCompany||"",title:"",status:"new",priority:this.determinePriority(r),source:"vapi_outbound_call",campaign:r.campaignName,notes:this.generateLeadNotes(r),tags:["ai-generated","positive-call"],score:this.calculateLeadScore(r),lastContactDate:r.startedAt,nextFollowUp:this.suggestNextFollowUp(r),customFields:{originalCallId:r.id,vapiCallId:r.vapiCallId,callOutcome:r.summary,callDuration:r.duration,callCost:r.cost,sentiment:this.extractSentiment(r.summary||"",r.transcript)}};console.log("Creating lead from positive call:",n);const i=await uS.createLead(n);return await uS.addCallRecord({leadId:i.id,date:r.startedAt,duration:this.formatDuration(r.duration),outcome:r.summary||"Positive outcome",transcript:r.transcript||"",sentiment:this.extractSentiment(r.summary||"",r.transcript),recordingUrl:r.recording,nextAction:this.suggestNextAction(r)}),i}catch(s){return console.error("Error creating lead from call:",s),null}}extractNameFromCall(r){if(r.customerName){const s=r.customerName.split(" ");return[s[0]||"",s.slice(1).join(" ")||""]}return["",""]}determinePriority(r){const s=(r.summary||"").toLowerCase();return s.includes("hot")||s.includes("urgent")||s.includes("asap")?"high":s.includes("warm")||s.includes("scheduled")||s.includes("demo")?"medium":"low"}generateLeadNotes(r){let s=`Lead generated from AI call on ${new Date(r.startedAt).toLocaleDateString()}.

`;return r.summary&&(s+=`Call Summary: ${r.summary}

`),s+=`Call Duration: ${this.formatDuration(r.duration)}
`,s+=`Call Cost: ${this.formatCost(r.cost)}
`,r.customerCompany&&(s+=`Company: ${r.customerCompany}
`),r.transcript&&(s+=`
Call Transcript:
${r.transcript.substring(0,500)}${r.transcript.length>500?"...":""}`),s}calculateLeadScore(r){let s=50;const a=(r.summary||"").toLowerCase();return a.includes("very interested")?s+=30:a.includes("interested")&&(s+=20),(a.includes("scheduled")||a.includes("demo"))&&(s+=25),a.includes("follow-up")&&(s+=15),a.includes("qualified")&&(s+=20),r.duration&&r.duration>120&&(s+=10),r.duration&&r.duration>300&&(s+=15),r.customerCompany&&(s+=10),Math.min(100,Math.max(0,s))}suggestNextFollowUp(r){const s=(r.summary||"").toLowerCase();let a=7;s.includes("urgent")||s.includes("asap")?a=1:s.includes("hot")||s.includes("very interested")?a=2:s.includes("scheduled")||s.includes("demo")?a=0:(s.includes("warm")||s.includes("considering"))&&(a=5);const n=new Date;return n.setDate(n.getDate()+a),n.toISOString()}suggestNextAction(r){const s=(r.summary||"").toLowerCase();return s.includes("demo")||s.includes("presentation")?"Prepare and conduct product demo":s.includes("proposal")||s.includes("quote")?"Send detailed proposal and pricing":s.includes("email")||s.includes("information")?"Send follow-up email with additional information":s.includes("meeting")||s.includes("call back")?"Schedule follow-up meeting":s.includes("decision maker")||s.includes("manager")?"Contact decision maker or manager":"Follow up with personalized outreach based on call discussion"}}const jo=new l1e;function c1e(){const{callId:e}=wf(),r=br(),{toast:s}=ts(),[a,n]=p.useState(null),[i,o]=p.useState(!0),[l,d]=p.useState(!1),[m,h]=p.useState(null),[f,g]=p.useState(!1),[y,w]=p.useState(0),[v,b]=p.useState(1),N=p.useRef(null);p.useEffect(()=>{e&&A()},[e]),p.useEffect(()=>{if(N.current){const I=()=>{N.current&&w(Math.floor(N.current.currentTime))};return N.current.addEventListener("timeupdate",I),()=>{N.current&&N.current.removeEventListener("timeupdate",I)}}},[]);const C=I=>{const W=Math.floor(I/60),V=I%60;return`${String(W).padStart(2,"0")}:${String(V).padStart(2,"0")}`},S=async()=>{if(N.current)try{l?(N.current.pause(),d(!1)):(await N.current.play(),d(!0))}catch(I){console.error("Playback error:",I),a!=null&&a.recording&&a.recording.includes("vapi.ai")&&window.open(a.recording,"_blank")}},_=I=>{b(I),N.current&&(N.current.playbackRate=I)},A=async()=>{try{o(!0);const I=await jo.getCallDetails(e);if(!I){s({title:"Error",description:"Call details not found",variant:"destructive"}),r(-1);return}n(I);const W=I;jo.isPositiveOutcome(W.summary||"",W.transcript)&&await T(W)}catch(I){console.error("Failed to load call details:",I),s({title:"Error",description:"Failed to load call details",variant:"destructive"})}finally{o(!1)}},T=async I=>{try{g(!0),console.log(" Checking/creating lead for call:",{callId:I.id,customerPhone:I.customerPhone,customerName:I.customerName,summary:I.summary});const W=await uS.searchLeads(I.customerPhone);console.log(" Found existing leads:",W.length);const V=W.find(L=>{var O,F;return((O=L.customFields)==null?void 0:O.originalCallId)===I.id||((F=L.customFields)==null?void 0:F.vapiCallId)===I.vapiCallId});if(V){h(V),console.log(" Lead already exists for this call:",V);return}console.log(" Creating new lead from call...");const U=await jo.createLeadFromCall(I);U?(h(U),console.log(" Lead created successfully:",U),s({title:"Lead Created",description:`New lead "${U.firstName} ${U.lastName}" added to CRM`})):console.log(" Lead creation returned null")}catch(W){console.error(" Error checking/creating lead:",W)}finally{g(!1)}},E=async()=>{if(a!=null&&a.vapiCallId)try{o(!0);const I=await Et.post(`/sync-vapi-call/${a.vapiCallId}`);I.data.success&&(s({title:"Call Synced",description:"Call data has been updated from VAPI"}),await A(),I.data.aiProcessing&&s({title:"AI Processing Started",description:"Call is being analyzed by AI"}))}catch(I){console.error("Error syncing call:",I),s({title:"Sync Failed",description:"Failed to sync call data from VAPI",variant:"destructive"})}finally{o(!1)}},R=async()=>{if(a)try{g(!0);const I=await jo.createLeadFromCall(a);I&&(h(I),s({title:"Lead Created",description:`Lead "${I.firstName} ${I.lastName}" added to CRM`}))}catch(I){console.error("Error creating lead manually:",I),s({title:"Error",description:"Failed to create lead in CRM",variant:"destructive"})}finally{g(!1)}},$=async(I,W)=>{try{await navigator.clipboard.writeText(I),s({title:"Copied",description:`${W} copied to clipboard`})}catch{s({title:"Error",description:"Failed to copy to clipboard",variant:"destructive"})}},K=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(i)return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading call details..."})]})});if(!a)return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"mb-4 text-gray-400",children:"Call not found"}),t.jsxs(q,{onClick:()=>r(-1),variant:"outline",children:[t.jsx(rd,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})});const M=jo.getStatusInfo(a.status);return t.jsx("div",{className:"min-h-screen bg-black p-6",children:t.jsxs("div",{className:"mx-auto max-w-6xl space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(q,{onClick:()=>r(-1),variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:[t.jsx(rd,{className:"mr-2 h-4 w-4"}),"Back"]}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-white",children:"Call Details"}),t.jsx("p",{className:"text-gray-400",children:"View call transcript, recording, and results"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(je,{className:`px-3 py-1 ${M.color==="green"||M.color==="emerald"?"bg-emerald-500/20 text-emerald-400":M.color==="red"?"bg-red-500/20 text-red-400":M.color==="yellow"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:[M.icon," ",M.label]}),(a.status==="in_progress"||a.status==="ringing"||!a.transcript)&&t.jsxs(q,{onClick:E,size:"sm",variant:"outline",disabled:i||!a.vapiCallId,className:"border-gray-600",children:[t.jsx(ea,{className:`mr-2 h-4 w-4 ${i?"animate-spin":""}`}),"Sync from VAPI"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center text-white",children:[t.jsx(vs,{className:"mr-2 h-5 w-5 text-emerald-400"}),"Customer Information"]})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Name:"}),t.jsx("span",{className:"font-medium text-white",children:a.customerName})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Phone:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-mono text-white",children:a.customerPhone}),t.jsx(q,{size:"sm",variant:"ghost",onClick:()=>$(a.customerPhone,"Phone number"),children:t.jsx(mn,{className:"h-3 w-3"})})]})]}),a.customerEmail&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Email:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-white",children:a.customerEmail}),t.jsx(q,{size:"sm",variant:"ghost",onClick:()=>$(a.customerEmail,"Email"),children:t.jsx(mn,{className:"h-3 w-3"})})]})]}),a.customerCompany&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Company:"}),t.jsx("span",{className:"text-white",children:a.customerCompany})]})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center text-white",children:[t.jsx(pt,{className:"mr-2 h-5 w-5 text-emerald-400"}),"Call Information"]})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Campaign:"}),t.jsx("span",{className:"font-medium text-white",children:a.campaignName})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Started:"}),t.jsx("span",{className:"text-white",children:K(a.startedAt)})]}),a.endedAt&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Ended:"}),t.jsx("span",{className:"text-white",children:K(a.endedAt)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Duration:"}),t.jsx("span",{className:"font-mono text-white",children:jo.formatDuration(a.duration)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Direction:"}),t.jsx("span",{className:"capitalize text-white",children:a.direction})]})]})]}),t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center text-white",children:[t.jsx(Ur,{className:"mr-2 h-5 w-5 text-emerald-400"}),"Call Metrics"]})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Cost:"}),t.jsx("span",{className:"font-bold text-emerald-400",children:jo.formatCost(a.cost)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"VAPI Call ID:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-mono text-xs text-white",children:a.vapiCallId?`${a.vapiCallId.substring(0,8)}...`:"N/A"}),t.jsx(q,{size:"sm",variant:"ghost",onClick:()=>a.vapiCallId&&$(a.vapiCallId,"VAPI Call ID"),disabled:!a.vapiCallId,children:t.jsx(mn,{className:"h-3 w-3"})})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Has Transcript:"}),t.jsx("span",{className:a.transcript?"text-emerald-400":"text-gray-500",children:a.transcript?"Yes":"No"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Has Recording:"}),t.jsx("span",{className:a.recording?"text-emerald-400":"text-gray-500",children:a.recording?"Yes":"No"})]})]})]})]}),a&&t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"flex items-center text-white",children:[t.jsx(tr,{className:"mr-2 h-5 w-5 text-emerald-400"}),"CRM Integration"]})}),t.jsxs(X,{className:"space-y-4",children:[jo.isPositiveOutcome(a.summary||"",a.transcript)&&t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-emerald-500/30 bg-emerald-500/10 p-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(rm,{className:"h-5 w-5 text-emerald-400"}),t.jsx("span",{className:"font-medium text-emerald-400",children:"Positive Outcome Detected"})]}),t.jsx(je,{className:"bg-emerald-500/20 text-emerald-400",children:"Lead Eligible"})]}),m?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-blue-500/30 bg-blue-500/10 p-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-blue-400",children:"Lead Created in CRM"}),t.jsxs("p",{className:"text-sm text-gray-300",children:[m.firstName," ",m.lastName," - ",m.company]})]}),t.jsx(q,{size:"sm",variant:"outline",onClick:()=>window.open(`/crm/leads/${m.id}`,"_blank"),className:"border-blue-500/30 text-blue-400 hover:bg-blue-500/10",children:"View in CRM"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Status:"}),t.jsx("p",{className:"font-medium capitalize text-white",children:m.status})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Priority:"}),t.jsx("p",{className:"font-medium capitalize text-white",children:m.priority})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Score:"}),t.jsx("p",{className:"font-medium text-white",children:m.score||"N/A"})]})]})]}):jo.isPositiveOutcome(a.summary||"",a.transcript)?t.jsxs("div",{className:"py-4 text-center",children:[t.jsx(q,{onClick:R,disabled:f,className:"bg-emerald-600 text-white hover:bg-emerald-700",children:f?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Creating Lead..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Create Lead in CRM"]})}),t.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Automatically creates a new lead with call details"})]}):t.jsxs("div",{className:"py-4 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[t.jsx(jt,{className:"h-4 w-4"}),t.jsx("span",{children:"No positive outcome detected"})]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lead creation is triggered for positive call outcomes"})]})]})]}),t.jsxs(Ei,{defaultValue:"transcript",className:"w-full",children:[t.jsxs(Qn,{className:"grid w-full grid-cols-3 bg-gray-800/50",children:[t.jsxs(ut,{value:"transcript",className:"flex items-center space-x-2",children:[t.jsx(Po,{className:"h-4 w-4"}),t.jsx("span",{children:"Transcript"})]}),t.jsxs(ut,{value:"recording",className:"flex items-center space-x-2",children:[t.jsx(Hh,{className:"h-4 w-4"}),t.jsx("span",{children:"Recording"})]}),t.jsxs(ut,{value:"summary",className:"flex items-center space-x-2",children:[t.jsx(Po,{className:"h-4 w-4"}),t.jsx("span",{children:"Summary"})]})]}),t.jsx(mt,{value:"transcript",className:"mt-6",children:t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Call Transcript"})}),t.jsx(X,{children:a.transcript?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative rounded-lg border border-gray-700 bg-gray-900/50",children:[t.jsxs("div",{className:"max-h-[500px] overflow-y-auto p-6",children:[t.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm leading-relaxed text-gray-300",children:a.transcript}),t.jsx("div",{className:"pb-4"})," "]}),t.jsx("div",{className:"pointer-events-none absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-gray-900/80 to-transparent"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-gray-400",children:[a.transcript.split(`
`).length," lines  ",a.transcript.split(" ").length," words"]}),t.jsxs(q,{size:"sm",variant:"outline",onClick:()=>$(a.transcript,"Transcript"),children:[t.jsx(mn,{className:"mr-2 h-4 w-4"}),"Copy Transcript"]})]})]}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Po,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),t.jsx("p",{className:"text-gray-400",children:"No transcript available for this call"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Transcripts are generated automatically for completed calls"})]})})]})}),t.jsx(mt,{value:"recording",className:"mt-6",children:t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Call Recording"})}),t.jsx(X,{children:a.recording?t.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-700/50 bg-gradient-to-b from-gray-900/50 to-gray-800/30",children:[t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsx("h4",{className:"text-lg font-medium text-white",children:"Recording"}),t.jsx("div",{className:"rounded-lg bg-gray-800/50 px-3 py-1.5",children:t.jsx("span",{className:"font-mono text-sm text-gray-300",children:C(a.duration||0)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-end gap-3",children:t.jsxs("select",{value:v,onChange:I=>_(Number(I.target.value)),className:"rounded-lg border border-gray-600/50 bg-gray-800/50 px-2 py-1 text-xs text-white transition-all focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/50",children:[t.jsx("option",{value:.5,children:"0.5x"}),t.jsx("option",{value:1,children:"1.0x"}),t.jsx("option",{value:1.5,children:"1.5x"}),t.jsx("option",{value:2,children:"2.0x"})]})}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("button",{onClick:S,className:"group relative flex-shrink-0",children:t.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-green-600 shadow-lg transition-all duration-200 group-hover:scale-105 group-hover:shadow-green-500/30",children:l?t.jsx(zu,{className:"h-5 w-5 text-white",strokeWidth:2}):t.jsx(Wn,{className:"ml-0.5 h-5 w-5 text-white",strokeWidth:2})})}),t.jsxs("div",{className:"relative flex-1 overflow-hidden rounded-xl bg-gray-900/50 p-4",children:[t.jsx("div",{className:"relative flex h-14 items-end justify-between gap-0.5",children:Array.from({length:100}).map((I,W)=>{const V=20+Math.random()*80,U=W/100*(a.duration||0)<=y;return t.jsx("div",{className:"flex-1 rounded-t bg-gray-600 transition-all duration-150",style:{height:`${V}%`,backgroundColor:U?"#10b981":"#4b5563",opacity:U?1:.5}},W)})}),t.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-green-400 opacity-50",style:{left:`${y/(a.duration||1)*100}%`}})]}),t.jsxs("button",{onClick:()=>{if(a.recording)if(a.recording.includes("vapi.ai"))window.open(a.recording,"_blank");else{const I=document.createElement("a");I.href=a.recording,I.download=`call-recording-${a.id}.wav`,document.body.appendChild(I),I.click(),document.body.removeChild(I)}},className:"group flex flex-shrink-0 items-center gap-2.5 rounded-xl border border-gray-600/50 bg-gray-800/50 px-5 py-3 transition-all duration-200 hover:border-gray-500/50 hover:bg-gray-700/50",children:[t.jsx(Hn,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-300",strokeWidth:2}),t.jsx("span",{className:"text-sm font-medium text-gray-300 group-hover:text-gray-200",children:"Audio"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"font-mono text-gray-400",children:C(y)}),t.jsxs("span",{className:"font-mono text-gray-500",children:["-",C((a.duration||0)-y)]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"h-1.5 overflow-hidden rounded-full bg-gray-700/50",children:t.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-100",style:{width:`${y/(a.duration||1)*100}%`}})}),t.jsx("div",{className:"absolute top-1/2 h-3.5 w-3.5 -translate-x-1/2 -translate-y-1/2 transform rounded-full bg-green-400 shadow-lg transition-all duration-100",style:{left:`${y/(a.duration||1)*100}%`,boxShadow:"0 0 0 3px rgba(34, 197, 94, 0.2)"}})]})]})]})]}),t.jsx("audio",{ref:N,src:a.recording,onEnded:()=>d(!1),className:"hidden"})]}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Hh,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),t.jsx("p",{className:"text-gray-400",children:"No recording available for this call"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Recordings are generated automatically for answered calls"})]})})]})}),t.jsx(mt,{value:"summary",className:"mt-6",children:t.jsxs(G,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Call Summary"})}),t.jsx(X,{children:a.summary?t.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-900/50 p-4",children:[t.jsx("div",{className:"leading-relaxed text-gray-300",children:a.summary}),t.jsx("div",{className:"mt-4 flex space-x-2",children:t.jsxs(q,{size:"sm",variant:"outline",onClick:()=>$(a.summary,"Summary"),children:[t.jsx(mn,{className:"mr-2 h-4 w-4"}),"Copy Summary"]})})]}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Po,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),t.jsx("p",{className:"text-gray-400",children:"No summary available for this call"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"AI summaries are generated for completed calls with transcripts"})]})})]})})]})]})})}const d1e=()=>{const{campaignId:e}=wf(),r=br(),{toast:s}=ts(),[a,n]=p.useState([]),[i,o]=p.useState(null),[l,d]=p.useState({page:1,limit:20,total:0,totalPages:0}),[m,h]=p.useState(!0),[f,g]=p.useState(""),[y,w]=p.useState("all"),[v,b]=p.useState("started_at"),[N,C]=p.useState("desc"),[S,_]=p.useState(null),[A,T]=p.useState(!1);p.useEffect(()=>{e&&E()},[e,l.page,f,y,v,N]);const E=async()=>{try{h(!0);const W=new URLSearchParams({page:l.page.toString(),limit:l.limit.toString(),sortBy:v,sortOrder:N,...y!=="all"&&{status:y},...f&&{search:f}}),V=await fetch(`/api/vapi-outbound/campaigns/${e}/calls?${W}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`,"Content-Type":"application/json"}});if(!V.ok)throw new Error("Failed to fetch campaign calls");const U=await V.json();n(U.calls),o(U.campaign),d(U.pagination)}catch(W){console.error("Error loading campaign calls:",W),s({title:"Error",description:"Failed to load campaign calls",variant:"destructive"})}finally{h(!1)}},R=W=>{switch(W){case"completed":return t.jsx(yt,{className:"h-4 w-4 text-green-500"});case"failed":return t.jsx(Ji,{className:"h-4 w-4 text-red-500"});case"in-progress":return null;default:return t.jsx(Kt,{className:"h-4 w-4 text-gray-500"})}},$=W=>{switch(W){case"positive":return t.jsx(_s,{className:"h-4 w-4 text-green-500"});case"negative":return t.jsx(g0,{className:"h-4 w-4 text-red-500"});default:return t.jsx(Oo,{className:"h-4 w-4 text-gray-500"})}},K=W=>{const V=Math.floor(W/60),U=W%60;return`${V}:${U.toString().padStart(2,"0")}`},M=W=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:4}).format(W),I=({call:W,isOpen:V,onClose:U})=>V?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:t.jsxs("div",{className:"mx-4 max-h-[90vh] w-full max-w-4xl overflow-hidden rounded-lg border border-gray-800 bg-gray-900 shadow-xl",children:[t.jsx("div",{className:"border-b border-gray-800 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Call Transcript"}),t.jsxs("p",{className:"text-sm text-gray-400",children:[W.customerName," "," ",C0(new Date(W.startedAt),{addSuffix:!0})]})]}),t.jsx(q,{variant:"ghost",onClick:U,className:"text-gray-400 hover:text-white",children:t.jsx(Ji,{className:"h-5 w-5"})})]})}),t.jsx("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:W.formattedTranscript&&W.formattedTranscript.length>0?t.jsx("div",{className:"space-y-4",children:W.formattedTranscript.map((L,O)=>t.jsxs("div",{className:`rounded-lg p-4 ${L.speaker==="customer"?"border-l-4 border-blue-500 bg-blue-900/20":"border-l-4 border-gray-600 bg-gray-800/50"}`,children:[t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[L.speaker==="customer"?t.jsx(vs,{className:"h-4 w-4 text-blue-400"}):t.jsx(Wl,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm font-medium capitalize text-gray-300",children:L.speaker==="customer"?"Customer":"Assistant"}),L.timestamp&&t.jsx("span",{className:"text-xs text-gray-500",children:new Date(L.timestamp).toLocaleTimeString()})]}),t.jsx("p",{className:"leading-relaxed text-gray-100",children:L.text})]},O))}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Xi,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),t.jsx("p",{className:"text-gray-400",children:"No transcript available for this call"})]})})]})}):null;return m?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black",children:t.jsx(ea,{className:"h-8 w-8 animate-spin text-emerald-500"})}):t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(q,{variant:"ghost",onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-400 hover:text-white",children:[t.jsx(rd,{className:"h-4 w-4"}),"Back to Dashboard"]}),t.jsx("div",{className:"h-6 w-px bg-gray-600"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Campaign Calls"}),t.jsx("p",{className:"text-gray-400",children:i==null?void 0:i.name})]})]}),t.jsxs(q,{onClick:E,className:"flex items-center gap-2 bg-emerald-600 text-white hover:bg-emerald-700",disabled:m,children:[t.jsx(ea,{className:`h-4 w-4 ${m?"animate-spin":""}`}),"Refresh"]})]}),t.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:l.total})]}),t.jsx(pt,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Completed"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:a.filter(W=>W.status==="completed").length})]}),t.jsx(yt,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Cost"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:M(a.reduce((W,V)=>W+V.cost,0))})]}),t.jsx(Ur,{className:"h-8 w-8 text-purple-500"})]})})}),t.jsx(G,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Duration"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:K(a.reduce((W,V)=>W+V.duration,0)/a.length||0)})]})})})})]}),t.jsx(G,{className:"mb-6 border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qa,{className:"h-4 w-4 text-gray-400"}),t.jsx(Se,{placeholder:"Search calls...",value:f,onChange:W=>g(W.target.value),className:"w-64 border-gray-700 bg-gray-800 text-white"})]}),t.jsxs(at,{value:y,onValueChange:w,children:[t.jsx(et,{className:"w-40 border-gray-700 bg-gray-800 text-white",children:t.jsx(nt,{placeholder:"Status"})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"completed",children:"Completed"}),t.jsx(se,{value:"failed",children:"Failed"}),t.jsx(se,{value:"in-progress",children:"In Progress"})]})]}),t.jsxs(at,{value:v,onValueChange:b,children:[t.jsx(et,{className:"w-40 border-gray-700 bg-gray-800 text-white",children:t.jsx(nt,{placeholder:"Sort by"})}),t.jsxs(tt,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"started_at",children:"Date"}),t.jsx(se,{value:"duration",children:"Duration"}),t.jsx(se,{value:"cost",children:"Cost"})]})]}),t.jsxs(q,{variant:"outline",onClick:()=>C(N==="asc"?"desc":"asc"),className:"flex items-center gap-2 border-gray-700 text-gray-300 hover:bg-gray-800",children:[N==="asc"?"":""," ",N.toUpperCase()]})]})})}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-xl font-semibold text-white",children:"Campaign Calls"})}),t.jsxs(X,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(N4,{children:[t.jsx(S4,{children:t.jsxs(bf,{className:"border-gray-800",children:[t.jsx(fa,{className:"text-gray-400",children:"Customer"}),t.jsx(fa,{className:"text-gray-400",children:"Phone"}),t.jsx(fa,{className:"text-gray-400",children:"Status"}),t.jsx(fa,{className:"text-gray-400",children:"Duration"}),t.jsx(fa,{className:"text-gray-400",children:"Cost"}),t.jsx(fa,{className:"text-gray-400",children:"Sentiment"}),t.jsx(fa,{className:"text-gray-400",children:"Date"}),t.jsx(fa,{className:"text-gray-400",children:"Actions"})]})}),t.jsx(C4,{children:a.map(W=>t.jsxs(bf,{className:"border-gray-800 hover:bg-gray-800/50",children:[t.jsx(pa,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-800",children:t.jsx(vs,{className:"h-4 w-4 text-gray-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:W.customerName}),W.customerEmail&&t.jsx("p",{className:"text-sm text-gray-400",children:W.customerEmail})]})]})}),t.jsx(pa,{children:t.jsx("span",{className:"text-sm text-gray-300",children:W.customerPhone})}),t.jsx(pa,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[R(W.status),t.jsx(je,{variant:W.status==="completed"?"default":"secondary",className:"bg-gray-800 text-white",children:W.status})]})}),t.jsx(pa,{children:t.jsx("span",{className:"text-sm text-white",children:K(W.duration)})}),t.jsx(pa,{children:t.jsx("span",{className:"text-sm text-white",children:M(W.cost)})}),t.jsx(pa,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[$(W.sentiment),t.jsx("span",{className:"text-sm capitalize text-white",children:W.sentiment})]})}),t.jsx(pa,{children:t.jsx("span",{className:"text-sm text-gray-300",children:C0(new Date(W.startedAt),{addSuffix:!0})})}),t.jsx(pa,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[W.hasTranscript&&t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>{_(W),T(!0)},className:"text-gray-400 hover:text-white",children:t.jsx(Xi,{className:"h-4 w-4"})}),W.hasRecording&&t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>window.open(W.recording,"_blank"),className:"text-gray-400 hover:text-white",children:t.jsx(Wn,{className:"h-4 w-4"})}),t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>r(`/calls/${W.id}`),className:"text-gray-400 hover:text-white",children:t.jsx(Ir,{className:"h-4 w-4"})})]})})]},W.id))})]})}),a.length===0&&t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(pt,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),t.jsx("p",{className:"text-gray-400",children:"No calls found for this campaign"})]})]})]}),l.totalPages>1&&t.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(l.page-1)*l.limit+1," to"," ",Math.min(l.page*l.limit,l.total)," of ",l.total," ","calls"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(q,{variant:"outline",onClick:()=>d(W=>({...W,page:W.page-1})),disabled:l.page===1,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(tc,{className:"h-4 w-4"}),"Previous"]}),t.jsxs("span",{className:"text-sm text-gray-400",children:["Page ",l.page," of ",l.totalPages]}),t.jsxs(q,{variant:"outline",onClick:()=>d(W=>({...W,page:W.page+1})),disabled:l.page===l.totalPages,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:["Next",t.jsx(io,{className:"h-4 w-4"})]})]})]}),S&&t.jsx(I,{call:S,isOpen:A,onClose:()=>{T(!1),_(null)}})]})})},u1e=({appointments:e,tasks:r,onAppointmentClick:s,onTaskClick:a})=>{const n=f=>{const g=new Date(f),y=new Date,w=new Date(y);return w.setDate(w.getDate()+1),g.toDateString()===y.toDateString()?"Today":g.toDateString()===w.toDateString()?"Tomorrow":g.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},i=f=>{if(!f)return"";try{const[g,y]=f.split(":"),w=parseInt(g),v=w>=12?"PM":"AM";return`${w>12?w-12:w===0?12:w}:${y} ${v}`}catch{return f}},o=(f,g)=>g==="video"?t.jsx(iA,{className:"h-4 w-4"}):g==="in_person"?t.jsx(Vl,{className:"h-4 w-4"}):f==="meeting"?t.jsx(Nt,{className:"h-4 w-4"}):t.jsx(pt,{className:"h-4 w-4"}),l=f=>{switch(f){case"urgent":return"text-red-400 bg-red-900/30 border-red-800";case"high":return"text-orange-400 bg-orange-900/30 border-orange-800";case"medium":return"text-yellow-400 bg-yellow-900/30 border-yellow-800";default:return"text-gray-400 bg-gray-900/30 border-gray-800"}},d=f=>{switch(f){case"confirmed":return t.jsx(yt,{className:"h-4 w-4 text-green-400"});case"scheduled":return t.jsx(It,{className:"h-4 w-4 text-blue-400"});case"tentative":return t.jsx(Kt,{className:"h-4 w-4 text-yellow-400"});default:return t.jsx(It,{className:"h-4 w-4 text-gray-400"})}},h=[...e.map(f=>({...f,itemType:"appointment"})),...r.map(f=>({...f,itemType:"task",date:f.due_date,time:f.due_time}))].sort((f,g)=>{const y=new Date(`${f.date} ${f.time||"00:00"}`),w=new Date(`${g.date} ${g.time||"00:00"}`);return y.getTime()-w.getTime()}).reduce((f,g)=>{const y=g.date;return f[y]||(f[y]=[]),f[y].push(g),f},{});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ps,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Calendar & Tasks"})]}),t.jsx("div",{className:"flex items-center gap-2 text-sm",children:t.jsxs("span",{className:"text-gray-400",children:[e.length," appointment",e.length!==1?"s":"",","," ",r.length," task",r.length!==1?"s":""]})})]}),Object.keys(h).length===0?t.jsxs("div",{className:"rounded-lg border border-gray-700/50 bg-gray-800/30 p-8 text-center",children:[t.jsx(ps,{className:"mx-auto h-12 w-12 text-gray-600 mb-3"}),t.jsx("p",{className:"text-gray-400",children:"No upcoming appointments or tasks"})]}):t.jsx("div",{className:"space-y-4",children:Object.entries(h).map(([f,g])=>t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-px flex-1 bg-gray-700"}),t.jsx("span",{className:"text-sm font-medium text-gray-400",children:n(f)}),t.jsx("div",{className:"h-px flex-1 bg-gray-700"})]}),t.jsx("div",{className:"space-y-2",children:g.map(y=>t.jsx("div",{onClick:()=>{y.itemType==="appointment"&&s?s(y):y.itemType==="task"&&a&&a(y)},className:"group cursor-pointer rounded-lg border border-gray-700/50 bg-gray-800/50 p-4 transition-all hover:border-gray-600 hover:bg-gray-800",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("div",{className:"flex items-center gap-3",children:y.itemType==="appointment"?t.jsxs(t.Fragment,{children:[o(y.type,y.location_type),t.jsx("span",{className:"text-sm font-medium text-white",children:y.title}),d(y.status)]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:`flex items-center gap-2 rounded px-2 py-1 text-xs font-medium border ${l(y.priority)}`,children:y.priority}),t.jsx("span",{className:"text-sm font-medium text-white",children:y.title})]})}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[y.time&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(It,{className:"h-3 w-3"}),i(y.time),y.itemType==="appointment"&&y.duration_minutes&&t.jsxs("span",{children:[" (",y.duration_minutes," min)"]})]}),y.itemType==="appointment"&&y.location_type&&t.jsxs("div",{className:"flex items-center gap-1",children:[y.location_type==="in_person"&&t.jsx(Vl,{className:"h-3 w-3"}),y.location_type==="video"&&t.jsx(iA,{className:"h-3 w-3"}),y.location_type==="phone"&&t.jsx(pt,{className:"h-3 w-3"}),t.jsx("span",{className:"capitalize",children:y.location_type.replace("_"," ")})]}),y.itemType==="task"&&y.category&&t.jsx("span",{className:"capitalize",children:y.category.replace("_"," ")})]}),(y.description||y.agenda)&&t.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:y.description||y.agenda}),y.itemType==="appointment"&&y.preparation_notes&&t.jsx("div",{className:"mt-2 rounded bg-blue-900/20 border border-blue-800/50 p-2",children:t.jsxs("p",{className:"text-xs text-blue-400",children:["Prep: ",y.preparation_notes]})})]}),t.jsx("div",{className:"ml-4",children:t.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${y.itemType==="appointment"?"bg-blue-900/30 text-blue-400 border border-blue-800":"bg-purple-900/30 text-purple-400 border border-purple-800"}`,children:y.itemType==="appointment"?"Appointment":"Task"})})]})},y.id))})]},f))}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-700/50",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(f=>new Date(f.date)>=new Date().setHours(0,0,0,0)&&new Date(f.date)<new Date().setHours(24,0,0,0)).length}),t.jsx("div",{className:"text-xs text-gray-400",children:"Today"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(f=>{const g=new Date(f.date),y=new Date,w=new Date(y);return w.setDate(w.getDate()+7),g>=y&&g<=w}).length}),t.jsx("div",{className:"text-xs text-gray-400",children:"This Week"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:r.filter(f=>f.priority==="urgent"||f.priority==="high").length}),t.jsx("div",{className:"text-xs text-gray-400",children:"High Priority"})]})]})]})},m1e=({isOpen:e,onClose:r,onCreateTask:s,leadId:a})=>{const[n,i]=p.useState({title:"",description:"",category:"follow_up",priority:"medium",due_date:new Date().toISOString().split("T")[0],due_time:"09:00",status:"pending",notes:""}),o=()=>{if(!n.title.trim())return;const l={...n,id:`task_${Date.now()}`,lead_id:a,created_at:new Date().toISOString()};s(l),i({title:"",description:"",category:"follow_up",priority:"medium",due_date:new Date().toISOString().split("T")[0],due_time:"09:00",status:"pending",notes:""}),r()};return t.jsx(_d,{open:e,onOpenChange:r,children:t.jsxs(uc,{className:"max-w-2xl bg-gray-900 border-gray-800",children:[t.jsxs(mc,{children:[t.jsxs(hc,{className:"text-xl font-bold text-white flex items-center gap-2",children:[t.jsx(FN,{className:"h-5 w-5 text-emerald-400"}),"Create New Task"]}),t.jsx(Pd,{className:"text-gray-400",children:"Add a task to follow up with this lead"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(Z,{htmlFor:"title",className:"text-white",children:["Task Title ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx(Se,{id:"title",value:n.title,onChange:l=>i({...n,title:l.target.value}),placeholder:"e.g., Follow up on proposal",className:"bg-gray-800 border-gray-700 text-white",autoFocus:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{htmlFor:"description",className:"text-white",children:"Description"}),t.jsx(qa,{id:"description",value:n.description,onChange:l=>i({...n,description:l.target.value}),placeholder:"Add more details about this task...",className:"bg-gray-800 border-gray-700 text-white min-h-[80px]"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{htmlFor:"category",className:"text-white",children:"Category"}),t.jsxs(at,{value:n.category,onValueChange:l=>i({...n,category:l}),children:[t.jsx(et,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"follow_up",children:"Follow Up"}),t.jsx(se,{value:"call",children:"Phone Call"}),t.jsx(se,{value:"email",children:"Email"}),t.jsx(se,{value:"meeting",children:"Meeting"}),t.jsx(se,{value:"proposal",children:"Proposal"}),t.jsx(se,{value:"contract",children:"Contract"}),t.jsx(se,{value:"research",children:"Research"}),t.jsx(se,{value:"other",children:"Other"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{htmlFor:"priority",className:"text-white",children:"Priority"}),t.jsxs(at,{value:n.priority,onValueChange:l=>i({...n,priority:l}),children:[t.jsx(et,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{})}),t.jsxs(tt,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"urgent",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"h-4 w-4 text-red-400"}),"Urgent"]})}),t.jsx(se,{value:"high",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"h-4 w-4 text-orange-400"}),"High"]})}),t.jsx(se,{value:"medium",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"h-4 w-4 text-yellow-400"}),"Medium"]})}),t.jsx(se,{value:"low",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"h-4 w-4 text-gray-400"}),"Low"]})})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(Z,{htmlFor:"due_date",className:"text-white flex items-center gap-2",children:[t.jsx(ps,{className:"h-4 w-4"}),"Due Date"]}),t.jsx(Se,{id:"due_date",type:"date",value:n.due_date,onChange:l=>i({...n,due_date:l.target.value}),className:"bg-gray-800 border-gray-700 text-white"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(Z,{htmlFor:"due_time",className:"text-white flex items-center gap-2",children:[t.jsx(It,{className:"h-4 w-4"}),"Due Time"]}),t.jsx(Se,{id:"due_time",type:"time",value:n.due_time,onChange:l=>i({...n,due_time:l.target.value}),className:"bg-gray-800 border-gray-700 text-white"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{htmlFor:"notes",className:"text-white",children:"Additional Notes"}),t.jsx(qa,{id:"notes",value:n.notes,onChange:l=>i({...n,notes:l.target.value}),placeholder:"Any additional information...",className:"bg-gray-800 border-gray-700 text-white min-h-[60px]"})]})]}),t.jsxs(jm,{children:[t.jsx(q,{variant:"outline",onClick:r,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsxs(q,{onClick:o,disabled:!n.title.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[t.jsx(FN,{className:"h-4 w-4 mr-2"}),"Create Task"]})]})]})})};function h1e(){const e=br(),{leadId:r}=wf(),{toast:s}=ts(),a=kee(),[n,i]=p.useState(!0),[o,l]=p.useState(!1),[d,m]=p.useState(!1),[h,f]=p.useState(null),[g,y]=p.useState(!1),[w,v]=p.useState(!1),b=p.useRef(null),[N,C]=p.useState([]),[S,_]=p.useState([]),[A,T]=p.useState([]),[E,R]=p.useState([]),[$,K]=p.useState(null),[M,I]=p.useState(!1),[W,V]=p.useState(!1),[U,L]=p.useState({status:"new",customerId:"",lastActivity:{date:"",type:""},owner:{id:"",name:"Unassigned",role:"",initials:"NA"},personalDetails:{firstName:"",lastName:"",email:"",phone:"",position:"",website:""},companyInfo:{company:"",industry:""},companyDetails:{foundedYear:"",employees:"",revenue:"",headquarters:"",description:"",website:"",linkedIn:"",type:"",tags:[]},socialMedia:{linkedin:"",twitter:"",facebook:"https://facebook.com/john.doe",instagram:"https://instagram.com/johndoe",youtube:"",tiktok:"",github:"",website:"https://johndoe.dev"},aiCallSummary:"Customer showed strong interest in our enterprise features. Regarding implementation, the customer prefers a phased rollout starting with their core team of 15 users, then expanding to the full organization over 3-4 months. They have dedicated project management resources and are willing to assign a technical lead to work closely with our implementation team. Training is critical as their staff has varying levels of technical expertise. The competitive landscape includes two other vendors they're actively evaluating. One is a legacy solution that's significantly cheaper but lacks modern features. The other is a newer startup with innovative features but concerns about long-term viability. Our solution was positioned as the best balance of reliability, features, and cost. Next steps include scheduling a technical deep-dive demo for next Tuesday at 2 PM EST with their IT Director, CTO, and lead developer. They also requested a detailed implementation timeline and cost breakdown including training and support options. Customer indicated they want to make a final decision by end of January.",notes:[{id:"note_571135000001729018",content:`Pramod was primarily interested in social media management & ads and email marketing (want to focus on incoming traffic as they're working on automating everything).
Sean will send a breakdown of the services we can offer them based on what he said they're looking for`,module:"Lead",recordName:"Pramod",recordId:"571135000001728026",createdAt:"2024-09-19T15:40:00Z",createdBy:"Khalid Adib",lastUpdated:"2024-09-19T15:40:00Z",tag:"meeting"},{id:"note_571135000001729019",content:"Follow-up call scheduled for next week to discuss pricing and implementation timeline. Customer seems very interested in our automation solutions.",module:"Lead",recordName:"Pramod",recordId:"571135000001728026",createdAt:"2024-09-18T10:30:00Z",createdBy:"Sean Wentz",lastUpdated:"2024-09-18T10:30:00Z",tag:"follow-up"},{id:"note_571135000001729020",content:"Initial discovery call completed. Budget confirmed at $5k-10k range. Decision maker identified. Next step is technical assessment.",module:"Lead",recordName:"Pramod",recordId:"571135000001728026",createdAt:"2024-09-17T14:15:00Z",createdBy:"John Doe",lastUpdated:"2024-09-17T14:15:00Z",tag:"call"}],address:{street:"123 Main Street",city:"New York",state:"NY",zipCode:"10001",country:"United States"}}),[O,F]=p.useState(!1),[z,Y]=p.useState(!1),[B,ee]=p.useState(!1),[ke,H]=p.useState(!1),[he,Ie]=p.useState(!1),[Pe,De]=p.useState(!1),[ce,Ce]=p.useState(!1),[Ee,te]=p.useState(!1),[be,Te]=p.useState(!1),[Ue,ie]=p.useState(!1),[Ge,Ct]=p.useState("Recent Last"),[Ot,St]=p.useState(!1),[ue,Be]=p.useState(""),[kt,Jt]=p.useState(null),[_t,wr]=p.useState("general"),[Yr,jr]=p.useState("all"),[bs,Tr]=p.useState(!1),[Ke,Ms]=p.useState(""),[rs,us]=p.useState(""),[gt,Ca]=p.useState(null),[Dt,zt]=p.useState({}),[ne,ye]=p.useState(U.personalDetails),[Fe,it]=p.useState(U.companyInfo),[vt,rr]=p.useState({street:"",city:"",state:"",zipCode:"",country:"United States"}),[bt,ra]=p.useState(U.owner),[sa,aa]=p.useState(U.companyDetails),[Mi,Nr]=p.useState(U.socialMedia),ws=["1-10","11-50","51-200","201-500","501-1000","1001-5000","5001-10000","10000+"],na=["Under $1M","$1M - $5M","$5M - $10M","$10M - $50M","$50M - $100M","$100M - $500M","$500M - $1B","Over $1B"],jn=["Private Company","Public Company","LLC","Corporation","Partnership","Sole Proprietorship","Non-profit","Government","Startup","Other"],js=[{value:"general",label:"General",color:"bg-gray-600",textColor:"text-gray-300"},{value:"task",label:"Task",color:"bg-blue-600",textColor:"text-blue-300"},{value:"meeting",label:"Meeting",color:"bg-green-600",textColor:"text-green-300"},{value:"call",label:"Call",color:"bg-purple-600",textColor:"text-purple-300"},{value:"email",label:"Email",color:"bg-orange-600",textColor:"text-orange-300"},{value:"follow-up",label:"Follow-up",color:"bg-yellow-600",textColor:"text-yellow-300"},{value:"urgent",label:"Urgent",color:"bg-red-600",textColor:"text-red-300"},{value:"reminder",label:"Reminder",color:"bg-indigo-600",textColor:"text-indigo-300"}],Ia=[{value:"New",color:"bg-blue-500",textColor:"text-blue-400"},{value:"Contacted",color:"bg-yellow-500",textColor:"text-yellow-400"},{value:"Qualified",color:"bg-green-500",textColor:"text-green-400"},{value:"Proposal",color:"bg-purple-500",textColor:"text-purple-400"},{value:"Negotiation",color:"bg-orange-500",textColor:"text-orange-400"},{value:"Closed Won",color:"bg-emerald-500",textColor:"text-emerald-400"},{value:"Closed Lost",color:"bg-red-500",textColor:"text-red-400"},{value:"On Hold",color:"bg-gray-500",textColor:"text-gray-400"}],Xt=()=>Ia.find(J=>J.value===U.status)||Ia[2],Ri=J=>{L(ve=>({...ve,status:J,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:`Status changed to ${J}`}})),v(!1)};p.useEffect(()=>{const J=ve=>{b.current&&!b.current.contains(ve.target)&&v(!1)};return w&&document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[w]);const Ft=(J,ve)=>{Ca(J),zt({[J]:ve})},nr=(J,ve)=>{const er=Dt[J];L(Cr=>{const vr={...Cr},ia=J.split(".");return ia.length===2?vr[ia[0]]={...vr[ia[0]],[ia[1]]:er}:vr[J]=er,vr.lastActivity={date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:`${J} updated`},vr}),Ca(null),zt({})},_e=()=>{Ca(null),zt({})},Ze=()=>{L(J=>({...J,personalDetails:ne,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Personal details updated"}})),F(!1)},Pt=()=>{ye(U.personalDetails),F(!1)},Lt=()=>{L(J=>({...J,address:vt,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Address updated"}})),Y(!1)},Hs=()=>{rr(U.address),Y(!1)},Rs=()=>{ra(U.owner),ee(!0)},Zn=async()=>{try{const{error:J}=await fs.from("leads").update({uploaded_by:bt.id||null}).eq("id",r);if(J)throw J;L(ve=>({...ve,owner:bt,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Lead owner updated"}})),ee(!1),s({title:"Success",description:"Lead owner updated successfully"})}catch(J){console.error("Error updating lead owner:",J),s({title:"Error",description:"Failed to update lead owner",variant:"destructive"})}},Da=()=>{ra(U.owner),ee(!1)},Nn=async()=>{try{await navigator.clipboard.writeText(U.aiCallSummary)}catch(J){console.error("Failed to copy AI Call Summary:",J)}},Za=J=>new Date(J).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Zo=J=>new Date(J).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),ir=()=>{if(!ue.trim())return;const J={id:`note_${Date.now()}`,content:ue,module:"Lead",recordName:U.personalDetails.firstName+" "+U.personalDetails.lastName,recordId:"lead_current",createdAt:new Date().toISOString(),createdBy:"Current User",lastUpdated:new Date().toISOString(),tag:_t};if(_t==="reminder"&&Ke&&rs){const ve=new Date(`${Ke}T${rs}`);ot(ue,ve),J.content=`${ue}

 Reminder set for: ${ve.toLocaleString()}`}L(ve=>({...ve,notes:[J,...ve.notes],lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Note added"}})),Be(""),wr("general"),Ms(""),us(""),Tr(!1),St(!1)},el=J=>{K(J),I(!0)},ei=async()=>{if($)try{const J=U.notes.filter(ve=>ve.id!==$);if(L(ve=>({...ve,notes:J,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Note deleted"}})),r){const{data:ve,error:er}=await fs.from("leads").select("custom_fields").eq("id",r).single();if(er)throw er;const{error:Cr}=await fs.from("leads").update({custom_fields:{...ve.custom_fields,notes:J},updated_at:new Date().toISOString()}).eq("id",r);Cr?(console.error("Error deleting note:",Cr),s({title:"Error",description:"Failed to delete note. Please try again.",variant:"destructive"}),L(vr=>({...vr,notes:U.notes}))):s({title:"Success",description:"Note deleted successfully"})}}catch(J){console.error("Error deleting note:",J),s({title:"Error",description:"Failed to delete note",variant:"destructive"})}finally{I(!1),K(null)}},we=()=>{I(!1),K(null)},ze=()=>{let J=U.notes.filter(ve=>ve.tag!=="ai-summary"&&ve.createdBy!=="AI System");return Yr!=="all"&&(J=J.filter(ve=>ve.tag===Yr)),Ge==="Recent First"?J.sort((ve,er)=>new Date(er.createdAt).getTime()-new Date(ve.createdAt).getTime()):J.sort((ve,er)=>new Date(ve.createdAt).getTime()-new Date(er.createdAt).getTime())},lt=J=>js.find(ve=>ve.value===J)||js[0],ot=(J,ve)=>{const er=`${U.personalDetails.firstName} ${U.personalDetails.lastName}`,Cr=ve.getTime()-Date.now();Cr>0&&setTimeout(()=>{a.info("Reminder",`${J}`,{category:"system",source:"leads",priority:"medium",persistent:!0,metadata:{leadId:U.personalDetails.firstName+U.personalDetails.lastName,leadName:er,type:"reminder",originalContent:J,scheduledFor:ve.toISOString()},action:{label:"View Lead",href:`/leads/${U.personalDetails.firstName}`}})},Cr)};p.useEffect(()=>{Tr(_t==="reminder")},[_t]),p.useEffect(()=>{(async()=>{var ve,er,Cr,vr,ia,en,ti,Ad,dp,Ed,Nm,Td,tl,up,Od,lr,Sm,Cm,Md,km,_m,Pm,Rd,fc,ri,si,ai,rl,sl,ni,mp,Am,al,hp,Em,pc,Tm,fp,nl,il,uo,gc,pp,gp,Id;if(!r){s({title:"Error",description:"No lead ID provided",variant:"destructive"}),e("/crm");return}try{i(!0);const{data:We,error:Om}=await fs.from("leads").select(`
            *,
            uploaded_by:users!leads_uploaded_by_fkey(
              id,
              first_name,
              last_name,
              role
            ),
            campaigns(
              id,
              name
            )
          `).eq("id",r).single();if(Om||!We)throw new Error("Lead not found");L({status:We.qualification_status||We.status||"new",customerId:We.id.substring(0,8).toUpperCase(),lastActivity:{date:We.last_call_at?new Date(We.last_call_at).toLocaleString():"No activity",type:We.last_call_at?"Call":"None"},owner:{id:((ve=We.uploaded_by)==null?void 0:ve.id)||"",name:We.uploaded_by?`${We.uploaded_by.first_name} ${We.uploaded_by.last_name}`:"Unassigned",role:((er=We.uploaded_by)==null?void 0:er.role)||"",initials:We.uploaded_by?`${((Cr=We.uploaded_by.first_name)==null?void 0:Cr[0])||""}${((vr=We.uploaded_by.last_name)==null?void 0:vr[0])||""}`.toUpperCase():"NA"},personalDetails:{firstName:We.first_name||"",lastName:We.last_name||"",email:((ia=We.custom_fields)==null?void 0:ia.email)||We.email||"",phone:We.phone||"",position:((en=We.custom_fields)==null?void 0:en.job_title)||We.job_title||"",website:((ti=We.custom_fields)==null?void 0:ti.website)||""},companyInfo:{company:((Ad=We.custom_fields)==null?void 0:Ad.company)||We.company||"",industry:((dp=We.custom_fields)==null?void 0:dp.industry)||""},companyDetails:{foundedYear:((Ed=We.custom_fields)==null?void 0:Ed.foundedYear)||"",employees:((Nm=We.custom_fields)==null?void 0:Nm.employees)||"",revenue:((Td=We.custom_fields)==null?void 0:Td.revenue)||"",headquarters:`${We.city||""}, ${We.state||""}`.trim().replace(/^,\s*/,""),description:((tl=We.custom_fields)==null?void 0:tl.description)||"",website:((up=We.custom_fields)==null?void 0:up.website)||"",linkedIn:((Od=We.custom_fields)==null?void 0:Od.linkedIn)||"",type:((lr=We.custom_fields)==null?void 0:lr.type)||"",tags:((Sm=We.custom_fields)==null?void 0:Sm.tags)||[]},socialMedia:{linkedin:((Md=(Cm=We.custom_fields)==null?void 0:Cm.socialMedia)==null?void 0:Md.linkedin)||"",twitter:((_m=(km=We.custom_fields)==null?void 0:km.socialMedia)==null?void 0:_m.twitter)||"",facebook:((Rd=(Pm=We.custom_fields)==null?void 0:Pm.socialMedia)==null?void 0:Rd.facebook)||"",instagram:((ri=(fc=We.custom_fields)==null?void 0:fc.socialMedia)==null?void 0:ri.instagram)||"",youtube:((ai=(si=We.custom_fields)==null?void 0:si.socialMedia)==null?void 0:ai.youtube)||"",tiktok:((sl=(rl=We.custom_fields)==null?void 0:rl.socialMedia)==null?void 0:sl.tiktok)||""},address:{street:((ni=We.custom_fields)==null?void 0:ni.address_line1)||We.address_line1||"",city:((mp=We.custom_fields)==null?void 0:mp.city)||We.city||"",state:((Am=We.custom_fields)==null?void 0:Am.state)||We.state||"",zipCode:((al=We.custom_fields)==null?void 0:al.postal_code)||We.postal_code||"",country:((hp=We.custom_fields)==null?void 0:hp.country)||We.country||"United States"},aiCallSummary:((Tm=(pc=(Em=We.custom_fields)==null?void 0:Em.notes)==null?void 0:pc[0])==null?void 0:Tm.content)||((fp=We.custom_fields)==null?void 0:fp.aiCallSummary)||((uo=(il=(nl=We.custom_fields)==null?void 0:nl.ultraDetailedBrief)==null?void 0:il.executiveSummary)==null?void 0:uo.nextAction)||"",notes:Array.isArray((gc=We.custom_fields)==null?void 0:gc.notes)?We.custom_fields.notes:[]});const{data:Dd}=await fs.from("calls").select("*").eq("lead_id",r).order("created_at",{ascending:!1});if(Dd){C(Dd);const hr=Dd.find($r=>$r.notes||$r.summary||$r.ultra_detailed_brief);hr&&L($r=>{var mo,Mm;return{...$r,aiCallSummary:hr.notes||hr.summary||((Mm=(mo=hr.ultra_detailed_brief)==null?void 0:mo.executiveSummary)==null?void 0:Mm.nextAction)||$r.aiCallSummary}})}try{const{data:hr,error:$r}=await fs.from("appointments").select("*").eq("lead_id",r).order("date",{ascending:!0});!$r&&hr?T(hr):$r&&console.log("Appointments table not available:",$r.message)}catch{console.log("Could not fetch appointments")}try{const{data:hr,error:$r}=await fs.from("tasks").select("*").eq("lead_id",r).eq("status","pending").order("due_date",{ascending:!0});!$r&&hr?R(hr):$r&&console.log("Tasks table not available:",$r.message)}catch{console.log("Could not fetch tasks")}if(We.custom_fields&&(((pp=We.custom_fields.upcomingAppointments)==null?void 0:pp.length)>0&&T(hr=>[...hr,...We.custom_fields.upcomingAppointments]),((gp=We.custom_fields.pendingTasks)==null?void 0:gp.length)>0&&R(hr=>[...hr,...We.custom_fields.pendingTasks]),((Id=We.custom_fields.missingInfo)==null?void 0:Id.length)>0)){const hr=We.custom_fields.missingInfo.map(($r,mo)=>({id:`missing-${mo}`,title:`Get ${$r.field}`,description:$r.question,priority:$r.importance==="critical"?"high":"medium",category:"follow_up",due_date:new Date(Date.now()+864e5).toISOString().split("T")[0]}));R($r=>[...$r,...hr])}if(We.organization_id){const{data:hr}=await fs.from("users").select("id, first_name, last_name, email, role").eq("organization_id",We.organization_id).order("first_name");hr&&_(hr)}}catch(We){console.error("Error fetching lead data:",We),s({title:"Error",description:"Failed to load lead data",variant:"destructive"}),e("/crm")}finally{i(!1)}})()},[r,e,s]);const mr=N.map(J=>({id:J.id,date:J.started_at?new Date(J.started_at).toLocaleDateString():"N/A",time:J.started_at?new Date(J.started_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A",duration:J.duration?`${Math.floor(J.duration/60)}:${(J.duration%60).toString().padStart(2,"0")}`:"N/A",outcome:J.outcome||J.status||"Unknown",sentiment:J.sentiment||"N/A",cost:J.cost?`$${J.cost.toFixed(2)}`:"$0.00",status:J.status||"unknown",...J})),wt=J=>{const ve={id:J.id,duration:parseInt(J.duration.split(":")[0])*60+parseInt(J.duration.split(":")[1]),transcript:[{speaker:"user",text:"Hello? Alright."},{speaker:"ai",text:"Hello. Is it possible to speak to Harris, please?"},{speaker:"user",text:"Speaking."},{speaker:"ai",text:"Hi, Harris. This is Joanne calling from Emerald Green Energy. You spoke to 1 of our reps who was in your area about solar energy for your property. Does that sound familiar?"},{speaker:"user",text:"Yes. That sounds familiar."},{speaker:"ai",text:"Great. Thanks for confirming. I hope you've been enjoying the nice weather. So just to check, was solar something you'd considered before our rep visit? Or was it more of a new idea when they spoke to you?"}],recording:"/mock-audio.wav",analysis:{sentiment:J.sentiment==="Positive"?.75:J.sentiment==="Neutral"?.5:.25,keywords:["solar energy","property","rep visit"],summary:`Call with ${J.outcome.toLowerCase()} outcome. Duration: ${J.duration}`},cost:parseFloat(J.cost.replace("$","")),messages:[{type:"info",content:`Call initiated at ${J.time}`,timestamp:Date.now()-864e5},{type:"success",content:`Call completed with ${J.outcome} outcome`,timestamp:Date.now()}]};f(ve),y(!0)},or=async J=>{try{const{data:ve,error:er}=await fs.from("tasks").insert([{...J,lead_id:r,organization_id:U.organizationId,created_by:U.owner.id||"system"}]).select().single();if(er){console.log("Tasks table not available, saving to custom_fields");const Cr=[...E,J],{error:vr}=await fs.from("leads").update({custom_fields:{...U.customFields,pendingTasks:Cr}}).eq("id",r);if(vr)throw vr;R(Cr),s({title:"Task Created",description:`Task "${J.title}" has been added successfully.`})}else R([...E,ve]),s({title:"Task Created",description:`Task "${J.title}" has been added successfully.`})}catch(ve){console.error("Error creating task:",ve),s({title:"Error",description:"Failed to create task. Please try again.",variant:"destructive"})}};return n?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent mx-auto"}),t.jsx("p",{className:"text-gray-400",children:"Loading lead data..."})]})}):t.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:[t.jsx("div",{className:"sticky top-0 z-30 flex-shrink-0 border-b border-gray-800 bg-gray-900/90",children:t.jsx("div",{className:"px-6 py-4",children:t.jsx("div",{className:"mb-4 flex items-center justify-between",children:t.jsxs(q,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>e("/crm"),children:[t.jsx(tc,{className:"mr-1 h-4 w-4"}),"Back to CRM"]})})})}),t.jsxs("div",{className:"flex-1 p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"mb-6 flex items-center justify-between",children:t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Lead Overview"})}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx("div",{className:"relative rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",ref:b,children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Lead Status"}),t.jsxs("div",{className:"-m-2 flex cursor-pointer items-center gap-2 rounded-lg p-2 transition-colors hover:bg-gray-700/30",onClick:()=>v(!w),children:[t.jsx("div",{className:`h-2 w-2 rounded-full ${Xt().color}`}),t.jsx("span",{className:"font-medium text-white",children:U.status}),t.jsx(as,{className:`ml-auto h-4 w-4 text-gray-400 transition-transform ${w?"rotate-180":""}`})]}),w&&t.jsx("div",{className:"absolute left-0 right-0 top-full z-50 mt-2 rounded-lg border border-gray-700 bg-gray-800 shadow-xl",children:t.jsx("div",{className:"space-y-1 p-2",children:Ia.map(J=>t.jsxs("div",{className:`flex cursor-pointer items-center gap-2 rounded-lg p-2 transition-colors ${U.status===J.value?"bg-gray-700/50":"hover:bg-gray-700/30"}`,onClick:()=>Ri(J.value),children:[t.jsx("div",{className:`h-2 w-2 rounded-full ${J.color}`}),t.jsx("span",{className:`font-medium ${J.textColor}`,children:J.value})]},J.value))})})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Customer ID"}),t.jsx("span",{className:"font-mono text-lg text-white",children:U.customerId})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Last Activity"}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"font-medium text-white",children:U.lastActivity.date}),t.jsx("div",{className:"text-sm text-gray-400",children:U.lastActivity.type})]})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Lead Owner"}),B?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:Zn,className:"text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Da,className:"text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]}):t.jsx("button",{onClick:Rs,className:"text-gray-500 transition-colors hover:text-gray-300",children:t.jsx(pr,{className:"h-4 w-4"})})]}),B?t.jsx("div",{children:t.jsxs("select",{value:bt.id,onChange:J=>{var er,Cr;const ve=S.find(vr=>vr.id===J.target.value);ve&&ra({id:ve.id,name:`${ve.first_name} ${ve.last_name}`,role:ve.role,initials:`${((er=ve.first_name)==null?void 0:er[0])||""}${((Cr=ve.last_name)==null?void 0:Cr[0])||""}`.toUpperCase()})},className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-blue-500 focus:outline-none",children:[t.jsx("option",{value:"",children:"Unassigned"}),S.map(J=>t.jsxs("option",{value:J.id,children:[J.first_name," ",J.last_name," - ",J.role]},J.id))]})}):t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-500",children:t.jsx("span",{className:"text-sm font-medium text-white",children:U.owner.initials})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-white",children:U.owner.name}),t.jsx("div",{className:"text-sm text-gray-400",children:U.owner.role})]})]})]})})]})]}),t.jsx("div",{className:`${o?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${o?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${o?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(vs,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Personal Details"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!o&&O&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:Ze,className:"text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-5 w-5"})}),t.jsx("button",{onClick:Pt,className:"text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-5 w-5"})})]}),t.jsx("button",{onClick:()=>l(!o),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(as,{className:`h-5 w-5 transition-transform ${o?"rotate-180":""}`})})]})]}),!o&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"First Name"}),gt!=="personalDetails.firstName"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-lg font-medium text-white",children:U.personalDetails.firstName}),t.jsx("button",{onClick:()=>Ft("personalDetails.firstName",U.personalDetails.firstName),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Dt["personalDetails.firstName"]||"",onChange:J=>zt(ve=>({...ve,"personalDetails.firstName":J.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("personalDetails.firstName"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Last Name"}),gt!=="personalDetails.lastName"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-lg font-medium text-white",children:U.personalDetails.lastName}),t.jsx("button",{onClick:()=>Ft("personalDetails.lastName",U.personalDetails.lastName),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Dt["personalDetails.lastName"]||"",onChange:J=>zt(ve=>({...ve,"personalDetails.lastName":J.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("personalDetails.lastName"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Email"}),gt!=="personalDetails.email"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.personalDetails.email}),t.jsx("button",{onClick:()=>Ft("personalDetails.email",U.personalDetails.email),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"email",value:Dt["personalDetails.email"]||"",onChange:J=>zt(ve=>({...ve,"personalDetails.email":J.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("personalDetails.email"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Phone"}),gt!=="personalDetails.phone"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.personalDetails.phone}),t.jsx("button",{onClick:()=>Ft("personalDetails.phone",U.personalDetails.phone),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"tel",value:Dt["personalDetails.phone"]||"",onChange:J=>zt(ve=>({...ve,"personalDetails.phone":J.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("personalDetails.phone"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Position"}),gt!=="personalDetails.position"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.personalDetails.position}),t.jsx("button",{onClick:()=>Ft("personalDetails.position",U.personalDetails.position),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Dt["personalDetails.position"]||"",onChange:J=>zt(ve=>({...ve,"personalDetails.position":J.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("personalDetails.position"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Website"}),gt!=="personalDetails.website"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.personalDetails.website}),t.jsx("button",{onClick:()=>Ft("personalDetails.website",U.personalDetails.website),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Dt["personalDetails.website"]||"",onChange:J=>zt(ve=>({...ve,"personalDetails.website":J.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("personalDetails.website"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"mt-8 border-t border-gray-700/50 pt-6",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[t.jsx(tr,{className:"h-4 w-4 text-purple-500"}),t.jsx("h4",{className:"font-medium text-white",children:"Company Information"})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company"}),gt!=="companyInfo.company"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyInfo.company}),t.jsx("button",{onClick:()=>Ft("companyInfo.company",U.companyInfo.company),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Dt["companyInfo.company"]||"",onChange:J=>zt(ve=>({...ve,"companyInfo.company":J.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("companyInfo.company"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Industry"}),gt!=="companyInfo.industry"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyInfo.industry}),t.jsx("button",{onClick:()=>Ft("companyInfo.industry",U.companyInfo.industry),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Dt["companyInfo.industry"]||"",onChange:J=>zt(ve=>({...ve,"companyInfo.industry":J.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("companyInfo.industry"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]})]})]})]})]})}),t.jsx("div",{className:`${d?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${d?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${d?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Vl,{className:"h-5 w-5 text-green-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Address Information"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!d&&z&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:Lt,className:"text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-5 w-5"})}),t.jsx("button",{onClick:Hs,className:"text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-5 w-5"})})]}),t.jsx("button",{onClick:()=>m(!d),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(as,{className:`h-5 w-5 transition-transform ${d?"rotate-180":""}`})})]})]}),!d&&t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2 md:col-span-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Street Address"}),gt!=="address.street"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.address.street}),t.jsx("button",{onClick:()=>Ft("address.street",U.address.street),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Dt["address.street"]||"",onChange:J=>zt(ve=>({...ve,"address.street":J.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("address.street"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"City"}),gt!=="address.city"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.address.city}),t.jsx("button",{onClick:()=>Ft("address.city",U.address.city),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Dt["address.city"]||"",onChange:J=>zt(ve=>({...ve,"address.city":J.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("address.city"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"State"}),z?t.jsx("input",{type:"text",value:vt.state,onChange:J=>rr(ve=>({...ve,state:J.target.value})),className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.address.state}),t.jsx("button",{onClick:()=>{rr(U.address),Y(!0)},className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"ZIP Code"}),z?t.jsx("input",{type:"text",value:vt.zipCode,onChange:J=>rr(ve=>({...ve,zipCode:J.target.value})),className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.address.zipCode}),t.jsx("button",{onClick:()=>{rr(U.address),Y(!0)},className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Country"}),z?t.jsx("input",{type:"text",value:vt.country,onChange:J=>rr(ve=>({...ve,country:J.target.value})),className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.address.country}),t.jsx("button",{onClick:()=>{rr(U.address),Y(!0)},className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})})]})]})]})}),t.jsx("div",{className:`${he?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${he?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${he?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ox,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Company Details"})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>Ie(!he),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(as,{className:`h-5 w-5 transition-transform ${he?"rotate-180":""}`})})})]}),!he&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Founded Year"}),gt!=="companyDetails.foundedYear"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyDetails.foundedYear}),t.jsx("button",{onClick:()=>Ft("companyDetails.foundedYear",U.companyDetails.foundedYear),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Dt["companyDetails.foundedYear"]||"",onChange:J=>zt(ve=>({...ve,"companyDetails.foundedYear":J.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("companyDetails.foundedYear"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Employees"}),gt!=="companyDetails.employees"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyDetails.employees}),t.jsx("button",{onClick:()=>Ft("companyDetails.employees",U.companyDetails.employees),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(at,{value:Dt["companyDetails.employees"]||"",onValueChange:J=>zt(ve=>({...ve,"companyDetails.employees":J})),children:[t.jsx(et,{className:"flex-1 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(nt,{placeholder:"Select employee count"})}),t.jsx(tt,{children:ws.map(J=>t.jsx(se,{value:J,children:J},J))})]}),t.jsx("button",{onClick:()=>nr("companyDetails.employees"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Annual Revenue"}),gt!=="companyDetails.revenue"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyDetails.revenue}),t.jsx("button",{onClick:()=>Ft("companyDetails.revenue",U.companyDetails.revenue),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(at,{value:Dt["companyDetails.revenue"]||"",onValueChange:J=>zt(ve=>({...ve,"companyDetails.revenue":J})),children:[t.jsx(et,{className:"flex-1 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(nt,{placeholder:"Select revenue range"})}),t.jsx(tt,{children:na.map(J=>t.jsx(se,{value:J,children:J},J))})]}),t.jsx("button",{onClick:()=>nr("companyDetails.revenue"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Headquarters"}),gt!=="companyDetails.headquarters"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyDetails.headquarters}),t.jsx("button",{onClick:()=>Ft("companyDetails.headquarters",U.companyDetails.headquarters),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Dt["companyDetails.headquarters"]||"",onChange:J=>zt(ve=>({...ve,"companyDetails.headquarters":J.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("companyDetails.headquarters"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company Type"}),gt!=="companyDetails.type"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyDetails.type}),t.jsx("button",{onClick:()=>Ft("companyDetails.type",U.companyDetails.type),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(at,{value:Dt["companyDetails.type"]||"",onValueChange:J=>zt(ve=>({...ve,"companyDetails.type":J})),children:[t.jsx(et,{className:"flex-1 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(nt,{placeholder:"Select company type"})}),t.jsx(tt,{children:jn.map(J=>t.jsx(se,{value:J,children:J},J))})]}),t.jsx("button",{onClick:()=>nr("companyDetails.type"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company Website"}),gt!=="companyDetails.website"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:t.jsx("a",{href:U.companyDetails.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.companyDetails.website})}),t.jsx("button",{onClick:()=>Ft("companyDetails.website",U.companyDetails.website),className:"opacity-0 text-gray-400 transition-opacity group-hover:opacity-100 hover:text-white",children:t.jsx(pr,{size:16})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Dt["companyDetails.website"]||"",onChange:J=>zt(ve=>({...ve,"companyDetails.website":J.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}),t.jsx("button",{onClick:()=>nr("companyDetails.website"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Check,{size:16})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{size:16})})]})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company Description"}),gt!=="companyDetails.description"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("div",{className:"font-medium leading-relaxed text-white pr-8",children:U.companyDetails.description}),t.jsx("button",{onClick:()=>Ft("companyDetails.description",U.companyDetails.description),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100 flex-shrink-0",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("textarea",{value:Dt["companyDetails.description"]||"",onChange:J=>zt(ve=>({...ve,"companyDetails.description":J.target.value})),rows:3,className:"flex-1 resize-none rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("button",{onClick:()=>nr("companyDetails.description"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Industry Tags"}),ke?t.jsx("input",{type:"text",value:sa.tags.join(", "),onChange:J=>aa(ve=>({...ve,tags:J.target.value.split(", ").filter(er=>er.trim())})),placeholder:"Enter tags separated by commas",className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"flex flex-wrap gap-2",children:U.companyDetails.tags.map((J,ve)=>t.jsx("span",{className:"rounded-full bg-blue-500/20 px-3 py-1 text-sm text-blue-400",children:J},ve))})]})]})]})}),t.jsx("div",{className:`${Ee?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${Ee?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${Ee?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(pY,{className:"h-5 w-5 text-purple-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Social Media Profiles"})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>te(!Ee),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(as,{className:`h-5 w-5 transition-transform ${Ee?"rotate-180":""}`})})})]}),!Ee&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-medium text-gray-400",children:[t.jsx(tr,{className:"h-4 w-4"}),"Professional Networks"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"LinkedIn"}),gt!=="socialMedia.linkedin"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.linkedin?t.jsx("a",{href:U.socialMedia.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.linkedin}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>Ft("socialMedia.linkedin",U.socialMedia.linkedin||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Dt["socialMedia.linkedin"]||"",onChange:J=>zt(ve=>({...ve,"socialMedia.linkedin":J.target.value})),placeholder:"https://linkedin.com/in/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("socialMedia.linkedin"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"GitHub"}),gt!=="socialMedia.github"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.github?t.jsx("a",{href:U.socialMedia.github,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.github}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>Ft("socialMedia.github",U.socialMedia.github||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Dt["socialMedia.github"]||"",onChange:J=>zt(ve=>({...ve,"socialMedia.github":J.target.value})),placeholder:"https://github.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("socialMedia.github"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-medium text-gray-400",children:[t.jsx(vs,{className:"h-4 w-4"}),"Social Networks"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Twitter"}),gt!=="socialMedia.twitter"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.twitter?t.jsx("a",{href:U.socialMedia.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.twitter}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>Ft("socialMedia.twitter",U.socialMedia.twitter||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Dt["socialMedia.twitter"]||"",onChange:J=>zt(ve=>({...ve,"socialMedia.twitter":J.target.value})),placeholder:"https://twitter.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("socialMedia.twitter"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Facebook"}),gt!=="socialMedia.facebook"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.facebook?t.jsx("a",{href:U.socialMedia.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.facebook}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>Ft("socialMedia.facebook",U.socialMedia.facebook||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Dt["socialMedia.facebook"]||"",onChange:J=>zt(ve=>({...ve,"socialMedia.facebook":J.target.value})),placeholder:"https://facebook.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("socialMedia.facebook"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Instagram"}),gt!=="socialMedia.instagram"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.instagram?t.jsx("a",{href:U.socialMedia.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.instagram}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>Ft("socialMedia.instagram",U.socialMedia.instagram||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Dt["socialMedia.instagram"]||"",onChange:J=>zt(ve=>({...ve,"socialMedia.instagram":J.target.value})),placeholder:"https://instagram.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("socialMedia.instagram"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"TikTok"}),gt!=="socialMedia.tiktok"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.tiktok?t.jsx("a",{href:U.socialMedia.tiktok,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.tiktok}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>Ft("socialMedia.tiktok",U.socialMedia.tiktok||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Dt["socialMedia.tiktok"]||"",onChange:J=>zt(ve=>({...ve,"socialMedia.tiktok":J.target.value})),placeholder:"https://tiktok.com/@username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("socialMedia.tiktok"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-medium text-gray-400",children:[t.jsx(Po,{className:"h-4 w-4"}),"Video Platforms"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"YouTube"}),gt!=="socialMedia.youtube"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.youtube?t.jsx("a",{href:U.socialMedia.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.youtube}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>Ft("socialMedia.youtube",U.socialMedia.youtube||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(pr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Dt["socialMedia.youtube"]||"",onChange:J=>zt(ve=>({...ve,"socialMedia.youtube":J.target.value})),placeholder:"https://youtube.com/channel/...",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("socialMedia.youtube"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(jt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Personal Website"}),ce?t.jsx("input",{type:"url",value:Mi.website,onChange:J=>Nr(ve=>({...ve,website:J.target.value})),placeholder:"https://personal-website.com",className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.website?t.jsx("a",{href:U.socialMedia.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.website}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})})]})]})]})]})]})}),t.jsx("div",{className:`${be?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:`${be?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Wl,{className:"h-5 w-5 text-purple-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"AI Call Summary"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!be&&t.jsxs("button",{onClick:Nn,className:"flex items-center gap-2 rounded-lg bg-gray-700/50 px-3 py-2 text-sm font-medium text-gray-300 transition-colors hover:bg-gray-600/50 hover:text-white",children:[t.jsx(mn,{className:"h-4 w-4"}),"Copy"]}),t.jsx("button",{onClick:()=>Te(!be),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(as,{className:`h-5 w-5 transition-transform ${be?"rotate-180":""}`})})]})]}),!be&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"rounded-lg border border-gray-700/50 bg-gray-900/30 p-4",children:t.jsx("p",{className:"leading-relaxed text-gray-300",children:U.aiCallSummary})}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[t.jsx("span",{children:"Generated from last call"}),t.jsx("span",{children:""}),t.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString()]})]})]})]})}),t.jsxs("div",{className:"mb-6 rounded-xl border border-gray-700/50 bg-gray-800/50 p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ps,{className:"h-5 w-5 text-emerald-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Calendar & Tasks"})]}),t.jsxs(q,{onClick:()=>V(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white text-sm",size:"sm",children:[t.jsx(Br,{className:"h-4 w-4 mr-1"}),"Add Task"]})]}),t.jsx(u1e,{appointments:A,tasks:E,onAppointmentClick:J=>console.log("Appointment clicked:",J),onTaskClick:J=>console.log("Task clicked:",J)})]}),t.jsx("div",{className:`${Ue?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${Ue?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${Ue?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Xi,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"cursor-pointer text-lg font-semibold text-white transition-colors hover:text-gray-300",onClick:()=>ie(!Ue),children:"Notes"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[!Ue&&t.jsx("div",{className:"relative",children:t.jsxs("select",{value:Yr,onChange:J=>jr(J.target.value),className:"cursor-pointer rounded border border-gray-700/50 bg-gray-800/50 px-3 py-1.5 text-sm text-gray-300 transition-colors hover:bg-gray-800 focus:border-gray-600 focus:outline-none",children:[t.jsx("option",{value:"all",children:"All Tags"}),js.map(J=>t.jsx("option",{value:J.value,children:J.label},J.value))]})}),!Ue&&t.jsx("div",{className:"relative",children:t.jsxs("select",{value:Ge,onChange:J=>Ct(J.target.value),className:"cursor-pointer rounded border border-gray-700/50 bg-gray-800/50 px-3 py-1.5 text-sm text-gray-300 transition-colors hover:bg-gray-800 focus:border-gray-600 focus:outline-none",children:[t.jsx("option",{value:"Recent Last",children:"Recent Last"}),t.jsx("option",{value:"Recent First",children:"Recent First"})]})}),t.jsx("button",{onClick:()=>ie(!Ue),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(as,{className:`h-5 w-5 transition-transform ${Ue?"rotate-180":""}`})})]})]}),!Ue&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"space-y-4",children:ze().map(J=>t.jsxs("div",{className:"group flex gap-4",children:[t.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gray-600 text-sm font-medium text-white",children:J.createdBy?J.createdBy.charAt(0).toUpperCase():"N"}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"rounded-lg border border-gray-700/30 bg-gray-900/50 p-4 transition-all hover:border-gray-600/50",children:[t.jsx("div",{className:"mb-3 flex items-center gap-2",children:t.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${lt(J.tag).color} ${lt(J.tag).textColor}`,children:lt(J.tag).label})}),t.jsx("div",{className:"mb-4 whitespace-pre-wrap leading-relaxed text-gray-300",children:J.content}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"font-medium text-blue-400",children:J.module}),t.jsx("span",{children:"-"}),t.jsx("a",{href:`#/leads/${J.recordId}`,className:"text-blue-400 transition-colors hover:text-blue-300",title:J.recordName,children:J.recordName})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"cursor-pointer text-gray-400 transition-colors hover:text-blue-400",onClick:()=>St(!0),children:"Add Note"}),t.jsx("span",{children:""}),t.jsxs("div",{className:"flex items-center gap-1",title:`Edited on ${Zo(J.lastUpdated)}`,children:[t.jsx(It,{className:"h-3 w-3"}),t.jsxs("span",{children:["Edited on ",Za(J.lastUpdated)]})]}),t.jsx("span",{children:"by"}),t.jsx("span",{title:J.createdBy,children:J.createdBy})]})]})]}),t.jsxs("div",{className:"mt-2 flex items-center gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[t.jsx("button",{className:"rounded p-1 text-gray-500 transition-colors hover:text-blue-400",title:"Edit",onClick:()=>Jt(J.id),children:t.jsx(pr,{className:"h-4 w-4"})}),t.jsx("button",{className:"rounded p-1 text-gray-500 transition-colors hover:text-red-400",title:"Delete",onClick:()=>el(J.id),children:t.jsx(Bs,{className:"h-4 w-4"})})]})]})]},J.id))}),t.jsx("div",{className:"mt-6",children:Ot?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Tag:"}),t.jsxs(at,{value:_t,onValueChange:wr,children:[t.jsx(et,{className:"w-48 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(nt,{})}),t.jsx(tt,{children:js.map(J=>t.jsx(se,{value:J.value,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${J.color}`}),J.label]})},J.value))})]})]}),bs&&t.jsxs("div",{className:"rounded-lg border border-gray-600 bg-gray-700/50 p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(To,{className:"h-4 w-4"}),t.jsx("span",{children:"Set reminder for:"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500",children:"Date"}),t.jsx("input",{type:"date",value:Ke,onChange:J=>Ms(J.target.value),min:new Date().toISOString().split("T")[0],className:"w-full rounded border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500",children:"Time"}),t.jsx("input",{type:"time",value:rs,onChange:J=>us(J.target.value),className:"w-full rounded border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"})]})]})]}),t.jsx("textarea",{value:ue,onChange:J=>Be(J.target.value),placeholder:"What's this note about?",className:"min-h-[100px] w-full resize-none rounded-lg border border-gray-600 bg-gray-700 px-4 py-3 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:ir,disabled:!ue.trim()||_t==="reminder"&&(!Ke||!rs),className:"flex items-center gap-2 rounded border border-gray-600 bg-gray-700 px-4 py-2 text-sm text-white transition-colors hover:border-gray-500 hover:bg-gray-600 disabled:cursor-not-allowed disabled:bg-gray-800",children:[t.jsx(ql,{className:"h-4 w-4"}),"Add Note"]}),t.jsx("button",{onClick:()=>{St(!1),Be(""),wr("general"),Ms(""),us(""),Tr(!1)},className:"rounded-lg px-4 py-2 text-sm text-gray-400 transition-colors hover:text-white",children:"Cancel"})]})]}):t.jsx("button",{onClick:()=>St(!0),className:"w-full rounded-lg border border-gray-600/50 bg-gray-700/50 px-4 py-3 text-left text-gray-400 transition-colors hover:border-gray-600 hover:bg-gray-700",children:"Add a note"})})]})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Po,{className:"h-5 w-5 text-orange-400"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Call Results"})]}),t.jsx("button",{onClick:()=>De(!Pe),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(as,{className:`h-5 w-5 transition-transform ${Pe?"rotate-180":""}`})})]}),!Pe&&t.jsx("div",{className:"space-y-3",children:mr.map(J=>t.jsx("div",{onClick:()=>wt(J),className:"group cursor-pointer rounded-lg border border-gray-700/30 bg-gray-900/50 p-4 transition-all duration-200 hover:border-gray-600/50 hover:bg-gray-900/70",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${J.status==="completed"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:t.jsx(pt,{className:"h-5 w-5"})}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"font-medium text-white",children:J.date}),t.jsx("span",{className:"text-sm text-gray-400",children:J.time})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(It,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-gray-400",children:J.duration})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(_s,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-gray-400",children:J.sentiment})]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-sm font-medium ${J.outcome==="Qualified"?"text-green-400":J.outcome==="Follow-up"?"text-yellow-400":"text-gray-400"}`,children:J.outcome}),t.jsx("div",{className:"text-sm text-gray-500",children:J.cost})]}),t.jsx(as,{className:"h-5 w-5 rotate-[-90deg] text-gray-500 transition-colors group-hover:text-gray-300"})]})]})},J.id))})]})})]}),M&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"mx-4 max-w-md rounded-lg border border-gray-700 bg-gray-800 p-6 shadow-xl",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-900/30",children:t.jsx(Bs,{className:"h-5 w-5 text-red-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Confirm Delete"})]}),t.jsx("p",{className:"mb-6 text-gray-300",children:"Are you sure you want to delete this note? This action cannot be undone."}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:we,className:"rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-sm font-medium text-gray-300 transition-colors hover:bg-gray-600",children:"Cancel"}),t.jsx("button",{onClick:ei,className:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-red-700",children:"Delete Note"})]})]})}),t.jsx(Qy,{isOpen:g,onClose:()=>y(!1),callData:h}),t.jsx(m1e,{isOpen:W,onClose:()=>V(!1),onCreateTask:or,leadId:r||""})]})}const f1e=()=>{const{userContext:e}=no(),[r,s]=p.useState([]),[a,n]=p.useState({totalMRR:0,newMRR:0,churnedMRR:0,averageRevenue:0,growthRate:0,clientLifetimeValue:0}),[i,o]=p.useState(""),[l,d]=p.useState("all"),[m,h]=p.useState("all");p.useEffect(()=>{const v=[{id:"1",name:"TechStart Solutions",plan:"professional",monthlyRevenue:599,callVolume:2450,status:"active",joinDate:"2024-01-15",lastActivity:"2024-01-18 14:30",industry:"SaaS",contactEmail:"sarah@techstart.com"},{id:"2",name:"Local Home Services",plan:"starter",monthlyRevenue:299,callVolume:890,status:"active",joinDate:"2024-01-10",lastActivity:"2024-01-18 09:15",industry:"Home Services",contactEmail:"mike@localhome.com"},{id:"3",name:"Enterprise Corp",plan:"enterprise",monthlyRevenue:1299,callVolume:5200,status:"active",joinDate:"2023-12-01",lastActivity:"2024-01-18 16:45",industry:"Enterprise",contactEmail:"jennifer@enterprise.com"},{id:"4",name:"GrowthCo Marketing",plan:"professional",monthlyRevenue:599,callVolume:1800,status:"trial",joinDate:"2024-01-12",lastActivity:"2024-01-17 11:20",industry:"Marketing",contactEmail:"david@growthco.com"},{id:"5",name:"RetailMax Store",plan:"starter",monthlyRevenue:299,callVolume:650,status:"paused",joinDate:"2023-11-20",lastActivity:"2024-01-10 08:30",industry:"Retail",contactEmail:"lisa@retailmax.com"}];s(v);const b=v.filter(S=>S.status==="active"),N=b.reduce((S,_)=>S+_.monthlyRevenue,0),C=v.filter(S=>S.status==="active"&&new Date(S.joinDate)>new Date("2024-01-01")).reduce((S,_)=>S+_.monthlyRevenue,0);n({totalMRR:N,newMRR:C,churnedMRR:299,averageRevenue:N/b.length,growthRate:23.5,clientLifetimeValue:N*24})},[]);const f=v=>{switch(v){case"starter":return"bg-blue-100 text-blue-800";case"professional":return"bg-purple-100 text-emerald-800";case"enterprise":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},g=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"trial":return"bg-yellow-100 text-yellow-800";case"paused":return"bg-orange-100 text-orange-800";case"churned":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=v=>{switch(v){case"active":return t.jsx(yt,{className:"h-4 w-4"});case"trial":return t.jsx(It,{className:"h-4 w-4"});case"paused":return t.jsx(Kt,{className:"h-4 w-4"});case"churned":return t.jsx(Kt,{className:"h-4 w-4"});default:return t.jsx(It,{className:"h-4 w-4"})}},w=r.filter(v=>{const b=v.name.toLowerCase().includes(i.toLowerCase())||v.industry.toLowerCase().includes(i.toLowerCase()),N=l==="all"||v.plan===l,C=m==="all"||v.status===m;return b&&N&&C});return t.jsx("div",{className:"min-h-screen bg-black text-white",children:t.jsxs("div",{className:"w-full space-y-8 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Agency Command Center"}),t.jsxs("p",{className:"mt-2 text-gray-400",children:["Welcome back, ",(e==null?void 0:e.firstName)||"Agency Admin","! Manage your client portfolio and track revenue performance."]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(q,{className:"bg-emerald-600 text-white hover:bg-emerald-700",onClick:()=>window.location.href="/client-onboarding",children:[t.jsx(Af,{className:"mr-2 h-4 w-4"}),"Start Onboarding"]}),t.jsxs(q,{className:"bg-blue-600 text-white hover:bg-blue-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Add New Client"]}),t.jsxs(q,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[t.jsx(is,{className:"mr-2 h-4 w-4"}),"Settings"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-2",children:t.jsxs(ge,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Total MRR"]})}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",a.totalMRR.toLocaleString()]}),t.jsxs("div",{className:"mt-1 flex items-center text-sm text-green-400",children:[t.jsx(_s,{className:"mr-1 h-3 w-3"}),"+",a.growthRate,"% from last month"]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-2",children:t.jsxs(ge,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(Nt,{className:"mr-2 h-4 w-4"}),"Active Clients"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:r.filter(v=>v.status==="active").length}),t.jsxs("div",{className:"mt-1 flex items-center text-sm text-blue-400",children:[t.jsx(YM,{className:"mr-1 h-3 w-3"}),r.filter(v=>v.status==="trial").length," in trial"]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-2",children:t.jsxs(ge,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(ba,{className:"mr-2 h-4 w-4"}),"Avg Revenue/Client"]})}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",Math.round(a.averageRevenue).toLocaleString()]}),t.jsx("div",{className:"mt-1 text-sm text-gray-400",children:"Per month"})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsx(fe,{className:"pb-2",children:t.jsxs(ge,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(Kr,{className:"mr-2 h-4 w-4"}),"Total Call Volume"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:r.reduce((v,b)=>v+b.callVolume,0).toLocaleString()}),t.jsx("div",{className:"mt-1 text-sm text-gray-400",children:"This month"})]})]})]}),t.jsxs(Ei,{defaultValue:"clients",className:"space-y-6",children:[t.jsxs(Qn,{className:"border-gray-800 bg-gray-900",children:[t.jsx(ut,{value:"clients",className:"text-gray-300 data-[state=active]:text-white",children:"Client Management"}),t.jsx(ut,{value:"revenue",className:"text-gray-300 data-[state=active]:text-white",children:"Revenue Analytics"}),t.jsx(ut,{value:"branding",className:"text-gray-300 data-[state=active]:text-white",children:"White-Label Controls"})]}),t.jsxs(mt,{value:"clients",className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Se,{placeholder:"Search clients...",value:i,onChange:v=>o(v.target.value),className:"border-gray-700 bg-gray-900 pl-10 text-white"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:l,onChange:v=>d(v.target.value),className:"rounded-md border border-gray-700 bg-gray-900 px-3 py-2 text-sm text-white",children:[t.jsx("option",{value:"all",children:"All Plans"}),t.jsx("option",{value:"starter",children:"Starter"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"enterprise",children:"Enterprise"})]}),t.jsxs("select",{value:m,onChange:v=>h(v.target.value),className:"rounded-md border border-gray-700 bg-gray-900 px-3 py-2 text-sm text-white",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"trial",children:"Trial"}),t.jsx("option",{value:"paused",children:"Paused"}),t.jsx("option",{value:"churned",children:"Churned"})]})]})]}),t.jsx("div",{className:"grid gap-4",children:w.map(v=>t.jsx(G,{className:"border-gray-800 bg-gray-900 transition-colors hover:border-gray-700",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(od,{className:"h-12 w-12",children:[t.jsx(Uu,{src:v.logo}),t.jsx(ld,{className:"bg-gray-800 text-white",children:v.name.substring(0,2).toUpperCase()})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-white",children:v.name}),t.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[t.jsxs(je,{variant:"secondary",className:f(v.plan),children:[v.plan==="starter"&&t.jsx(Kr,{className:"mr-1 h-3 w-3"}),v.plan==="professional"&&t.jsx(_f,{className:"mr-1 h-3 w-3"}),v.plan==="enterprise"&&t.jsx(Ga,{className:"mr-1 h-3 w-3"}),v.plan.charAt(0).toUpperCase()+v.plan.slice(1)]}),t.jsxs(je,{variant:"secondary",className:g(v.status),children:[y(v.status),t.jsx("span",{className:"ml-1",children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm lg:grid-cols-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Monthly Revenue"}),t.jsxs("div",{className:"font-semibold text-white",children:["$",v.monthlyRevenue]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Call Volume"}),t.jsx("div",{className:"font-semibold text-white",children:v.callVolume.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Industry"}),t.jsx("div",{className:"font-semibold text-white",children:v.industry})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Join Date"}),t.jsx("div",{className:"font-semibold text-white",children:new Date(v.joinDate).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(q,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"View Details"}),t.jsx(q,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"Manage"})]})]})})},v.id))})]}),t.jsx(mt,{value:"revenue",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Revenue Breakdown"}),t.jsx(Rt,{className:"text-gray-400",children:"Monthly recurring revenue by plan type"})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Enterprise Plans"}),t.jsx("span",{className:"font-semibold text-white",children:"$1,299"})]}),t.jsx(ar,{value:65,className:"h-2"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Professional Plans"}),t.jsx("span",{className:"font-semibold text-white",children:"$1,198"})]}),t.jsx(ar,{value:60,className:"h-2"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Starter Plans"}),t.jsx("span",{className:"font-semibold text-white",children:"$598"})]}),t.jsx(ar,{value:30,className:"h-2"})]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-white",children:"Growth Metrics"}),t.jsx(Rt,{className:"text-gray-400",children:"Key performance indicators"})]}),t.jsx(X,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:"+$899"}),t.jsx("div",{className:"text-sm text-gray-400",children:"New MRR"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-red-400",children:"-$299"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Churned MRR"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:["$",Math.round(a.clientLifetimeValue).toLocaleString()]}),t.jsx("div",{className:"text-sm text-gray-400",children:"Avg Client LTV"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"23.5%"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Growth Rate"})]})]})})]})]})}),t.jsx(mt,{value:"branding",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(fe,{children:[t.jsxs(ge,{className:"flex items-center text-white",children:[t.jsx(nA,{className:"mr-2 h-5 w-5"}),"Brand Customization"]}),t.jsx(Rt,{className:"text-gray-400",children:"Customize the platform appearance for your clients"})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Agency Logo"}),t.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-700 p-6 text-center",children:[t.jsxs("div",{className:"mb-2 text-gray-400",children:[t.jsx(nA,{className:"mx-auto mb-2 h-8 w-8"}),"Upload your logo"]}),t.jsx(q,{variant:"outline",size:"sm",className:"border-gray-600 text-gray-300",children:"Choose File"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Primary Color"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Se,{type:"color",defaultValue:"#3B82F6",className:"h-10 w-16 border-gray-700 bg-gray-800"}),t.jsx(Se,{defaultValue:"#3B82F6",className:"border-gray-700 bg-gray-800 text-white"})]})]})]})]}),t.jsxs(G,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(fe,{children:[t.jsxs(ge,{className:"flex items-center text-white",children:[t.jsx(Ga,{className:"mr-2 h-5 w-5"}),"Domain Settings"]}),t.jsx(Rt,{className:"text-gray-400",children:"Configure custom domains for client portals"})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Agency Domain"}),t.jsx(Se,{placeholder:"yourcompany.apex.ai",className:"border-gray-700 bg-gray-800 text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Client Portal Template"}),t.jsxs("select",{className:"w-full rounded-md border border-gray-700 bg-gray-800 px-3 py-2 text-white",children:[t.jsx("option",{children:"Professional Template"}),t.jsx("option",{children:"Modern Template"}),t.jsx("option",{children:"Minimalist Template"})]})]}),t.jsx(q,{className:"w-full bg-blue-600 hover:bg-blue-700",children:"Save Configuration"})]})]})]})})]})]})})};function p1e(){const[e]=WW(),r=br(),{toast:s}=ts(),a=e.get("token"),[n,i]=p.useState(!0),[o,l]=p.useState(!1),[d,m]=p.useState(null),[h,f]=p.useState(null),[g,y]=p.useState(""),[w,v]=p.useState(""),[b,N]=p.useState("");p.useEffect(()=>{a?C():(f("No invitation token provided"),i(!1))},[a]);const C=async()=>{try{const E=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/invitations/validate/${a}`),R=await E.json();console.log("Invitation validation response:",R),!E.ok||!R.valid?f(R.error||"Invalid or expired invitation"):m(R.invitation)}catch(E){console.error("Error validating invitation:",E),f("Failed to validate invitation")}finally{i(!1)}},{isSignedIn:S,user:_}=tm(),{getToken:A}=ja();p.useEffect(()=>{S&&_&&d&&a&&T()},[S,_,d,a]);const T=async()=>{try{l(!0);const E=await A(),R=await fetch("https://apex-backend-august-production.up.railway.app/api/api/invitations/accept-clerk",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({token:a,clerkUserId:_.clerkId||_.id})}),$=await R.json();if(R.ok)s({title:"Success!",description:"Your account has been linked. Redirecting to dashboard..."}),setTimeout(()=>{r("/dashboard")},2e3);else throw new Error($.error||"Failed to link account")}catch(E){console.error("Error linking account:",E),s({title:"Error",description:E instanceof Error?E.message:"Failed to link account",variant:"destructive"})}finally{l(!1)}};return n?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx($n,{className:"h-8 w-8 animate-spin text-emerald-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"Validating invitation..."})]})}):h?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950 p-4",children:t.jsx(G,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:t.jsx(X,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ji,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Invalid Invitation"}),t.jsx("p",{className:"text-gray-400 mb-6",children:h}),t.jsx(q,{onClick:()=>r("/login"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Go to Login"})]})})})}):d?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950 p-4",children:t.jsxs(G,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:[t.jsx(fe,{children:t.jsxs(ge,{className:"text-2xl font-bold text-center text-white",children:["Join ",d.organizationName]})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs(qt,{className:"bg-emerald-900/20 border-emerald-700",children:[t.jsx(wa,{className:"h-4 w-4 text-emerald-500"}),t.jsxs(Ht,{className:"text-emerald-200",children:["You've been invited to join as a ",d.role.replace("client_","").replace("_"," "),"."]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{className:"text-gray-300",children:"Your Information"}),t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 space-y-1",children:[t.jsxs("p",{className:"text-white",children:[t.jsx(vs,{className:"inline h-4 w-4 mr-2 text-gray-400"}),d.firstName," ",d.lastName]}),t.jsx("p",{className:"text-gray-400 text-sm",children:d.email})]})]}),!S&&t.jsx(qt,{className:"bg-blue-900/20 border-blue-700",children:t.jsx(Ht,{className:"text-blue-200",children:`Click "Sign Up & Join" below to create your account with Clerk. You'll be redirected back here after signup.`})}),S&&t.jsx(qt,{className:"bg-green-900/20 border-green-700",children:t.jsxs(Ht,{className:"text-green-200",children:['Welcome back! Click "Complete Setup" to link your account to ',d.organizationName,"."]})}),t.jsxs("div",{className:"text-xs text-gray-400",children:["This invitation expires on ",new Date(d.expiresAt).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(q,{variant:"outline",onClick:()=>r("/login"),className:"flex-1 border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),S?o?t.jsxs(q,{disabled:!0,className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx($n,{className:"mr-2 h-4 w-4 animate-spin"}),"Linking Account..."]}):t.jsxs(q,{onClick:()=>T(),className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(yt,{className:"mr-2 h-4 w-4"}),"Complete Setup"]}):t.jsx(TH,{mode:"modal",afterSignUpUrl:`/accept-invitation?token=${a}`,signUpForceRedirectUrl:`/accept-invitation?token=${a}`,children:t.jsxs(q,{className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(yt,{className:"mr-2 h-4 w-4"}),"Sign Up & Join"]})})]})]})]})}):null}function g1e(){return br(),p.useEffect(()=>{(async()=>{console.log(" Force logging out..."),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(r=>{document.cookie=r.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),await fs.auth.signOut(),setTimeout(()=>{window.location.href="/login"},500)})()},[]),t.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:t.jsx("div",{className:"text-white text-xl",children:"Logging out..."})})}function x1e(){var o;const[e,r]=p.useState(null),[s,a]=p.useState(null),[n,i]=p.useState("");return p.useEffect(()=>{(async()=>{try{const{data:{session:d},error:m}=await fs.auth.getSession();if(m){i(`Session error: ${m.message}`);return}if(!d){i("No active session");return}r(d.user);const h=await qi.getUserByEmail(d.user.email);a(h)}catch(d){i(`Error: ${d.message}`)}})()},[]),t.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Auth Debug Information"}),n&&t.jsx("div",{className:"bg-red-900/50 border border-red-500 p-4 rounded mb-6",children:n}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gray-800 p-6 rounded",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Supabase Auth User"}),e?t.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify({id:e.id,email:e.email,email_confirmed_at:e.email_confirmed_at,created_at:e.created_at,updated_at:e.updated_at},null,2)}):t.jsx("p",{className:"text-gray-400",children:"No auth user"})]}),t.jsxs("div",{className:"bg-gray-800 p-6 rounded",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Database User"}),s?t.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify({id:s.id,email:s.email,first_name:s.first_name,last_name:s.last_name,role:s.role,organization_id:s.organization_id,organization_name:((o=s.organizations)==null?void 0:o.name)||s.organizationName},null,2)}):t.jsx("p",{className:"text-gray-400",children:"No database user"})]}),t.jsxs("div",{className:"bg-gray-800 p-6 rounded",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Actions"}),t.jsx("button",{onClick:async()=>{console.log(" Aggressive sign out initiated...");const{error:l}=await fs.auth.signOut();console.log("Supabase signout:",l||"Success"),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(d=>{document.cookie=d.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),"indexedDB"in window&&(await indexedDB.databases()).forEach(m=>{var h;(h=m.name)!=null&&h.includes("supabase")&&indexedDB.deleteDatabase(m.name)}),window.location.href="/login"},className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded",children:"Force Sign Out (Aggressive)"})]})]})]})}function y1e(){const{user:e,getToken:r,isSignedIn:s}=ja(),[a,n]=p.useState(null),[i,o]=p.useState(null),[l,d]=p.useState(!1),[m,h]=p.useState(""),[f,g]=p.useState("");p.useEffect(()=>{(async()=>{const v=await r();n(v)})()},[r]);const y=async()=>{d(!0);try{const w=await r();console.log(" Testing with token:",w?"Present":"None"),console.log(" Token type:",w==null?void 0:w.substring(0,20));const v={businessName:"Test Company "+Date.now(),adminEmail:(e==null?void 0:e.email)||"test@example.com",adminFirstName:(e==null?void 0:e.firstName)||"Test",adminLastName:(e==null?void 0:e.lastName)||"User",teamSize:"0-5",addTeamMembers:!1,teamMembers:[],vapiApiKey:m,vapiPrivateKey:f};console.log(" Sending test data:",v);const b=await fetch("http://localhost:3001/api/organization-setup/setup",{method:"POST",headers:{"Content-Type":"application/json",Authorization:w?`Bearer ${w}`:""},body:JSON.stringify(v)});console.log(" Response status:",b.status);let N;try{N=await b.json()}catch{N={error:"Failed to parse response",rawText:await b.text()}}o({status:b.status,ok:b.ok,data:N})}catch(w){console.error(" Test endpoint error:",w),o({error:!0,message:w.message,stack:w.stack})}finally{d(!1)}};return t.jsx("div",{className:"min-h-screen bg-gray-900 p-8",children:t.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:t.jsxs(G,{className:"bg-gray-800 border-gray-700",children:[t.jsx(fe,{children:t.jsx(ge,{className:"text-white",children:"Auth Test Page"})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Auth Status"}),t.jsxs("p",{className:"text-white",children:["Signed In: ",s?"Yes":"No"]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"User Info"}),t.jsx("pre",{className:"text-xs text-gray-300 bg-gray-900 p-2 rounded overflow-auto",children:JSON.stringify(e,null,2)})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Token"}),t.jsx("p",{className:"text-xs text-gray-300 break-all",children:a?`${a.substring(0,50)}...`:"No token"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"vapiPrivateKey",className:"block text-sm font-medium text-gray-400 mb-1",children:"VAPI Private Key (Bearer Token)"}),t.jsx("input",{id:"vapiPrivateKey",type:"password",value:f,onChange:w=>g(w.target.value),placeholder:"Enter your VAPI private key",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"vapiApiKey",className:"block text-sm font-medium text-gray-400 mb-1",children:"VAPI Public Key"}),t.jsx("input",{id:"vapiApiKey",type:"text",value:m,onChange:w=>h(w.target.value),placeholder:"Enter your VAPI public key",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),(m||f)&&t.jsxs("div",{className:"text-sm text-gray-400",children:[t.jsxs("p",{children:["Private Key: ",f?"":"Not set"]}),t.jsxs("p",{children:["Public Key: ",m?`${m.substring(0,10)}...`:"Not set"]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx(q,{onClick:y,disabled:l,className:"bg-emerald-600 hover:bg-emerald-700",children:l?"Testing...":"Test Organization Setup Endpoint"}),t.jsx(q,{onClick:async()=>{try{const v=await(await fetch("http://localhost:3001/api/organization-setup/health")).json();alert("Health check: "+JSON.stringify(v))}catch(w){alert("Health check failed: "+w.message)}},className:"bg-blue-600 hover:bg-blue-700",children:"Test Health Check"})]}),i&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Test Result"}),t.jsx("pre",{className:"text-xs text-gray-300 bg-gray-900 p-2 rounded overflow-auto",children:JSON.stringify(i,null,2)})]})]})]})})})}const v1e=()=>{const e=br(),{userContext:r}=no();return p.useEffect(()=>{if(!(r!=null&&r.role)){console.log(" RoleBasedRedirect: No role detected, waiting...");return}const s=r.role.toLowerCase();switch(console.log(" RoleBasedRedirect: Redirecting based on role:",s),s){case"platform_owner":console.log(" Redirecting to Platform Owner Dashboard"),e("/platform",{replace:!0});break;case"agency_owner":case"agency_admin":case"agency_user":console.log(" Redirecting to Agency Dashboard"),e("/agency",{replace:!0});break;case"client_admin":case"client_user":default:console.log(" Redirecting to Client Dashboard"),e("/dashboard",{replace:!0});break}},[r==null?void 0:r.role,e]),t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-900",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-blue-500"}),t.jsx("p",{className:"text-gray-400",children:"Redirecting to your dashboard..."})]})})},b1e=()=>{const[e,r]=p.useState(null),[s,a]=p.useState(!0),n=async()=>{a(!0);try{const{data:{session:o},error:l}=await fs.auth.getSession(),{data:{user:d},error:m}=await fs.auth.getUser(),h=localStorage.getItem("sb-twigokrtbvigiqnaybfy-auth-token");r({directSession:o,currentUser:d,localStorage_sb_token:h?JSON.parse(h):null,error:l,userError:m,timestamp:new Date().toISOString()})}catch(o){console.error("Error checking session:",o),r({error:o.message})}a(!1)};p.useEffect(()=>{n()},[]);const i=async()=>{try{const{data:{session:o}}=await fs.auth.getSession(),l=await fetch("/api/platform-analytics/overview",{headers:{Authorization:`Bearer ${(o==null?void 0:o.access_token)||"NO_TOKEN"}`}}),d=await l.json();console.log("API Response:",d),alert(`API Response: ${l.status} - ${JSON.stringify(d).substring(0,100)}...`)}catch(o){console.error("API call failed:",o),alert(`API call failed: ${o.message}`)}};return t.jsx("div",{className:"container mx-auto p-8",children:t.jsxs(G,{className:"bg-gray-900 border-gray-800",children:[t.jsxs(fe,{children:[t.jsx(ge,{className:"text-2xl font-bold text-white",children:"Supabase Session Debug"}),t.jsx(q,{onClick:n,className:"w-fit",children:"Refresh Session Info"})]}),t.jsx(X,{className:"space-y-4",children:s?t.jsx("div",{className:"text-gray-400",children:"Loading..."}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Direct Session from Supabase:"}),t.jsx("pre",{className:"bg-gray-800 p-4 rounded text-xs text-gray-300 overflow-auto",children:JSON.stringify(e==null?void 0:e.directSession,null,2)})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Current User from Supabase:"}),t.jsx("pre",{className:"bg-gray-800 p-4 rounded text-xs text-gray-300 overflow-auto",children:JSON.stringify(e==null?void 0:e.currentUser,null,2)})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"LocalStorage Token:"}),t.jsx("pre",{className:"bg-gray-800 p-4 rounded text-xs text-gray-300 overflow-auto",children:JSON.stringify(e==null?void 0:e.localStorage_sb_token,null,2)})]}),t.jsx("div",{className:"pt-4",children:t.jsx(q,{onClick:i,variant:"outline",children:"Test API Call with Session Token"})})]})})]})})},On=({children:e,allowedRoles:r,redirectTo:s="/dashboard"})=>{var o;const{userContext:a}=no();if(!a)return t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-900",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-blue-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading..."})]})});const n=(o=a.role)==null?void 0:o.toLowerCase(),i=r.some(l=>l.toLowerCase()===n);return console.log(" RoleBasedRoute: Checking access",{userRole:n,allowedRoles:r,hasAccess:i}),i?t.jsx(t.Fragment,{children:e}):(console.log(" Access denied, redirecting to:",s),t.jsx(pS,{to:s,replace:!0}))},jO=({children:e})=>{const{isLoaded:r,isSignedIn:s}=ja();return r?s?t.jsx(pS,{to:"/dashboard",replace:!0}):t.jsx(t.Fragment,{children:e}):t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-b-2 border-emerald-600"}),t.jsx("p",{className:"text-gray-400",children:"Loading..."})]})})};function w1e(){return t.jsx(nNe,{children:t.jsxs(iJ,{children:[t.jsxs(EW,{children:[t.jsx(ft,{path:"/",element:t.jsx(_ve,{})}),t.jsx(ft,{path:"/login/*",element:t.jsx(jO,{children:t.jsx(Qq,{})})}),t.jsx(ft,{path:"/signup/*",element:t.jsx(jO,{children:t.jsx(Zq,{})})}),t.jsx(ft,{path:"/accept-invitation",element:t.jsx(p1e,{})}),t.jsx(ft,{path:"/force-logout",element:t.jsx(g1e,{})}),t.jsx(ft,{path:"/debug-auth",element:t.jsx(x1e,{})}),t.jsx(ft,{path:"/test-auth",element:t.jsx(y1e,{})}),t.jsx(ft,{path:"/test",element:t.jsx(s1e,{})}),t.jsx(ft,{path:"/debug-supabase",element:t.jsx(b1e,{})}),t.jsx(ft,{path:"/portal",element:t.jsx(mA,{children:t.jsx(v1e,{})})}),t.jsx(ft,{path:"/scale-architecture",element:t.jsx(Pve,{})}),t.jsxs(ft,{element:t.jsx(mA,{children:t.jsx(lre,{})}),children:[t.jsx(ft,{path:"/dashboard",element:t.jsx(Bye,{})}),t.jsx(ft,{path:"/campaigns",element:t.jsx(iN,{})}),t.jsx(ft,{path:"/vapi-dashboard",element:t.jsx(iN,{})}),t.jsx(ft,{path:"/test-campaigns",element:t.jsx(iN,{})}),t.jsx(ft,{path:"/assistants",element:t.jsx(jNe,{})}),t.jsx(ft,{path:"/campaign-wizard",element:t.jsx(SNe,{})}),t.jsx(ft,{path:"/campaigns/:id",element:t.jsx(wNe,{})}),t.jsx(ft,{path:"/campaigns/:campaignId/calls",element:t.jsx(d1e,{})}),t.jsx(ft,{path:"/calls/:callId",element:t.jsx(c1e,{})}),t.jsx(ft,{path:"/leads/:leadId",element:t.jsx(h1e,{})}),t.jsx(ft,{path:"/all-calls",element:t.jsx(MNe,{})}),t.jsx(ft,{path:"/live-calls",element:t.jsx(Oje,{})}),t.jsx(ft,{path:"/analytics",element:t.jsx(Eje,{})}),t.jsx(ft,{path:"/cost-analytics",element:t.jsx(uNe,{})}),t.jsx(ft,{path:"/crm",element:t.jsx(dNe,{})}),t.jsx(ft,{path:"/phone-numbers",element:t.jsx(Eve,{})}),t.jsx(ft,{path:"/messaging",element:t.jsx(NNe,{})}),t.jsx(ft,{path:"/settings",element:t.jsx(fNe,{})}),t.jsx(ft,{path:"/organization-settings",element:t.jsx(On,{allowedRoles:["client_admin","platform_owner"],redirectTo:"/dashboard",children:t.jsx(zNe,{children:t.jsx(VNe,{})})})}),t.jsx(ft,{path:"/api-keys",element:t.jsx(r1e,{})}),t.jsx(ft,{path:"/billing",element:t.jsx(Uje,{})}),t.jsx(ft,{path:"/notifications",element:t.jsx(RNe,{})}),t.jsx(ft,{path:"/platform",element:t.jsx(On,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(dO,{})})}),t.jsx(ft,{path:"/platform-owner",element:t.jsx(On,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(dO,{})})}),t.jsx(ft,{path:"/organizations",element:t.jsx(On,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(INe,{})})}),t.jsx(ft,{path:"/organizations/:id",element:t.jsx(On,{allowedRoles:["platform_owner","client_admin"],redirectTo:"/dashboard",children:t.jsx(XNe,{})})}),t.jsx(ft,{path:"/organization-setup",element:t.jsx(On,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(HNe,{})})}),t.jsx(ft,{path:"/user-management",element:t.jsx(On,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(bve,{})})}),t.jsx(ft,{path:"/team-management",element:t.jsx(On,{allowedRoles:["platform_owner","client_admin","agency_admin"],redirectTo:"/dashboard",children:t.jsx(vNe,{})})}),t.jsx(ft,{path:"/support-tickets",element:t.jsx(On,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(Ave,{})})}),t.jsx(ft,{path:"/platform-analytics",element:t.jsx(On,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(t1e,{})})}),t.jsx(ft,{path:"/agency",element:t.jsx(On,{allowedRoles:["agency_owner","agency_admin","agency_user"],redirectTo:"/dashboard",children:t.jsx(f1e,{})})}),t.jsx(ft,{path:"/clients",element:t.jsx(On,{allowedRoles:["agency_owner","agency_admin","platform_owner"],redirectTo:"/dashboard",children:t.jsx(Tje,{})})}),t.jsx(ft,{path:"/audit-logs",element:t.jsx(ANe,{})}),t.jsx(ft,{path:"/system-health",element:t.jsx(ENe,{})}),t.jsx(ft,{path:"*",element:t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"mb-4 text-4xl font-bold text-white",children:"404 - Page Not Found"}),t.jsx("p",{className:"text-gray-400",children:"The page you're looking for doesn't exist."})]})})})]})]}),t.jsx(Ire,{})]})})}console.log("main.tsx: Starting application initialization");console.log("main.tsx: Environment:",{NODE_ENV:"production",VITE_CLERK_KEY:"Present",VITE_API_URL:"https://apex-backend-august-production.up.railway.app/api",VITE_SUPABASE_URL:"https://twigokrtbvigiqnaybfy.supabase.co"});const j1e="pk_test_dW5pdGVkLWNob3ctMTMuY2xlcmsuYWNjb3VudHMuZGV2JA";console.log("main.tsx: Clerk key configured:","Yes");function N1e(){console.log("main.tsx: ClerkWithRouterBridge component rendering");const e=br();return t.jsx(kM,{publishableKey:j1e,afterSignInUrl:"/dashboard",afterSignUpUrl:"/dashboard",signInUrl:"/login",signUpUrl:"/signup",routerPush:r=>e(r),routerReplace:r=>e(r,{replace:!0}),children:t.jsx(FG,{children:t.jsx(w1e,{})})})}class S1e extends oe.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return console.error("ErrorBoundary caught error:",r),{hasError:!0,error:r}}componentDidCatch(r,s){console.error("Error details:",r,s)}render(){var r;return this.state.hasError?t.jsxs("div",{style:{padding:"20px",color:"white",backgroundColor:"#0a0a0a"},children:[t.jsx("h1",{children:"Application Error"}),t.jsx("pre",{style:{color:"red"},children:(r=this.state.error)==null?void 0:r.toString()}),t.jsx("p",{children:"Check the browser console for details."})]}):this.props.children}}function C1e(){return t.jsxs("div",{style:{padding:"20px",color:"white",backgroundColor:"#0a0a0a",fontFamily:"monospace"},children:[t.jsx("h1",{children:"Apex AI - Diagnostic Mode"}),t.jsx("p",{children:"React is running but there may be an initialization issue."}),t.jsx("h2",{children:"Environment Variables:"}),t.jsx("pre",{children:JSON.stringify({MODE:"production",CLERK_KEY:"Present",API_URL:"https://apex-backend-august-production.up.railway.app/api",SUPABASE_URL:"https://twigokrtbvigiqnaybfy.supabase.co",BACKEND_URL:"https://apex-backend-august-production.up.railway.app",USE_DEV_AUTH:"false"},null,2)}),t.jsx("h2",{children:"Attempting to load main app..."})]})}console.log("main.tsx: Looking for root element");const Gg=document.getElementById("root");if(!Gg)console.error("main.tsx: Root element not found!"),document.body.innerHTML='<div style="color: white; padding: 20px;">Error: Root element not found in DOM</div>';else{console.log("main.tsx: Root element found, creating React root");try{const e=K_.createRoot(Gg);console.log("main.tsx: React root created, attempting render"),e.render(t.jsx(oe.StrictMode,{children:t.jsx(S1e,{children:t.jsx($W,{children:t.jsx(N1e,{})})})})),console.log("main.tsx: Render method called successfully")}catch(e){console.error("main.tsx: Fatal error during render:",e);try{K_.createRoot(Gg).render(t.jsx(C1e,{})),console.log("main.tsx: Rendered diagnostic app")}catch(r){console.error("main.tsx: Even diagnostic app failed:",r),Gg.innerHTML=`<div style="color: white; padding: 20px;">
        <h1>Critical Error</h1>
        <p>Failed to initialize React application</p>
        <pre>${r}</pre>
      </div>`}}}console.log("main.tsx: Script execution completed");
