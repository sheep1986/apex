<!DOCTYPE html>
<html>
<head>
    <title>Test VAPI Direct</title>
</head>
<body>
    <h1>VAPI Direct Test</h1>
    <button onclick="testAPI()">Test VAPI API</button>
    <pre id="output"></pre>

    <script>
    async function testAPI() {
        const output = document.getElementById('output');
        
        // Test the backend endpoint
        try {
            output.textContent = 'Testing backend endpoint...\n';
            
            const response = await fetch('/api/vapi-data/phone-numbers', {
                headers: {
                    'Authorization': 'Bearer test-token-client_admin'
                }
            });
            
            const data = await response.json();
            output.textContent += 'Backend Response: ' + JSON.stringify(data, null, 2) + '\n\n';
            
            // If no phone numbers, it might be because:
            // 1. You don't have any phone numbers in VAPI
            // 2. The API key doesn't have permission
            // 3. The organization doesn't have VAPI configured
            
            if (!data.phoneNumbers || data.phoneNumbers.length === 0) {
                output.textContent += '\nPossible issues:\n';
                output.textContent += '1. No phone numbers purchased in VAPI\n';
                output.textContent += '2. VAPI API key permissions issue\n';
                output.textContent += '3. Need to check VAPI dashboard directly\n';
            }
            
        } catch (error) {
            output.textContent += 'Error: ' + error.message;
        }
    }
    </script>
</body>
</html>